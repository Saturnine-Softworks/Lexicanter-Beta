{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../node_modules/@editorjs/editorjs/dist/editorjs.mjs","../app/stores.ts","../app/utils/diagnostics.ts","../app/utils/alphabetize.ts","../app/utils/sca.ts","../app/utils/phonetics.ts","../../node_modules/@svelte-plugins/tooltips/src/helpers.js","../../node_modules/@svelte-plugins/tooltips/src/constants.js","../../node_modules/@svelte-plugins/tooltips/src/action-tooltip.svelte","../../node_modules/@svelte-plugins/tooltips/src/action.js","../app/components/Pronunciations.svelte","../../node_modules/svelte/easing/index.mjs","../../node_modules/svelte/transition/index.mjs","../app/components/Inflections.svelte","../../node_modules/marked/lib/marked.esm.js","../app/utils/markdown.ts","../../node_modules/@editorjs/header/dist/header.mjs","../../node_modules/@editorjs/paragraph/dist/paragraph.mjs","../../node_modules/@editorjs/table/dist/table.mjs","../../node_modules/@editorjs/underline/dist/bundle.js","../app/utils/docs.ts","../../node_modules/@xata.io/client/dist/index.mjs","../db/xata.ts","../db/database.ts","../app/utils/files.ts","../app/utils/interop/rust-interop.js","../app/components/EntryLabel.svelte","../app/components/LexEntry.svelte","../app/components/TagSelector.svelte","../app/components/SenseInput.svelte","../app/layouts/Lexicon.svelte","../app/components/Tree.svelte","../app/layouts/Etymology.svelte","../app/components/PhraseEntry.svelte","../app/components/VariantInput.svelte","../app/layouts/Phrasebook.svelte","../app/layouts/Phonology.svelte","../app/layouts/Documentation.svelte","../app/components/Evolver.svelte","../app/utils/verification.ts","../app/layouts/File.svelte","../app/layouts/Settings.svelte","../app/layouts/Changelog.svelte","../app/layouts/Inflection.svelte","../app/layouts/Orthography.svelte","../app/layouts/Wiki.svelte","../app/components/reffile/ReferenceLex.svelte","../app/components/reffile/ReferenceTrees.svelte","../app/components/reffile/ReferenceDocs.svelte","../app/components/reffile/ReferencePhono.svelte","../app/components/reffile/ReferenceBook.svelte","../app/components/reffile/ReferenceInflect.svelte","../app/layouts/Reference.svelte","../app/App.svelte","../main.ts"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\nfunction is_promise(value) {\n    return !!value && (typeof value === 'object' || typeof value === 'function') && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\nfunction split_css_unit(value) {\n    const split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n    return split ? [parseFloat(split[1]), split[2] || 'px'] : [value, 'px'];\n}\nconst contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\n/**\n * Resize observer singleton.\n * One listener per element only!\n * https://groups.google.com/a/chromium.org/g/blink-dev/c/z6ienONUb5A/m/F5-VcUZtBAAJ\n */\nclass ResizeObserverSingleton {\n    constructor(options) {\n        this.options = options;\n        this._listeners = 'WeakMap' in globals ? new WeakMap() : undefined;\n    }\n    observe(element, listener) {\n        this._listeners.set(element, listener);\n        this._getObserver().observe(element, this.options);\n        return () => {\n            this._listeners.delete(element);\n            this._observer.unobserve(element); // this line can probably be removed\n        };\n    }\n    _getObserver() {\n        var _a;\n        return (_a = this._observer) !== null && _a !== void 0 ? _a : (this._observer = new ResizeObserver((entries) => {\n            var _a;\n            for (const entry of entries) {\n                ResizeObserverSingleton.entries.set(entry.target, entry);\n                (_a = this._listeners.get(entry.target)) === null || _a === void 0 ? void 0 : _a(entry);\n            }\n        }));\n    }\n}\n// Needs to be written like this to pass the tree-shake-test\nResizeObserverSingleton.entries = 'WeakMap' in globals ? new WeakMap() : undefined;\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element.sheet;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n    return style.sheet;\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentNode !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    if (node.parentNode) {\n        node.parentNode.removeChild(node);\n    }\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction comment(content) {\n    return document.createComment(content);\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_immediate_propagation(fn) {\n    return function (event) {\n        event.stopImmediatePropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set && always_set_through_set_attribute.indexOf(key) === -1) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data_map(node, data_map) {\n    Object.keys(data_map).forEach((key) => {\n        set_custom_element_data(node, key, data_map[key]);\n    });\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction set_dynamic_element_data(tag) {\n    return (/-/.test(tag)) ? set_custom_element_data_map : set_attributes;\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction init_binding_group(group) {\n    let _inputs;\n    return {\n        /* push */ p(...inputs) {\n            _inputs = inputs;\n            _inputs.forEach(input => group.push(input));\n        },\n        /* remove */ r() {\n            _inputs.forEach(input => group.splice(group.indexOf(input), 1));\n        }\n    };\n}\nfunction init_binding_group_dynamic(group, indexes) {\n    let _group = get_binding_group(group);\n    let _inputs;\n    function get_binding_group(group) {\n        for (let i = 0; i < indexes.length; i++) {\n            group = group[indexes[i]] = group[indexes[i]] || [];\n        }\n        return group;\n    }\n    function push() {\n        _inputs.forEach(input => _group.push(input));\n    }\n    function remove() {\n        _inputs.forEach(input => _group.splice(_group.indexOf(input), 1));\n    }\n    return {\n        /* update */ u(new_indexes) {\n            indexes = new_indexes;\n            const new_group = get_binding_group(group);\n            if (new_group !== _group) {\n                remove();\n                _group = new_group;\n                push();\n            }\n        },\n        /* push */ p(...inputs) {\n            _inputs = inputs;\n            push();\n        },\n        /* remove */ r: remove\n    };\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction claim_comment(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 8, (node) => {\n        node.data = '' + data;\n        return undefined;\n    }, () => comment(data), true);\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes, is_svg) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration(undefined, is_svg);\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes, is_svg);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    text.data = data;\n}\nfunction set_data_contenteditable(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    text.data = data;\n}\nfunction set_data_maybe_contenteditable(text, data, attr_value) {\n    if (~contenteditable_truthy_values.indexOf(attr_value)) {\n        set_data_contenteditable(text, data);\n    }\n    else {\n        set_data(text, data);\n    }\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    if (value == null) {\n        node.style.removeProperty(key);\n    }\n    else {\n        node.style.setProperty(key, value, important ? 'important' : '');\n    }\n}\nfunction select_option(select, value, mounting) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    if (!mounting || value !== undefined) {\n        select.selectedIndex = -1; // no option should be selected\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked');\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_iframe_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n            // make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n            // see https://github.com/sveltejs/svelte/issues/4233\n            fn();\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nconst resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'content-box' });\nconst resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'border-box' });\nconst resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'device-pixel-content-box' });\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, cancelable, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nfunction head_selector(nodeId, head) {\n    const result = [];\n    let started = 0;\n    for (const node of head.childNodes) {\n        if (node.nodeType === 8 /* comment node */) {\n            const comment = node.textContent.trim();\n            if (comment === `HEAD_${nodeId}_END`) {\n                started -= 1;\n                result.push(node);\n            }\n            else if (comment === `HEAD_${nodeId}_START`) {\n                started += 1;\n                result.push(node);\n            }\n        }\n        else if (started > 0) {\n            result.push(node);\n        }\n    }\n    return result;\n}\nclass HtmlTag {\n    constructor(is_svg = false) {\n        this.is_svg = false;\n        this.is_svg = is_svg;\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            if (this.is_svg)\n                this.e = svg_element(target.nodeName);\n            /** #7364  target for <template> may be provided as #document-fragment(11) */\n            else\n                this.e = element((target.nodeType === 11 ? 'TEMPLATE' : target.nodeName));\n            this.t = target.tagName !== 'TEMPLATE' ? target : target.content;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes, is_svg = false) {\n        super(is_svg);\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\nfunction construct_svelte_component(component, props) {\n    return new component(props);\n}\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\nconst managed_styles = new Map();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_style_information(doc, node) {\n    const info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n    managed_styles.set(doc, info);\n    return info;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    const { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n    if (!rules[name]) {\n        rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        managed_styles.forEach(info => {\n            const { ownerNode } = info.stylesheet;\n            // there is no ownerNode if it runs on jsdom.\n            if (ownerNode)\n                detach(ownerNode);\n        });\n        managed_styles.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs#run-time-svelte-beforeupdate\n */\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * `onMount` does not run inside a [server-side component](/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs#run-time-svelte-onmount\n */\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n */\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs#run-time-svelte-ondestroy\n */\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * https://svelte.dev/docs#run-time-svelte-createeventdispatcher\n */\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail, { cancelable = false } = {}) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail, { cancelable });\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n            return !event.defaultPrevented;\n        }\n        return true;\n    };\n}\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-setcontext\n */\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n    return context;\n}\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-getcontext\n */\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs#run-time-svelte-getallcontexts\n */\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-hascontext\n */\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nlet render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    // Do not reenter flush while dirty components are updated, as this can\n    // result in an infinite loop. Instead, let the inner flush handle it.\n    // Reentrancy is ok afterwards for bindings etc.\n    if (flushidx !== 0) {\n        return;\n    }\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        try {\n            while (flushidx < dirty_components.length) {\n                const component = dirty_components[flushidx];\n                flushidx++;\n                set_current_component(component);\n                update(component.$$);\n            }\n        }\n        catch (e) {\n            // reset dirty state to not end up in a deadlocked state and then rethrow\n            dirty_components.length = 0;\n            flushidx = 0;\n            throw e;\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n */\nfunction flush_render_callbacks(fns) {\n    const filtered = [];\n    const targets = [];\n    render_callbacks.forEach((c) => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));\n    targets.forEach((c) => c());\n    render_callbacks = filtered;\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n    else if (callback) {\n        callback();\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    const options = { direction: 'in' };\n    let config = fn(node, params, options);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config(options);\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    const options = { direction: 'out' };\n    let config = fn(node, params, options);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config(options);\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    const options = { direction: 'both' };\n    let config = fn(node, params, options);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro  we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro  needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config(options);\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    const updates = [];\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            // defer updates until all the DOM shuffling is done\n            updates.push(() => block.p(child_ctx, dirty));\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    run_all(updates);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\nconst _boolean_attributes = [\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'inert',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n];\n/**\n * List of HTML boolean attributes (e.g. `<input disabled>`).\n * Source: https://html.spec.whatwg.org/multipage/indices.html\n */\nconst boolean_attributes = new Set([..._boolean_attributes]);\n\n/** regex of all html void element names */\nconst void_element_names = /^(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/;\nfunction is_void(name) {\n    return void_element_names.test(name) || name.toLowerCase() === '!doctype';\n}\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, attrs_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (attrs_to_add) {\n        const classes_to_add = attrs_to_add.classes;\n        const styles_to_add = attrs_to_add.styles;\n        if (classes_to_add) {\n            if (attributes.class == null) {\n                attributes.class = classes_to_add;\n            }\n            else {\n                attributes.class += ' ' + classes_to_add;\n            }\n        }\n        if (styles_to_add) {\n            if (attributes.style == null) {\n                attributes.style = style_object_to_string(styles_to_add);\n            }\n            else {\n                attributes.style = style_object_to_string(merge_ssr_styles(attributes.style, styles_to_add));\n            }\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nfunction merge_ssr_styles(style_attribute, style_directive) {\n    const style_object = {};\n    for (const individual_style of style_attribute.split(';')) {\n        const colon_index = individual_style.indexOf(':');\n        const name = individual_style.slice(0, colon_index).trim();\n        const value = individual_style.slice(colon_index + 1).trim();\n        if (!name)\n            continue;\n        style_object[name] = value;\n    }\n    for (const name in style_directive) {\n        const value = style_directive[name];\n        if (value) {\n            style_object[name] = value;\n        }\n        else {\n            delete style_object[name];\n        }\n    }\n    return style_object;\n}\nconst ATTR_REGEX = /[&\"]/g;\nconst CONTENT_REGEX = /[&<]/g;\n/**\n * Note: this method is performance sensitive and has been optimized\n * https://github.com/sveltejs/svelte/pull/5701\n */\nfunction escape(value, is_attr = false) {\n    const str = String(value);\n    const pattern = is_attr ? ATTR_REGEX : CONTENT_REGEX;\n    pattern.lastIndex = 0;\n    let escaped = '';\n    let last = 0;\n    while (pattern.test(str)) {\n        const i = pattern.lastIndex - 1;\n        const ch = str[i];\n        escaped += str.substring(last, i) + (ch === '&' ? '&amp;' : (ch === '\"' ? '&quot;' : '&lt;'));\n        last = i + 1;\n    }\n    return escaped + str.substring(last);\n}\nfunction escape_attribute_value(value) {\n    // keep booleans, null, and undefined for the sake of `spread`\n    const should_escape = typeof value === 'string' || (value && typeof value === 'object');\n    return should_escape ? escape(value, true) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${name}>.`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    const assignment = (boolean && value === true) ? '' : `=\"${escape(value, true)}\"`;\n    return ` ${name}${assignment}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\nfunction style_object_to_string(style_object) {\n    return Object.keys(style_object)\n        .filter(key => style_object[key])\n        .map(key => `${key}: ${escape_attribute_value(style_object[key])};`)\n        .join(' ');\n}\nfunction add_styles(style_object) {\n    const styles = style_object_to_string(style_object);\n    return styles ? ` style=\"${styles}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n            // if the component was destroyed immediately\n            // it will update the `$$.on_destroy` reference to `null`.\n            // the destructured on_destroy may still reference to the old array\n            if (component.$$.on_destroy) {\n                component.$$.on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        flush_render_callbacks($$.after_update);\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: [],\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            if (!is_function(callback)) {\n                return noop;\n            }\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        if (!is_function(callback)) {\n            return noop;\n        }\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.59.2' }, detail), { bubbles: true }));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation, has_stop_immediate_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    if (has_stop_immediate_propagation)\n        modifiers.push('stopImmediatePropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction set_data_contenteditable_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction set_data_maybe_contenteditable_dev(text, data, attr_value) {\n    if (~contenteditable_truthy_values.indexOf(attr_value)) {\n        set_data_contenteditable_dev(text, data);\n    }\n    else {\n        set_data_dev(text, data);\n    }\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nfunction validate_dynamic_element(tag) {\n    const is_string = typeof tag === 'string';\n    if (tag && !is_string) {\n        throw new Error('<svelte:element> expects \"this\" attribute to be a string.');\n    }\n}\nfunction validate_void_dynamic_element(tag) {\n    if (tag && is_void(tag)) {\n        console.warn(`<svelte:element this=\"${tag}\"> is self-closing and cannot have content.`);\n    }\n}\nfunction construct_svelte_component_dev(component, props) {\n    const error_message = 'this={...} of <svelte:component> should specify a Svelte component.';\n    try {\n        const instance = new component(props);\n        if (!instance.$$ || !instance.$set || !instance.$on || !instance.$destroy) {\n            throw new Error(error_message);\n        }\n        return instance;\n    }\n    catch (err) {\n        const { message } = err;\n        if (typeof message === 'string' && message.indexOf('is not a constructor') !== -1) {\n            throw new Error(error_message);\n        }\n        else {\n            throw err;\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, ResizeObserverSingleton, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_iframe_resize_listener, add_location, add_render_callback, add_styles, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_comment, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, comment, component_subscribe, compute_rest_props, compute_slots, construct_svelte_component, construct_svelte_component_dev, contenteditable_truthy_values, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, flush_render_callbacks, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, head_selector, identity, init, init_binding_group, init_binding_group_dynamic, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, is_void, listen, listen_dev, loop, loop_guard, merge_ssr_styles, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, resize_observer_border_box, resize_observer_content_box, resize_observer_device_pixel_content_box, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_custom_element_data_map, set_data, set_data_contenteditable, set_data_contenteditable_dev, set_data_dev, set_data_maybe_contenteditable, set_data_maybe_contenteditable_dev, set_dynamic_element_data, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, split_css_unit, spread, src_url_equal, start_hydrating, stop_immediate_propagation, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_dynamic_element, validate_each_argument, validate_each_keys, validate_slots, validate_store, validate_void_dynamic_element, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier} [start]\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=} start\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0 && stop) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let started = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (started) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        started = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n            // We need to set this to false because callbacks can still happen despite having unsubscribed:\n            // Callbacks might already be placed in the queue which doesn't know it should no longer\n            // invoke this derived store.\n            started = false;\n        };\n    });\n}\n/**\n * Takes a store and returns a new one derived from the old one that is readable.\n *\n * @param store - store to make readonly\n */\nfunction readonly(store) {\n    return {\n        subscribe: store.subscribe.bind(store)\n    };\n}\n\nexport { derived, readable, readonly, writable };\n","(function(){\"use strict\";try{if(typeof document<\"u\"){var e=document.createElement(\"style\");e.appendChild(document.createTextNode(\".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}\")),document.head.appendChild(e)}}catch(t){console.error(\"vite-plugin-css-injected-by-js\",t)}})();\nvar ko = typeof globalThis < \"u\" ? globalThis : typeof window < \"u\" ? window : typeof global < \"u\" ? global : typeof self < \"u\" ? self : {};\nfunction Re(n) {\n  return n && n.__esModule && Object.prototype.hasOwnProperty.call(n, \"default\") ? n.default : n;\n}\nfunction ze() {\n}\nObject.assign(ze, {\n  default: ze,\n  register: ze,\n  revert: function() {\n  },\n  __esModule: !0\n});\nElement.prototype.matches || (Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function(n) {\n  const e = (this.document || this.ownerDocument).querySelectorAll(n);\n  let t = e.length;\n  for (; --t >= 0 && e.item(t) !== this; )\n    ;\n  return t > -1;\n});\nElement.prototype.closest || (Element.prototype.closest = function(n) {\n  let e = this;\n  if (!document.documentElement.contains(e))\n    return null;\n  do {\n    if (e.matches(n))\n      return e;\n    e = e.parentElement || e.parentNode;\n  } while (e !== null);\n  return null;\n});\nElement.prototype.prepend || (Element.prototype.prepend = function(e) {\n  const t = document.createDocumentFragment();\n  Array.isArray(e) || (e = [e]), e.forEach((o) => {\n    const i = o instanceof Node;\n    t.appendChild(i ? o : document.createTextNode(o));\n  }), this.insertBefore(t, this.firstChild);\n});\nElement.prototype.scrollIntoViewIfNeeded || (Element.prototype.scrollIntoViewIfNeeded = function(n) {\n  n = arguments.length === 0 ? !0 : !!n;\n  const e = this.parentNode, t = window.getComputedStyle(e, null), o = parseInt(t.getPropertyValue(\"border-top-width\")), i = parseInt(t.getPropertyValue(\"border-left-width\")), s = this.offsetTop - e.offsetTop < e.scrollTop, r = this.offsetTop - e.offsetTop + this.clientHeight - o > e.scrollTop + e.clientHeight, l = this.offsetLeft - e.offsetLeft < e.scrollLeft, a = this.offsetLeft - e.offsetLeft + this.clientWidth - i > e.scrollLeft + e.clientWidth, c = s && !r;\n  (s || r) && n && (e.scrollTop = this.offsetTop - e.offsetTop - e.clientHeight / 2 - o + this.clientHeight / 2), (l || a) && n && (e.scrollLeft = this.offsetLeft - e.offsetLeft - e.clientWidth / 2 - i + this.clientWidth / 2), (s || r || l || a) && !n && this.scrollIntoView(c);\n});\nwindow.requestIdleCallback = window.requestIdleCallback || function(n) {\n  const e = Date.now();\n  return setTimeout(function() {\n    n({\n      didTimeout: !1,\n      timeRemaining: function() {\n        return Math.max(0, 50 - (Date.now() - e));\n      }\n    });\n  }, 1);\n};\nwindow.cancelIdleCallback = window.cancelIdleCallback || function(n) {\n  clearTimeout(n);\n};\nlet vo = (n = 21) => crypto.getRandomValues(new Uint8Array(n)).reduce((e, t) => (t &= 63, t < 36 ? e += t.toString(36) : t < 62 ? e += (t - 26).toString(36).toUpperCase() : t > 62 ? e += \"-\" : e += \"_\", e), \"\");\nvar St = /* @__PURE__ */ ((n) => (n.VERBOSE = \"VERBOSE\", n.INFO = \"INFO\", n.WARN = \"WARN\", n.ERROR = \"ERROR\", n))(St || {});\nconst w = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  SHIFT: 16,\n  CTRL: 17,\n  ALT: 18,\n  ESC: 27,\n  SPACE: 32,\n  LEFT: 37,\n  UP: 38,\n  DOWN: 40,\n  RIGHT: 39,\n  DELETE: 46,\n  META: 91,\n  SLASH: 191\n}, wo = {\n  LEFT: 0,\n  WHEEL: 1,\n  RIGHT: 2,\n  BACKWARD: 3,\n  FORWARD: 4\n};\nfunction Ee(n, e, t = \"log\", o, i = \"color: inherit\") {\n  if (!(\"console\" in window) || !window.console[t])\n    return;\n  const s = [\"info\", \"log\", \"warn\", \"error\"].includes(t), r = [];\n  switch (Ee.logLevel) {\n    case \"ERROR\":\n      if (t !== \"error\")\n        return;\n      break;\n    case \"WARN\":\n      if (![\"error\", \"warn\"].includes(t))\n        return;\n      break;\n    case \"INFO\":\n      if (!s || n)\n        return;\n      break;\n  }\n  o && r.push(o);\n  const l = \"Editor.js 2.30.2\", a = `line-height: 1em;\n            color: #006FEA;\n            display: inline-block;\n            font-size: 11px;\n            line-height: 1em;\n            background-color: #fff;\n            padding: 4px 9px;\n            border-radius: 30px;\n            border: 1px solid rgba(56, 138, 229, 0.16);\n            margin: 4px 5px 4px 0;`;\n  n && (s ? (r.unshift(a, i), e = `%c${l}%c ${e}`) : e = `( ${l} )${e}`);\n  try {\n    s ? o ? console[t](`${e} %o`, ...r) : console[t](e, ...r) : console[t](e);\n  } catch {\n  }\n}\nEe.logLevel = \"VERBOSE\";\nfunction xo(n) {\n  Ee.logLevel = n;\n}\nconst I = Ee.bind(window, !1), X = Ee.bind(window, !0);\nfunction ne(n) {\n  return Object.prototype.toString.call(n).match(/\\s([a-zA-Z]+)/)[1].toLowerCase();\n}\nfunction A(n) {\n  return ne(n) === \"function\" || ne(n) === \"asyncfunction\";\n}\nfunction R(n) {\n  return ne(n) === \"object\";\n}\nfunction Q(n) {\n  return ne(n) === \"string\";\n}\nfunction yo(n) {\n  return ne(n) === \"boolean\";\n}\nfunction mt(n) {\n  return ne(n) === \"number\";\n}\nfunction bt(n) {\n  return ne(n) === \"undefined\";\n}\nfunction V(n) {\n  return n ? Object.keys(n).length === 0 && n.constructor === Object : !0;\n}\nfunction It(n) {\n  return n > 47 && n < 58 || // number keys\n  n === 32 || n === 13 || // Space bar & return key(s)\n  n === 229 || // processing key input for certain languages  Chinese, Japanese, etc.\n  n > 64 && n < 91 || // letter keys\n  n > 95 && n < 112 || // Numpad keys\n  n > 185 && n < 193 || // ;=,-./` (in order)\n  n > 218 && n < 223;\n}\nasync function Eo(n, e = () => {\n}, t = () => {\n}) {\n  async function o(i, s, r) {\n    try {\n      await i.function(i.data), await s(bt(i.data) ? {} : i.data);\n    } catch {\n      r(bt(i.data) ? {} : i.data);\n    }\n  }\n  return n.reduce(async (i, s) => (await i, o(s, e, t)), Promise.resolve());\n}\nfunction Mt(n) {\n  return Array.prototype.slice.call(n);\n}\nfunction Oe(n, e) {\n  return function() {\n    const t = this, o = arguments;\n    window.setTimeout(() => n.apply(t, o), e);\n  };\n}\nfunction Bo(n) {\n  return n.name.split(\".\").pop();\n}\nfunction To(n) {\n  return /^[-\\w]+\\/([-+\\w]+|\\*)$/.test(n);\n}\nfunction kt(n, e, t) {\n  let o;\n  return (...i) => {\n    const s = this, r = () => {\n      o = null, t || n.apply(s, i);\n    }, l = t && !o;\n    window.clearTimeout(o), o = window.setTimeout(r, e), l && n.apply(s, i);\n  };\n}\nfunction Ve(n, e, t = void 0) {\n  let o, i, s, r = null, l = 0;\n  t || (t = {});\n  const a = function() {\n    l = t.leading === !1 ? 0 : Date.now(), r = null, s = n.apply(o, i), r || (o = i = null);\n  };\n  return function() {\n    const c = Date.now();\n    !l && t.leading === !1 && (l = c);\n    const u = e - (c - l);\n    return o = this, i = arguments, u <= 0 || u > e ? (r && (clearTimeout(r), r = null), l = c, s = n.apply(o, i), r || (o = i = null)) : !r && t.trailing !== !1 && (r = setTimeout(a, u)), s;\n  };\n}\nfunction Co() {\n  const n = {\n    win: !1,\n    mac: !1,\n    x11: !1,\n    linux: !1\n  }, e = Object.keys(n).find((t) => window.navigator.appVersion.toLowerCase().indexOf(t) !== -1);\n  return e && (n[e] = !0), n;\n}\nfunction Ae(n) {\n  return n[0].toUpperCase() + n.slice(1);\n}\nfunction qe(n, ...e) {\n  if (!e.length)\n    return n;\n  const t = e.shift();\n  if (R(n) && R(t))\n    for (const o in t)\n      R(t[o]) ? (n[o] || Object.assign(n, { [o]: {} }), qe(n[o], t[o])) : Object.assign(n, { [o]: t[o] });\n  return qe(n, ...e);\n}\nfunction et(n) {\n  const e = Co();\n  return n = n.replace(/shift/gi, \"\").replace(/backspace/gi, \"\").replace(/enter/gi, \"\").replace(/up/gi, \"\").replace(/left/gi, \"\").replace(/down/gi, \"\").replace(/right/gi, \"\").replace(/escape/gi, \"\").replace(/insert/gi, \"Ins\").replace(/delete/gi, \"\").replace(/\\+/gi, \" + \"), e.mac ? n = n.replace(/ctrl|cmd/gi, \"\").replace(/alt/gi, \"\") : n = n.replace(/cmd/gi, \"Ctrl\").replace(/windows/gi, \"WIN\"), n;\n}\nfunction So(n) {\n  try {\n    return new URL(n).href;\n  } catch {\n  }\n  return n.substring(0, 2) === \"//\" ? window.location.protocol + n : window.location.origin + n;\n}\nfunction Io() {\n  return vo(10);\n}\nfunction Mo(n) {\n  window.open(n, \"_blank\");\n}\nfunction Oo(n = \"\") {\n  return `${n}${Math.floor(Math.random() * 1e8).toString(16)}`;\n}\nfunction Ze(n, e, t) {\n  const o = `${e} is deprecated and will be removed in the next major release. Please use the ${t} instead.`;\n  n && X(o, \"warn\");\n}\nfunction he(n, e, t) {\n  const o = t.value ? \"value\" : \"get\", i = t[o], s = `#${e}Cache`;\n  if (t[o] = function(...r) {\n    return this[s] === void 0 && (this[s] = i.apply(this, ...r)), this[s];\n  }, o === \"get\" && t.set) {\n    const r = t.set;\n    t.set = function(l) {\n      delete n[s], r.apply(this, l);\n    };\n  }\n  return t;\n}\nconst Ot = 650;\nfunction ue() {\n  return window.matchMedia(`(max-width: ${Ot}px)`).matches;\n}\nconst Ge = typeof window < \"u\" && window.navigator && window.navigator.platform && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === \"MacIntel\" && window.navigator.maxTouchPoints > 1);\nfunction Ao(n, e) {\n  const t = Array.isArray(n) || R(n), o = Array.isArray(e) || R(e);\n  return t || o ? JSON.stringify(n) === JSON.stringify(e) : n === e;\n}\nclass d {\n  /**\n   * Check if passed tag has no closed tag\n   *\n   * @param {HTMLElement} tag - element to check\n   * @returns {boolean}\n   */\n  static isSingleTag(e) {\n    return e.tagName && [\n      \"AREA\",\n      \"BASE\",\n      \"BR\",\n      \"COL\",\n      \"COMMAND\",\n      \"EMBED\",\n      \"HR\",\n      \"IMG\",\n      \"INPUT\",\n      \"KEYGEN\",\n      \"LINK\",\n      \"META\",\n      \"PARAM\",\n      \"SOURCE\",\n      \"TRACK\",\n      \"WBR\"\n    ].includes(e.tagName);\n  }\n  /**\n   * Check if element is BR or WBR\n   *\n   * @param {HTMLElement} element - element to check\n   * @returns {boolean}\n   */\n  static isLineBreakTag(e) {\n    return e && e.tagName && [\n      \"BR\",\n      \"WBR\"\n    ].includes(e.tagName);\n  }\n  /**\n   * Helper for making Elements with class name and attributes\n   *\n   * @param  {string} tagName - new Element tag name\n   * @param  {string[]|string} [classNames] - list or name of CSS class name(s)\n   * @param  {object} [attributes] - any attributes\n   * @returns {HTMLElement}\n   */\n  static make(e, t = null, o = {}) {\n    const i = document.createElement(e);\n    if (Array.isArray(t)) {\n      const s = t.filter((r) => r !== void 0);\n      i.classList.add(...s);\n    } else\n      t && i.classList.add(t);\n    for (const s in o)\n      Object.prototype.hasOwnProperty.call(o, s) && (i[s] = o[s]);\n    return i;\n  }\n  /**\n   * Creates Text Node with the passed content\n   *\n   * @param {string} content - text content\n   * @returns {Text}\n   */\n  static text(e) {\n    return document.createTextNode(e);\n  }\n  /**\n   * Append one or several elements to the parent\n   *\n   * @param  {Element|DocumentFragment} parent - where to append\n   * @param  {Element|Element[]|DocumentFragment|Text|Text[]} elements - element or elements list\n   */\n  static append(e, t) {\n    Array.isArray(t) ? t.forEach((o) => e.appendChild(o)) : e.appendChild(t);\n  }\n  /**\n   * Append element or a couple to the beginning of the parent elements\n   *\n   * @param {Element} parent - where to append\n   * @param {Element|Element[]} elements - element or elements list\n   */\n  static prepend(e, t) {\n    Array.isArray(t) ? (t = t.reverse(), t.forEach((o) => e.prepend(o))) : e.prepend(t);\n  }\n  /**\n   * Swap two elements in parent\n   *\n   * @param {HTMLElement} el1 - from\n   * @param {HTMLElement} el2 - to\n   * @deprecated\n   */\n  static swap(e, t) {\n    const o = document.createElement(\"div\"), i = e.parentNode;\n    i.insertBefore(o, e), i.insertBefore(e, t), i.insertBefore(t, o), i.removeChild(o);\n  }\n  /**\n   * Selector Decorator\n   *\n   * Returns first match\n   *\n   * @param {Element} el - element we searching inside. Default - DOM Document\n   * @param {string} selector - searching string\n   * @returns {Element}\n   */\n  static find(e = document, t) {\n    return e.querySelector(t);\n  }\n  /**\n   * Get Element by Id\n   *\n   * @param {string} id - id to find\n   * @returns {HTMLElement | null}\n   */\n  static get(e) {\n    return document.getElementById(e);\n  }\n  /**\n   * Selector Decorator.\n   *\n   * Returns all matches\n   *\n   * @param {Element|Document} el - element we searching inside. Default - DOM Document\n   * @param {string} selector - searching string\n   * @returns {NodeList}\n   */\n  static findAll(e = document, t) {\n    return e.querySelectorAll(t);\n  }\n  /**\n   * Returns CSS selector for all text inputs\n   */\n  static get allInputsSelector() {\n    return \"[contenteditable=true], textarea, input:not([type]), \" + [\"text\", \"password\", \"email\", \"number\", \"search\", \"tel\", \"url\"].map((t) => `input[type=\"${t}\"]`).join(\", \");\n  }\n  /**\n   * Find all contenteditable, textarea and editable input elements passed holder contains\n   *\n   * @param holder - element where to find inputs\n   */\n  static findAllInputs(e) {\n    return Mt(e.querySelectorAll(d.allInputsSelector)).reduce((t, o) => d.isNativeInput(o) || d.containsOnlyInlineElements(o) ? [...t, o] : [...t, ...d.getDeepestBlockElements(o)], []);\n  }\n  /**\n   * Search for deepest node which is Leaf.\n   * Leaf is the vertex that doesn't have any child nodes\n   *\n   * @description Method recursively goes throw the all Node until it finds the Leaf\n   * @param {Node} node - root Node. From this vertex we start Deep-first search\n   *                      {@link https://en.wikipedia.org/wiki/Depth-first_search}\n   * @param {boolean} [atLast] - find last text node\n   * @returns - it can be text Node or Element Node, so that caret will able to work with it\n   *            Can return null if node is Document or DocumentFragment, or node is not attached to the DOM\n   */\n  static getDeepestNode(e, t = !1) {\n    const o = t ? \"lastChild\" : \"firstChild\", i = t ? \"previousSibling\" : \"nextSibling\";\n    if (e && e.nodeType === Node.ELEMENT_NODE && e[o]) {\n      let s = e[o];\n      if (d.isSingleTag(s) && !d.isNativeInput(s) && !d.isLineBreakTag(s))\n        if (s[i])\n          s = s[i];\n        else if (s.parentNode[i])\n          s = s.parentNode[i];\n        else\n          return s.parentNode;\n      return this.getDeepestNode(s, t);\n    }\n    return e;\n  }\n  /**\n   * Check if object is DOM node\n   *\n   * @param {*} node - object to check\n   * @returns {boolean}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static isElement(e) {\n    return mt(e) ? !1 : e && e.nodeType && e.nodeType === Node.ELEMENT_NODE;\n  }\n  /**\n   * Check if object is DocumentFragment node\n   *\n   * @param {object} node - object to check\n   * @returns {boolean}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static isFragment(e) {\n    return mt(e) ? !1 : e && e.nodeType && e.nodeType === Node.DOCUMENT_FRAGMENT_NODE;\n  }\n  /**\n   * Check if passed element is contenteditable\n   *\n   * @param {HTMLElement} element - html element to check\n   * @returns {boolean}\n   */\n  static isContentEditable(e) {\n    return e.contentEditable === \"true\";\n  }\n  /**\n   * Checks target if it is native input\n   *\n   * @param {*} target - HTML element or string\n   * @returns {boolean}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static isNativeInput(e) {\n    const t = [\n      \"INPUT\",\n      \"TEXTAREA\"\n    ];\n    return e && e.tagName ? t.includes(e.tagName) : !1;\n  }\n  /**\n   * Checks if we can set caret\n   *\n   * @param {HTMLElement} target - target to check\n   * @returns {boolean}\n   */\n  static canSetCaret(e) {\n    let t = !0;\n    if (d.isNativeInput(e))\n      switch (e.type) {\n        case \"file\":\n        case \"checkbox\":\n        case \"radio\":\n        case \"hidden\":\n        case \"submit\":\n        case \"button\":\n        case \"image\":\n        case \"reset\":\n          t = !1;\n          break;\n      }\n    else\n      t = d.isContentEditable(e);\n    return t;\n  }\n  /**\n   * Checks node if it is empty\n   *\n   * @description Method checks simple Node without any childs for emptiness\n   * If you have Node with 2 or more children id depth, you better use {@link Dom#isEmpty} method\n   * @param {Node} node - node to check\n   * @param {string} [ignoreChars] - char or substring to treat as empty\n   * @returns {boolean} true if it is empty\n   */\n  static isNodeEmpty(e, t) {\n    let o;\n    return this.isSingleTag(e) && !this.isLineBreakTag(e) ? !1 : (this.isElement(e) && this.isNativeInput(e) ? o = e.value : o = e.textContent.replace(\"\", \"\"), t && (o = o.replace(new RegExp(t, \"g\"), \"\")), o.trim().length === 0);\n  }\n  /**\n   * checks node if it is doesn't have any child nodes\n   *\n   * @param {Node} node - node to check\n   * @returns {boolean}\n   */\n  static isLeaf(e) {\n    return e ? e.childNodes.length === 0 : !1;\n  }\n  /**\n   * breadth-first search (BFS)\n   * {@link https://en.wikipedia.org/wiki/Breadth-first_search}\n   *\n   * @description Pushes to stack all DOM leafs and checks for emptiness\n   * @param {Node} node - node to check\n   * @param {string} [ignoreChars] - char or substring to treat as empty\n   * @returns {boolean}\n   */\n  static isEmpty(e, t) {\n    e.normalize();\n    const o = [e];\n    for (; o.length > 0; )\n      if (e = o.shift(), !!e) {\n        if (this.isLeaf(e) && !this.isNodeEmpty(e, t))\n          return !1;\n        e.childNodes && o.push(...Array.from(e.childNodes));\n      }\n    return !0;\n  }\n  /**\n   * Check if string contains html elements\n   *\n   * @param {string} str - string to check\n   * @returns {boolean}\n   */\n  static isHTMLString(e) {\n    const t = d.make(\"div\");\n    return t.innerHTML = e, t.childElementCount > 0;\n  }\n  /**\n   * Return length of node`s text content\n   *\n   * @param {Node} node - node with content\n   * @returns {number}\n   */\n  static getContentLength(e) {\n    return d.isNativeInput(e) ? e.value.length : e.nodeType === Node.TEXT_NODE ? e.length : e.textContent.length;\n  }\n  /**\n   * Return array of names of block html elements\n   *\n   * @returns {string[]}\n   */\n  static get blockElements() {\n    return [\n      \"address\",\n      \"article\",\n      \"aside\",\n      \"blockquote\",\n      \"canvas\",\n      \"div\",\n      \"dl\",\n      \"dt\",\n      \"fieldset\",\n      \"figcaption\",\n      \"figure\",\n      \"footer\",\n      \"form\",\n      \"h1\",\n      \"h2\",\n      \"h3\",\n      \"h4\",\n      \"h5\",\n      \"h6\",\n      \"header\",\n      \"hgroup\",\n      \"hr\",\n      \"li\",\n      \"main\",\n      \"nav\",\n      \"noscript\",\n      \"ol\",\n      \"output\",\n      \"p\",\n      \"pre\",\n      \"ruby\",\n      \"section\",\n      \"table\",\n      \"tbody\",\n      \"thead\",\n      \"tr\",\n      \"tfoot\",\n      \"ul\",\n      \"video\"\n    ];\n  }\n  /**\n   * Check if passed content includes only inline elements\n   *\n   * @param {string|HTMLElement} data - element or html string\n   * @returns {boolean}\n   */\n  static containsOnlyInlineElements(e) {\n    let t;\n    Q(e) ? (t = document.createElement(\"div\"), t.innerHTML = e) : t = e;\n    const o = (i) => !d.blockElements.includes(i.tagName.toLowerCase()) && Array.from(i.children).every(o);\n    return Array.from(t.children).every(o);\n  }\n  /**\n   * Find and return all block elements in the passed parent (including subtree)\n   *\n   * @param {HTMLElement} parent - root element\n   * @returns {HTMLElement[]}\n   */\n  static getDeepestBlockElements(e) {\n    return d.containsOnlyInlineElements(e) ? [e] : Array.from(e.children).reduce((t, o) => [...t, ...d.getDeepestBlockElements(o)], []);\n  }\n  /**\n   * Helper for get holder from {string} or return HTMLElement\n   *\n   * @param {string | HTMLElement} element - holder's id or holder's HTML Element\n   * @returns {HTMLElement}\n   */\n  static getHolder(e) {\n    return Q(e) ? document.getElementById(e) : e;\n  }\n  /**\n   * Returns true if element is anchor (is A tag)\n   *\n   * @param {Element} element - element to check\n   * @returns {boolean}\n   */\n  static isAnchor(e) {\n    return e.tagName.toLowerCase() === \"a\";\n  }\n  /**\n   * Return element's offset related to the document\n   *\n   * @todo handle case when editor initialized in scrollable popup\n   * @param el - element to compute offset\n   */\n  static offset(e) {\n    const t = e.getBoundingClientRect(), o = window.pageXOffset || document.documentElement.scrollLeft, i = window.pageYOffset || document.documentElement.scrollTop, s = t.top + i, r = t.left + o;\n    return {\n      top: s,\n      left: r,\n      bottom: s + t.height,\n      right: r + t.width\n    };\n  }\n}\nfunction Lo(n) {\n  return !/[^\\t\\n\\r ]/.test(n);\n}\nfunction _o(n) {\n  const e = window.getComputedStyle(n), t = parseFloat(e.fontSize), o = parseFloat(e.lineHeight) || t * 1.2, i = parseFloat(e.paddingTop), s = parseFloat(e.borderTopWidth), r = parseFloat(e.marginTop), l = t * 0.8, a = (o - t) / 2;\n  return r + s + i + a + l;\n}\nfunction At(n) {\n  n.dataset.empty = d.isEmpty(n) ? \"true\" : \"false\";\n}\nconst No = {\n  blockTunes: {\n    toggler: {\n      \"Click to tune\": \"\",\n      \"or drag to move\": \"\"\n    }\n  },\n  inlineToolbar: {\n    converter: {\n      \"Convert to\": \"\"\n    }\n  },\n  toolbar: {\n    toolbox: {\n      Add: \"\"\n    }\n  },\n  popover: {\n    Filter: \"\",\n    \"Nothing found\": \"\",\n    \"Convert to\": \"\"\n  }\n}, Po = {\n  Text: \"\",\n  Link: \"\",\n  Bold: \"\",\n  Italic: \"\"\n}, Do = {\n  link: {\n    \"Add a link\": \"\"\n  },\n  stub: {\n    \"The block can not be displayed correctly.\": \"\"\n  }\n}, Ro = {\n  delete: {\n    Delete: \"\",\n    \"Click to delete\": \"\"\n  },\n  moveUp: {\n    \"Move up\": \"\"\n  },\n  moveDown: {\n    \"Move down\": \"\"\n  }\n}, Lt = {\n  ui: No,\n  toolNames: Po,\n  tools: Do,\n  blockTunes: Ro\n}, _t = class le {\n  /**\n   * Type-safe translation for internal UI texts:\n   * Perform translation of the string by namespace and a key\n   *\n   * @example I18n.ui(I18nInternalNS.ui.blockTunes.toggler, 'Click to tune')\n   * @param internalNamespace - path to translated string in dictionary\n   * @param dictKey - dictionary key. Better to use default locale original text\n   */\n  static ui(e, t) {\n    return le._t(e, t);\n  }\n  /**\n   * Translate for external strings that is not presented in default dictionary.\n   * For example, for user-specified tool names\n   *\n   * @param namespace - path to translated string in dictionary\n   * @param dictKey - dictionary key. Better to use default locale original text\n   */\n  static t(e, t) {\n    return le._t(e, t);\n  }\n  /**\n   * Adjust module for using external dictionary\n   *\n   * @param dictionary - new messages list to override default\n   */\n  static setDictionary(e) {\n    le.currentDictionary = e;\n  }\n  /**\n   * Perform translation both for internal and external namespaces\n   * If there is no translation found, returns passed key as a translated message\n   *\n   * @param namespace - path to translated string in dictionary\n   * @param dictKey - dictionary key. Better to use default locale original text\n   */\n  static _t(e, t) {\n    const o = le.getNamespace(e);\n    return !o || !o[t] ? t : o[t];\n  }\n  /**\n   * Find messages section by namespace path\n   *\n   * @param namespace - path to section\n   */\n  static getNamespace(e) {\n    return e.split(\".\").reduce((o, i) => !o || !Object.keys(o).length ? {} : o[i], le.currentDictionary);\n  }\n};\n_t.currentDictionary = Lt;\nlet z = _t;\nclass Nt extends Error {\n}\nclass Be {\n  constructor() {\n    this.subscribers = {};\n  }\n  /**\n   * Subscribe any event on callback\n   *\n   * @param eventName - event name\n   * @param callback - subscriber\n   */\n  on(e, t) {\n    e in this.subscribers || (this.subscribers[e] = []), this.subscribers[e].push(t);\n  }\n  /**\n   * Subscribe any event on callback. Callback will be called once and be removed from subscribers array after call.\n   *\n   * @param eventName - event name\n   * @param callback - subscriber\n   */\n  once(e, t) {\n    e in this.subscribers || (this.subscribers[e] = []);\n    const o = (i) => {\n      const s = t(i), r = this.subscribers[e].indexOf(o);\n      return r !== -1 && this.subscribers[e].splice(r, 1), s;\n    };\n    this.subscribers[e].push(o);\n  }\n  /**\n   * Emit callbacks with passed data\n   *\n   * @param eventName - event name\n   * @param data - subscribers get this data when they were fired\n   */\n  emit(e, t) {\n    V(this.subscribers) || !this.subscribers[e] || this.subscribers[e].reduce((o, i) => {\n      const s = i(o);\n      return s !== void 0 ? s : o;\n    }, t);\n  }\n  /**\n   * Unsubscribe callback from event\n   *\n   * @param eventName - event name\n   * @param callback - event handler\n   */\n  off(e, t) {\n    if (this.subscribers[e] === void 0) {\n      console.warn(`EventDispatcher .off(): there is no subscribers for event \"${e.toString()}\". Probably, .off() called before .on()`);\n      return;\n    }\n    for (let o = 0; o < this.subscribers[e].length; o++)\n      if (this.subscribers[e][o] === t) {\n        delete this.subscribers[e][o];\n        break;\n      }\n  }\n  /**\n   * Destroyer\n   * clears subscribers list\n   */\n  destroy() {\n    this.subscribers = {};\n  }\n}\nfunction G(n) {\n  Object.setPrototypeOf(this, {\n    /**\n     * Block id\n     *\n     * @returns {string}\n     */\n    get id() {\n      return n.id;\n    },\n    /**\n     * Tool name\n     *\n     * @returns {string}\n     */\n    get name() {\n      return n.name;\n    },\n    /**\n     * Tool config passed on Editor's initialization\n     *\n     * @returns {ToolConfig}\n     */\n    get config() {\n      return n.config;\n    },\n    /**\n     * .ce-block element, that wraps plugin contents\n     *\n     * @returns {HTMLElement}\n     */\n    get holder() {\n      return n.holder;\n    },\n    /**\n     * True if Block content is empty\n     *\n     * @returns {boolean}\n     */\n    get isEmpty() {\n      return n.isEmpty;\n    },\n    /**\n     * True if Block is selected with Cross-Block selection\n     *\n     * @returns {boolean}\n     */\n    get selected() {\n      return n.selected;\n    },\n    /**\n     * Set Block's stretch state\n     *\n     * @param {boolean} state  state to set\n     */\n    set stretched(t) {\n      n.stretched = t;\n    },\n    /**\n     * True if Block is stretched\n     *\n     * @returns {boolean}\n     */\n    get stretched() {\n      return n.stretched;\n    },\n    /**\n     * True if Block has inputs to be focused\n     */\n    get focusable() {\n      return n.focusable;\n    },\n    /**\n     * Call Tool method with errors handler under-the-hood\n     *\n     * @param {string} methodName - method to call\n     * @param {object} param - object with parameters\n     * @returns {unknown}\n     */\n    call(t, o) {\n      return n.call(t, o);\n    },\n    /**\n     * Save Block content\n     *\n     * @returns {Promise<void|SavedData>}\n     */\n    save() {\n      return n.save();\n    },\n    /**\n     * Validate Block data\n     *\n     * @param {BlockToolData} data - data to validate\n     * @returns {Promise<boolean>}\n     */\n    validate(t) {\n      return n.validate(t);\n    },\n    /**\n     * Allows to say Editor that Block was changed. Used to manually trigger Editor's 'onChange' callback\n     * Can be useful for block changes invisible for editor core.\n     */\n    dispatchChange() {\n      n.dispatchChange();\n    },\n    /**\n     * Tool could specify several entries to be displayed at the Toolbox (for example, \"Heading 1\", \"Heading 2\", \"Heading 3\")\n     * This method returns the entry that is related to the Block (depended on the Block data)\n     */\n    getActiveToolboxEntry() {\n      return n.getActiveToolboxEntry();\n    }\n  });\n}\nclass Te {\n  constructor() {\n    this.allListeners = [];\n  }\n  /**\n   * Assigns event listener on element and returns unique identifier\n   *\n   * @param {EventTarget} element - DOM element that needs to be listened\n   * @param {string} eventType - event type\n   * @param {Function} handler - method that will be fired on event\n   * @param {boolean|AddEventListenerOptions} options - useCapture or {capture, passive, once}\n   */\n  on(e, t, o, i = !1) {\n    const s = Oo(\"l\"), r = {\n      id: s,\n      element: e,\n      eventType: t,\n      handler: o,\n      options: i\n    };\n    if (!this.findOne(e, t, o))\n      return this.allListeners.push(r), e.addEventListener(t, o, i), s;\n  }\n  /**\n   * Removes event listener from element\n   *\n   * @param {EventTarget} element - DOM element that we removing listener\n   * @param {string} eventType - event type\n   * @param {Function} handler - remove handler, if element listens several handlers on the same event type\n   * @param {boolean|AddEventListenerOptions} options - useCapture or {capture, passive, once}\n   */\n  off(e, t, o, i) {\n    const s = this.findAll(e, t, o);\n    s.forEach((r, l) => {\n      const a = this.allListeners.indexOf(s[l]);\n      a > -1 && (this.allListeners.splice(a, 1), r.element.removeEventListener(r.eventType, r.handler, r.options));\n    });\n  }\n  /**\n   * Removes listener by id\n   *\n   * @param {string} id - listener identifier\n   */\n  offById(e) {\n    const t = this.findById(e);\n    t && t.element.removeEventListener(t.eventType, t.handler, t.options);\n  }\n  /**\n   * Finds and returns first listener by passed params\n   *\n   * @param {EventTarget} element - event target\n   * @param {string} [eventType] - event type\n   * @param {Function} [handler] - event handler\n   * @returns {ListenerData|null}\n   */\n  findOne(e, t, o) {\n    const i = this.findAll(e, t, o);\n    return i.length > 0 ? i[0] : null;\n  }\n  /**\n   * Return all stored listeners by passed params\n   *\n   * @param {EventTarget} element - event target\n   * @param {string} eventType - event type\n   * @param {Function} handler - event handler\n   * @returns {ListenerData[]}\n   */\n  findAll(e, t, o) {\n    let i;\n    const s = e ? this.findByEventTarget(e) : [];\n    return e && t && o ? i = s.filter((r) => r.eventType === t && r.handler === o) : e && t ? i = s.filter((r) => r.eventType === t) : i = s, i;\n  }\n  /**\n   * Removes all listeners\n   */\n  removeAll() {\n    this.allListeners.map((e) => {\n      e.element.removeEventListener(e.eventType, e.handler, e.options);\n    }), this.allListeners = [];\n  }\n  /**\n   * Module cleanup on destruction\n   */\n  destroy() {\n    this.removeAll();\n  }\n  /**\n   * Search method: looks for listener by passed element\n   *\n   * @param {EventTarget} element - searching element\n   * @returns {Array} listeners that found on element\n   */\n  findByEventTarget(e) {\n    return this.allListeners.filter((t) => {\n      if (t.element === e)\n        return t;\n    });\n  }\n  /**\n   * Search method: looks for listener by passed event type\n   *\n   * @param {string} eventType - event type\n   * @returns {ListenerData[]} listeners that found on element\n   */\n  findByType(e) {\n    return this.allListeners.filter((t) => {\n      if (t.eventType === e)\n        return t;\n    });\n  }\n  /**\n   * Search method: looks for listener by passed handler\n   *\n   * @param {Function} handler - event handler\n   * @returns {ListenerData[]} listeners that found on element\n   */\n  findByHandler(e) {\n    return this.allListeners.filter((t) => {\n      if (t.handler === e)\n        return t;\n    });\n  }\n  /**\n   * Returns listener data found by id\n   *\n   * @param {string} id - listener identifier\n   * @returns {ListenerData}\n   */\n  findById(e) {\n    return this.allListeners.find((t) => t.id === e);\n  }\n}\nclass y {\n  /**\n   * @class\n   * @param options - Module options\n   * @param options.config - Module config\n   * @param options.eventsDispatcher - Common event bus\n   */\n  constructor({ config: e, eventsDispatcher: t }) {\n    if (this.nodes = {}, this.listeners = new Te(), this.readOnlyMutableListeners = {\n      /**\n       * Assigns event listener on DOM element and pushes into special array that might be removed\n       *\n       * @param {EventTarget} element - DOM Element\n       * @param {string} eventType - Event name\n       * @param {Function} handler - Event handler\n       * @param {boolean|AddEventListenerOptions} options - Listening options\n       */\n      on: (o, i, s, r = !1) => {\n        this.mutableListenerIds.push(\n          this.listeners.on(o, i, s, r)\n        );\n      },\n      /**\n       * Clears all mutable listeners\n       */\n      clearAll: () => {\n        for (const o of this.mutableListenerIds)\n          this.listeners.offById(o);\n        this.mutableListenerIds = [];\n      }\n    }, this.mutableListenerIds = [], new.target === y)\n      throw new TypeError(\"Constructors for abstract class Module are not allowed.\");\n    this.config = e, this.eventsDispatcher = t;\n  }\n  /**\n   * Editor modules setter\n   *\n   * @param {EditorModules} Editor - Editor's Modules\n   */\n  set state(e) {\n    this.Editor = e;\n  }\n  /**\n   * Remove memorized nodes\n   */\n  removeAllNodes() {\n    for (const e in this.nodes) {\n      const t = this.nodes[e];\n      t instanceof HTMLElement && t.remove();\n    }\n  }\n  /**\n   * Returns true if current direction is RTL (Right-To-Left)\n   */\n  get isRtl() {\n    return this.config.i18n.direction === \"rtl\";\n  }\n}\nclass b {\n  constructor() {\n    this.instance = null, this.selection = null, this.savedSelectionRange = null, this.isFakeBackgroundEnabled = !1, this.commandBackground = \"backColor\", this.commandRemoveFormat = \"removeFormat\";\n  }\n  /**\n   * Editor styles\n   *\n   * @returns {{editorWrapper: string, editorZone: string}}\n   */\n  static get CSS() {\n    return {\n      editorWrapper: \"codex-editor\",\n      editorZone: \"codex-editor__redactor\"\n    };\n  }\n  /**\n   * Returns selected anchor\n   * {@link https://developer.mozilla.org/ru/docs/Web/API/Selection/anchorNode}\n   *\n   * @returns {Node|null}\n   */\n  static get anchorNode() {\n    const e = window.getSelection();\n    return e ? e.anchorNode : null;\n  }\n  /**\n   * Returns selected anchor element\n   *\n   * @returns {Element|null}\n   */\n  static get anchorElement() {\n    const e = window.getSelection();\n    if (!e)\n      return null;\n    const t = e.anchorNode;\n    return t ? d.isElement(t) ? t : t.parentElement : null;\n  }\n  /**\n   * Returns selection offset according to the anchor node\n   * {@link https://developer.mozilla.org/ru/docs/Web/API/Selection/anchorOffset}\n   *\n   * @returns {number|null}\n   */\n  static get anchorOffset() {\n    const e = window.getSelection();\n    return e ? e.anchorOffset : null;\n  }\n  /**\n   * Is current selection range collapsed\n   *\n   * @returns {boolean|null}\n   */\n  static get isCollapsed() {\n    const e = window.getSelection();\n    return e ? e.isCollapsed : null;\n  }\n  /**\n   * Check current selection if it is at Editor's zone\n   *\n   * @returns {boolean}\n   */\n  static get isAtEditor() {\n    return this.isSelectionAtEditor(b.get());\n  }\n  /**\n   * Check if passed selection is at Editor's zone\n   *\n   * @param selection - Selection object to check\n   */\n  static isSelectionAtEditor(e) {\n    if (!e)\n      return !1;\n    let t = e.anchorNode || e.focusNode;\n    t && t.nodeType === Node.TEXT_NODE && (t = t.parentNode);\n    let o = null;\n    return t && t instanceof Element && (o = t.closest(`.${b.CSS.editorZone}`)), o ? o.nodeType === Node.ELEMENT_NODE : !1;\n  }\n  /**\n   * Check if passed range at Editor zone\n   *\n   * @param range - range to check\n   */\n  static isRangeAtEditor(e) {\n    if (!e)\n      return;\n    let t = e.startContainer;\n    t && t.nodeType === Node.TEXT_NODE && (t = t.parentNode);\n    let o = null;\n    return t && t instanceof Element && (o = t.closest(`.${b.CSS.editorZone}`)), o ? o.nodeType === Node.ELEMENT_NODE : !1;\n  }\n  /**\n   * Methods return boolean that true if selection exists on the page\n   */\n  static get isSelectionExists() {\n    return !!b.get().anchorNode;\n  }\n  /**\n   * Return first range\n   *\n   * @returns {Range|null}\n   */\n  static get range() {\n    return this.getRangeFromSelection(this.get());\n  }\n  /**\n   * Returns range from passed Selection object\n   *\n   * @param selection - Selection object to get Range from\n   */\n  static getRangeFromSelection(e) {\n    return e && e.rangeCount ? e.getRangeAt(0) : null;\n  }\n  /**\n   * Calculates position and size of selected text\n   *\n   * @returns {DOMRect | ClientRect}\n   */\n  static get rect() {\n    let e = document.selection, t, o = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    };\n    if (e && e.type !== \"Control\")\n      return e = e, t = e.createRange(), o.x = t.boundingLeft, o.y = t.boundingTop, o.width = t.boundingWidth, o.height = t.boundingHeight, o;\n    if (!window.getSelection)\n      return I(\"Method window.getSelection is not supported\", \"warn\"), o;\n    if (e = window.getSelection(), e.rangeCount === null || isNaN(e.rangeCount))\n      return I(\"Method SelectionUtils.rangeCount is not supported\", \"warn\"), o;\n    if (e.rangeCount === 0)\n      return o;\n    if (t = e.getRangeAt(0).cloneRange(), t.getBoundingClientRect && (o = t.getBoundingClientRect()), o.x === 0 && o.y === 0) {\n      const i = document.createElement(\"span\");\n      if (i.getBoundingClientRect) {\n        i.appendChild(document.createTextNode(\"\")), t.insertNode(i), o = i.getBoundingClientRect();\n        const s = i.parentNode;\n        s.removeChild(i), s.normalize();\n      }\n    }\n    return o;\n  }\n  /**\n   * Returns selected text as String\n   *\n   * @returns {string}\n   */\n  static get text() {\n    return window.getSelection ? window.getSelection().toString() : \"\";\n  }\n  /**\n   * Returns window SelectionUtils\n   * {@link https://developer.mozilla.org/ru/docs/Web/API/Window/getSelection}\n   *\n   * @returns {Selection}\n   */\n  static get() {\n    return window.getSelection();\n  }\n  /**\n   * Set focus to contenteditable or native input element\n   *\n   * @param element - element where to set focus\n   * @param offset - offset of cursor\n   */\n  static setCursor(e, t = 0) {\n    const o = document.createRange(), i = window.getSelection();\n    return d.isNativeInput(e) ? d.canSetCaret(e) ? (e.focus(), e.selectionStart = e.selectionEnd = t, e.getBoundingClientRect()) : void 0 : (o.setStart(e, t), o.setEnd(e, t), i.removeAllRanges(), i.addRange(o), o.getBoundingClientRect());\n  }\n  /**\n   * Check if current range exists and belongs to container\n   *\n   * @param container - where range should be\n   */\n  static isRangeInsideContainer(e) {\n    const t = b.range;\n    return t === null ? !1 : e.contains(t.startContainer);\n  }\n  /**\n   * Adds fake cursor to the current range\n   */\n  static addFakeCursor() {\n    const e = b.range;\n    if (e === null)\n      return;\n    const t = d.make(\"span\", \"codex-editor__fake-cursor\");\n    t.dataset.mutationFree = \"true\", e.collapse(), e.insertNode(t);\n  }\n  /**\n   * Check if passed element contains a fake cursor\n   *\n   * @param el - where to check\n   */\n  static isFakeCursorInsideContainer(e) {\n    return d.find(e, \".codex-editor__fake-cursor\") !== null;\n  }\n  /**\n   * Removes fake cursor from a container\n   *\n   * @param container - container to look for\n   */\n  static removeFakeCursor(e = document.body) {\n    const t = d.find(e, \".codex-editor__fake-cursor\");\n    t && t.remove();\n  }\n  /**\n   * Removes fake background\n   */\n  removeFakeBackground() {\n    this.isFakeBackgroundEnabled && (this.isFakeBackgroundEnabled = !1, document.execCommand(this.commandRemoveFormat));\n  }\n  /**\n   * Sets fake background\n   */\n  setFakeBackground() {\n    document.execCommand(this.commandBackground, !1, \"#a8d6ff\"), this.isFakeBackgroundEnabled = !0;\n  }\n  /**\n   * Save SelectionUtils's range\n   */\n  save() {\n    this.savedSelectionRange = b.range;\n  }\n  /**\n   * Restore saved SelectionUtils's range\n   */\n  restore() {\n    if (!this.savedSelectionRange)\n      return;\n    const e = window.getSelection();\n    e.removeAllRanges(), e.addRange(this.savedSelectionRange);\n  }\n  /**\n   * Clears saved selection\n   */\n  clearSaved() {\n    this.savedSelectionRange = null;\n  }\n  /**\n   * Collapse current selection\n   */\n  collapseToEnd() {\n    const e = window.getSelection(), t = document.createRange();\n    t.selectNodeContents(e.focusNode), t.collapse(!1), e.removeAllRanges(), e.addRange(t);\n  }\n  /**\n   * Looks ahead to find passed tag from current selection\n   *\n   * @param  {string} tagName       - tag to found\n   * @param  {string} [className]   - tag's class name\n   * @param  {number} [searchDepth] - count of tags that can be included. For better performance.\n   * @returns {HTMLElement|null}\n   */\n  findParentTag(e, t, o = 10) {\n    const i = window.getSelection();\n    let s = null;\n    return !i || !i.anchorNode || !i.focusNode ? null : ([\n      /** the Node in which the selection begins */\n      i.anchorNode,\n      /** the Node in which the selection ends */\n      i.focusNode\n    ].forEach((l) => {\n      let a = o;\n      for (; a > 0 && l.parentNode && !(l.tagName === e && (s = l, t && l.classList && !l.classList.contains(t) && (s = null), s)); )\n        l = l.parentNode, a--;\n    }), s);\n  }\n  /**\n   * Expands selection range to the passed parent node\n   *\n   * @param {HTMLElement} element - element which contents should be selected\n   */\n  expandToTag(e) {\n    const t = window.getSelection();\n    t.removeAllRanges();\n    const o = document.createRange();\n    o.selectNodeContents(e), t.addRange(o);\n  }\n}\nfunction Fo(n, e) {\n  const { type: t, target: o, addedNodes: i, removedNodes: s } = n;\n  return n.type === \"attributes\" && n.attributeName === \"data-empty\" ? !1 : !!(e.contains(o) || t === \"childList\" && (Array.from(i).some((a) => a === e) || Array.from(s).some((a) => a === e)));\n}\nconst Je = \"redactor dom changed\", Pt = \"block changed\", Dt = \"fake cursor is about to be toggled\", Rt = \"fake cursor have been set\", xe = \"editor mobile layout toggled\";\nfunction Ft(n, e) {\n  if (!n.conversionConfig)\n    return !1;\n  const t = n.conversionConfig[e];\n  return A(t) || Q(t);\n}\nfunction Le(n, e) {\n  return Ft(n.tool, e);\n}\nfunction Ht(n, e) {\n  return Object.entries(n).some(([t, o]) => e[t] && Ao(e[t], o));\n}\nasync function zt(n, e) {\n  const o = (await n.save()).data;\n  return e.reduce((i, s) => {\n    if (!Ft(s, \"import\"))\n      return i;\n    const r = s.toolbox.filter((l) => {\n      if (V(l) || !l.icon)\n        return !1;\n      if (l.data !== void 0) {\n        if (Ht(l.data, o))\n          return !1;\n      } else if (s.name === n.name)\n        return !1;\n      return !0;\n    });\n    return i.push({\n      ...s,\n      toolbox: r\n    }), i;\n  }, []);\n}\nfunction vt(n, e) {\n  return n.mergeable ? n.name === e.name ? !0 : Le(e, \"export\") && Le(n, \"import\") : !1;\n}\nfunction Ho(n, e) {\n  const t = e == null ? void 0 : e.export;\n  return A(t) ? t(n) : Q(t) ? n[t] : (t !== void 0 && I(\"Conversion export property must be a string or function. String means key of saved data object to export. Function should export processed string to export.\"), \"\");\n}\nfunction wt(n, e) {\n  const t = e == null ? void 0 : e.import;\n  return A(t) ? t(n) : Q(t) ? {\n    [t]: n\n  } : (t !== void 0 && I(\"Conversion import property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data.\"), {});\n}\nconst Ut = class ke {\n  /**\n   * @param {HTMLElement[]} nodeList  the list of iterable HTML-items\n   * @param {string} focusedCssClass - user-provided CSS-class that will be set in flipping process\n   */\n  constructor(e, t) {\n    this.cursor = -1, this.items = [], this.items = e || [], this.focusedCssClass = t;\n  }\n  /**\n   * Returns Focused button Node\n   *\n   * @returns {HTMLElement}\n   */\n  get currentItem() {\n    return this.cursor === -1 ? null : this.items[this.cursor];\n  }\n  /**\n   * Sets cursor to specified position\n   *\n   * @param cursorPosition - new cursor position\n   */\n  setCursor(e) {\n    e < this.items.length && e >= -1 && (this.dropCursor(), this.cursor = e, this.items[this.cursor].classList.add(this.focusedCssClass));\n  }\n  /**\n   * Sets items. Can be used when iterable items changed dynamically\n   *\n   * @param {HTMLElement[]} nodeList - nodes to iterate\n   */\n  setItems(e) {\n    this.items = e;\n  }\n  /**\n   * Sets cursor next to the current\n   */\n  next() {\n    this.cursor = this.leafNodesAndReturnIndex(ke.directions.RIGHT);\n  }\n  /**\n   * Sets cursor before current\n   */\n  previous() {\n    this.cursor = this.leafNodesAndReturnIndex(ke.directions.LEFT);\n  }\n  /**\n   * Sets cursor to the default position and removes CSS-class from previously focused item\n   */\n  dropCursor() {\n    this.cursor !== -1 && (this.items[this.cursor].classList.remove(this.focusedCssClass), this.cursor = -1);\n  }\n  /**\n   * Leafs nodes inside the target list from active element\n   *\n   * @param {string} direction - leaf direction. Can be 'left' or 'right'\n   * @returns {number} index of focused node\n   */\n  leafNodesAndReturnIndex(e) {\n    if (this.items.length === 0)\n      return this.cursor;\n    let t = this.cursor;\n    return t === -1 ? t = e === ke.directions.RIGHT ? -1 : 0 : this.items[t].classList.remove(this.focusedCssClass), e === ke.directions.RIGHT ? t = (t + 1) % this.items.length : t = (this.items.length + t - 1) % this.items.length, d.canSetCaret(this.items[t]) && Oe(() => b.setCursor(this.items[t]), 50)(), this.items[t].classList.add(this.focusedCssClass), t;\n  }\n};\nUt.directions = {\n  RIGHT: \"right\",\n  LEFT: \"left\"\n};\nlet ge = Ut;\nclass re {\n  /**\n   * @param options - different constructing settings\n   */\n  constructor(e) {\n    this.iterator = null, this.activated = !1, this.flipCallbacks = [], this.onKeyDown = (t) => {\n      if (this.isEventReadyForHandling(t))\n        switch (re.usedKeys.includes(t.keyCode) && t.preventDefault(), t.keyCode) {\n          case w.TAB:\n            this.handleTabPress(t);\n            break;\n          case w.LEFT:\n          case w.UP:\n            this.flipLeft();\n            break;\n          case w.RIGHT:\n          case w.DOWN:\n            this.flipRight();\n            break;\n          case w.ENTER:\n            this.handleEnterPress(t);\n            break;\n        }\n    }, this.iterator = new ge(e.items, e.focusedItemClass), this.activateCallback = e.activateCallback, this.allowedKeys = e.allowedKeys || re.usedKeys;\n  }\n  /**\n   * True if flipper is currently activated\n   */\n  get isActivated() {\n    return this.activated;\n  }\n  /**\n   * Array of keys (codes) that is handled by Flipper\n   * Used to:\n   *  - preventDefault only for this keys, not all keydowns (@see constructor)\n   *  - to skip external behaviours only for these keys, when filler is activated (@see BlockEvents@arrowRightAndDown)\n   */\n  static get usedKeys() {\n    return [\n      w.TAB,\n      w.LEFT,\n      w.RIGHT,\n      w.ENTER,\n      w.UP,\n      w.DOWN\n    ];\n  }\n  /**\n   * Active tab/arrows handling by flipper\n   *\n   * @param items - Some modules (like, InlineToolbar, BlockSettings) might refresh buttons dynamically\n   * @param cursorPosition - index of the item that should be focused once flipper is activated\n   */\n  activate(e, t) {\n    this.activated = !0, e && this.iterator.setItems(e), t !== void 0 && this.iterator.setCursor(t), document.addEventListener(\"keydown\", this.onKeyDown, !0);\n  }\n  /**\n   * Disable tab/arrows handling by flipper\n   */\n  deactivate() {\n    this.activated = !1, this.dropCursor(), document.removeEventListener(\"keydown\", this.onKeyDown);\n  }\n  /**\n   * Focus first item\n   */\n  focusFirst() {\n    this.dropCursor(), this.flipRight();\n  }\n  /**\n   * Focuses previous flipper iterator item\n   */\n  flipLeft() {\n    this.iterator.previous(), this.flipCallback();\n  }\n  /**\n   * Focuses next flipper iterator item\n   */\n  flipRight() {\n    this.iterator.next(), this.flipCallback();\n  }\n  /**\n   * Return true if some button is focused\n   */\n  hasFocus() {\n    return !!this.iterator.currentItem;\n  }\n  /**\n   * Registeres function that should be executed on each navigation action\n   *\n   * @param cb - function to execute\n   */\n  onFlip(e) {\n    this.flipCallbacks.push(e);\n  }\n  /**\n   * Unregisteres function that is executed on each navigation action\n   *\n   * @param cb - function to stop executing\n   */\n  removeOnFlip(e) {\n    this.flipCallbacks = this.flipCallbacks.filter((t) => t !== e);\n  }\n  /**\n   * Drops flipper's iterator cursor\n   *\n   * @see DomIterator#dropCursor\n   */\n  dropCursor() {\n    this.iterator.dropCursor();\n  }\n  /**\n   * This function is fired before handling flipper keycodes\n   * The result of this function defines if it is need to be handled or not\n   *\n   * @param {KeyboardEvent} event - keydown keyboard event\n   * @returns {boolean}\n   */\n  isEventReadyForHandling(e) {\n    return this.activated && this.allowedKeys.includes(e.keyCode);\n  }\n  /**\n   * When flipper is activated tab press will leaf the items\n   *\n   * @param {KeyboardEvent} event - tab keydown event\n   */\n  handleTabPress(e) {\n    switch (e.shiftKey ? ge.directions.LEFT : ge.directions.RIGHT) {\n      case ge.directions.RIGHT:\n        this.flipRight();\n        break;\n      case ge.directions.LEFT:\n        this.flipLeft();\n        break;\n    }\n  }\n  /**\n   * Enter press will click current item if flipper is activated\n   *\n   * @param {KeyboardEvent} event - enter keydown event\n   */\n  handleEnterPress(e) {\n    this.activated && (this.iterator.currentItem && (e.stopPropagation(), e.preventDefault(), this.iterator.currentItem.click()), A(this.activateCallback) && this.activateCallback(this.iterator.currentItem));\n  }\n  /**\n   * Fired after flipping in any direction\n   */\n  flipCallback() {\n    this.iterator.currentItem && this.iterator.currentItem.scrollIntoViewIfNeeded(), this.flipCallbacks.forEach((e) => e());\n  }\n}\nconst zo = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11\"/></svg>', Uo = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10\"/></svg>', jo = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5\"/></svg>', $o = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5\"/></svg>', Yo = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15\"/></svg>', Wo = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16\"/></svg>', Ko = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><circle cx=\"12\" cy=\"12\" r=\"4\" stroke=\"currentColor\" stroke-width=\"2\"/></svg>', Xo = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M13.34 10C12.4223 12.7337 11 17 11 17\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M14.21 7H14.2\"/></svg>', xt = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72\"/></svg>', Vo = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M9.40999 7.29999H9.4\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M14.6 7.29999H14.59\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M9.30999 12H9.3\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M14.6 12H14.59\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M9.40999 16.7H9.4\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M14.6 16.7H14.59\"/></svg>', qo = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M12 7V12M12 17V12M17 12H12M12 12H7\"/></svg>', jt = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M11.5 17.5L5 11M5 11V15.5M5 11H9.5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M12.5 6.5L19 13M19 13V8.5M19 13H14.5\"/></svg>', Zo = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><circle cx=\"10.5\" cy=\"10.5\" r=\"5.5\" stroke=\"currentColor\" stroke-width=\"2\"/><line x1=\"15.4142\" x2=\"19\" y1=\"15\" y2=\"18.5858\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/></svg>', Go = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397\"/><line x1=\"12.1142\" x2=\"11.7\" y1=\"12.2\" y2=\"11.7858\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/></svg>', Jo = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/><line x1=\"12\" x2=\"12\" y1=\"9\" y2=\"12\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M12 15.02V15.01\"/></svg>';\nvar $t = { exports: {} };\n/*!\n * CodeX.Tooltips\n * \n * @version 1.0.5\n * \n * @licence MIT\n * @author CodeX <https://codex.so>\n * \n * \n */\n(function(n, e) {\n  (function(t, o) {\n    n.exports = o();\n  })(window, function() {\n    return function(t) {\n      var o = {};\n      function i(s) {\n        if (o[s])\n          return o[s].exports;\n        var r = o[s] = { i: s, l: !1, exports: {} };\n        return t[s].call(r.exports, r, r.exports, i), r.l = !0, r.exports;\n      }\n      return i.m = t, i.c = o, i.d = function(s, r, l) {\n        i.o(s, r) || Object.defineProperty(s, r, { enumerable: !0, get: l });\n      }, i.r = function(s) {\n        typeof Symbol < \"u\" && Symbol.toStringTag && Object.defineProperty(s, Symbol.toStringTag, { value: \"Module\" }), Object.defineProperty(s, \"__esModule\", { value: !0 });\n      }, i.t = function(s, r) {\n        if (1 & r && (s = i(s)), 8 & r || 4 & r && typeof s == \"object\" && s && s.__esModule)\n          return s;\n        var l = /* @__PURE__ */ Object.create(null);\n        if (i.r(l), Object.defineProperty(l, \"default\", { enumerable: !0, value: s }), 2 & r && typeof s != \"string\")\n          for (var a in s)\n            i.d(l, a, (function(c) {\n              return s[c];\n            }).bind(null, a));\n        return l;\n      }, i.n = function(s) {\n        var r = s && s.__esModule ? function() {\n          return s.default;\n        } : function() {\n          return s;\n        };\n        return i.d(r, \"a\", r), r;\n      }, i.o = function(s, r) {\n        return Object.prototype.hasOwnProperty.call(s, r);\n      }, i.p = \"\", i(i.s = 0);\n    }([function(t, o, i) {\n      t.exports = i(1);\n    }, function(t, o, i) {\n      i.r(o), i.d(o, \"default\", function() {\n        return s;\n      });\n      class s {\n        constructor() {\n          this.nodes = { wrapper: null, content: null }, this.showed = !1, this.offsetTop = 10, this.offsetLeft = 10, this.offsetRight = 10, this.hidingDelay = 0, this.handleWindowScroll = () => {\n            this.showed && this.hide(!0);\n          }, this.loadStyles(), this.prepare(), window.addEventListener(\"scroll\", this.handleWindowScroll, { passive: !0 });\n        }\n        get CSS() {\n          return { tooltip: \"ct\", tooltipContent: \"ct__content\", tooltipShown: \"ct--shown\", placement: { left: \"ct--left\", bottom: \"ct--bottom\", right: \"ct--right\", top: \"ct--top\" } };\n        }\n        show(l, a, c) {\n          this.nodes.wrapper || this.prepare(), this.hidingTimeout && clearTimeout(this.hidingTimeout);\n          const u = Object.assign({ placement: \"bottom\", marginTop: 0, marginLeft: 0, marginRight: 0, marginBottom: 0, delay: 70, hidingDelay: 0 }, c);\n          if (u.hidingDelay && (this.hidingDelay = u.hidingDelay), this.nodes.content.innerHTML = \"\", typeof a == \"string\")\n            this.nodes.content.appendChild(document.createTextNode(a));\n          else {\n            if (!(a instanceof Node))\n              throw Error(\"[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But \" + typeof a + \" given.\");\n            this.nodes.content.appendChild(a);\n          }\n          switch (this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)), u.placement) {\n            case \"top\":\n              this.placeTop(l, u);\n              break;\n            case \"left\":\n              this.placeLeft(l, u);\n              break;\n            case \"right\":\n              this.placeRight(l, u);\n              break;\n            case \"bottom\":\n            default:\n              this.placeBottom(l, u);\n          }\n          u && u.delay ? this.showingTimeout = setTimeout(() => {\n            this.nodes.wrapper.classList.add(this.CSS.tooltipShown), this.showed = !0;\n          }, u.delay) : (this.nodes.wrapper.classList.add(this.CSS.tooltipShown), this.showed = !0);\n        }\n        hide(l = !1) {\n          if (this.hidingDelay && !l)\n            return this.hidingTimeout && clearTimeout(this.hidingTimeout), void (this.hidingTimeout = setTimeout(() => {\n              this.hide(!0);\n            }, this.hidingDelay));\n          this.nodes.wrapper.classList.remove(this.CSS.tooltipShown), this.showed = !1, this.showingTimeout && clearTimeout(this.showingTimeout);\n        }\n        onHover(l, a, c) {\n          l.addEventListener(\"mouseenter\", () => {\n            this.show(l, a, c);\n          }), l.addEventListener(\"mouseleave\", () => {\n            this.hide();\n          });\n        }\n        destroy() {\n          this.nodes.wrapper.remove(), window.removeEventListener(\"scroll\", this.handleWindowScroll);\n        }\n        prepare() {\n          this.nodes.wrapper = this.make(\"div\", this.CSS.tooltip), this.nodes.content = this.make(\"div\", this.CSS.tooltipContent), this.append(this.nodes.wrapper, this.nodes.content), this.append(document.body, this.nodes.wrapper);\n        }\n        loadStyles() {\n          const l = \"codex-tooltips-style\";\n          if (document.getElementById(l))\n            return;\n          const a = i(2), c = this.make(\"style\", null, { textContent: a.toString(), id: l });\n          this.prepend(document.head, c);\n        }\n        placeBottom(l, a) {\n          const c = l.getBoundingClientRect(), u = c.left + l.clientWidth / 2 - this.nodes.wrapper.offsetWidth / 2, h = c.bottom + window.pageYOffset + this.offsetTop + a.marginTop;\n          this.applyPlacement(\"bottom\", u, h);\n        }\n        placeTop(l, a) {\n          const c = l.getBoundingClientRect(), u = c.left + l.clientWidth / 2 - this.nodes.wrapper.offsetWidth / 2, h = c.top + window.pageYOffset - this.nodes.wrapper.clientHeight - this.offsetTop;\n          this.applyPlacement(\"top\", u, h);\n        }\n        placeLeft(l, a) {\n          const c = l.getBoundingClientRect(), u = c.left - this.nodes.wrapper.offsetWidth - this.offsetLeft - a.marginLeft, h = c.top + window.pageYOffset + l.clientHeight / 2 - this.nodes.wrapper.offsetHeight / 2;\n          this.applyPlacement(\"left\", u, h);\n        }\n        placeRight(l, a) {\n          const c = l.getBoundingClientRect(), u = c.right + this.offsetRight + a.marginRight, h = c.top + window.pageYOffset + l.clientHeight / 2 - this.nodes.wrapper.offsetHeight / 2;\n          this.applyPlacement(\"right\", u, h);\n        }\n        applyPlacement(l, a, c) {\n          this.nodes.wrapper.classList.add(this.CSS.placement[l]), this.nodes.wrapper.style.left = a + \"px\", this.nodes.wrapper.style.top = c + \"px\";\n        }\n        make(l, a = null, c = {}) {\n          const u = document.createElement(l);\n          Array.isArray(a) ? u.classList.add(...a) : a && u.classList.add(a);\n          for (const h in c)\n            c.hasOwnProperty(h) && (u[h] = c[h]);\n          return u;\n        }\n        append(l, a) {\n          Array.isArray(a) ? a.forEach((c) => l.appendChild(c)) : l.appendChild(a);\n        }\n        prepend(l, a) {\n          Array.isArray(a) ? (a = a.reverse()).forEach((c) => l.prepend(c)) : l.prepend(a);\n        }\n      }\n    }, function(t, o) {\n      t.exports = `.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:\"\";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url(\"\")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\"><path d=\"M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z\"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:\"\";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`;\n    }]).default;\n  });\n})($t);\nvar Qo = $t.exports;\nconst ei = /* @__PURE__ */ Re(Qo);\nlet U = null;\nfunction tt() {\n  U || (U = new ei());\n}\nfunction ti(n, e, t) {\n  tt(), U == null || U.show(n, e, t);\n}\nfunction _e(n = !1) {\n  tt(), U == null || U.hide(n);\n}\nfunction Ne(n, e, t) {\n  tt(), U == null || U.onHover(n, e, t);\n}\nfunction oi() {\n  U == null || U.destroy(), U = null;\n}\nconst ii = \"__\", si = \"--\";\nfunction te(n) {\n  return (e, t) => [[n, e].filter((i) => !!i).join(ii), t].filter((i) => !!i).join(si);\n}\nconst me = te(\"ce-hint\"), be = {\n  root: me(),\n  alignedStart: me(null, \"align-left\"),\n  alignedCenter: me(null, \"align-center\"),\n  title: me(\"title\"),\n  description: me(\"description\")\n};\nclass ni {\n  /**\n   * Constructs the hint content instance\n   *\n   * @param params - hint content parameters\n   */\n  constructor(e) {\n    this.nodes = {\n      root: d.make(\"div\", [be.root, e.alignment === \"center\" ? be.alignedCenter : be.alignedStart]),\n      title: d.make(\"div\", be.title, { textContent: e.title })\n    }, this.nodes.root.appendChild(this.nodes.title), e.description !== void 0 && (this.nodes.description = d.make(\"div\", be.description, { textContent: e.description }), this.nodes.root.appendChild(this.nodes.description));\n  }\n  /**\n   * Returns the root element of the hint content\n   */\n  getElement() {\n    return this.nodes.root;\n  }\n}\nclass ot {\n  /**\n   * Constructs the instance\n   *\n   * @param params - instance parameters\n   */\n  constructor(e) {\n    this.params = e;\n  }\n  /**\n   * Item name if exists\n   */\n  get name() {\n    if (this.params !== void 0 && \"name\" in this.params)\n      return this.params.name;\n  }\n  /**\n   * Destroys the instance\n   */\n  destroy() {\n    _e();\n  }\n  /**\n   * Called when children popover is opened (if exists)\n   */\n  onChildrenOpen() {\n    var e;\n    this.params !== void 0 && \"children\" in this.params && typeof ((e = this.params.children) == null ? void 0 : e.onOpen) == \"function\" && this.params.children.onOpen();\n  }\n  /**\n   * Called when children popover is closed (if exists)\n   */\n  onChildrenClose() {\n    var e;\n    this.params !== void 0 && \"children\" in this.params && typeof ((e = this.params.children) == null ? void 0 : e.onClose) == \"function\" && this.params.children.onClose();\n  }\n  /**\n   * Called on popover item click\n   */\n  handleClick() {\n    var e, t;\n    this.params !== void 0 && \"onActivate\" in this.params && ((t = (e = this.params).onActivate) == null || t.call(e, this.params));\n  }\n  /**\n   * Adds hint to the item element if hint data is provided\n   *\n   * @param itemElement - popover item root element to add hint to\n   * @param hintData - hint data\n   */\n  addHint(e, t) {\n    const o = new ni(t);\n    Ne(e, o.getElement(), {\n      placement: t.position,\n      hidingDelay: 100\n    });\n  }\n  /**\n   * Returns item children that are represented as popover items\n   */\n  get children() {\n    var e;\n    return this.params !== void 0 && \"children\" in this.params && ((e = this.params.children) == null ? void 0 : e.items) !== void 0 ? this.params.children.items : [];\n  }\n  /**\n   * Returns true if item has any type of children\n   */\n  get hasChildren() {\n    return this.children.length > 0;\n  }\n  /**\n   * Returns true if item children should be open instantly after popover is opened and not on item click/hover\n   */\n  get isChildrenOpen() {\n    var e;\n    return this.params !== void 0 && \"children\" in this.params && ((e = this.params.children) == null ? void 0 : e.isOpen) === !0;\n  }\n  /**\n   * True if item children items should be navigatable via keyboard\n   */\n  get isChildrenFlippable() {\n    var e;\n    return !(this.params === void 0 || !(\"children\" in this.params) || ((e = this.params.children) == null ? void 0 : e.isFlippable) === !1);\n  }\n  /**\n   * Returns true if item has children that should be searchable\n   */\n  get isChildrenSearchable() {\n    var e;\n    return this.params !== void 0 && \"children\" in this.params && ((e = this.params.children) == null ? void 0 : e.searchable) === !0;\n  }\n  /**\n   * True if popover should close once item is activated\n   */\n  get closeOnActivate() {\n    return this.params !== void 0 && \"closeOnActivate\" in this.params && this.params.closeOnActivate;\n  }\n  /**\n   * True if item is active\n   */\n  get isActive() {\n    return this.params === void 0 || !(\"isActive\" in this.params) ? !1 : typeof this.params.isActive == \"function\" ? this.params.isActive() : this.params.isActive === !0;\n  }\n}\nconst W = te(\"ce-popover-item\"), L = {\n  container: W(),\n  active: W(null, \"active\"),\n  disabled: W(null, \"disabled\"),\n  focused: W(null, \"focused\"),\n  hidden: W(null, \"hidden\"),\n  confirmationState: W(null, \"confirmation\"),\n  noHover: W(null, \"no-hover\"),\n  noFocus: W(null, \"no-focus\"),\n  title: W(\"title\"),\n  secondaryTitle: W(\"secondary-title\"),\n  icon: W(\"icon\"),\n  iconTool: W(\"icon\", \"tool\"),\n  iconChevronRight: W(\"icon\", \"chevron-right\"),\n  wobbleAnimation: te(\"wobble\")()\n};\nclass se extends ot {\n  /**\n   * Constructs popover item instance\n   *\n   * @param params - popover item construction params\n   * @param renderParams - popover item render params.\n   * The parameters that are not set by user via popover api but rather depend on technical implementation\n   */\n  constructor(e, t) {\n    super(e), this.params = e, this.nodes = {\n      root: null,\n      icon: null\n    }, this.confirmationState = null, this.removeSpecialFocusBehavior = () => {\n      var o;\n      (o = this.nodes.root) == null || o.classList.remove(L.noFocus);\n    }, this.removeSpecialHoverBehavior = () => {\n      var o;\n      (o = this.nodes.root) == null || o.classList.remove(L.noHover);\n    }, this.onErrorAnimationEnd = () => {\n      var o, i;\n      (o = this.nodes.icon) == null || o.classList.remove(L.wobbleAnimation), (i = this.nodes.icon) == null || i.removeEventListener(\"animationend\", this.onErrorAnimationEnd);\n    }, this.nodes.root = this.make(e, t);\n  }\n  /**\n   * True if item is disabled and hence not clickable\n   */\n  get isDisabled() {\n    return this.params.isDisabled === !0;\n  }\n  /**\n   * Exposes popover item toggle parameter\n   */\n  get toggle() {\n    return this.params.toggle;\n  }\n  /**\n   * Item title\n   */\n  get title() {\n    return this.params.title;\n  }\n  /**\n   * True if confirmation state is enabled for popover item\n   */\n  get isConfirmationStateEnabled() {\n    return this.confirmationState !== null;\n  }\n  /**\n   * True if item is focused in keyboard navigation process\n   */\n  get isFocused() {\n    return this.nodes.root === null ? !1 : this.nodes.root.classList.contains(L.focused);\n  }\n  /**\n   * Returns popover item root element\n   */\n  getElement() {\n    return this.nodes.root;\n  }\n  /**\n   * Called on popover item click\n   */\n  handleClick() {\n    if (this.isConfirmationStateEnabled && this.confirmationState !== null) {\n      this.activateOrEnableConfirmationMode(this.confirmationState);\n      return;\n    }\n    this.activateOrEnableConfirmationMode(this.params);\n  }\n  /**\n   * Toggles item active state\n   *\n   * @param isActive - true if item should strictly should become active\n   */\n  toggleActive(e) {\n    var t;\n    (t = this.nodes.root) == null || t.classList.toggle(L.active, e);\n  }\n  /**\n   * Toggles item hidden state\n   *\n   * @param isHidden - true if item should be hidden\n   */\n  toggleHidden(e) {\n    var t;\n    (t = this.nodes.root) == null || t.classList.toggle(L.hidden, e);\n  }\n  /**\n   * Resets popover item to its original state\n   */\n  reset() {\n    this.isConfirmationStateEnabled && this.disableConfirmationMode();\n  }\n  /**\n   * Method called once item becomes focused during keyboard navigation\n   */\n  onFocus() {\n    this.disableSpecialHoverAndFocusBehavior();\n  }\n  /**\n   * Constructs HTML element corresponding to popover item params\n   *\n   * @param params - item construction params\n   * @param renderParams - popover item render params\n   */\n  make(e, t) {\n    var s, r;\n    const o = (t == null ? void 0 : t.wrapperTag) || \"div\", i = d.make(o, L.container, {\n      type: o === \"button\" ? \"button\" : void 0\n    });\n    return e.name && (i.dataset.itemName = e.name), this.nodes.icon = d.make(\"div\", [L.icon, L.iconTool], {\n      innerHTML: e.icon || Ko\n    }), i.appendChild(this.nodes.icon), e.title !== void 0 && i.appendChild(d.make(\"div\", L.title, {\n      innerHTML: e.title || \"\"\n    })), e.secondaryLabel && i.appendChild(d.make(\"div\", L.secondaryTitle, {\n      textContent: e.secondaryLabel\n    })), this.hasChildren && i.appendChild(d.make(\"div\", [L.icon, L.iconChevronRight], {\n      innerHTML: $o\n    })), this.isActive && i.classList.add(L.active), e.isDisabled && i.classList.add(L.disabled), e.hint !== void 0 && ((s = t == null ? void 0 : t.hint) == null ? void 0 : s.enabled) !== !1 && this.addHint(i, {\n      ...e.hint,\n      position: ((r = t == null ? void 0 : t.hint) == null ? void 0 : r.position) || \"right\"\n    }), i;\n  }\n  /**\n   * Activates confirmation mode for the item.\n   *\n   * @param newState - new popover item params that should be applied\n   */\n  enableConfirmationMode(e) {\n    if (this.nodes.root === null)\n      return;\n    const t = {\n      ...this.params,\n      ...e,\n      confirmation: \"confirmation\" in e ? e.confirmation : void 0\n    }, o = this.make(t);\n    this.nodes.root.innerHTML = o.innerHTML, this.nodes.root.classList.add(L.confirmationState), this.confirmationState = e, this.enableSpecialHoverAndFocusBehavior();\n  }\n  /**\n   * Returns item to its original state\n   */\n  disableConfirmationMode() {\n    if (this.nodes.root === null)\n      return;\n    const e = this.make(this.params);\n    this.nodes.root.innerHTML = e.innerHTML, this.nodes.root.classList.remove(L.confirmationState), this.confirmationState = null, this.disableSpecialHoverAndFocusBehavior();\n  }\n  /**\n   * Enables special focus and hover behavior for item in confirmation state.\n   * This is needed to prevent item from being highlighted as hovered/focused just after click.\n   */\n  enableSpecialHoverAndFocusBehavior() {\n    var e, t, o;\n    (e = this.nodes.root) == null || e.classList.add(L.noHover), (t = this.nodes.root) == null || t.classList.add(L.noFocus), (o = this.nodes.root) == null || o.addEventListener(\"mouseleave\", this.removeSpecialHoverBehavior, { once: !0 });\n  }\n  /**\n   * Disables special focus and hover behavior\n   */\n  disableSpecialHoverAndFocusBehavior() {\n    var e;\n    this.removeSpecialFocusBehavior(), this.removeSpecialHoverBehavior(), (e = this.nodes.root) == null || e.removeEventListener(\"mouseleave\", this.removeSpecialHoverBehavior);\n  }\n  /**\n   * Executes item's onActivate callback if the item has no confirmation configured\n   *\n   * @param item - item to activate or bring to confirmation mode\n   */\n  activateOrEnableConfirmationMode(e) {\n    var t;\n    if (!(\"confirmation\" in e) || e.confirmation === void 0)\n      try {\n        (t = e.onActivate) == null || t.call(e, e), this.disableConfirmationMode();\n      } catch {\n        this.animateError();\n      }\n    else\n      this.enableConfirmationMode(e.confirmation);\n  }\n  /**\n   * Animates item which symbolizes that error occured while executing 'onActivate()' callback\n   */\n  animateError() {\n    var e, t, o;\n    (e = this.nodes.icon) != null && e.classList.contains(L.wobbleAnimation) || ((t = this.nodes.icon) == null || t.classList.add(L.wobbleAnimation), (o = this.nodes.icon) == null || o.addEventListener(\"animationend\", this.onErrorAnimationEnd));\n  }\n}\nconst Ue = te(\"ce-popover-item-separator\"), je = {\n  container: Ue(),\n  line: Ue(\"line\"),\n  hidden: Ue(null, \"hidden\")\n};\nclass Yt extends ot {\n  /**\n   * Constructs the instance\n   */\n  constructor() {\n    super(), this.nodes = {\n      root: d.make(\"div\", je.container),\n      line: d.make(\"div\", je.line)\n    }, this.nodes.root.appendChild(this.nodes.line);\n  }\n  /**\n   * Returns popover separator root element\n   */\n  getElement() {\n    return this.nodes.root;\n  }\n  /**\n   * Toggles item hidden state\n   *\n   * @param isHidden - true if item should be hidden\n   */\n  toggleHidden(e) {\n    var t;\n    (t = this.nodes.root) == null || t.classList.toggle(je.hidden, e);\n  }\n}\nvar O = /* @__PURE__ */ ((n) => (n.Default = \"default\", n.Separator = \"separator\", n.Html = \"html\", n))(O || {}), Z = /* @__PURE__ */ ((n) => (n.Closed = \"closed\", n.ClosedOnActivate = \"closed-on-activate\", n))(Z || {});\nconst H = te(\"ce-popover\"), N = {\n  popover: H(),\n  popoverContainer: H(\"container\"),\n  popoverOpenTop: H(null, \"open-top\"),\n  popoverOpenLeft: H(null, \"open-left\"),\n  popoverOpened: H(null, \"opened\"),\n  search: H(\"search\"),\n  nothingFoundMessage: H(\"nothing-found-message\"),\n  nothingFoundMessageDisplayed: H(\"nothing-found-message\", \"displayed\"),\n  items: H(\"items\"),\n  overlay: H(\"overlay\"),\n  overlayHidden: H(\"overlay\", \"hidden\"),\n  popoverNested: H(null, \"nested\"),\n  getPopoverNestedClass: (n) => H(null, `nested-level-${n.toString()}`),\n  popoverInline: H(null, \"inline\"),\n  popoverHeader: H(\"header\")\n};\nvar ce = /* @__PURE__ */ ((n) => (n.NestingLevel = \"--nesting-level\", n.PopoverHeight = \"--popover-height\", n.InlinePopoverWidth = \"--inline-popover-width\", n.TriggerItemLeft = \"--trigger-item-left\", n.TriggerItemTop = \"--trigger-item-top\", n))(ce || {});\nconst yt = te(\"ce-popover-item-html\"), Et = {\n  root: yt(),\n  hidden: yt(null, \"hidden\")\n};\nclass ye extends ot {\n  /**\n   * Constructs the instance\n   *\n   * @param params  instance parameters\n   * @param renderParams  popover item render params.\n   * The parameters that are not set by user via popover api but rather depend on technical implementation\n   */\n  constructor(e, t) {\n    var o, i;\n    super(e), this.nodes = {\n      root: d.make(\"div\", Et.root)\n    }, this.nodes.root.appendChild(e.element), e.name && (this.nodes.root.dataset.itemName = e.name), e.hint !== void 0 && ((o = t == null ? void 0 : t.hint) == null ? void 0 : o.enabled) !== !1 && this.addHint(this.nodes.root, {\n      ...e.hint,\n      position: ((i = t == null ? void 0 : t.hint) == null ? void 0 : i.position) || \"right\"\n    });\n  }\n  /**\n   * Returns popover item root element\n   */\n  getElement() {\n    return this.nodes.root;\n  }\n  /**\n   * Toggles item hidden state\n   *\n   * @param isHidden - true if item should be hidden\n   */\n  toggleHidden(e) {\n    var t;\n    (t = this.nodes.root) == null || t.classList.toggle(Et.hidden, e);\n  }\n  /**\n   * Returns list of buttons and inputs inside custom content\n   */\n  getControls() {\n    const e = this.nodes.root.querySelectorAll(\n      `button, ${d.allInputsSelector}`\n    );\n    return Array.from(e);\n  }\n}\nclass Wt extends Be {\n  /**\n   * Constructs the instance\n   *\n   * @param params - popover construction params\n   * @param itemsRenderParams - popover item render params.\n   * The parameters that are not set by user via popover api but rather depend on technical implementation\n   */\n  constructor(e, t = {}) {\n    super(), this.params = e, this.itemsRenderParams = t, this.listeners = new Te(), this.messages = {\n      nothingFound: \"Nothing found\",\n      search: \"Search\"\n    }, this.items = this.buildItems(e.items), e.messages && (this.messages = {\n      ...this.messages,\n      ...e.messages\n    }), this.nodes = {}, this.nodes.popoverContainer = d.make(\"div\", [N.popoverContainer]), this.nodes.nothingFoundMessage = d.make(\"div\", [N.nothingFoundMessage], {\n      textContent: this.messages.nothingFound\n    }), this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage), this.nodes.items = d.make(\"div\", [N.items]), this.items.forEach((o) => {\n      const i = o.getElement();\n      i !== null && this.nodes.items.appendChild(i);\n    }), this.nodes.popoverContainer.appendChild(this.nodes.items), this.listeners.on(this.nodes.popoverContainer, \"click\", (o) => this.handleClick(o)), this.nodes.popover = d.make(\"div\", [\n      N.popover,\n      this.params.class\n    ]), this.nodes.popover.appendChild(this.nodes.popoverContainer);\n  }\n  /**\n   * List of default popover items that are searchable and may have confirmation state\n   */\n  get itemsDefault() {\n    return this.items.filter((e) => e instanceof se);\n  }\n  /**\n   * Returns HTML element corresponding to the popover\n   */\n  getElement() {\n    return this.nodes.popover;\n  }\n  /**\n   * Open popover\n   */\n  show() {\n    this.nodes.popover.classList.add(N.popoverOpened), this.search !== void 0 && this.search.focus();\n  }\n  /**\n   * Closes popover\n   */\n  hide() {\n    this.nodes.popover.classList.remove(N.popoverOpened), this.nodes.popover.classList.remove(N.popoverOpenTop), this.itemsDefault.forEach((e) => e.reset()), this.search !== void 0 && this.search.clear(), this.emit(Z.Closed);\n  }\n  /**\n   * Clears memory\n   */\n  destroy() {\n    var e;\n    this.items.forEach((t) => t.destroy()), this.nodes.popover.remove(), this.listeners.removeAll(), (e = this.search) == null || e.destroy();\n  }\n  /**\n   * Looks for the item by name and imitates click on it\n   *\n   * @param name - name of the item to activate\n   */\n  activateItemByName(e) {\n    const t = this.items.find((o) => o.name === e);\n    this.handleItemClick(t);\n  }\n  /**\n   * Factory method for creating popover items\n   *\n   * @param items - list of items params\n   */\n  buildItems(e) {\n    return e.map((t) => {\n      switch (t.type) {\n        case O.Separator:\n          return new Yt();\n        case O.Html:\n          return new ye(t, this.itemsRenderParams[O.Html]);\n        default:\n          return new se(t, this.itemsRenderParams[O.Default]);\n      }\n    });\n  }\n  /**\n   * Retrieves popover item that is the target of the specified event\n   *\n   * @param event - event to retrieve popover item from\n   */\n  getTargetItem(e) {\n    return this.items.filter((t) => t instanceof se || t instanceof ye).find((t) => {\n      const o = t.getElement();\n      return o === null ? !1 : e.composedPath().includes(o);\n    });\n  }\n  /**\n   * Handles popover item click\n   *\n   * @param item - item to handle click of\n   */\n  handleItemClick(e) {\n    if (!(\"isDisabled\" in e && e.isDisabled)) {\n      if (e.hasChildren) {\n        this.showNestedItems(e), \"handleClick\" in e && typeof e.handleClick == \"function\" && e.handleClick();\n        return;\n      }\n      this.itemsDefault.filter((t) => t !== e).forEach((t) => t.reset()), \"handleClick\" in e && typeof e.handleClick == \"function\" && e.handleClick(), this.toggleItemActivenessIfNeeded(e), e.closeOnActivate && (this.hide(), this.emit(Z.ClosedOnActivate));\n    }\n  }\n  /**\n   * Handles clicks inside popover\n   *\n   * @param event - item to handle click of\n   */\n  handleClick(e) {\n    const t = this.getTargetItem(e);\n    t !== void 0 && this.handleItemClick(t);\n  }\n  /**\n   * - Toggles item active state, if clicked popover item has property 'toggle' set to true.\n   *\n   * - Performs radiobutton-like behavior if the item has property 'toggle' set to string key.\n   * (All the other items with the same key get inactive, and the item gets active)\n   *\n   * @param clickedItem - popover item that was clicked\n   */\n  toggleItemActivenessIfNeeded(e) {\n    if (e instanceof se && (e.toggle === !0 && e.toggleActive(), typeof e.toggle == \"string\")) {\n      const t = this.itemsDefault.filter((o) => o.toggle === e.toggle);\n      if (t.length === 1) {\n        e.toggleActive();\n        return;\n      }\n      t.forEach((o) => {\n        o.toggleActive(o === e);\n      });\n    }\n  }\n}\nvar Pe = /* @__PURE__ */ ((n) => (n.Search = \"search\", n))(Pe || {});\nconst $e = te(\"cdx-search-field\"), Ye = {\n  wrapper: $e(),\n  icon: $e(\"icon\"),\n  input: $e(\"input\")\n};\nclass ri extends Be {\n  /**\n   * @param options - available config\n   * @param options.items - searchable items list\n   * @param options.placeholder - input placeholder\n   */\n  constructor({ items: e, placeholder: t }) {\n    super(), this.listeners = new Te(), this.items = e, this.wrapper = d.make(\"div\", Ye.wrapper);\n    const o = d.make(\"div\", Ye.icon, {\n      innerHTML: Zo\n    });\n    this.input = d.make(\"input\", Ye.input, {\n      placeholder: t,\n      /**\n       * Used to prevent focusing on the input by Tab key\n       * (Popover in the Toolbar lays below the blocks,\n       * so Tab in the last block will focus this hidden input if this property is not set)\n       */\n      tabIndex: -1\n    }), this.wrapper.appendChild(o), this.wrapper.appendChild(this.input), this.listeners.on(this.input, \"input\", () => {\n      this.searchQuery = this.input.value, this.emit(Pe.Search, {\n        query: this.searchQuery,\n        items: this.foundItems\n      });\n    });\n  }\n  /**\n   * Returns search field element\n   */\n  getElement() {\n    return this.wrapper;\n  }\n  /**\n   * Sets focus to the input\n   */\n  focus() {\n    this.input.focus();\n  }\n  /**\n   * Clears search query and results\n   */\n  clear() {\n    this.input.value = \"\", this.searchQuery = \"\", this.emit(Pe.Search, {\n      query: \"\",\n      items: this.foundItems\n    });\n  }\n  /**\n   * Clears memory\n   */\n  destroy() {\n    this.listeners.removeAll();\n  }\n  /**\n   * Returns list of found items for the current search query\n   */\n  get foundItems() {\n    return this.items.filter((e) => this.checkItem(e));\n  }\n  /**\n   * Contains logic for checking whether passed item conforms the search query\n   *\n   * @param item - item to be checked\n   */\n  checkItem(e) {\n    var i, s;\n    const t = ((i = e.title) == null ? void 0 : i.toLowerCase()) || \"\", o = (s = this.searchQuery) == null ? void 0 : s.toLowerCase();\n    return o !== void 0 ? t.includes(o) : !1;\n  }\n}\nvar li = Object.defineProperty, ai = Object.getOwnPropertyDescriptor, ci = (n, e, t, o) => {\n  for (var i = o > 1 ? void 0 : o ? ai(e, t) : e, s = n.length - 1, r; s >= 0; s--)\n    (r = n[s]) && (i = (o ? r(e, t, i) : r(i)) || i);\n  return o && i && li(e, t, i), i;\n};\nconst Kt = class Xt extends Wt {\n  /**\n   * Construct the instance\n   *\n   * @param params - popover params\n   * @param itemsRenderParams popover item render params.\n   * The parameters that are not set by user via popover api but rather depend on technical implementation\n   */\n  constructor(e, t) {\n    super(e, t), this.nestingLevel = 0, this.nestedPopoverTriggerItem = null, this.previouslyHoveredItem = null, this.scopeElement = document.body, this.hide = () => {\n      var o;\n      super.hide(), this.destroyNestedPopoverIfExists(), (o = this.flipper) == null || o.deactivate(), this.previouslyHoveredItem = null;\n    }, this.onFlip = () => {\n      const o = this.itemsDefault.find((i) => i.isFocused);\n      o == null || o.onFocus();\n    }, this.onSearch = (o) => {\n      var l;\n      const i = o.query === \"\", s = o.items.length === 0;\n      this.items.forEach((a) => {\n        let c = !1;\n        a instanceof se ? c = !o.items.includes(a) : (a instanceof Yt || a instanceof ye) && (c = s || !i), a.toggleHidden(c);\n      }), this.toggleNothingFoundMessage(s);\n      const r = o.query === \"\" ? this.flippableElements : o.items.map((a) => a.getElement());\n      (l = this.flipper) != null && l.isActivated && (this.flipper.deactivate(), this.flipper.activate(r));\n    }, e.nestingLevel !== void 0 && (this.nestingLevel = e.nestingLevel), this.nestingLevel > 0 && this.nodes.popover.classList.add(N.popoverNested), e.scopeElement !== void 0 && (this.scopeElement = e.scopeElement), this.nodes.popoverContainer !== null && this.listeners.on(this.nodes.popoverContainer, \"mouseover\", (o) => this.handleHover(o)), e.searchable && this.addSearch(), e.flippable !== !1 && (this.flipper = new re({\n      items: this.flippableElements,\n      focusedItemClass: L.focused,\n      allowedKeys: [\n        w.TAB,\n        w.UP,\n        w.DOWN,\n        w.ENTER\n      ]\n    }), this.flipper.onFlip(this.onFlip));\n  }\n  /**\n   * Returns true if some item inside popover is focused\n   */\n  hasFocus() {\n    return this.flipper === void 0 ? !1 : this.flipper.hasFocus();\n  }\n  /**\n   * Scroll position inside items container of the popover\n   */\n  get scrollTop() {\n    return this.nodes.items === null ? 0 : this.nodes.items.scrollTop;\n  }\n  /**\n   * Returns visible element offset top\n   */\n  get offsetTop() {\n    return this.nodes.popoverContainer === null ? 0 : this.nodes.popoverContainer.offsetTop;\n  }\n  /**\n   * Open popover\n   */\n  show() {\n    var e;\n    this.nodes.popover.style.setProperty(ce.PopoverHeight, this.size.height + \"px\"), this.shouldOpenBottom || this.nodes.popover.classList.add(N.popoverOpenTop), this.shouldOpenRight || this.nodes.popover.classList.add(N.popoverOpenLeft), super.show(), (e = this.flipper) == null || e.activate(this.flippableElements);\n  }\n  /**\n   * Clears memory\n   */\n  destroy() {\n    this.hide(), super.destroy();\n  }\n  /**\n   * Handles displaying nested items for the item.\n   *\n   * @param item  item to show nested popover for\n   */\n  showNestedItems(e) {\n    this.nestedPopover !== null && this.nestedPopover !== void 0 || (this.nestedPopoverTriggerItem = e, this.showNestedPopoverForItem(e));\n  }\n  /**\n   * Handles hover events inside popover items container\n   *\n   * @param event - hover event data\n   */\n  handleHover(e) {\n    const t = this.getTargetItem(e);\n    t !== void 0 && this.previouslyHoveredItem !== t && (this.destroyNestedPopoverIfExists(), this.previouslyHoveredItem = t, t.hasChildren && this.showNestedPopoverForItem(t));\n  }\n  /**\n   * Sets CSS variable with position of item near which nested popover should be displayed.\n   * Is used for correct positioning of the nested popover\n   *\n   * @param nestedPopoverEl - nested popover element\n   * @param item  item near which nested popover should be displayed\n   */\n  setTriggerItemPosition(e, t) {\n    const o = t.getElement(), i = (o ? o.offsetTop : 0) - this.scrollTop, s = this.offsetTop + i;\n    e.style.setProperty(ce.TriggerItemTop, s + \"px\");\n  }\n  /**\n   * Destroys existing nested popover\n   */\n  destroyNestedPopoverIfExists() {\n    var e, t;\n    this.nestedPopover === void 0 || this.nestedPopover === null || (this.nestedPopover.off(Z.ClosedOnActivate, this.hide), this.nestedPopover.hide(), this.nestedPopover.destroy(), this.nestedPopover.getElement().remove(), this.nestedPopover = null, (e = this.flipper) == null || e.activate(this.flippableElements), (t = this.nestedPopoverTriggerItem) == null || t.onChildrenClose());\n  }\n  /**\n   * Creates and displays nested popover for specified item.\n   * Is used only on desktop\n   *\n   * @param item - item to display nested popover by\n   */\n  showNestedPopoverForItem(e) {\n    var o;\n    this.nestedPopover = new Xt({\n      searchable: e.isChildrenSearchable,\n      items: e.children,\n      nestingLevel: this.nestingLevel + 1,\n      flippable: e.isChildrenFlippable\n    }), e.onChildrenOpen(), this.nestedPopover.on(Z.ClosedOnActivate, this.hide);\n    const t = this.nestedPopover.getElement();\n    return this.nodes.popover.appendChild(t), this.setTriggerItemPosition(t, e), t.style.setProperty(ce.NestingLevel, this.nestedPopover.nestingLevel.toString()), this.nestedPopover.show(), (o = this.flipper) == null || o.deactivate(), this.nestedPopover;\n  }\n  /**\n   * Checks if popover should be opened bottom.\n   * It should happen when there is enough space below or not enough space above\n   */\n  get shouldOpenBottom() {\n    if (this.nodes.popover === void 0 || this.nodes.popover === null)\n      return !1;\n    const e = this.nodes.popoverContainer.getBoundingClientRect(), t = this.scopeElement.getBoundingClientRect(), o = this.size.height, i = e.top + o, s = e.top - o, r = Math.min(window.innerHeight, t.bottom);\n    return s < t.top || i <= r;\n  }\n  /**\n   * Checks if popover should be opened left.\n   * It should happen when there is enough space in the right or not enough space in the left\n   */\n  get shouldOpenRight() {\n    if (this.nodes.popover === void 0 || this.nodes.popover === null)\n      return !1;\n    const e = this.nodes.popover.getBoundingClientRect(), t = this.scopeElement.getBoundingClientRect(), o = this.size.width, i = e.right + o, s = e.left - o, r = Math.min(window.innerWidth, t.right);\n    return s < t.left || i <= r;\n  }\n  get size() {\n    var i;\n    const e = {\n      height: 0,\n      width: 0\n    };\n    if (this.nodes.popover === null)\n      return e;\n    const t = this.nodes.popover.cloneNode(!0);\n    t.style.visibility = \"hidden\", t.style.position = \"absolute\", t.style.top = \"-1000px\", t.classList.add(N.popoverOpened), (i = t.querySelector(\".\" + N.popoverNested)) == null || i.remove(), document.body.appendChild(t);\n    const o = t.querySelector(\".\" + N.popoverContainer);\n    return e.height = o.offsetHeight, e.width = o.offsetWidth, t.remove(), e;\n  }\n  /**\n   * Returns list of elements available for keyboard navigation.\n   */\n  get flippableElements() {\n    return this.items.map((t) => {\n      if (t instanceof se)\n        return t.getElement();\n      if (t instanceof ye)\n        return t.getControls();\n    }).flat().filter((t) => t != null);\n  }\n  /**\n   * Adds search to the popover\n   */\n  addSearch() {\n    this.search = new ri({\n      items: this.itemsDefault,\n      placeholder: this.messages.search\n    }), this.search.on(Pe.Search, this.onSearch);\n    const e = this.search.getElement();\n    e.classList.add(N.search), this.nodes.popoverContainer.insertBefore(e, this.nodes.popoverContainer.firstChild);\n  }\n  /**\n   * Toggles nothing found message visibility\n   *\n   * @param isDisplayed - true if the message should be displayed\n   */\n  toggleNothingFoundMessage(e) {\n    this.nodes.nothingFoundMessage.classList.toggle(N.nothingFoundMessageDisplayed, e);\n  }\n};\nci([\n  he\n], Kt.prototype, \"size\", 1);\nlet it = Kt;\nclass di extends it {\n  /**\n   * Constructs the instance\n   *\n   * @param params - instance parameters\n   */\n  constructor(e) {\n    const t = !ue();\n    super(\n      {\n        ...e,\n        class: N.popoverInline\n      },\n      {\n        [O.Default]: {\n          /**\n           * We use button instead of div here to fix bug associated with focus loss (which leads to selection change) on click in safari\n           *\n           * @todo figure out better way to solve the issue\n           */\n          wrapperTag: \"button\",\n          hint: {\n            position: \"top\",\n            alignment: \"center\",\n            enabled: t\n          }\n        },\n        [O.Html]: {\n          hint: {\n            position: \"top\",\n            alignment: \"center\",\n            enabled: t\n          }\n        }\n      }\n    ), this.items.forEach((o) => {\n      !(o instanceof se) && !(o instanceof ye) || o.hasChildren && o.isChildrenOpen && this.showNestedItems(o);\n    });\n  }\n  /**\n   * Returns visible element offset top\n   */\n  get offsetLeft() {\n    return this.nodes.popoverContainer === null ? 0 : this.nodes.popoverContainer.offsetLeft;\n  }\n  /**\n   * Open popover\n   */\n  show() {\n    this.nestingLevel === 0 && this.nodes.popover.style.setProperty(\n      ce.InlinePopoverWidth,\n      this.size.width + \"px\"\n    ), super.show();\n  }\n  /**\n   * Disable hover event handling.\n   * Overrides parent's class behavior\n   */\n  handleHover() {\n  }\n  /**\n   * Sets CSS variable with position of item near which nested popover should be displayed.\n   * Is used to position nested popover right below clicked item\n   *\n   * @param nestedPopoverEl - nested popover element\n   * @param item  item near which nested popover should be displayed\n   */\n  setTriggerItemPosition(e, t) {\n    const o = t.getElement(), i = o ? o.offsetLeft : 0, s = this.offsetLeft + i;\n    e.style.setProperty(\n      ce.TriggerItemLeft,\n      s + \"px\"\n    );\n  }\n  /**\n   * Handles displaying nested items for the item.\n   * Overriding in order to add toggling behaviour\n   *\n   * @param item  item to toggle nested popover for\n   */\n  showNestedItems(e) {\n    if (this.nestedPopoverTriggerItem === e) {\n      this.destroyNestedPopoverIfExists(), this.nestedPopoverTriggerItem = null;\n      return;\n    }\n    super.showNestedItems(e);\n  }\n  /**\n   * Creates and displays nested popover for specified item.\n   * Is used only on desktop\n   *\n   * @param item - item to display nested popover by\n   */\n  showNestedPopoverForItem(e) {\n    const t = super.showNestedPopoverForItem(e);\n    return t.getElement().classList.add(N.getPopoverNestedClass(t.nestingLevel)), t;\n  }\n  /**\n   * Overrides default item click handling.\n   * Helps to close nested popover once other item is clicked.\n   *\n   * @param item - clicked item\n   */\n  handleItemClick(e) {\n    var t;\n    e !== this.nestedPopoverTriggerItem && ((t = this.nestedPopoverTriggerItem) == null || t.handleClick(), super.destroyNestedPopoverIfExists()), super.handleItemClick(e);\n  }\n}\nconst Vt = class ve {\n  constructor() {\n    this.scrollPosition = null;\n  }\n  /**\n   * Locks body element scroll\n   */\n  lock() {\n    Ge ? this.lockHard() : document.body.classList.add(ve.CSS.scrollLocked);\n  }\n  /**\n   * Unlocks body element scroll\n   */\n  unlock() {\n    Ge ? this.unlockHard() : document.body.classList.remove(ve.CSS.scrollLocked);\n  }\n  /**\n   * Locks scroll in a hard way (via setting fixed position to body element)\n   */\n  lockHard() {\n    this.scrollPosition = window.pageYOffset, document.documentElement.style.setProperty(\n      \"--window-scroll-offset\",\n      `${this.scrollPosition}px`\n    ), document.body.classList.add(ve.CSS.scrollLockedHard);\n  }\n  /**\n   * Unlocks hard scroll lock\n   */\n  unlockHard() {\n    document.body.classList.remove(ve.CSS.scrollLockedHard), this.scrollPosition !== null && window.scrollTo(0, this.scrollPosition), this.scrollPosition = null;\n  }\n};\nVt.CSS = {\n  scrollLocked: \"ce-scroll-locked\",\n  scrollLockedHard: \"ce-scroll-locked--hard\"\n};\nlet hi = Vt;\nconst We = te(\"ce-popover-header\"), Ke = {\n  root: We(),\n  text: We(\"text\"),\n  backButton: We(\"back-button\")\n};\nclass ui {\n  /**\n   * Constructs the instance\n   *\n   * @param params - popover header params\n   */\n  constructor({ text: e, onBackButtonClick: t }) {\n    this.listeners = new Te(), this.text = e, this.onBackButtonClick = t, this.nodes = {\n      root: d.make(\"div\", [Ke.root]),\n      backButton: d.make(\"button\", [Ke.backButton]),\n      text: d.make(\"div\", [Ke.text])\n    }, this.nodes.backButton.innerHTML = jo, this.nodes.root.appendChild(this.nodes.backButton), this.listeners.on(this.nodes.backButton, \"click\", this.onBackButtonClick), this.nodes.text.innerText = this.text, this.nodes.root.appendChild(this.nodes.text);\n  }\n  /**\n   * Returns popover header root html element\n   */\n  getElement() {\n    return this.nodes.root;\n  }\n  /**\n   * Destroys the instance\n   */\n  destroy() {\n    this.nodes.root.remove(), this.listeners.destroy();\n  }\n}\nclass pi {\n  constructor() {\n    this.history = [];\n  }\n  /**\n   * Push new popover state\n   *\n   * @param state - new state\n   */\n  push(e) {\n    this.history.push(e);\n  }\n  /**\n   * Pop last popover state\n   */\n  pop() {\n    return this.history.pop();\n  }\n  /**\n   * Title retrieved from the current state\n   */\n  get currentTitle() {\n    return this.history.length === 0 ? \"\" : this.history[this.history.length - 1].title;\n  }\n  /**\n   * Items list retrieved from the current state\n   */\n  get currentItems() {\n    return this.history.length === 0 ? [] : this.history[this.history.length - 1].items;\n  }\n  /**\n   * Returns history to initial popover state\n   */\n  reset() {\n    for (; this.history.length > 1; )\n      this.pop();\n  }\n}\nclass qt extends Wt {\n  /**\n   * Construct the instance\n   *\n   * @param params - popover params\n   */\n  constructor(e) {\n    super(e, {\n      [O.Default]: {\n        hint: {\n          enabled: !1\n        }\n      },\n      [O.Html]: {\n        hint: {\n          enabled: !1\n        }\n      }\n    }), this.scrollLocker = new hi(), this.history = new pi(), this.isHidden = !0, this.nodes.overlay = d.make(\"div\", [N.overlay, N.overlayHidden]), this.nodes.popover.insertBefore(this.nodes.overlay, this.nodes.popover.firstChild), this.listeners.on(this.nodes.overlay, \"click\", () => {\n      this.hide();\n    }), this.history.push({ items: e.items });\n  }\n  /**\n   * Open popover\n   */\n  show() {\n    this.nodes.overlay.classList.remove(N.overlayHidden), super.show(), this.scrollLocker.lock(), this.isHidden = !1;\n  }\n  /**\n   * Closes popover\n   */\n  hide() {\n    this.isHidden || (super.hide(), this.nodes.overlay.classList.add(N.overlayHidden), this.scrollLocker.unlock(), this.history.reset(), this.isHidden = !0);\n  }\n  /**\n   * Clears memory\n   */\n  destroy() {\n    super.destroy(), this.scrollLocker.unlock();\n  }\n  /**\n   * Handles displaying nested items for the item\n   *\n   * @param item item to show nested popover for\n   */\n  showNestedItems(e) {\n    this.updateItemsAndHeader(e.children, e.title), this.history.push({\n      title: e.title,\n      items: e.children\n    });\n  }\n  /**\n   * Removes rendered popover items and header and displays new ones\n   *\n   * @param items - new popover items\n   * @param title - new popover header text\n   */\n  updateItemsAndHeader(e, t) {\n    if (this.header !== null && this.header !== void 0 && (this.header.destroy(), this.header = null), t !== void 0) {\n      this.header = new ui({\n        text: t,\n        onBackButtonClick: () => {\n          this.history.pop(), this.updateItemsAndHeader(this.history.currentItems, this.history.currentTitle);\n        }\n      });\n      const o = this.header.getElement();\n      o !== null && this.nodes.popoverContainer.insertBefore(o, this.nodes.popoverContainer.firstChild);\n    }\n    this.items.forEach((o) => {\n      var i;\n      return (i = o.getElement()) == null ? void 0 : i.remove();\n    }), this.items = this.buildItems(e), this.items.forEach((o) => {\n      var s;\n      const i = o.getElement();\n      i !== null && ((s = this.nodes.items) == null || s.appendChild(i));\n    });\n  }\n}\nvar J = /* @__PURE__ */ ((n) => (n.APPEND_CALLBACK = \"appendCallback\", n.RENDERED = \"rendered\", n.MOVED = \"moved\", n.UPDATED = \"updated\", n.REMOVED = \"removed\", n.ON_PASTE = \"onPaste\", n))(J || {});\nclass D extends Be {\n  /**\n   * @param options - block constructor options\n   * @param [options.id] - block's id. Will be generated if omitted.\n   * @param options.data - Tool's initial data\n   * @param options.tool  block's tool\n   * @param options.api - Editor API module for pass it to the Block Tunes\n   * @param options.readOnly - Read-Only flag\n   * @param [eventBus] - Editor common event bus. Allows to subscribe on some Editor events. Could be omitted when \"virtual\" Block is created. See BlocksAPI@composeBlockData.\n   */\n  constructor({\n    id: e = Io(),\n    data: t,\n    tool: o,\n    readOnly: i,\n    tunesData: s\n  }, r) {\n    super(), this.cachedInputs = [], this.toolRenderedElement = null, this.tunesInstances = /* @__PURE__ */ new Map(), this.defaultTunesInstances = /* @__PURE__ */ new Map(), this.unavailableTunesData = {}, this.inputIndex = 0, this.editorEventBus = null, this.handleFocus = () => {\n      this.dropInputsCache(), this.updateCurrentInput();\n    }, this.didMutated = (l = void 0) => {\n      const a = l === void 0, c = l instanceof InputEvent;\n      !a && !c && this.detectToolRootChange(l);\n      let u;\n      a || c ? u = !0 : u = !(l.length > 0 && l.every((p) => {\n        const { addedNodes: g, removedNodes: f, target: k } = p;\n        return [\n          ...Array.from(g),\n          ...Array.from(f),\n          k\n        ].some((S) => (d.isElement(S) || (S = S.parentElement), S && S.closest('[data-mutation-free=\"true\"]') !== null));\n      })), u && (this.dropInputsCache(), this.updateCurrentInput(), this.toggleInputsEmptyMark(), this.call(\n        \"updated\"\n        /* UPDATED */\n      ), this.emit(\"didMutated\", this));\n    }, this.name = o.name, this.id = e, this.settings = o.settings, this.config = o.settings.config || {}, this.editorEventBus = r || null, this.blockAPI = new G(this), this.tool = o, this.toolInstance = o.create(t, this.blockAPI, i), this.tunes = o.tunes, this.composeTunes(s), this.holder = this.compose(), window.requestIdleCallback(() => {\n      this.watchBlockMutations(), this.addInputEvents(), this.toggleInputsEmptyMark();\n    });\n  }\n  /**\n   * CSS classes for the Block\n   *\n   * @returns {{wrapper: string, content: string}}\n   */\n  static get CSS() {\n    return {\n      wrapper: \"ce-block\",\n      wrapperStretched: \"ce-block--stretched\",\n      content: \"ce-block__content\",\n      selected: \"ce-block--selected\",\n      dropTarget: \"ce-block--drop-target\"\n    };\n  }\n  /**\n   * Find and return all editable elements (contenteditable and native inputs) in the Tool HTML\n   */\n  get inputs() {\n    if (this.cachedInputs.length !== 0)\n      return this.cachedInputs;\n    const e = d.findAllInputs(this.holder);\n    return this.inputIndex > e.length - 1 && (this.inputIndex = e.length - 1), this.cachedInputs = e, e;\n  }\n  /**\n   * Return current Tool`s input\n   * If Block doesn't contain inputs, return undefined\n   */\n  get currentInput() {\n    return this.inputs[this.inputIndex];\n  }\n  /**\n   * Set input index to the passed element\n   *\n   * @param element - HTML Element to set as current input\n   */\n  set currentInput(e) {\n    const t = this.inputs.findIndex((o) => o === e || o.contains(e));\n    t !== -1 && (this.inputIndex = t);\n  }\n  /**\n   * Return first Tool`s input\n   * If Block doesn't contain inputs, return undefined\n   */\n  get firstInput() {\n    return this.inputs[0];\n  }\n  /**\n   * Return first Tool`s input\n   * If Block doesn't contain inputs, return undefined\n   */\n  get lastInput() {\n    const e = this.inputs;\n    return e[e.length - 1];\n  }\n  /**\n   * Return next Tool`s input or undefined if it doesn't exist\n   * If Block doesn't contain inputs, return undefined\n   */\n  get nextInput() {\n    return this.inputs[this.inputIndex + 1];\n  }\n  /**\n   * Return previous Tool`s input or undefined if it doesn't exist\n   * If Block doesn't contain inputs, return undefined\n   */\n  get previousInput() {\n    return this.inputs[this.inputIndex - 1];\n  }\n  /**\n   * Get Block's JSON data\n   *\n   * @returns {object}\n   */\n  get data() {\n    return this.save().then((e) => e && !V(e.data) ? e.data : {});\n  }\n  /**\n   * Returns tool's sanitizer config\n   *\n   * @returns {object}\n   */\n  get sanitize() {\n    return this.tool.sanitizeConfig;\n  }\n  /**\n   * is block mergeable\n   * We plugin have merge function then we call it mergeable\n   *\n   * @returns {boolean}\n   */\n  get mergeable() {\n    return A(this.toolInstance.merge);\n  }\n  /**\n   * If Block contains inputs, it is focusable\n   */\n  get focusable() {\n    return this.inputs.length !== 0;\n  }\n  /**\n   * Check block for emptiness\n   *\n   * @returns {boolean}\n   */\n  get isEmpty() {\n    const e = d.isEmpty(this.pluginsContent, \"/\"), t = !this.hasMedia;\n    return e && t;\n  }\n  /**\n   * Check if block has a media content such as images, iframe and other\n   *\n   * @returns {boolean}\n   */\n  get hasMedia() {\n    const e = [\n      \"img\",\n      \"iframe\",\n      \"video\",\n      \"audio\",\n      \"source\",\n      \"input\",\n      \"textarea\",\n      \"twitterwidget\"\n    ];\n    return !!this.holder.querySelector(e.join(\",\"));\n  }\n  /**\n   * Set selected state\n   * We don't need to mark Block as Selected when it is empty\n   *\n   * @param {boolean} state - 'true' to select, 'false' to remove selection\n   */\n  set selected(e) {\n    var i, s;\n    this.holder.classList.toggle(D.CSS.selected, e);\n    const t = e === !0 && b.isRangeInsideContainer(this.holder), o = e === !1 && b.isFakeCursorInsideContainer(this.holder);\n    (t || o) && ((i = this.editorEventBus) == null || i.emit(Dt, { state: e }), t ? b.addFakeCursor() : b.removeFakeCursor(this.holder), (s = this.editorEventBus) == null || s.emit(Rt, { state: e }));\n  }\n  /**\n   * Returns True if it is Selected\n   *\n   * @returns {boolean}\n   */\n  get selected() {\n    return this.holder.classList.contains(D.CSS.selected);\n  }\n  /**\n   * Set stretched state\n   *\n   * @param {boolean} state - 'true' to enable, 'false' to disable stretched state\n   */\n  set stretched(e) {\n    this.holder.classList.toggle(D.CSS.wrapperStretched, e);\n  }\n  /**\n   * Return Block's stretched state\n   *\n   * @returns {boolean}\n   */\n  get stretched() {\n    return this.holder.classList.contains(D.CSS.wrapperStretched);\n  }\n  /**\n   * Toggle drop target state\n   *\n   * @param {boolean} state - 'true' if block is drop target, false otherwise\n   */\n  set dropTarget(e) {\n    this.holder.classList.toggle(D.CSS.dropTarget, e);\n  }\n  /**\n   * Returns Plugins content\n   *\n   * @returns {HTMLElement}\n   */\n  get pluginsContent() {\n    return this.toolRenderedElement;\n  }\n  /**\n   * Calls Tool's method\n   *\n   * Method checks tool property {MethodName}. Fires method with passes params If it is instance of Function\n   *\n   * @param {string} methodName - method to call\n   * @param {object} params - method argument\n   */\n  call(e, t) {\n    if (A(this.toolInstance[e])) {\n      e === \"appendCallback\" && I(\n        \"`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead\",\n        \"warn\"\n      );\n      try {\n        this.toolInstance[e].call(this.toolInstance, t);\n      } catch (o) {\n        I(`Error during '${e}' call: ${o.message}`, \"error\");\n      }\n    }\n  }\n  /**\n   * Call plugins merge method\n   *\n   * @param {BlockToolData} data - data to merge\n   */\n  async mergeWith(e) {\n    await this.toolInstance.merge(e);\n  }\n  /**\n   * Extracts data from Block\n   * Groups Tool's save processing time\n   *\n   * @returns {object}\n   */\n  async save() {\n    const e = await this.toolInstance.save(this.pluginsContent), t = this.unavailableTunesData;\n    [\n      ...this.tunesInstances.entries(),\n      ...this.defaultTunesInstances.entries()\n    ].forEach(([s, r]) => {\n      if (A(r.save))\n        try {\n          t[s] = r.save();\n        } catch (l) {\n          I(`Tune ${r.constructor.name} save method throws an Error %o`, \"warn\", l);\n        }\n    });\n    const o = window.performance.now();\n    let i;\n    return Promise.resolve(e).then((s) => (i = window.performance.now(), {\n      id: this.id,\n      tool: this.name,\n      data: s,\n      tunes: t,\n      time: i - o\n    })).catch((s) => {\n      I(`Saving process for ${this.name} tool failed due to the ${s}`, \"log\", \"red\");\n    });\n  }\n  /**\n   * Uses Tool's validation method to check the correctness of output data\n   * Tool's validation method is optional\n   *\n   * @description Method returns true|false whether data passed the validation or not\n   * @param {BlockToolData} data - data to validate\n   * @returns {Promise<boolean>} valid\n   */\n  async validate(e) {\n    let t = !0;\n    return this.toolInstance.validate instanceof Function && (t = await this.toolInstance.validate(e)), t;\n  }\n  /**\n   * Returns data to render in Block Tunes menu.\n   * Splits block tunes into 2 groups: block specific tunes and common tunes\n   */\n  getTunes() {\n    const e = [], t = [], o = typeof this.toolInstance.renderSettings == \"function\" ? this.toolInstance.renderSettings() : [];\n    return d.isElement(o) ? e.push({\n      type: O.Html,\n      element: o\n    }) : Array.isArray(o) ? e.push(...o) : e.push(o), [\n      ...this.tunesInstances.values(),\n      ...this.defaultTunesInstances.values()\n    ].map((s) => s.render()).forEach((s) => {\n      d.isElement(s) ? t.push({\n        type: O.Html,\n        element: s\n      }) : Array.isArray(s) ? t.push(...s) : t.push(s);\n    }), {\n      toolTunes: e,\n      commonTunes: t\n    };\n  }\n  /**\n   * Update current input index with selection anchor node\n   */\n  updateCurrentInput() {\n    this.currentInput = d.isNativeInput(document.activeElement) || !b.anchorNode ? document.activeElement : b.anchorNode;\n  }\n  /**\n   * Allows to say Editor that Block was changed. Used to manually trigger Editor's 'onChange' callback\n   * Can be useful for block changes invisible for editor core.\n   */\n  dispatchChange() {\n    this.didMutated();\n  }\n  /**\n   * Call Tool instance destroy method\n   */\n  destroy() {\n    this.unwatchBlockMutations(), this.removeInputEvents(), super.destroy(), A(this.toolInstance.destroy) && this.toolInstance.destroy();\n  }\n  /**\n   * Tool could specify several entries to be displayed at the Toolbox (for example, \"Heading 1\", \"Heading 2\", \"Heading 3\")\n   * This method returns the entry that is related to the Block (depended on the Block data)\n   */\n  async getActiveToolboxEntry() {\n    const e = this.tool.toolbox;\n    if (e.length === 1)\n      return Promise.resolve(this.tool.toolbox[0]);\n    const t = await this.data, o = e;\n    return o == null ? void 0 : o.find((i) => Ht(i.data, t));\n  }\n  /**\n   * Exports Block data as string using conversion config\n   */\n  async exportDataAsString() {\n    const e = await this.data;\n    return Ho(e, this.tool.conversionConfig);\n  }\n  /**\n   * Make default Block wrappers and put Tool`s content there\n   *\n   * @returns {HTMLDivElement}\n   */\n  compose() {\n    const e = d.make(\"div\", D.CSS.wrapper), t = d.make(\"div\", D.CSS.content), o = this.toolInstance.render();\n    e.dataset.id = this.id, this.toolRenderedElement = o, t.appendChild(this.toolRenderedElement);\n    let i = t;\n    return [...this.tunesInstances.values(), ...this.defaultTunesInstances.values()].forEach((s) => {\n      if (A(s.wrap))\n        try {\n          i = s.wrap(i);\n        } catch (r) {\n          I(`Tune ${s.constructor.name} wrap method throws an Error %o`, \"warn\", r);\n        }\n    }), e.appendChild(i), e;\n  }\n  /**\n   * Instantiate Block Tunes\n   *\n   * @param tunesData - current Block tunes data\n   * @private\n   */\n  composeTunes(e) {\n    Array.from(this.tunes.values()).forEach((t) => {\n      (t.isInternal ? this.defaultTunesInstances : this.tunesInstances).set(t.name, t.create(e[t.name], this.blockAPI));\n    }), Object.entries(e).forEach(([t, o]) => {\n      this.tunesInstances.has(t) || (this.unavailableTunesData[t] = o);\n    });\n  }\n  /**\n   * Adds focus event listeners to all inputs and contenteditable\n   */\n  addInputEvents() {\n    this.inputs.forEach((e) => {\n      e.addEventListener(\"focus\", this.handleFocus), d.isNativeInput(e) && e.addEventListener(\"input\", this.didMutated);\n    });\n  }\n  /**\n   * removes focus event listeners from all inputs and contenteditable\n   */\n  removeInputEvents() {\n    this.inputs.forEach((e) => {\n      e.removeEventListener(\"focus\", this.handleFocus), d.isNativeInput(e) && e.removeEventListener(\"input\", this.didMutated);\n    });\n  }\n  /**\n   * Listen common editor Dom Changed event and detect mutations related to the  Block\n   */\n  watchBlockMutations() {\n    var e;\n    this.redactorDomChangedCallback = (t) => {\n      const { mutations: o } = t;\n      o.some((s) => Fo(s, this.toolRenderedElement)) && this.didMutated(o);\n    }, (e = this.editorEventBus) == null || e.on(Je, this.redactorDomChangedCallback);\n  }\n  /**\n   * Remove redactor dom change event listener\n   */\n  unwatchBlockMutations() {\n    var e;\n    (e = this.editorEventBus) == null || e.off(Je, this.redactorDomChangedCallback);\n  }\n  /**\n   * Sometimes Tool can replace own main element, for example H2 -> H4 or UL -> OL\n   * We need to detect such changes and update a link to tools main element with the new one\n   *\n   * @param mutations - records of block content mutations\n   */\n  detectToolRootChange(e) {\n    e.forEach((t) => {\n      if (Array.from(t.removedNodes).includes(this.toolRenderedElement)) {\n        const i = t.addedNodes[t.addedNodes.length - 1];\n        this.toolRenderedElement = i;\n      }\n    });\n  }\n  /**\n   * Clears inputs cached value\n   */\n  dropInputsCache() {\n    this.cachedInputs = [];\n  }\n  /**\n   * Mark inputs with 'data-empty' attribute with the empty state\n   */\n  toggleInputsEmptyMark() {\n    this.inputs.forEach(At);\n  }\n}\nclass fi extends y {\n  constructor() {\n    super(...arguments), this.insert = (e = this.config.defaultBlock, t = {}, o = {}, i, s, r, l) => {\n      const a = this.Editor.BlockManager.insert({\n        id: l,\n        tool: e,\n        data: t,\n        index: i,\n        needToFocus: s,\n        replace: r\n      });\n      return new G(a);\n    }, this.composeBlockData = async (e) => {\n      const t = this.Editor.Tools.blockTools.get(e);\n      return new D({\n        tool: t,\n        api: this.Editor.API,\n        readOnly: !0,\n        data: {},\n        tunesData: {}\n      }).data;\n    }, this.update = async (e, t, o) => {\n      const { BlockManager: i } = this.Editor, s = i.getBlockById(e);\n      if (s === void 0)\n        throw new Error(`Block with id \"${e}\" not found`);\n      const r = await i.update(s, t, o);\n      return new G(r);\n    }, this.convert = async (e, t, o) => {\n      var h, p;\n      const { BlockManager: i, Tools: s } = this.Editor, r = i.getBlockById(e);\n      if (!r)\n        throw new Error(`Block with id \"${e}\" not found`);\n      const l = s.blockTools.get(r.name), a = s.blockTools.get(t);\n      if (!a)\n        throw new Error(`Block Tool with type \"${t}\" not found`);\n      const c = ((h = l == null ? void 0 : l.conversionConfig) == null ? void 0 : h.export) !== void 0, u = ((p = a.conversionConfig) == null ? void 0 : p.import) !== void 0;\n      if (c && u) {\n        const g = await i.convert(r, t, o);\n        return new G(g);\n      } else {\n        const g = [\n          c ? !1 : Ae(r.name),\n          u ? !1 : Ae(t)\n        ].filter(Boolean).join(\" and \");\n        throw new Error(`Conversion from \"${r.name}\" to \"${t}\" is not possible. ${g} tool(s) should provide a \"conversionConfig\"`);\n      }\n    }, this.insertMany = (e, t = this.Editor.BlockManager.blocks.length - 1) => {\n      this.validateIndex(t);\n      const o = e.map(({ id: i, type: s, data: r }) => this.Editor.BlockManager.composeBlock({\n        id: i,\n        tool: s || this.config.defaultBlock,\n        data: r\n      }));\n      return this.Editor.BlockManager.insertMany(o, t), o.map((i) => new G(i));\n    };\n  }\n  /**\n   * Available methods\n   *\n   * @returns {Blocks}\n   */\n  get methods() {\n    return {\n      clear: () => this.clear(),\n      render: (e) => this.render(e),\n      renderFromHTML: (e) => this.renderFromHTML(e),\n      delete: (e) => this.delete(e),\n      swap: (e, t) => this.swap(e, t),\n      move: (e, t) => this.move(e, t),\n      getBlockByIndex: (e) => this.getBlockByIndex(e),\n      getById: (e) => this.getById(e),\n      getCurrentBlockIndex: () => this.getCurrentBlockIndex(),\n      getBlockIndex: (e) => this.getBlockIndex(e),\n      getBlocksCount: () => this.getBlocksCount(),\n      getBlockByElement: (e) => this.getBlockByElement(e),\n      stretchBlock: (e, t = !0) => this.stretchBlock(e, t),\n      insertNewBlock: () => this.insertNewBlock(),\n      insert: this.insert,\n      insertMany: this.insertMany,\n      update: this.update,\n      composeBlockData: this.composeBlockData,\n      convert: this.convert\n    };\n  }\n  /**\n   * Returns Blocks count\n   *\n   * @returns {number}\n   */\n  getBlocksCount() {\n    return this.Editor.BlockManager.blocks.length;\n  }\n  /**\n   * Returns current block index\n   *\n   * @returns {number}\n   */\n  getCurrentBlockIndex() {\n    return this.Editor.BlockManager.currentBlockIndex;\n  }\n  /**\n   * Returns the index of Block by id;\n   *\n   * @param id - block id\n   */\n  getBlockIndex(e) {\n    const t = this.Editor.BlockManager.getBlockById(e);\n    if (!t) {\n      X(\"There is no block with id `\" + e + \"`\", \"warn\");\n      return;\n    }\n    return this.Editor.BlockManager.getBlockIndex(t);\n  }\n  /**\n   * Returns BlockAPI object by Block index\n   *\n   * @param {number} index - index to get\n   */\n  getBlockByIndex(e) {\n    const t = this.Editor.BlockManager.getBlockByIndex(e);\n    if (t === void 0) {\n      X(\"There is no block at index `\" + e + \"`\", \"warn\");\n      return;\n    }\n    return new G(t);\n  }\n  /**\n   * Returns BlockAPI object by Block id\n   *\n   * @param id - id of block to get\n   */\n  getById(e) {\n    const t = this.Editor.BlockManager.getBlockById(e);\n    return t === void 0 ? (X(\"There is no block with id `\" + e + \"`\", \"warn\"), null) : new G(t);\n  }\n  /**\n   * Get Block API object by any child html element\n   *\n   * @param element - html element to get Block by\n   */\n  getBlockByElement(e) {\n    const t = this.Editor.BlockManager.getBlock(e);\n    if (t === void 0) {\n      X(\"There is no block corresponding to element `\" + e + \"`\", \"warn\");\n      return;\n    }\n    return new G(t);\n  }\n  /**\n   * Call Block Manager method that swap Blocks\n   *\n   * @param {number} fromIndex - position of first Block\n   * @param {number} toIndex - position of second Block\n   * @deprecated  use 'move' instead\n   */\n  swap(e, t) {\n    I(\n      \"`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead\",\n      \"info\"\n    ), this.Editor.BlockManager.swap(e, t);\n  }\n  /**\n   * Move block from one index to another\n   *\n   * @param {number} toIndex - index to move to\n   * @param {number} fromIndex - index to move from\n   */\n  move(e, t) {\n    this.Editor.BlockManager.move(e, t);\n  }\n  /**\n   * Deletes Block\n   *\n   * @param {number} blockIndex - index of Block to delete\n   */\n  delete(e = this.Editor.BlockManager.currentBlockIndex) {\n    try {\n      const t = this.Editor.BlockManager.getBlockByIndex(e);\n      this.Editor.BlockManager.removeBlock(t);\n    } catch (t) {\n      X(t, \"warn\");\n      return;\n    }\n    this.Editor.BlockManager.blocks.length === 0 && this.Editor.BlockManager.insert(), this.Editor.BlockManager.currentBlock && this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock, this.Editor.Caret.positions.END), this.Editor.Toolbar.close();\n  }\n  /**\n   * Clear Editor's area\n   */\n  async clear() {\n    await this.Editor.BlockManager.clear(!0), this.Editor.InlineToolbar.close();\n  }\n  /**\n   * Fills Editor with Blocks data\n   *\n   * @param {OutputData} data  Saved Editor data\n   */\n  async render(e) {\n    if (e === void 0 || e.blocks === void 0)\n      throw new Error(\"Incorrect data passed to the render() method\");\n    this.Editor.ModificationsObserver.disable(), await this.Editor.BlockManager.clear(), await this.Editor.Renderer.render(e.blocks), this.Editor.ModificationsObserver.enable();\n  }\n  /**\n   * Render passed HTML string\n   *\n   * @param {string} data - HTML string to render\n   * @returns {Promise<void>}\n   */\n  renderFromHTML(e) {\n    return this.Editor.BlockManager.clear(), this.Editor.Paste.processText(e, !0);\n  }\n  /**\n   * Stretch Block's content\n   *\n   * @param {number} index - index of Block to stretch\n   * @param {boolean} status - true to enable, false to disable\n   * @deprecated Use BlockAPI interface to stretch Blocks\n   */\n  stretchBlock(e, t = !0) {\n    Ze(\n      !0,\n      \"blocks.stretchBlock()\",\n      \"BlockAPI\"\n    );\n    const o = this.Editor.BlockManager.getBlockByIndex(e);\n    o && (o.stretched = t);\n  }\n  /**\n   * Insert new Block\n   * After set caret to this Block\n   *\n   * @todo remove in 3.0.0\n   * @deprecated with insert() method\n   */\n  insertNewBlock() {\n    I(\"Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.\", \"warn\"), this.insert();\n  }\n  /**\n   * Validated block index and throws an error if it's invalid\n   *\n   * @param index - index to validate\n   */\n  validateIndex(e) {\n    if (typeof e != \"number\")\n      throw new Error(\"Index should be a number\");\n    if (e < 0)\n      throw new Error(\"Index should be greater than or equal to 0\");\n    if (e === null)\n      throw new Error(\"Index should be greater than or equal to 0\");\n  }\n}\nfunction gi(n, e) {\n  return typeof n == \"number\" ? e.BlockManager.getBlockByIndex(n) : typeof n == \"string\" ? e.BlockManager.getBlockById(n) : e.BlockManager.getBlockById(n.id);\n}\nclass mi extends y {\n  constructor() {\n    super(...arguments), this.setToFirstBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.firstBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock, e, t), !0) : !1, this.setToLastBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.lastBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock, e, t), !0) : !1, this.setToPreviousBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.previousBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock, e, t), !0) : !1, this.setToNextBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.nextBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock, e, t), !0) : !1, this.setToBlock = (e, t = this.Editor.Caret.positions.DEFAULT, o = 0) => {\n      const i = gi(e, this.Editor);\n      return i === void 0 ? !1 : (this.Editor.Caret.setToBlock(i, t, o), !0);\n    }, this.focus = (e = !1) => e ? this.setToLastBlock(this.Editor.Caret.positions.END) : this.setToFirstBlock(this.Editor.Caret.positions.START);\n  }\n  /**\n   * Available methods\n   *\n   * @returns {Caret}\n   */\n  get methods() {\n    return {\n      setToFirstBlock: this.setToFirstBlock,\n      setToLastBlock: this.setToLastBlock,\n      setToPreviousBlock: this.setToPreviousBlock,\n      setToNextBlock: this.setToNextBlock,\n      setToBlock: this.setToBlock,\n      focus: this.focus\n    };\n  }\n}\nclass bi extends y {\n  /**\n   * Available methods\n   *\n   * @returns {Events}\n   */\n  get methods() {\n    return {\n      emit: (e, t) => this.emit(e, t),\n      off: (e, t) => this.off(e, t),\n      on: (e, t) => this.on(e, t)\n    };\n  }\n  /**\n   * Subscribe on Events\n   *\n   * @param {string} eventName - event name to subscribe\n   * @param {Function} callback - event handler\n   */\n  on(e, t) {\n    this.eventsDispatcher.on(e, t);\n  }\n  /**\n   * Emit event with data\n   *\n   * @param {string} eventName - event to emit\n   * @param {object} data - event's data\n   */\n  emit(e, t) {\n    this.eventsDispatcher.emit(e, t);\n  }\n  /**\n   * Unsubscribe from Event\n   *\n   * @param {string} eventName - event to unsubscribe\n   * @param {Function} callback - event handler\n   */\n  off(e, t) {\n    this.eventsDispatcher.off(e, t);\n  }\n}\nclass st extends y {\n  /**\n   * Return namespace section for tool or block tune\n   *\n   * @param toolName - tool name\n   * @param isTune - is tool a block tune\n   */\n  static getNamespace(e, t) {\n    return t ? `blockTunes.${e}` : `tools.${e}`;\n  }\n  /**\n   * Return I18n API methods with global dictionary access\n   */\n  get methods() {\n    return {\n      t: () => {\n        X(\"I18n.t() method can be accessed only from Tools\", \"warn\");\n      }\n    };\n  }\n  /**\n   * Return I18n API methods with tool namespaced dictionary\n   *\n   * @param toolName - tool name\n   * @param isTune - is tool a block tune\n   */\n  getMethodsForTool(e, t) {\n    return Object.assign(\n      this.methods,\n      {\n        t: (o) => z.t(st.getNamespace(e, t), o)\n      }\n    );\n  }\n}\nclass ki extends y {\n  /**\n   * Editor.js Core API modules\n   */\n  get methods() {\n    return {\n      blocks: this.Editor.BlocksAPI.methods,\n      caret: this.Editor.CaretAPI.methods,\n      tools: this.Editor.ToolsAPI.methods,\n      events: this.Editor.EventsAPI.methods,\n      listeners: this.Editor.ListenersAPI.methods,\n      notifier: this.Editor.NotifierAPI.methods,\n      sanitizer: this.Editor.SanitizerAPI.methods,\n      saver: this.Editor.SaverAPI.methods,\n      selection: this.Editor.SelectionAPI.methods,\n      styles: this.Editor.StylesAPI.classes,\n      toolbar: this.Editor.ToolbarAPI.methods,\n      inlineToolbar: this.Editor.InlineToolbarAPI.methods,\n      tooltip: this.Editor.TooltipAPI.methods,\n      i18n: this.Editor.I18nAPI.methods,\n      readOnly: this.Editor.ReadOnlyAPI.methods,\n      ui: this.Editor.UiAPI.methods\n    };\n  }\n  /**\n   * Returns Editor.js Core API methods for passed tool\n   *\n   * @param toolName - tool name\n   * @param isTune - is tool a block tune\n   */\n  getMethodsForTool(e, t) {\n    return Object.assign(\n      this.methods,\n      {\n        i18n: this.Editor.I18nAPI.getMethodsForTool(e, t)\n      }\n    );\n  }\n}\nclass vi extends y {\n  /**\n   * Available methods\n   *\n   * @returns {InlineToolbar}\n   */\n  get methods() {\n    return {\n      close: () => this.close(),\n      open: () => this.open()\n    };\n  }\n  /**\n   * Open Inline Toolbar\n   */\n  open() {\n    this.Editor.InlineToolbar.tryToShow();\n  }\n  /**\n   * Close Inline Toolbar\n   */\n  close() {\n    this.Editor.InlineToolbar.close();\n  }\n}\nclass wi extends y {\n  /**\n   * Available methods\n   *\n   * @returns {Listeners}\n   */\n  get methods() {\n    return {\n      on: (e, t, o, i) => this.on(e, t, o, i),\n      off: (e, t, o, i) => this.off(e, t, o, i),\n      offById: (e) => this.offById(e)\n    };\n  }\n  /**\n   * Ads a DOM event listener. Return it's id.\n   *\n   * @param {HTMLElement} element - Element to set handler to\n   * @param {string} eventType - event type\n   * @param {() => void} handler - event handler\n   * @param {boolean} useCapture - capture event or not\n   */\n  on(e, t, o, i) {\n    return this.listeners.on(e, t, o, i);\n  }\n  /**\n   * Removes DOM listener from element\n   *\n   * @param {Element} element - Element to remove handler from\n   * @param eventType - event type\n   * @param handler - event handler\n   * @param {boolean} useCapture - capture event or not\n   */\n  off(e, t, o, i) {\n    this.listeners.off(e, t, o, i);\n  }\n  /**\n   * Removes DOM listener by the listener id\n   *\n   * @param id - id of the listener to remove\n   */\n  offById(e) {\n    this.listeners.offById(e);\n  }\n}\nvar Zt = { exports: {} };\n(function(n, e) {\n  (function(t, o) {\n    n.exports = o();\n  })(window, function() {\n    return function(t) {\n      var o = {};\n      function i(s) {\n        if (o[s])\n          return o[s].exports;\n        var r = o[s] = { i: s, l: !1, exports: {} };\n        return t[s].call(r.exports, r, r.exports, i), r.l = !0, r.exports;\n      }\n      return i.m = t, i.c = o, i.d = function(s, r, l) {\n        i.o(s, r) || Object.defineProperty(s, r, { enumerable: !0, get: l });\n      }, i.r = function(s) {\n        typeof Symbol < \"u\" && Symbol.toStringTag && Object.defineProperty(s, Symbol.toStringTag, { value: \"Module\" }), Object.defineProperty(s, \"__esModule\", { value: !0 });\n      }, i.t = function(s, r) {\n        if (1 & r && (s = i(s)), 8 & r || 4 & r && typeof s == \"object\" && s && s.__esModule)\n          return s;\n        var l = /* @__PURE__ */ Object.create(null);\n        if (i.r(l), Object.defineProperty(l, \"default\", { enumerable: !0, value: s }), 2 & r && typeof s != \"string\")\n          for (var a in s)\n            i.d(l, a, (function(c) {\n              return s[c];\n            }).bind(null, a));\n        return l;\n      }, i.n = function(s) {\n        var r = s && s.__esModule ? function() {\n          return s.default;\n        } : function() {\n          return s;\n        };\n        return i.d(r, \"a\", r), r;\n      }, i.o = function(s, r) {\n        return Object.prototype.hasOwnProperty.call(s, r);\n      }, i.p = \"/\", i(i.s = 0);\n    }([function(t, o, i) {\n      i(1), /*!\n       * Codex JavaScript Notification module\n       * https://github.com/codex-team/js-notifier\n       */\n      t.exports = function() {\n        var s = i(6), r = \"cdx-notify--bounce-in\", l = null;\n        return { show: function(a) {\n          if (a.message) {\n            (function() {\n              if (l)\n                return !0;\n              l = s.getWrapper(), document.body.appendChild(l);\n            })();\n            var c = null, u = a.time || 8e3;\n            switch (a.type) {\n              case \"confirm\":\n                c = s.confirm(a);\n                break;\n              case \"prompt\":\n                c = s.prompt(a);\n                break;\n              default:\n                c = s.alert(a), window.setTimeout(function() {\n                  c.remove();\n                }, u);\n            }\n            l.appendChild(c), c.classList.add(r);\n          }\n        } };\n      }();\n    }, function(t, o, i) {\n      var s = i(2);\n      typeof s == \"string\" && (s = [[t.i, s, \"\"]]);\n      var r = { hmr: !0, transform: void 0, insertInto: void 0 };\n      i(4)(s, r), s.locals && (t.exports = s.locals);\n    }, function(t, o, i) {\n      (t.exports = i(3)(!1)).push([t.i, `.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen,Ubuntu,Cantarell,\"Fira Sans\",\"Droid Sans\",\"Helvetica Neue\",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`, \"\"]);\n    }, function(t, o) {\n      t.exports = function(i) {\n        var s = [];\n        return s.toString = function() {\n          return this.map(function(r) {\n            var l = function(a, c) {\n              var u = a[1] || \"\", h = a[3];\n              if (!h)\n                return u;\n              if (c && typeof btoa == \"function\") {\n                var p = (f = h, \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(f)))) + \" */\"), g = h.sources.map(function(k) {\n                  return \"/*# sourceURL=\" + h.sourceRoot + k + \" */\";\n                });\n                return [u].concat(g).concat([p]).join(`\n`);\n              }\n              var f;\n              return [u].join(`\n`);\n            }(r, i);\n            return r[2] ? \"@media \" + r[2] + \"{\" + l + \"}\" : l;\n          }).join(\"\");\n        }, s.i = function(r, l) {\n          typeof r == \"string\" && (r = [[null, r, \"\"]]);\n          for (var a = {}, c = 0; c < this.length; c++) {\n            var u = this[c][0];\n            typeof u == \"number\" && (a[u] = !0);\n          }\n          for (c = 0; c < r.length; c++) {\n            var h = r[c];\n            typeof h[0] == \"number\" && a[h[0]] || (l && !h[2] ? h[2] = l : l && (h[2] = \"(\" + h[2] + \") and (\" + l + \")\"), s.push(h));\n          }\n        }, s;\n      };\n    }, function(t, o, i) {\n      var s, r, l = {}, a = (s = function() {\n        return window && document && document.all && !window.atob;\n      }, function() {\n        return r === void 0 && (r = s.apply(this, arguments)), r;\n      }), c = function(v) {\n        var m = {};\n        return function(x) {\n          if (typeof x == \"function\")\n            return x();\n          if (m[x] === void 0) {\n            var E = (function(M) {\n              return document.querySelector(M);\n            }).call(this, x);\n            if (window.HTMLIFrameElement && E instanceof window.HTMLIFrameElement)\n              try {\n                E = E.contentDocument.head;\n              } catch {\n                E = null;\n              }\n            m[x] = E;\n          }\n          return m[x];\n        };\n      }(), u = null, h = 0, p = [], g = i(5);\n      function f(v, m) {\n        for (var x = 0; x < v.length; x++) {\n          var E = v[x], M = l[E.id];\n          if (M) {\n            M.refs++;\n            for (var T = 0; T < M.parts.length; T++)\n              M.parts[T](E.parts[T]);\n            for (; T < E.parts.length; T++)\n              M.parts.push(j(E.parts[T], m));\n          } else {\n            var P = [];\n            for (T = 0; T < E.parts.length; T++)\n              P.push(j(E.parts[T], m));\n            l[E.id] = { id: E.id, refs: 1, parts: P };\n          }\n        }\n      }\n      function k(v, m) {\n        for (var x = [], E = {}, M = 0; M < v.length; M++) {\n          var T = v[M], P = m.base ? T[0] + m.base : T[0], B = { css: T[1], media: T[2], sourceMap: T[3] };\n          E[P] ? E[P].parts.push(B) : x.push(E[P] = { id: P, parts: [B] });\n        }\n        return x;\n      }\n      function C(v, m) {\n        var x = c(v.insertInto);\n        if (!x)\n          throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n        var E = p[p.length - 1];\n        if (v.insertAt === \"top\")\n          E ? E.nextSibling ? x.insertBefore(m, E.nextSibling) : x.appendChild(m) : x.insertBefore(m, x.firstChild), p.push(m);\n        else if (v.insertAt === \"bottom\")\n          x.appendChild(m);\n        else {\n          if (typeof v.insertAt != \"object\" || !v.insertAt.before)\n            throw new Error(`[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n`);\n          var M = c(v.insertInto + \" \" + v.insertAt.before);\n          x.insertBefore(m, M);\n        }\n      }\n      function S(v) {\n        if (v.parentNode === null)\n          return !1;\n        v.parentNode.removeChild(v);\n        var m = p.indexOf(v);\n        m >= 0 && p.splice(m, 1);\n      }\n      function _(v) {\n        var m = document.createElement(\"style\");\n        return v.attrs.type === void 0 && (v.attrs.type = \"text/css\"), ee(m, v.attrs), C(v, m), m;\n      }\n      function ee(v, m) {\n        Object.keys(m).forEach(function(x) {\n          v.setAttribute(x, m[x]);\n        });\n      }\n      function j(v, m) {\n        var x, E, M, T;\n        if (m.transform && v.css) {\n          if (!(T = m.transform(v.css)))\n            return function() {\n            };\n          v.css = T;\n        }\n        if (m.singleton) {\n          var P = h++;\n          x = u || (u = _(m)), E = pe.bind(null, x, P, !1), M = pe.bind(null, x, P, !0);\n        } else\n          v.sourceMap && typeof URL == \"function\" && typeof URL.createObjectURL == \"function\" && typeof URL.revokeObjectURL == \"function\" && typeof Blob == \"function\" && typeof btoa == \"function\" ? (x = function(B) {\n            var Y = document.createElement(\"link\");\n            return B.attrs.type === void 0 && (B.attrs.type = \"text/css\"), B.attrs.rel = \"stylesheet\", ee(Y, B.attrs), C(B, Y), Y;\n          }(m), E = (function(B, Y, fe) {\n            var ie = fe.css, He = fe.sourceMap, mo = Y.convertToAbsoluteUrls === void 0 && He;\n            (Y.convertToAbsoluteUrls || mo) && (ie = g(ie)), He && (ie += `\n/*# sourceMappingURL=data:application/json;base64,` + btoa(unescape(encodeURIComponent(JSON.stringify(He)))) + \" */\");\n            var bo = new Blob([ie], { type: \"text/css\" }), gt = B.href;\n            B.href = URL.createObjectURL(bo), gt && URL.revokeObjectURL(gt);\n          }).bind(null, x, m), M = function() {\n            S(x), x.href && URL.revokeObjectURL(x.href);\n          }) : (x = _(m), E = (function(B, Y) {\n            var fe = Y.css, ie = Y.media;\n            if (ie && B.setAttribute(\"media\", ie), B.styleSheet)\n              B.styleSheet.cssText = fe;\n            else {\n              for (; B.firstChild; )\n                B.removeChild(B.firstChild);\n              B.appendChild(document.createTextNode(fe));\n            }\n          }).bind(null, x), M = function() {\n            S(x);\n          });\n        return E(v), function(B) {\n          if (B) {\n            if (B.css === v.css && B.media === v.media && B.sourceMap === v.sourceMap)\n              return;\n            E(v = B);\n          } else\n            M();\n        };\n      }\n      t.exports = function(v, m) {\n        if (typeof DEBUG < \"u\" && DEBUG && typeof document != \"object\")\n          throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n        (m = m || {}).attrs = typeof m.attrs == \"object\" ? m.attrs : {}, m.singleton || typeof m.singleton == \"boolean\" || (m.singleton = a()), m.insertInto || (m.insertInto = \"head\"), m.insertAt || (m.insertAt = \"bottom\");\n        var x = k(v, m);\n        return f(x, m), function(E) {\n          for (var M = [], T = 0; T < x.length; T++) {\n            var P = x[T];\n            (B = l[P.id]).refs--, M.push(B);\n          }\n          for (E && f(k(E, m), m), T = 0; T < M.length; T++) {\n            var B;\n            if ((B = M[T]).refs === 0) {\n              for (var Y = 0; Y < B.parts.length; Y++)\n                B.parts[Y]();\n              delete l[B.id];\n            }\n          }\n        };\n      };\n      var $, oe = ($ = [], function(v, m) {\n        return $[v] = m, $.filter(Boolean).join(`\n`);\n      });\n      function pe(v, m, x, E) {\n        var M = x ? \"\" : E.css;\n        if (v.styleSheet)\n          v.styleSheet.cssText = oe(m, M);\n        else {\n          var T = document.createTextNode(M), P = v.childNodes;\n          P[m] && v.removeChild(P[m]), P.length ? v.insertBefore(T, P[m]) : v.appendChild(T);\n        }\n      }\n    }, function(t, o) {\n      t.exports = function(i) {\n        var s = typeof window < \"u\" && window.location;\n        if (!s)\n          throw new Error(\"fixUrls requires window.location\");\n        if (!i || typeof i != \"string\")\n          return i;\n        var r = s.protocol + \"//\" + s.host, l = r + s.pathname.replace(/\\/[^\\/]*$/, \"/\");\n        return i.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(a, c) {\n          var u, h = c.trim().replace(/^\"(.*)\"$/, function(p, g) {\n            return g;\n          }).replace(/^'(.*)'$/, function(p, g) {\n            return g;\n          });\n          return /^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(h) ? a : (u = h.indexOf(\"//\") === 0 ? h : h.indexOf(\"/\") === 0 ? r + h : l + h.replace(/^\\.\\//, \"\"), \"url(\" + JSON.stringify(u) + \")\");\n        });\n      };\n    }, function(t, o, i) {\n      var s, r, l, a, c, u, h, p, g;\n      t.exports = (s = \"cdx-notifies\", r = \"cdx-notify\", l = \"cdx-notify__cross\", a = \"cdx-notify__button--confirm\", c = \"cdx-notify__button--cancel\", u = \"cdx-notify__input\", h = \"cdx-notify__button\", p = \"cdx-notify__btns-wrapper\", { alert: g = function(f) {\n        var k = document.createElement(\"DIV\"), C = document.createElement(\"DIV\"), S = f.message, _ = f.style;\n        return k.classList.add(r), _ && k.classList.add(r + \"--\" + _), k.innerHTML = S, C.classList.add(l), C.addEventListener(\"click\", k.remove.bind(k)), k.appendChild(C), k;\n      }, confirm: function(f) {\n        var k = g(f), C = document.createElement(\"div\"), S = document.createElement(\"button\"), _ = document.createElement(\"button\"), ee = k.querySelector(\".\" + l), j = f.cancelHandler, $ = f.okHandler;\n        return C.classList.add(p), S.innerHTML = f.okText || \"Confirm\", _.innerHTML = f.cancelText || \"Cancel\", S.classList.add(h), _.classList.add(h), S.classList.add(a), _.classList.add(c), j && typeof j == \"function\" && (_.addEventListener(\"click\", j), ee.addEventListener(\"click\", j)), $ && typeof $ == \"function\" && S.addEventListener(\"click\", $), S.addEventListener(\"click\", k.remove.bind(k)), _.addEventListener(\"click\", k.remove.bind(k)), C.appendChild(S), C.appendChild(_), k.appendChild(C), k;\n      }, prompt: function(f) {\n        var k = g(f), C = document.createElement(\"div\"), S = document.createElement(\"button\"), _ = document.createElement(\"input\"), ee = k.querySelector(\".\" + l), j = f.cancelHandler, $ = f.okHandler;\n        return C.classList.add(p), S.innerHTML = f.okText || \"Ok\", S.classList.add(h), S.classList.add(a), _.classList.add(u), f.placeholder && _.setAttribute(\"placeholder\", f.placeholder), f.default && (_.value = f.default), f.inputType && (_.type = f.inputType), j && typeof j == \"function\" && ee.addEventListener(\"click\", j), $ && typeof $ == \"function\" && S.addEventListener(\"click\", function() {\n          $(_.value);\n        }), S.addEventListener(\"click\", k.remove.bind(k)), C.appendChild(_), C.appendChild(S), k.appendChild(C), k;\n      }, getWrapper: function() {\n        var f = document.createElement(\"DIV\");\n        return f.classList.add(s), f;\n      } });\n    }]);\n  });\n})(Zt);\nvar xi = Zt.exports;\nconst yi = /* @__PURE__ */ Re(xi);\nclass Ei {\n  /**\n   * Show web notification\n   *\n   * @param {NotifierOptions | ConfirmNotifierOptions | PromptNotifierOptions} options - notification options\n   */\n  show(e) {\n    yi.show(e);\n  }\n}\nclass Bi extends y {\n  /**\n   * @param moduleConfiguration - Module Configuration\n   * @param moduleConfiguration.config - Editor's config\n   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher\n   */\n  constructor({ config: e, eventsDispatcher: t }) {\n    super({\n      config: e,\n      eventsDispatcher: t\n    }), this.notifier = new Ei();\n  }\n  /**\n   * Available methods\n   */\n  get methods() {\n    return {\n      show: (e) => this.show(e)\n    };\n  }\n  /**\n   * Show notification\n   *\n   * @param {NotifierOptions} options - message option\n   */\n  show(e) {\n    return this.notifier.show(e);\n  }\n}\nclass Ti extends y {\n  /**\n   * Available methods\n   */\n  get methods() {\n    const e = () => this.isEnabled;\n    return {\n      toggle: (t) => this.toggle(t),\n      get isEnabled() {\n        return e();\n      }\n    };\n  }\n  /**\n   * Set or toggle read-only state\n   *\n   * @param {boolean|undefined} state - set or toggle state\n   * @returns {boolean} current value\n   */\n  toggle(e) {\n    return this.Editor.ReadOnly.toggle(e);\n  }\n  /**\n   * Returns current read-only state\n   */\n  get isEnabled() {\n    return this.Editor.ReadOnly.isEnabled;\n  }\n}\nvar Gt = { exports: {} };\n(function(n, e) {\n  (function(t, o) {\n    n.exports = o();\n  })(ko, function() {\n    function t(h) {\n      var p = h.tags, g = Object.keys(p), f = g.map(function(k) {\n        return typeof p[k];\n      }).every(function(k) {\n        return k === \"object\" || k === \"boolean\" || k === \"function\";\n      });\n      if (!f)\n        throw new Error(\"The configuration was invalid\");\n      this.config = h;\n    }\n    var o = [\"P\", \"LI\", \"TD\", \"TH\", \"DIV\", \"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\", \"PRE\"];\n    function i(h) {\n      return o.indexOf(h.nodeName) !== -1;\n    }\n    var s = [\"A\", \"B\", \"STRONG\", \"I\", \"EM\", \"SUB\", \"SUP\", \"U\", \"STRIKE\"];\n    function r(h) {\n      return s.indexOf(h.nodeName) !== -1;\n    }\n    t.prototype.clean = function(h) {\n      const p = document.implementation.createHTMLDocument(), g = p.createElement(\"div\");\n      return g.innerHTML = h, this._sanitize(p, g), g.innerHTML;\n    }, t.prototype._sanitize = function(h, p) {\n      var g = l(h, p), f = g.firstChild();\n      if (f)\n        do {\n          if (f.nodeType === Node.TEXT_NODE)\n            if (f.data.trim() === \"\" && (f.previousElementSibling && i(f.previousElementSibling) || f.nextElementSibling && i(f.nextElementSibling))) {\n              p.removeChild(f), this._sanitize(h, p);\n              break;\n            } else\n              continue;\n          if (f.nodeType === Node.COMMENT_NODE) {\n            p.removeChild(f), this._sanitize(h, p);\n            break;\n          }\n          var k = r(f), C;\n          k && (C = Array.prototype.some.call(f.childNodes, i));\n          var S = !!p.parentNode, _ = i(p) && i(f) && S, ee = f.nodeName.toLowerCase(), j = a(this.config, ee, f), $ = k && C;\n          if ($ || c(f, j) || !this.config.keepNestedBlockElements && _) {\n            if (!(f.nodeName === \"SCRIPT\" || f.nodeName === \"STYLE\"))\n              for (; f.childNodes.length > 0; )\n                p.insertBefore(f.childNodes[0], f);\n            p.removeChild(f), this._sanitize(h, p);\n            break;\n          }\n          for (var oe = 0; oe < f.attributes.length; oe += 1) {\n            var pe = f.attributes[oe];\n            u(pe, j, f) && (f.removeAttribute(pe.name), oe = oe - 1);\n          }\n          this._sanitize(h, f);\n        } while (f = g.nextSibling());\n    };\n    function l(h, p) {\n      return h.createTreeWalker(\n        p,\n        NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT,\n        null,\n        !1\n      );\n    }\n    function a(h, p, g) {\n      return typeof h.tags[p] == \"function\" ? h.tags[p](g) : h.tags[p];\n    }\n    function c(h, p) {\n      return typeof p > \"u\" ? !0 : typeof p == \"boolean\" ? !p : !1;\n    }\n    function u(h, p, g) {\n      var f = h.name.toLowerCase();\n      return p === !0 ? !1 : typeof p[f] == \"function\" ? !p[f](h.value, g) : typeof p[f] > \"u\" || p[f] === !1 ? !0 : typeof p[f] == \"string\" ? p[f] !== h.value : !1;\n    }\n    return t;\n  });\n})(Gt);\nvar Ci = Gt.exports;\nconst Si = /* @__PURE__ */ Re(Ci);\nfunction nt(n, e) {\n  return n.map((t) => {\n    const o = A(e) ? e(t.tool) : e;\n    return V(o) || (t.data = rt(t.data, o)), t;\n  });\n}\nfunction q(n, e = {}) {\n  const t = {\n    tags: e\n  };\n  return new Si(t).clean(n);\n}\nfunction rt(n, e) {\n  return Array.isArray(n) ? Ii(n, e) : R(n) ? Mi(n, e) : Q(n) ? Oi(n, e) : n;\n}\nfunction Ii(n, e) {\n  return n.map((t) => rt(t, e));\n}\nfunction Mi(n, e) {\n  const t = {};\n  for (const o in n) {\n    if (!Object.prototype.hasOwnProperty.call(n, o))\n      continue;\n    const i = n[o], s = Ai(e[o]) ? e[o] : e;\n    t[o] = rt(i, s);\n  }\n  return t;\n}\nfunction Oi(n, e) {\n  return R(e) ? q(n, e) : e === !1 ? q(n, {}) : n;\n}\nfunction Ai(n) {\n  return R(n) || yo(n) || A(n);\n}\nclass Li extends y {\n  /**\n   * Available methods\n   *\n   * @returns {SanitizerConfig}\n   */\n  get methods() {\n    return {\n      clean: (e, t) => this.clean(e, t)\n    };\n  }\n  /**\n   * Perform sanitizing of a string\n   *\n   * @param {string} taintString - what to sanitize\n   * @param {SanitizerConfig} config - sanitizer config\n   * @returns {string}\n   */\n  clean(e, t) {\n    return q(e, t);\n  }\n}\nclass _i extends y {\n  /**\n   * Available methods\n   *\n   * @returns {Saver}\n   */\n  get methods() {\n    return {\n      save: () => this.save()\n    };\n  }\n  /**\n   * Return Editor's data\n   *\n   * @returns {OutputData}\n   */\n  save() {\n    const e = \"Editor's content can not be saved in read-only mode\";\n    return this.Editor.ReadOnly.isEnabled ? (X(e, \"warn\"), Promise.reject(new Error(e))) : this.Editor.Saver.save();\n  }\n}\nclass Ni extends y {\n  constructor() {\n    super(...arguments), this.selectionUtils = new b();\n  }\n  /**\n   * Available methods\n   *\n   * @returns {SelectionAPIInterface}\n   */\n  get methods() {\n    return {\n      findParentTag: (e, t) => this.findParentTag(e, t),\n      expandToTag: (e) => this.expandToTag(e),\n      save: () => this.selectionUtils.save(),\n      restore: () => this.selectionUtils.restore(),\n      setFakeBackground: () => this.selectionUtils.setFakeBackground(),\n      removeFakeBackground: () => this.selectionUtils.removeFakeBackground()\n    };\n  }\n  /**\n   * Looks ahead from selection and find passed tag with class name\n   *\n   * @param {string} tagName - tag to find\n   * @param {string} className - tag's class name\n   * @returns {HTMLElement|null}\n   */\n  findParentTag(e, t) {\n    return this.selectionUtils.findParentTag(e, t);\n  }\n  /**\n   * Expand selection to passed tag\n   *\n   * @param {HTMLElement} node - tag that should contain selection\n   */\n  expandToTag(e) {\n    this.selectionUtils.expandToTag(e);\n  }\n}\nclass Pi extends y {\n  /**\n   * Available methods\n   */\n  get methods() {\n    return {\n      getBlockTools: () => Array.from(this.Editor.Tools.blockTools.values())\n    };\n  }\n}\nclass Di extends y {\n  /**\n   * Exported classes\n   */\n  get classes() {\n    return {\n      /**\n       * Base Block styles\n       */\n      block: \"cdx-block\",\n      /**\n       * Inline Tools styles\n       */\n      inlineToolButton: \"ce-inline-tool\",\n      inlineToolButtonActive: \"ce-inline-tool--active\",\n      /**\n       * UI elements\n       */\n      input: \"cdx-input\",\n      loader: \"cdx-loader\",\n      button: \"cdx-button\",\n      /**\n       * Settings styles\n       */\n      settingsButton: \"cdx-settings-button\",\n      settingsButtonActive: \"cdx-settings-button--active\"\n    };\n  }\n}\nclass Ri extends y {\n  /**\n   * Available methods\n   *\n   * @returns {Toolbar}\n   */\n  get methods() {\n    return {\n      close: () => this.close(),\n      open: () => this.open(),\n      toggleBlockSettings: (e) => this.toggleBlockSettings(e),\n      toggleToolbox: (e) => this.toggleToolbox(e)\n    };\n  }\n  /**\n   * Open toolbar\n   */\n  open() {\n    this.Editor.Toolbar.moveAndOpen();\n  }\n  /**\n   * Close toolbar and all included elements\n   */\n  close() {\n    this.Editor.Toolbar.close();\n  }\n  /**\n   * Toggles Block Setting of the current block\n   *\n   * @param {boolean} openingState   opening state of Block Setting\n   */\n  toggleBlockSettings(e) {\n    if (this.Editor.BlockManager.currentBlockIndex === -1) {\n      X(\"Could't toggle the Toolbar because there is no block selected \", \"warn\");\n      return;\n    }\n    e ?? !this.Editor.BlockSettings.opened ? (this.Editor.Toolbar.moveAndOpen(), this.Editor.BlockSettings.open()) : this.Editor.BlockSettings.close();\n  }\n  /**\n   * Open toolbox\n   *\n   * @param {boolean} openingState - Opening state of toolbox\n   */\n  toggleToolbox(e) {\n    if (this.Editor.BlockManager.currentBlockIndex === -1) {\n      X(\"Could't toggle the Toolbox because there is no block selected \", \"warn\");\n      return;\n    }\n    e ?? !this.Editor.Toolbar.toolbox.opened ? (this.Editor.Toolbar.moveAndOpen(), this.Editor.Toolbar.toolbox.open()) : this.Editor.Toolbar.toolbox.close();\n  }\n}\nclass Fi extends y {\n  /**\n   * @class\n   * @param moduleConfiguration - Module Configuration\n   * @param moduleConfiguration.config - Editor's config\n   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher\n   */\n  constructor({ config: e, eventsDispatcher: t }) {\n    super({\n      config: e,\n      eventsDispatcher: t\n    });\n  }\n  /**\n   * Available methods\n   */\n  get methods() {\n    return {\n      show: (e, t, o) => this.show(e, t, o),\n      hide: () => this.hide(),\n      onHover: (e, t, o) => this.onHover(e, t, o)\n    };\n  }\n  /**\n   * Method show tooltip on element with passed HTML content\n   *\n   * @param {HTMLElement} element - element on which tooltip should be shown\n   * @param {TooltipContent} content - tooltip content\n   * @param {TooltipOptions} options - tooltip options\n   */\n  show(e, t, o) {\n    ti(e, t, o);\n  }\n  /**\n   * Method hides tooltip on HTML page\n   */\n  hide() {\n    _e();\n  }\n  /**\n   * Decorator for showing Tooltip by mouseenter/mouseleave\n   *\n   * @param {HTMLElement} element - element on which tooltip should be shown\n   * @param {TooltipContent} content - tooltip content\n   * @param {TooltipOptions} options - tooltip options\n   */\n  onHover(e, t, o) {\n    Ne(e, t, o);\n  }\n}\nclass Hi extends y {\n  /**\n   * Available methods / getters\n   */\n  get methods() {\n    return {\n      nodes: this.editorNodes\n      /**\n       * There can be added some UI methods, like toggleThinMode() etc\n       */\n    };\n  }\n  /**\n   * Exported classes\n   */\n  get editorNodes() {\n    return {\n      /**\n       * Top-level editor instance wrapper\n       */\n      wrapper: this.Editor.UI.nodes.wrapper,\n      /**\n       * Element that holds all the Blocks\n       */\n      redactor: this.Editor.UI.nodes.redactor\n    };\n  }\n}\nfunction Jt(n, e) {\n  const t = {};\n  return Object.entries(n).forEach(([o, i]) => {\n    if (R(i)) {\n      const s = e ? `${e}.${o}` : o;\n      Object.values(i).every((l) => Q(l)) ? t[o] = s : t[o] = Jt(i, s);\n      return;\n    }\n    t[o] = i;\n  }), t;\n}\nconst K = Jt(Lt);\nfunction zi(n, e) {\n  const t = {};\n  return Object.keys(n).forEach((o) => {\n    const i = e[o];\n    i !== void 0 ? t[i] = n[o] : t[o] = n[o];\n  }), t;\n}\nclass Ui extends y {\n  constructor() {\n    super(...arguments), this.opened = !1, this.selection = new b(), this.popover = null, this.close = () => {\n      this.opened && (this.opened = !1, b.isAtEditor || this.selection.restore(), this.selection.clearSaved(), !this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted && this.Editor.BlockManager.currentBlock && this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock), this.eventsDispatcher.emit(this.events.closed), this.popover && (this.popover.off(Z.Closed, this.onPopoverClose), this.popover.destroy(), this.popover.getElement().remove(), this.popover = null));\n    }, this.onPopoverClose = () => {\n      this.close();\n    };\n  }\n  /**\n   * Module Events\n   */\n  get events() {\n    return {\n      opened: \"block-settings-opened\",\n      closed: \"block-settings-closed\"\n    };\n  }\n  /**\n   * Block Settings CSS\n   */\n  get CSS() {\n    return {\n      settings: \"ce-settings\"\n    };\n  }\n  /**\n   * Getter for inner popover's flipper instance\n   *\n   * @todo remove once BlockSettings becomes standalone non-module class\n   */\n  get flipper() {\n    var e;\n    if (this.popover !== null)\n      return \"flipper\" in this.popover ? (e = this.popover) == null ? void 0 : e.flipper : void 0;\n  }\n  /**\n   * Panel with block settings with 2 sections:\n   *  - Tool's Settings\n   *  - Default Settings [Move, Remove, etc]\n   */\n  make() {\n    this.nodes.wrapper = d.make(\"div\", [this.CSS.settings]), this.eventsDispatcher.on(xe, this.close);\n  }\n  /**\n   * Destroys module\n   */\n  destroy() {\n    this.removeAllNodes(), this.listeners.destroy(), this.eventsDispatcher.off(xe, this.close);\n  }\n  /**\n   * Open Block Settings pane\n   *\n   * @param targetBlock - near which Block we should open BlockSettings\n   */\n  async open(e = this.Editor.BlockManager.currentBlock) {\n    var s;\n    this.opened = !0, this.selection.save(), this.Editor.BlockSelection.selectBlock(e), this.Editor.BlockSelection.clearCache();\n    const { toolTunes: t, commonTunes: o } = e.getTunes();\n    this.eventsDispatcher.emit(this.events.opened);\n    const i = ue() ? qt : it;\n    this.popover = new i({\n      searchable: !0,\n      items: await this.getTunesItems(e, o, t),\n      scopeElement: this.Editor.API.methods.ui.nodes.redactor,\n      messages: {\n        nothingFound: z.ui(K.ui.popover, \"Nothing found\"),\n        search: z.ui(K.ui.popover, \"Filter\")\n      }\n    }), this.popover.on(Z.Closed, this.onPopoverClose), (s = this.nodes.wrapper) == null || s.append(this.popover.getElement()), this.popover.show();\n  }\n  /**\n   * Returns root block settings element\n   */\n  getElement() {\n    return this.nodes.wrapper;\n  }\n  /**\n   * Returns list of items to be displayed in block tunes menu.\n   * Merges tool specific tunes, conversion menu and common tunes in one list in predefined order\n   *\n   * @param currentBlock   block we are about to open block tunes for\n   * @param commonTunes  common tunes\n   * @param toolTunes - tool specific tunes\n   */\n  async getTunesItems(e, t, o) {\n    const i = [];\n    o !== void 0 && o.length > 0 && (i.push(...o), i.push({\n      type: O.Separator\n    }));\n    const s = Array.from(this.Editor.Tools.blockTools.values()), l = (await zt(e, s)).reduce((a, c) => (c.toolbox.forEach((u) => {\n      a.push({\n        icon: u.icon,\n        title: z.t(K.toolNames, u.title),\n        name: c.name,\n        closeOnActivate: !0,\n        onActivate: async () => {\n          const { BlockManager: h, Caret: p, Toolbar: g } = this.Editor, f = await h.convert(e, c.name, u.data);\n          g.close(), p.setToBlock(f, p.positions.END);\n        }\n      });\n    }), a), []);\n    return l.length > 0 && (i.push({\n      icon: jt,\n      name: \"convert-to\",\n      title: z.ui(K.ui.popover, \"Convert to\"),\n      children: {\n        searchable: !0,\n        items: l\n      }\n    }), i.push({\n      type: O.Separator\n    })), i.push(...t), i.map((a) => this.resolveTuneAliases(a));\n  }\n  /**\n   * Resolves aliases in tunes menu items\n   *\n   * @param item - item with resolved aliases\n   */\n  resolveTuneAliases(e) {\n    if (e.type === O.Separator || e.type === O.Html)\n      return e;\n    const t = zi(e, { label: \"title\" });\n    return e.confirmation && (t.confirmation = this.resolveTuneAliases(e.confirmation)), t;\n  }\n}\nvar Qt = { exports: {} };\n/*!\n * Library for handling keyboard shortcuts\n * @copyright CodeX (https://codex.so)\n * @license MIT\n * @author CodeX (https://codex.so)\n * @version 1.2.0\n */\n(function(n, e) {\n  (function(t, o) {\n    n.exports = o();\n  })(window, function() {\n    return function(t) {\n      var o = {};\n      function i(s) {\n        if (o[s])\n          return o[s].exports;\n        var r = o[s] = { i: s, l: !1, exports: {} };\n        return t[s].call(r.exports, r, r.exports, i), r.l = !0, r.exports;\n      }\n      return i.m = t, i.c = o, i.d = function(s, r, l) {\n        i.o(s, r) || Object.defineProperty(s, r, { enumerable: !0, get: l });\n      }, i.r = function(s) {\n        typeof Symbol < \"u\" && Symbol.toStringTag && Object.defineProperty(s, Symbol.toStringTag, { value: \"Module\" }), Object.defineProperty(s, \"__esModule\", { value: !0 });\n      }, i.t = function(s, r) {\n        if (1 & r && (s = i(s)), 8 & r || 4 & r && typeof s == \"object\" && s && s.__esModule)\n          return s;\n        var l = /* @__PURE__ */ Object.create(null);\n        if (i.r(l), Object.defineProperty(l, \"default\", { enumerable: !0, value: s }), 2 & r && typeof s != \"string\")\n          for (var a in s)\n            i.d(l, a, (function(c) {\n              return s[c];\n            }).bind(null, a));\n        return l;\n      }, i.n = function(s) {\n        var r = s && s.__esModule ? function() {\n          return s.default;\n        } : function() {\n          return s;\n        };\n        return i.d(r, \"a\", r), r;\n      }, i.o = function(s, r) {\n        return Object.prototype.hasOwnProperty.call(s, r);\n      }, i.p = \"\", i(i.s = 0);\n    }([function(t, o, i) {\n      function s(a, c) {\n        for (var u = 0; u < c.length; u++) {\n          var h = c[u];\n          h.enumerable = h.enumerable || !1, h.configurable = !0, \"value\" in h && (h.writable = !0), Object.defineProperty(a, h.key, h);\n        }\n      }\n      function r(a, c, u) {\n        return c && s(a.prototype, c), u && s(a, u), a;\n      }\n      i.r(o);\n      var l = function() {\n        function a(c) {\n          var u = this;\n          (function(h, p) {\n            if (!(h instanceof p))\n              throw new TypeError(\"Cannot call a class as a function\");\n          })(this, a), this.commands = {}, this.keys = {}, this.name = c.name, this.parseShortcutName(c.name), this.element = c.on, this.callback = c.callback, this.executeShortcut = function(h) {\n            u.execute(h);\n          }, this.element.addEventListener(\"keydown\", this.executeShortcut, !1);\n        }\n        return r(a, null, [{ key: \"supportedCommands\", get: function() {\n          return { SHIFT: [\"SHIFT\"], CMD: [\"CMD\", \"CONTROL\", \"COMMAND\", \"WINDOWS\", \"CTRL\"], ALT: [\"ALT\", \"OPTION\"] };\n        } }, { key: \"keyCodes\", get: function() {\n          return { 0: 48, 1: 49, 2: 50, 3: 51, 4: 52, 5: 53, 6: 54, 7: 55, 8: 56, 9: 57, A: 65, B: 66, C: 67, D: 68, E: 69, F: 70, G: 71, H: 72, I: 73, J: 74, K: 75, L: 76, M: 77, N: 78, O: 79, P: 80, Q: 81, R: 82, S: 83, T: 84, U: 85, V: 86, W: 87, X: 88, Y: 89, Z: 90, BACKSPACE: 8, ENTER: 13, ESCAPE: 27, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, INSERT: 45, DELETE: 46, \".\": 190 };\n        } }]), r(a, [{ key: \"parseShortcutName\", value: function(c) {\n          c = c.split(\"+\");\n          for (var u = 0; u < c.length; u++) {\n            c[u] = c[u].toUpperCase();\n            var h = !1;\n            for (var p in a.supportedCommands)\n              if (a.supportedCommands[p].includes(c[u])) {\n                h = this.commands[p] = !0;\n                break;\n              }\n            h || (this.keys[c[u]] = !0);\n          }\n          for (var g in a.supportedCommands)\n            this.commands[g] || (this.commands[g] = !1);\n        } }, { key: \"execute\", value: function(c) {\n          var u, h = { CMD: c.ctrlKey || c.metaKey, SHIFT: c.shiftKey, ALT: c.altKey }, p = !0;\n          for (u in this.commands)\n            this.commands[u] !== h[u] && (p = !1);\n          var g, f = !0;\n          for (g in this.keys)\n            f = f && c.keyCode === a.keyCodes[g];\n          p && f && this.callback(c);\n        } }, { key: \"remove\", value: function() {\n          this.element.removeEventListener(\"keydown\", this.executeShortcut);\n        } }]), a;\n      }();\n      o.default = l;\n    }]).default;\n  });\n})(Qt);\nvar ji = Qt.exports;\nconst $i = /* @__PURE__ */ Re(ji);\nclass Yi {\n  constructor() {\n    this.registeredShortcuts = /* @__PURE__ */ new Map();\n  }\n  /**\n   * Register shortcut\n   *\n   * @param shortcut - shortcut options\n   */\n  add(e) {\n    if (this.findShortcut(e.on, e.name))\n      throw Error(\n        `Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`\n      );\n    const o = new $i({\n      name: e.name,\n      on: e.on,\n      callback: e.handler\n    }), i = this.registeredShortcuts.get(e.on) || [];\n    this.registeredShortcuts.set(e.on, [...i, o]);\n  }\n  /**\n   * Remove shortcut\n   *\n   * @param element - Element shortcut is set for\n   * @param name - shortcut name\n   */\n  remove(e, t) {\n    const o = this.findShortcut(e, t);\n    if (!o)\n      return;\n    o.remove();\n    const i = this.registeredShortcuts.get(e);\n    this.registeredShortcuts.set(e, i.filter((s) => s !== o));\n  }\n  /**\n   * Get Shortcut instance if exist\n   *\n   * @param element - Element shorcut is set for\n   * @param shortcut - shortcut name\n   * @returns {number} index - shortcut index if exist\n   */\n  findShortcut(e, t) {\n    return (this.registeredShortcuts.get(e) || []).find(({ name: i }) => i === t);\n  }\n}\nconst de = new Yi();\nvar Wi = Object.defineProperty, Ki = Object.getOwnPropertyDescriptor, eo = (n, e, t, o) => {\n  for (var i = o > 1 ? void 0 : o ? Ki(e, t) : e, s = n.length - 1, r; s >= 0; s--)\n    (r = n[s]) && (i = (o ? r(e, t, i) : r(i)) || i);\n  return o && i && Wi(e, t, i), i;\n}, Ce = /* @__PURE__ */ ((n) => (n.Opened = \"toolbox-opened\", n.Closed = \"toolbox-closed\", n.BlockAdded = \"toolbox-block-added\", n))(Ce || {});\nconst lt = class to extends Be {\n  /**\n   * Toolbox constructor\n   *\n   * @param options - available parameters\n   * @param options.api - Editor API methods\n   * @param options.tools - Tools available to check whether some of them should be displayed at the Toolbox or not\n   */\n  constructor({ api: e, tools: t, i18nLabels: o }) {\n    super(), this.opened = !1, this.listeners = new Te(), this.popover = null, this.handleMobileLayoutToggle = () => {\n      this.destroyPopover(), this.initPopover();\n    }, this.onPopoverClose = () => {\n      this.opened = !1, this.emit(\n        \"toolbox-closed\"\n        /* Closed */\n      );\n    }, this.api = e, this.tools = t, this.i18nLabels = o, this.enableShortcuts(), this.nodes = {\n      toolbox: d.make(\"div\", to.CSS.toolbox)\n    }, this.initPopover(), this.api.events.on(xe, this.handleMobileLayoutToggle);\n  }\n  /**\n   * Returns True if Toolbox is Empty and nothing to show\n   *\n   * @returns {boolean}\n   */\n  get isEmpty() {\n    return this.toolsToBeDisplayed.length === 0;\n  }\n  /**\n   * CSS styles\n   */\n  static get CSS() {\n    return {\n      toolbox: \"ce-toolbox\"\n    };\n  }\n  /**\n   * Returns root block settings element\n   */\n  getElement() {\n    return this.nodes.toolbox;\n  }\n  /**\n   * Returns true if the Toolbox has the Flipper activated and the Flipper has selected button\n   */\n  hasFocus() {\n    if (this.popover !== null)\n      return \"hasFocus\" in this.popover ? this.popover.hasFocus() : void 0;\n  }\n  /**\n   * Destroy Module\n   */\n  destroy() {\n    var e;\n    super.destroy(), this.nodes && this.nodes.toolbox && this.nodes.toolbox.remove(), this.removeAllShortcuts(), (e = this.popover) == null || e.off(Z.Closed, this.onPopoverClose), this.listeners.destroy(), this.api.events.off(xe, this.handleMobileLayoutToggle);\n  }\n  /**\n   * Toolbox Tool's button click handler\n   *\n   * @param toolName - tool type to be activated\n   * @param blockDataOverrides - Block data predefined by the activated Toolbox item\n   */\n  toolButtonActivated(e, t) {\n    this.insertNewBlock(e, t);\n  }\n  /**\n   * Open Toolbox with Tools\n   */\n  open() {\n    var e;\n    this.isEmpty || ((e = this.popover) == null || e.show(), this.opened = !0, this.emit(\n      \"toolbox-opened\"\n      /* Opened */\n    ));\n  }\n  /**\n   * Close Toolbox\n   */\n  close() {\n    var e;\n    (e = this.popover) == null || e.hide(), this.opened = !1, this.emit(\n      \"toolbox-closed\"\n      /* Closed */\n    );\n  }\n  /**\n   * Close Toolbox\n   */\n  toggle() {\n    this.opened ? this.close() : this.open();\n  }\n  /**\n   * Creates toolbox popover and appends it inside wrapper element\n   */\n  initPopover() {\n    var t;\n    const e = ue() ? qt : it;\n    this.popover = new e({\n      scopeElement: this.api.ui.nodes.redactor,\n      searchable: !0,\n      messages: {\n        nothingFound: this.i18nLabels.nothingFound,\n        search: this.i18nLabels.filter\n      },\n      items: this.toolboxItemsToBeDisplayed\n    }), this.popover.on(Z.Closed, this.onPopoverClose), (t = this.nodes.toolbox) == null || t.append(this.popover.getElement());\n  }\n  /**\n   * Destroys popover instance and removes it from DOM\n   */\n  destroyPopover() {\n    this.popover !== null && (this.popover.hide(), this.popover.off(Z.Closed, this.onPopoverClose), this.popover.destroy(), this.popover = null), this.nodes.toolbox !== null && (this.nodes.toolbox.innerHTML = \"\");\n  }\n  get toolsToBeDisplayed() {\n    const e = [];\n    return this.tools.forEach((t) => {\n      t.toolbox && e.push(t);\n    }), e;\n  }\n  get toolboxItemsToBeDisplayed() {\n    const e = (t, o) => ({\n      icon: t.icon,\n      title: z.t(K.toolNames, t.title || Ae(o.name)),\n      name: o.name,\n      onActivate: () => {\n        this.toolButtonActivated(o.name, t.data);\n      },\n      secondaryLabel: o.shortcut ? et(o.shortcut) : \"\"\n    });\n    return this.toolsToBeDisplayed.reduce((t, o) => (Array.isArray(o.toolbox) ? o.toolbox.forEach((i) => {\n      t.push(e(i, o));\n    }) : o.toolbox !== void 0 && t.push(e(o.toolbox, o)), t), []);\n  }\n  /**\n   * Iterate all tools and enable theirs shortcuts if specified\n   */\n  enableShortcuts() {\n    this.toolsToBeDisplayed.forEach((e) => {\n      const t = e.shortcut;\n      t && this.enableShortcutForTool(e.name, t);\n    });\n  }\n  /**\n   * Enable shortcut Block Tool implemented shortcut\n   *\n   * @param {string} toolName - Tool name\n   * @param {string} shortcut - shortcut according to the ShortcutData Module format\n   */\n  enableShortcutForTool(e, t) {\n    de.add({\n      name: t,\n      on: this.api.ui.nodes.redactor,\n      handler: async (o) => {\n        o.preventDefault();\n        const i = this.api.blocks.getCurrentBlockIndex(), s = this.api.blocks.getBlockByIndex(i);\n        if (s)\n          try {\n            const r = await this.api.blocks.convert(s.id, e);\n            this.api.caret.setToBlock(r, \"end\");\n            return;\n          } catch {\n          }\n        this.insertNewBlock(e);\n      }\n    });\n  }\n  /**\n   * Removes all added shortcuts\n   * Fired when the Read-Only mode is activated\n   */\n  removeAllShortcuts() {\n    this.toolsToBeDisplayed.forEach((e) => {\n      const t = e.shortcut;\n      t && de.remove(this.api.ui.nodes.redactor, t);\n    });\n  }\n  /**\n   * Inserts new block\n   * Can be called when button clicked on Toolbox or by ShortcutData\n   *\n   * @param {string} toolName - Tool name\n   * @param blockDataOverrides - predefined Block data\n   */\n  async insertNewBlock(e, t) {\n    const o = this.api.blocks.getCurrentBlockIndex(), i = this.api.blocks.getBlockByIndex(o);\n    if (!i)\n      return;\n    const s = i.isEmpty ? o : o + 1;\n    let r;\n    if (t) {\n      const a = await this.api.blocks.composeBlockData(e);\n      r = Object.assign(a, t);\n    }\n    const l = this.api.blocks.insert(\n      e,\n      r,\n      void 0,\n      s,\n      void 0,\n      i.isEmpty\n    );\n    l.call(J.APPEND_CALLBACK), this.api.caret.setToBlock(s), this.emit(\"toolbox-block-added\", {\n      block: l\n    }), this.api.toolbar.close();\n  }\n};\neo([\n  he\n], lt.prototype, \"toolsToBeDisplayed\", 1);\neo([\n  he\n], lt.prototype, \"toolboxItemsToBeDisplayed\", 1);\nlet Xi = lt;\nconst oo = \"block hovered\";\nasync function Vi(n, e) {\n  const t = navigator.keyboard;\n  return t && (await t.getLayoutMap()).get(n) || e;\n}\nclass qi extends y {\n  /**\n   * @class\n   * @param moduleConfiguration - Module Configuration\n   * @param moduleConfiguration.config - Editor's config\n   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher\n   */\n  constructor({ config: e, eventsDispatcher: t }) {\n    super({\n      config: e,\n      eventsDispatcher: t\n    }), this.toolboxInstance = null;\n  }\n  /**\n   * CSS styles\n   *\n   * @returns {object}\n   */\n  get CSS() {\n    return {\n      toolbar: \"ce-toolbar\",\n      content: \"ce-toolbar__content\",\n      actions: \"ce-toolbar__actions\",\n      actionsOpened: \"ce-toolbar__actions--opened\",\n      toolbarOpened: \"ce-toolbar--opened\",\n      openedToolboxHolderModifier: \"codex-editor--toolbox-opened\",\n      plusButton: \"ce-toolbar__plus\",\n      plusButtonShortcut: \"ce-toolbar__plus-shortcut\",\n      settingsToggler: \"ce-toolbar__settings-btn\",\n      settingsTogglerHidden: \"ce-toolbar__settings-btn--hidden\"\n    };\n  }\n  /**\n   * Returns the Toolbar opening state\n   *\n   * @returns {boolean}\n   */\n  get opened() {\n    return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened);\n  }\n  /**\n   * Public interface for accessing the Toolbox\n   */\n  get toolbox() {\n    var e;\n    return {\n      opened: (e = this.toolboxInstance) == null ? void 0 : e.opened,\n      close: () => {\n        var t;\n        (t = this.toolboxInstance) == null || t.close();\n      },\n      open: () => {\n        if (this.toolboxInstance === null) {\n          I(\"toolbox.open() called before initialization is finished\", \"warn\");\n          return;\n        }\n        this.Editor.BlockManager.currentBlock = this.hoveredBlock, this.toolboxInstance.open();\n      },\n      toggle: () => {\n        if (this.toolboxInstance === null) {\n          I(\"toolbox.toggle() called before initialization is finished\", \"warn\");\n          return;\n        }\n        this.toolboxInstance.toggle();\n      },\n      hasFocus: () => {\n        var t;\n        return (t = this.toolboxInstance) == null ? void 0 : t.hasFocus();\n      }\n    };\n  }\n  /**\n   * Block actions appearance manipulations\n   */\n  get blockActions() {\n    return {\n      hide: () => {\n        this.nodes.actions.classList.remove(this.CSS.actionsOpened);\n      },\n      show: () => {\n        this.nodes.actions.classList.add(this.CSS.actionsOpened);\n      }\n    };\n  }\n  /**\n   * Methods for working with Block Tunes toggler\n   */\n  get blockTunesToggler() {\n    return {\n      hide: () => this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),\n      show: () => this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)\n    };\n  }\n  /**\n   * Toggles read-only mode\n   *\n   * @param {boolean} readOnlyEnabled - read-only mode\n   */\n  toggleReadOnly(e) {\n    e ? (this.destroy(), this.Editor.BlockSettings.destroy(), this.disableModuleBindings()) : window.requestIdleCallback(() => {\n      this.drawUI(), this.enableModuleBindings();\n    }, { timeout: 2e3 });\n  }\n  /**\n   * Move Toolbar to the passed (or current) Block\n   *\n   * @param block - block to move Toolbar near it\n   */\n  moveAndOpen(e = this.Editor.BlockManager.currentBlock) {\n    if (this.toolboxInstance === null) {\n      I(\"Can't open Toolbar since Editor initialization is not finished yet\", \"warn\");\n      return;\n    }\n    if (this.toolboxInstance.opened && this.toolboxInstance.close(), this.Editor.BlockSettings.opened && this.Editor.BlockSettings.close(), !e)\n      return;\n    this.hoveredBlock = e;\n    const t = e.holder, { isMobile: o } = this.Editor.UI;\n    let i;\n    const s = 20, r = e.firstInput, l = t.getBoundingClientRect(), a = r !== void 0 ? r.getBoundingClientRect() : null, c = a !== null ? a.top - l.top : null, u = c !== null ? c > s : void 0;\n    if (o)\n      i = t.offsetTop + t.offsetHeight;\n    else if (r === void 0 || u) {\n      const h = parseInt(window.getComputedStyle(e.pluginsContent).paddingTop);\n      i = t.offsetTop + h;\n    } else {\n      const h = _o(r), p = parseInt(window.getComputedStyle(this.nodes.plusButton).height, 10), g = 8;\n      i = t.offsetTop + h - p + g + c;\n    }\n    this.nodes.wrapper.style.top = `${Math.floor(i)}px`, this.Editor.BlockManager.blocks.length === 1 && e.isEmpty ? this.blockTunesToggler.hide() : this.blockTunesToggler.show(), this.open();\n  }\n  /**\n   * Close the Toolbar\n   */\n  close() {\n    var e, t;\n    this.Editor.ReadOnly.isEnabled || ((e = this.nodes.wrapper) == null || e.classList.remove(this.CSS.toolbarOpened), this.blockActions.hide(), (t = this.toolboxInstance) == null || t.close(), this.Editor.BlockSettings.close(), this.reset());\n  }\n  /**\n   * Reset the Toolbar position to prevent DOM height growth, for example after blocks deletion\n   */\n  reset() {\n    this.nodes.wrapper.style.top = \"unset\";\n  }\n  /**\n   * Open Toolbar with Plus Button and Actions\n   *\n   * @param {boolean} withBlockActions - by default, Toolbar opens with Block Actions.\n   *                                     This flag allows to open Toolbar without Actions.\n   */\n  open(e = !0) {\n    this.nodes.wrapper.classList.add(this.CSS.toolbarOpened), e ? this.blockActions.show() : this.blockActions.hide();\n  }\n  /**\n   * Draws Toolbar elements\n   */\n  async make() {\n    this.nodes.wrapper = d.make(\"div\", this.CSS.toolbar), [\"content\", \"actions\"].forEach((s) => {\n      this.nodes[s] = d.make(\"div\", this.CSS[s]);\n    }), d.append(this.nodes.wrapper, this.nodes.content), d.append(this.nodes.content, this.nodes.actions), this.nodes.plusButton = d.make(\"div\", this.CSS.plusButton, {\n      innerHTML: qo\n    }), d.append(this.nodes.actions, this.nodes.plusButton), this.readOnlyMutableListeners.on(this.nodes.plusButton, \"click\", () => {\n      _e(!0), this.plusButtonClicked();\n    }, !1);\n    const e = d.make(\"div\");\n    e.appendChild(document.createTextNode(z.ui(K.ui.toolbar.toolbox, \"Add\"))), e.appendChild(d.make(\"div\", this.CSS.plusButtonShortcut, {\n      textContent: \"/\"\n    })), Ne(this.nodes.plusButton, e, {\n      hidingDelay: 400\n    }), this.nodes.settingsToggler = d.make(\"span\", this.CSS.settingsToggler, {\n      innerHTML: Vo\n    }), d.append(this.nodes.actions, this.nodes.settingsToggler);\n    const t = d.make(\"div\"), o = d.text(z.ui(K.ui.blockTunes.toggler, \"Click to tune\")), i = await Vi(\"Slash\", \"/\");\n    t.appendChild(o), t.appendChild(d.make(\"div\", this.CSS.plusButtonShortcut, {\n      textContent: et(`CMD + ${i}`)\n    })), Ne(this.nodes.settingsToggler, t, {\n      hidingDelay: 400\n    }), d.append(this.nodes.actions, this.makeToolbox()), d.append(this.nodes.actions, this.Editor.BlockSettings.getElement()), d.append(this.Editor.UI.nodes.wrapper, this.nodes.wrapper);\n  }\n  /**\n   * Creates the Toolbox instance and return it's rendered element\n   */\n  makeToolbox() {\n    return this.toolboxInstance = new Xi({\n      api: this.Editor.API.methods,\n      tools: this.Editor.Tools.blockTools,\n      i18nLabels: {\n        filter: z.ui(K.ui.popover, \"Filter\"),\n        nothingFound: z.ui(K.ui.popover, \"Nothing found\")\n      }\n    }), this.toolboxInstance.on(Ce.Opened, () => {\n      this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier);\n    }), this.toolboxInstance.on(Ce.Closed, () => {\n      this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier);\n    }), this.toolboxInstance.on(Ce.BlockAdded, ({ block: e }) => {\n      const { BlockManager: t, Caret: o } = this.Editor, i = t.getBlockById(e.id);\n      i.inputs.length === 0 && (i === t.lastBlock ? (t.insertAtEnd(), o.setToBlock(t.lastBlock)) : o.setToBlock(t.nextBlock));\n    }), this.toolboxInstance.getElement();\n  }\n  /**\n   * Handler for Plus Button\n   */\n  plusButtonClicked() {\n    var e;\n    this.Editor.BlockManager.currentBlock = this.hoveredBlock, (e = this.toolboxInstance) == null || e.toggle();\n  }\n  /**\n   * Enable bindings\n   */\n  enableModuleBindings() {\n    this.readOnlyMutableListeners.on(this.nodes.settingsToggler, \"mousedown\", (e) => {\n      var t;\n      e.stopPropagation(), this.settingsTogglerClicked(), (t = this.toolboxInstance) != null && t.opened && this.toolboxInstance.close(), _e(!0);\n    }, !0), ue() || this.eventsDispatcher.on(oo, (e) => {\n      var t;\n      this.Editor.BlockSettings.opened || (t = this.toolboxInstance) != null && t.opened || this.moveAndOpen(e.block);\n    });\n  }\n  /**\n   * Disable bindings\n   */\n  disableModuleBindings() {\n    this.readOnlyMutableListeners.clearAll();\n  }\n  /**\n   * Clicks on the Block Settings toggler\n   */\n  settingsTogglerClicked() {\n    this.Editor.BlockManager.currentBlock = this.hoveredBlock, this.Editor.BlockSettings.opened ? this.Editor.BlockSettings.close() : this.Editor.BlockSettings.open(this.hoveredBlock);\n  }\n  /**\n   * Draws Toolbar UI\n   *\n   * Toolbar contains BlockSettings and Toolbox.\n   * That's why at first we draw its components and then Toolbar itself\n   *\n   * Steps:\n   *  - Make Toolbar dependent components like BlockSettings, Toolbox and so on\n   *  - Make itself and append dependent nodes to itself\n   *\n   */\n  drawUI() {\n    this.Editor.BlockSettings.make(), this.make();\n  }\n  /**\n   * Removes all created and saved HTMLElements\n   * It is used in Read-Only mode\n   */\n  destroy() {\n    this.removeAllNodes(), this.toolboxInstance && this.toolboxInstance.destroy();\n  }\n}\nvar Fe = /* @__PURE__ */ ((n) => (n[n.Block = 0] = \"Block\", n[n.Inline = 1] = \"Inline\", n[n.Tune = 2] = \"Tune\", n))(Fe || {}), Se = /* @__PURE__ */ ((n) => (n.Shortcut = \"shortcut\", n.Toolbox = \"toolbox\", n.EnabledInlineTools = \"inlineToolbar\", n.EnabledBlockTunes = \"tunes\", n.Config = \"config\", n))(Se || {}), io = /* @__PURE__ */ ((n) => (n.Shortcut = \"shortcut\", n.SanitizeConfig = \"sanitize\", n))(io || {}), ae = /* @__PURE__ */ ((n) => (n.IsEnabledLineBreaks = \"enableLineBreaks\", n.Toolbox = \"toolbox\", n.ConversionConfig = \"conversionConfig\", n.IsReadOnlySupported = \"isReadOnlySupported\", n.PasteConfig = \"pasteConfig\", n))(ae || {}), at = /* @__PURE__ */ ((n) => (n.IsInline = \"isInline\", n.Title = \"title\", n))(at || {}), Qe = /* @__PURE__ */ ((n) => (n.IsTune = \"isTune\", n))(Qe || {});\nclass ct {\n  /**\n   * @class\n   * @param {ConstructorOptions} options - Constructor options\n   */\n  constructor({\n    name: e,\n    constructable: t,\n    config: o,\n    api: i,\n    isDefault: s,\n    isInternal: r = !1,\n    defaultPlaceholder: l\n  }) {\n    this.api = i, this.name = e, this.constructable = t, this.config = o, this.isDefault = s, this.isInternal = r, this.defaultPlaceholder = l;\n  }\n  /**\n   * Returns Tool user configuration\n   */\n  get settings() {\n    const e = this.config.config || {};\n    return this.isDefault && !(\"placeholder\" in e) && this.defaultPlaceholder && (e.placeholder = this.defaultPlaceholder), e;\n  }\n  /**\n   * Calls Tool's reset method\n   */\n  reset() {\n    if (A(this.constructable.reset))\n      return this.constructable.reset();\n  }\n  /**\n   * Calls Tool's prepare method\n   */\n  prepare() {\n    if (A(this.constructable.prepare))\n      return this.constructable.prepare({\n        toolName: this.name,\n        config: this.settings\n      });\n  }\n  /**\n   * Returns shortcut for Tool (internal or specified by user)\n   */\n  get shortcut() {\n    const e = this.constructable.shortcut;\n    return this.config.shortcut || e;\n  }\n  /**\n   * Returns Tool's sanitizer configuration\n   */\n  get sanitizeConfig() {\n    return this.constructable.sanitize || {};\n  }\n  /**\n   * Returns true if Tools is inline\n   */\n  isInline() {\n    return this.type === 1;\n  }\n  /**\n   * Returns true if Tools is block\n   */\n  isBlock() {\n    return this.type === 0;\n  }\n  /**\n   * Returns true if Tools is tune\n   */\n  isTune() {\n    return this.type === 2;\n  }\n}\nclass Zi extends y {\n  /**\n   * @param moduleConfiguration - Module Configuration\n   * @param moduleConfiguration.config - Editor's config\n   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher\n   */\n  constructor({ config: e, eventsDispatcher: t }) {\n    super({\n      config: e,\n      eventsDispatcher: t\n    }), this.CSS = {\n      inlineToolbar: \"ce-inline-toolbar\"\n    }, this.opened = !1, this.popover = null, this.toolbarVerticalMargin = ue() ? 20 : 6, this.toolsInstances = /* @__PURE__ */ new Map();\n  }\n  /**\n   * Toggles read-only mode\n   *\n   * @param {boolean} readOnlyEnabled - read-only mode\n   */\n  toggleReadOnly(e) {\n    e ? this.destroy() : window.requestIdleCallback(() => {\n      this.make();\n    }, { timeout: 2e3 });\n  }\n  /**\n   *  Moving / appearance\n   *  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n   */\n  /**\n   * Shows Inline Toolbar if something is selected\n   *\n   * @param [needToClose] - pass true to close toolbar if it is not allowed.\n   *                                  Avoid to use it just for closing IT, better call .close() clearly.\n   */\n  async tryToShow(e = !1) {\n    e && this.close(), this.allowedToShow() && (await this.open(), this.Editor.Toolbar.close());\n  }\n  /**\n   * Hides Inline Toolbar\n   */\n  close() {\n    var e, t;\n    this.opened && (this.Editor.ReadOnly.isEnabled || (Array.from(this.toolsInstances.entries()).forEach(([o, i]) => {\n      const s = this.getToolShortcut(o);\n      s && de.remove(this.Editor.UI.nodes.redactor, s), A(i.clear) && i.clear();\n    }), this.toolsInstances = null, this.reset(), this.opened = !1, (e = this.popover) == null || e.hide(), (t = this.popover) == null || t.destroy(), this.popover = null));\n  }\n  /**\n   * Check if node is contained by Inline Toolbar\n   *\n   * @param {Node} node  node to check\n   */\n  containsNode(e) {\n    return this.nodes.wrapper === void 0 ? !1 : this.nodes.wrapper.contains(e);\n  }\n  /**\n   * Removes UI and its components\n   */\n  destroy() {\n    var e;\n    this.removeAllNodes(), (e = this.popover) == null || e.destroy(), this.popover = null;\n  }\n  /**\n   * Making DOM\n   */\n  make() {\n    this.nodes.wrapper = d.make(\"div\", [\n      this.CSS.inlineToolbar,\n      ...this.isRtl ? [this.Editor.UI.CSS.editorRtlFix] : []\n    ]), d.append(this.Editor.UI.nodes.wrapper, this.nodes.wrapper);\n  }\n  /**\n   * Shows Inline Toolbar\n   */\n  async open() {\n    var t;\n    if (this.opened)\n      return;\n    this.opened = !0, this.popover !== null && this.popover.destroy();\n    const e = await this.getInlineTools();\n    this.popover = new di({\n      items: e,\n      scopeElement: this.Editor.API.methods.ui.nodes.redactor,\n      messages: {\n        nothingFound: z.ui(K.ui.popover, \"Nothing found\"),\n        search: z.ui(K.ui.popover, \"Filter\")\n      }\n    }), this.move(this.popover.size.width), (t = this.nodes.wrapper) == null || t.append(this.popover.getElement()), this.popover.show();\n  }\n  /**\n   * Move Toolbar to the selected text\n   *\n   * @param popoverWidth - width of the toolbar popover\n   */\n  move(e) {\n    const t = b.rect, o = this.Editor.UI.nodes.wrapper.getBoundingClientRect(), i = {\n      x: t.x - o.x,\n      y: t.y + t.height - // + window.scrollY\n      o.top + this.toolbarVerticalMargin\n    };\n    i.x + e + o.x > this.Editor.UI.contentRect.right && (i.x = this.Editor.UI.contentRect.right - e - o.x), this.nodes.wrapper.style.left = Math.floor(i.x) + \"px\", this.nodes.wrapper.style.top = Math.floor(i.y) + \"px\";\n  }\n  /**\n   * Clear orientation classes and reset position\n   */\n  reset() {\n    this.nodes.wrapper.style.left = \"0\", this.nodes.wrapper.style.top = \"0\";\n  }\n  /**\n   * Need to show Inline Toolbar or not\n   */\n  allowedToShow() {\n    const e = [\"IMG\", \"INPUT\"], t = b.get(), o = b.text;\n    if (!t || !t.anchorNode || t.isCollapsed || o.length < 1)\n      return !1;\n    const i = d.isElement(t.anchorNode) ? t.anchorNode : t.anchorNode.parentElement;\n    if (i === null || t && e.includes(i.tagName) || i.closest('[contenteditable=\"true\"]') === null)\n      return !1;\n    const r = this.Editor.BlockManager.getBlock(t.anchorNode);\n    return r ? r.tool.inlineTools.size !== 0 : !1;\n  }\n  /**\n   *  Working with Tools\n   *  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n   */\n  /**\n   * Returns Inline Tools segregated by their appearance type: popover items and custom html elements.\n   * Sets this.toolsInstances map\n   */\n  async getInlineTools() {\n    const e = b.get(), t = this.Editor.BlockManager.getBlock(e.anchorNode), o = Array.from(t.tool.inlineTools.values()), i = [];\n    this.toolsInstances === null && (this.toolsInstances = /* @__PURE__ */ new Map());\n    for (let s = 0; s < o.length; s++) {\n      const r = o[s], l = r.create(), a = await l.render();\n      this.toolsInstances.set(r.name, l);\n      const c = this.getToolShortcut(r.name);\n      if (c)\n        try {\n          this.enableShortcuts(r.name, c);\n        } catch {\n        }\n      const u = c !== void 0 ? et(c) : void 0, h = z.t(\n        K.toolNames,\n        r.title || Ae(r.name)\n      );\n      [a].flat().forEach((p) => {\n        var f, k;\n        const g = {\n          name: r.name,\n          onActivate: () => {\n            this.toolClicked(l);\n          },\n          hint: {\n            title: h,\n            description: u\n          }\n        };\n        if (d.isElement(p)) {\n          const C = {\n            ...g,\n            element: p,\n            type: O.Html\n          };\n          if (A(l.renderActions)) {\n            const S = l.renderActions();\n            C.children = {\n              isOpen: (f = l.checkState) == null ? void 0 : f.call(l, b.get()),\n              /** Disable keyboard navigation in actions, as it might conflict with enter press handling */\n              isFlippable: !1,\n              items: [\n                {\n                  type: O.Html,\n                  element: S\n                }\n              ]\n            };\n          } else\n            (k = l.checkState) == null || k.call(l, b.get());\n          i.push(C);\n        } else if (p.type === O.Html)\n          i.push({\n            ...g,\n            ...p,\n            type: O.Html\n          });\n        else if (p.type === O.Separator)\n          i.push({\n            type: O.Separator\n          });\n        else {\n          const C = {\n            ...g,\n            ...p,\n            type: O.Default\n          };\n          \"children\" in C && s !== 0 && i.push({\n            type: O.Separator\n          }), i.push(C), \"children\" in C && s < o.length - 1 && i.push({\n            type: O.Separator\n          });\n        }\n      });\n    }\n    return i;\n  }\n  /**\n   * Get shortcut name for tool\n   *\n   * @param toolName  Tool name\n   */\n  getToolShortcut(e) {\n    const { Tools: t } = this.Editor, o = t.inlineTools.get(e), i = t.internal.inlineTools;\n    return Array.from(i.keys()).includes(e) ? this.inlineTools[e][io.Shortcut] : o == null ? void 0 : o.shortcut;\n  }\n  /**\n   * Enable Tool shortcut with Editor Shortcuts Module\n   *\n   * @param toolName - tool name\n   * @param shortcut - shortcut according to the ShortcutData Module format\n   */\n  enableShortcuts(e, t) {\n    de.add({\n      name: t,\n      handler: (o) => {\n        var s;\n        const { currentBlock: i } = this.Editor.BlockManager;\n        i && i.tool.enabledInlineTools && (o.preventDefault(), (s = this.popover) == null || s.activateItemByName(e));\n      },\n      on: this.Editor.UI.nodes.redactor\n    });\n  }\n  /**\n   * Inline Tool button clicks\n   *\n   * @param tool - Tool's instance\n   */\n  toolClicked(e) {\n    var o;\n    const t = b.range;\n    (o = e.surround) == null || o.call(e, t), this.checkToolsState();\n  }\n  /**\n   * Check Tools` state by selection\n   */\n  checkToolsState() {\n    var e;\n    (e = this.toolsInstances) == null || e.forEach((t) => {\n      var o;\n      (o = t.checkState) == null || o.call(t, b.get());\n    });\n  }\n  /**\n   * Get inline tools tools\n   * Tools that has isInline is true\n   */\n  get inlineTools() {\n    const e = {};\n    return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([t, o]) => {\n      e[t] = o.create();\n    }), e;\n  }\n}\nfunction so() {\n  const n = window.getSelection();\n  if (n === null)\n    return [null, 0];\n  let e = n.focusNode, t = n.focusOffset;\n  return e === null ? [null, 0] : (e.nodeType !== Node.TEXT_NODE && e.childNodes.length > 0 && (e.childNodes[t] ? (e = e.childNodes[t], t = 0) : (e = e.childNodes[t - 1], t = e.textContent.length)), [e, t]);\n}\nfunction no(n, e, t, o) {\n  const i = document.createRange();\n  o === \"left\" ? (i.setStart(n, 0), i.setEnd(e, t)) : (i.setStart(e, t), i.setEnd(n, n.childNodes.length));\n  const s = i.cloneContents(), r = document.createElement(\"div\");\n  r.appendChild(s);\n  const l = r.textContent || \"\";\n  return Lo(l);\n}\nfunction Ie(n) {\n  const e = d.getDeepestNode(n);\n  if (e === null || d.isEmpty(n))\n    return !0;\n  if (d.isNativeInput(e))\n    return e.selectionEnd === 0;\n  if (d.isEmpty(n))\n    return !0;\n  const [t, o] = so();\n  return t === null ? !1 : no(n, t, o, \"left\");\n}\nfunction Me(n) {\n  const e = d.getDeepestNode(n, !0);\n  if (e === null)\n    return !0;\n  if (d.isNativeInput(e))\n    return e.selectionEnd === e.value.length;\n  const [t, o] = so();\n  return t === null ? !1 : no(n, t, o, \"right\");\n}\nclass Gi extends y {\n  /**\n   * All keydowns on Block\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  keydown(e) {\n    switch (this.beforeKeydownProcessing(e), e.keyCode) {\n      case w.BACKSPACE:\n        this.backspace(e);\n        break;\n      case w.DELETE:\n        this.delete(e);\n        break;\n      case w.ENTER:\n        this.enter(e);\n        break;\n      case w.DOWN:\n      case w.RIGHT:\n        this.arrowRightAndDown(e);\n        break;\n      case w.UP:\n      case w.LEFT:\n        this.arrowLeftAndUp(e);\n        break;\n      case w.TAB:\n        this.tabPressed(e);\n        break;\n    }\n    e.key === \"/\" && !e.ctrlKey && !e.metaKey && this.slashPressed(e), e.code === \"Slash\" && (e.ctrlKey || e.metaKey) && (e.preventDefault(), this.commandSlashPressed());\n  }\n  /**\n   * Fires on keydown before event processing\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  beforeKeydownProcessing(e) {\n    this.needToolbarClosing(e) && It(e.keyCode) && (this.Editor.Toolbar.close(), e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || this.Editor.BlockSelection.clearSelection(e));\n  }\n  /**\n   * Key up on Block:\n   * - shows Inline Toolbar if something selected\n   * - shows conversion toolbar with 85% of block selection\n   *\n   * @param {KeyboardEvent} event - keyup event\n   */\n  keyup(e) {\n    e.shiftKey || this.Editor.UI.checkEmptiness();\n  }\n  /**\n   * Add drop target styles\n   *\n   * @param {DragEvent} event - drag over event\n   */\n  dragOver(e) {\n    const t = this.Editor.BlockManager.getBlockByChildNode(e.target);\n    t.dropTarget = !0;\n  }\n  /**\n   * Remove drop target style\n   *\n   * @param {DragEvent} event - drag leave event\n   */\n  dragLeave(e) {\n    const t = this.Editor.BlockManager.getBlockByChildNode(e.target);\n    t.dropTarget = !1;\n  }\n  /**\n   * Copying selected blocks\n   * Before putting to the clipboard we sanitize all blocks and then copy to the clipboard\n   *\n   * @param {ClipboardEvent} event - clipboard event\n   */\n  handleCommandC(e) {\n    const { BlockSelection: t } = this.Editor;\n    t.anyBlockSelected && t.copySelectedBlocks(e);\n  }\n  /**\n   * Copy and Delete selected Blocks\n   *\n   * @param {ClipboardEvent} event - clipboard event\n   */\n  handleCommandX(e) {\n    const { BlockSelection: t, BlockManager: o, Caret: i } = this.Editor;\n    t.anyBlockSelected && t.copySelectedBlocks(e).then(() => {\n      const s = o.removeSelectedBlocks(), r = o.insertDefaultBlockAtIndex(s, !0);\n      i.setToBlock(r, i.positions.START), t.clearSelection(e);\n    });\n  }\n  /**\n   * Tab pressed inside a Block.\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  tabPressed(e) {\n    const { InlineToolbar: t, Caret: o } = this.Editor;\n    if (t.opened)\n      return;\n    (e.shiftKey ? o.navigatePrevious(!0) : o.navigateNext(!0)) && e.preventDefault();\n  }\n  /**\n   * '/' + 'command' keydown inside a Block\n   */\n  commandSlashPressed() {\n    this.Editor.BlockSelection.selectedBlocks.length > 1 || this.activateBlockSettings();\n  }\n  /**\n   * '/' keydown inside a Block\n   *\n   * @param event - keydown\n   */\n  slashPressed(e) {\n    this.Editor.BlockManager.currentBlock.isEmpty && (e.preventDefault(), this.Editor.Caret.insertContentAtCaretPosition(\"/\"), this.activateToolbox());\n  }\n  /**\n   * ENTER pressed on block\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  enter(e) {\n    const { BlockManager: t, UI: o } = this.Editor, i = t.currentBlock;\n    if (i === void 0 || i.tool.isLineBreaksEnabled || o.someToolbarOpened && o.someFlipperButtonFocused || e.shiftKey && !Ge)\n      return;\n    let s = i;\n    i.currentInput !== void 0 && Ie(i.currentInput) && !i.hasMedia ? this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex) : i.currentInput && Me(i.currentInput) ? s = this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex + 1) : s = this.Editor.BlockManager.split(), this.Editor.Caret.setToBlock(s), this.Editor.Toolbar.moveAndOpen(s), e.preventDefault();\n  }\n  /**\n   * Handle backspace keydown on Block\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  backspace(e) {\n    const { BlockManager: t, Caret: o } = this.Editor, { currentBlock: i, previousBlock: s } = t;\n    if (i === void 0 || !b.isCollapsed || !i.currentInput || !Ie(i.currentInput))\n      return;\n    if (e.preventDefault(), this.Editor.Toolbar.close(), !(i.currentInput === i.firstInput)) {\n      o.navigatePrevious();\n      return;\n    }\n    if (s === null)\n      return;\n    if (s.isEmpty) {\n      t.removeBlock(s);\n      return;\n    }\n    if (i.isEmpty) {\n      t.removeBlock(i);\n      const a = t.currentBlock;\n      o.setToBlock(a, o.positions.END);\n      return;\n    }\n    vt(s, i) ? this.mergeBlocks(s, i) : o.setToBlock(s, o.positions.END);\n  }\n  /**\n   * Handles delete keydown on Block\n   * Removes char after the caret.\n   * If caret is at the end of the block, merge next block with current\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  delete(e) {\n    const { BlockManager: t, Caret: o } = this.Editor, { currentBlock: i, nextBlock: s } = t;\n    if (!b.isCollapsed || !Me(i.currentInput))\n      return;\n    if (e.preventDefault(), this.Editor.Toolbar.close(), !(i.currentInput === i.lastInput)) {\n      o.navigateNext();\n      return;\n    }\n    if (s === null)\n      return;\n    if (s.isEmpty) {\n      t.removeBlock(s);\n      return;\n    }\n    if (i.isEmpty) {\n      t.removeBlock(i), o.setToBlock(s, o.positions.START);\n      return;\n    }\n    vt(i, s) ? this.mergeBlocks(i, s) : o.setToBlock(s, o.positions.START);\n  }\n  /**\n   * Merge passed Blocks\n   *\n   * @param targetBlock - to which Block we want to merge\n   * @param blockToMerge - what Block we want to merge\n   */\n  mergeBlocks(e, t) {\n    const { BlockManager: o, Caret: i, Toolbar: s } = this.Editor;\n    i.createShadow(e.lastInput), o.mergeBlocks(e, t).then(() => {\n      i.restoreCaret(e.pluginsContent), s.close();\n    });\n  }\n  /**\n   * Handle right and down keyboard keys\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  arrowRightAndDown(e) {\n    const t = re.usedKeys.includes(e.keyCode) && (!e.shiftKey || e.keyCode === w.TAB);\n    if (this.Editor.UI.someToolbarOpened && t)\n      return;\n    this.Editor.Toolbar.close();\n    const { currentBlock: o } = this.Editor.BlockManager, s = ((o == null ? void 0 : o.currentInput) !== void 0 ? Me(o.currentInput) : void 0) || this.Editor.BlockSelection.anyBlockSelected;\n    if (e.shiftKey && e.keyCode === w.DOWN && s) {\n      this.Editor.CrossBlockSelection.toggleBlockSelectedState();\n      return;\n    }\n    if (e.keyCode === w.DOWN || e.keyCode === w.RIGHT && !this.isRtl ? this.Editor.Caret.navigateNext() : this.Editor.Caret.navigatePrevious()) {\n      e.preventDefault();\n      return;\n    }\n    Oe(() => {\n      this.Editor.BlockManager.currentBlock && this.Editor.BlockManager.currentBlock.updateCurrentInput();\n    }, 20)(), this.Editor.BlockSelection.clearSelection(e);\n  }\n  /**\n   * Handle left and up keyboard keys\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  arrowLeftAndUp(e) {\n    if (this.Editor.UI.someToolbarOpened) {\n      if (re.usedKeys.includes(e.keyCode) && (!e.shiftKey || e.keyCode === w.TAB))\n        return;\n      this.Editor.UI.closeAllToolbars();\n    }\n    this.Editor.Toolbar.close();\n    const { currentBlock: t } = this.Editor.BlockManager, i = ((t == null ? void 0 : t.currentInput) !== void 0 ? Ie(t.currentInput) : void 0) || this.Editor.BlockSelection.anyBlockSelected;\n    if (e.shiftKey && e.keyCode === w.UP && i) {\n      this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);\n      return;\n    }\n    if (e.keyCode === w.UP || e.keyCode === w.LEFT && !this.isRtl ? this.Editor.Caret.navigatePrevious() : this.Editor.Caret.navigateNext()) {\n      e.preventDefault();\n      return;\n    }\n    Oe(() => {\n      this.Editor.BlockManager.currentBlock && this.Editor.BlockManager.currentBlock.updateCurrentInput();\n    }, 20)(), this.Editor.BlockSelection.clearSelection(e);\n  }\n  /**\n   * Cases when we need to close Toolbar\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  needToolbarClosing(e) {\n    const t = e.keyCode === w.ENTER && this.Editor.Toolbar.toolbox.opened, o = e.keyCode === w.ENTER && this.Editor.BlockSettings.opened, i = e.keyCode === w.ENTER && this.Editor.InlineToolbar.opened, s = e.keyCode === w.TAB;\n    return !(e.shiftKey || s || t || o || i);\n  }\n  /**\n   * If Toolbox is not open, then just open it and show plus button\n   */\n  activateToolbox() {\n    this.Editor.Toolbar.opened || this.Editor.Toolbar.moveAndOpen(), this.Editor.Toolbar.toolbox.open();\n  }\n  /**\n   * Open Toolbar and show BlockSettings before flipping Tools\n   */\n  activateBlockSettings() {\n    this.Editor.Toolbar.opened || this.Editor.Toolbar.moveAndOpen(), this.Editor.BlockSettings.opened || this.Editor.BlockSettings.open();\n  }\n}\nclass Xe {\n  /**\n   * @class\n   * @param {HTMLElement} workingArea  editor`s working node\n   */\n  constructor(e) {\n    this.blocks = [], this.workingArea = e;\n  }\n  /**\n   * Get length of Block instances array\n   *\n   * @returns {number}\n   */\n  get length() {\n    return this.blocks.length;\n  }\n  /**\n   * Get Block instances array\n   *\n   * @returns {Block[]}\n   */\n  get array() {\n    return this.blocks;\n  }\n  /**\n   * Get blocks html elements array\n   *\n   * @returns {HTMLElement[]}\n   */\n  get nodes() {\n    return Mt(this.workingArea.children);\n  }\n  /**\n   * Proxy trap to implement array-like setter\n   *\n   * @example\n   * blocks[0] = new Block(...)\n   * @param {Blocks} instance  Blocks instance\n   * @param {PropertyKey} property  block index or any Blocks class property key to set\n   * @param {Block} value  value to set\n   * @returns {boolean}\n   */\n  static set(e, t, o) {\n    return isNaN(Number(t)) ? (Reflect.set(e, t, o), !0) : (e.insert(+t, o), !0);\n  }\n  /**\n   * Proxy trap to implement array-like getter\n   *\n   * @param {Blocks} instance  Blocks instance\n   * @param {PropertyKey} property  Blocks class property key\n   * @returns {Block|*}\n   */\n  static get(e, t) {\n    return isNaN(Number(t)) ? Reflect.get(e, t) : e.get(+t);\n  }\n  /**\n   * Push new Block to the blocks array and append it to working area\n   *\n   * @param {Block} block - Block to add\n   */\n  push(e) {\n    this.blocks.push(e), this.insertToDOM(e);\n  }\n  /**\n   * Swaps blocks with indexes first and second\n   *\n   * @param {number} first - first block index\n   * @param {number} second - second block index\n   * @deprecated  use 'move' instead\n   */\n  swap(e, t) {\n    const o = this.blocks[t];\n    d.swap(this.blocks[e].holder, o.holder), this.blocks[t] = this.blocks[e], this.blocks[e] = o;\n  }\n  /**\n   * Move a block from one to another index\n   *\n   * @param {number} toIndex - new index of the block\n   * @param {number} fromIndex - block to move\n   */\n  move(e, t) {\n    const o = this.blocks.splice(t, 1)[0], i = e - 1, s = Math.max(0, i), r = this.blocks[s];\n    e > 0 ? this.insertToDOM(o, \"afterend\", r) : this.insertToDOM(o, \"beforebegin\", r), this.blocks.splice(e, 0, o);\n    const l = this.composeBlockEvent(\"move\", {\n      fromIndex: t,\n      toIndex: e\n    });\n    o.call(J.MOVED, l);\n  }\n  /**\n   * Insert new Block at passed index\n   *\n   * @param {number} index  index to insert Block\n   * @param {Block} block  Block to insert\n   * @param {boolean} replace  it true, replace block on given index\n   */\n  insert(e, t, o = !1) {\n    if (!this.length) {\n      this.push(t);\n      return;\n    }\n    e > this.length && (e = this.length), o && (this.blocks[e].holder.remove(), this.blocks[e].call(J.REMOVED));\n    const i = o ? 1 : 0;\n    if (this.blocks.splice(e, i, t), e > 0) {\n      const s = this.blocks[e - 1];\n      this.insertToDOM(t, \"afterend\", s);\n    } else {\n      const s = this.blocks[e + 1];\n      s ? this.insertToDOM(t, \"beforebegin\", s) : this.insertToDOM(t);\n    }\n  }\n  /**\n   * Replaces block under passed index with passed block\n   *\n   * @param index - index of existed block\n   * @param block - new block\n   */\n  replace(e, t) {\n    if (this.blocks[e] === void 0)\n      throw Error(\"Incorrect index\");\n    this.blocks[e].holder.replaceWith(t.holder), this.blocks[e] = t;\n  }\n  /**\n   * Inserts several blocks at once\n   *\n   * @param blocks - blocks to insert\n   * @param index - index to insert blocks at\n   */\n  insertMany(e, t) {\n    const o = new DocumentFragment();\n    for (const i of e)\n      o.appendChild(i.holder);\n    if (this.length > 0) {\n      if (t > 0) {\n        const i = Math.min(t - 1, this.length - 1);\n        this.blocks[i].holder.after(o);\n      } else\n        t === 0 && this.workingArea.prepend(o);\n      this.blocks.splice(t, 0, ...e);\n    } else\n      this.blocks.push(...e), this.workingArea.appendChild(o);\n    e.forEach((i) => i.call(J.RENDERED));\n  }\n  /**\n   * Remove block\n   *\n   * @param {number} index - index of Block to remove\n   */\n  remove(e) {\n    isNaN(e) && (e = this.length - 1), this.blocks[e].holder.remove(), this.blocks[e].call(J.REMOVED), this.blocks.splice(e, 1);\n  }\n  /**\n   * Remove all blocks\n   */\n  removeAll() {\n    this.workingArea.innerHTML = \"\", this.blocks.forEach((e) => e.call(J.REMOVED)), this.blocks.length = 0;\n  }\n  /**\n   * Insert Block after passed target\n   *\n   * @todo decide if this method is necessary\n   * @param {Block} targetBlock  target after which Block should be inserted\n   * @param {Block} newBlock  Block to insert\n   */\n  insertAfter(e, t) {\n    const o = this.blocks.indexOf(e);\n    this.insert(o + 1, t);\n  }\n  /**\n   * Get Block by index\n   *\n   * @param {number} index  Block index\n   * @returns {Block}\n   */\n  get(e) {\n    return this.blocks[e];\n  }\n  /**\n   * Return index of passed Block\n   *\n   * @param {Block} block - Block to find\n   * @returns {number}\n   */\n  indexOf(e) {\n    return this.blocks.indexOf(e);\n  }\n  /**\n   * Insert new Block into DOM\n   *\n   * @param {Block} block - Block to insert\n   * @param {InsertPosition} position  insert position (if set, will use insertAdjacentElement)\n   * @param {Block} target  Block related to position\n   */\n  insertToDOM(e, t, o) {\n    t ? o.holder.insertAdjacentElement(t, e.holder) : this.workingArea.appendChild(e.holder), e.call(J.RENDERED);\n  }\n  /**\n   * Composes Block event with passed type and details\n   *\n   * @param {string} type - event type\n   * @param {object} detail - event detail\n   */\n  composeBlockEvent(e, t) {\n    return new CustomEvent(e, {\n      detail: t\n    });\n  }\n}\nconst Bt = \"block-removed\", Tt = \"block-added\", Ji = \"block-moved\", Ct = \"block-changed\";\nclass Qi {\n  constructor() {\n    this.completed = Promise.resolve();\n  }\n  /**\n   * Add new promise to queue\n   *\n   * @param operation - promise should be added to queue\n   */\n  add(e) {\n    return new Promise((t, o) => {\n      this.completed = this.completed.then(e).then(t).catch(o);\n    });\n  }\n}\nclass es extends y {\n  constructor() {\n    super(...arguments), this._currentBlockIndex = -1, this._blocks = null;\n  }\n  /**\n   * Returns current Block index\n   *\n   * @returns {number}\n   */\n  get currentBlockIndex() {\n    return this._currentBlockIndex;\n  }\n  /**\n   * Set current Block index and fire Block lifecycle callbacks\n   *\n   * @param {number} newIndex - index of Block to set as current\n   */\n  set currentBlockIndex(e) {\n    this._currentBlockIndex = e;\n  }\n  /**\n   * returns first Block\n   *\n   * @returns {Block}\n   */\n  get firstBlock() {\n    return this._blocks[0];\n  }\n  /**\n   * returns last Block\n   *\n   * @returns {Block}\n   */\n  get lastBlock() {\n    return this._blocks[this._blocks.length - 1];\n  }\n  /**\n   * Get current Block instance\n   *\n   * @returns {Block}\n   */\n  get currentBlock() {\n    return this._blocks[this.currentBlockIndex];\n  }\n  /**\n   * Set passed Block as a current\n   *\n   * @param block - block to set as a current\n   */\n  set currentBlock(e) {\n    this.currentBlockIndex = this.getBlockIndex(e);\n  }\n  /**\n   * Returns next Block instance\n   *\n   * @returns {Block|null}\n   */\n  get nextBlock() {\n    return this.currentBlockIndex === this._blocks.length - 1 ? null : this._blocks[this.currentBlockIndex + 1];\n  }\n  /**\n   * Return first Block with inputs after current Block\n   *\n   * @returns {Block | undefined}\n   */\n  get nextContentfulBlock() {\n    return this.blocks.slice(this.currentBlockIndex + 1).find((t) => !!t.inputs.length);\n  }\n  /**\n   * Return first Block with inputs before current Block\n   *\n   * @returns {Block | undefined}\n   */\n  get previousContentfulBlock() {\n    return this.blocks.slice(0, this.currentBlockIndex).reverse().find((t) => !!t.inputs.length);\n  }\n  /**\n   * Returns previous Block instance\n   *\n   * @returns {Block|null}\n   */\n  get previousBlock() {\n    return this.currentBlockIndex === 0 ? null : this._blocks[this.currentBlockIndex - 1];\n  }\n  /**\n   * Get array of Block instances\n   *\n   * @returns {Block[]} {@link Blocks#array}\n   */\n  get blocks() {\n    return this._blocks.array;\n  }\n  /**\n   * Check if each Block is empty\n   *\n   * @returns {boolean}\n   */\n  get isEditorEmpty() {\n    return this.blocks.every((e) => e.isEmpty);\n  }\n  /**\n   * Should be called after Editor.UI preparation\n   * Define this._blocks property\n   */\n  prepare() {\n    const e = new Xe(this.Editor.UI.nodes.redactor);\n    this._blocks = new Proxy(e, {\n      set: Xe.set,\n      get: Xe.get\n    }), this.listeners.on(\n      document,\n      \"copy\",\n      (t) => this.Editor.BlockEvents.handleCommandC(t)\n    );\n  }\n  /**\n   * Toggle read-only state\n   *\n   * If readOnly is true:\n   *  - Unbind event handlers from created Blocks\n   *\n   * if readOnly is false:\n   *  - Bind event handlers to all existing Blocks\n   *\n   * @param {boolean} readOnlyEnabled - \"read only\" state\n   */\n  toggleReadOnly(e) {\n    e ? this.disableModuleBindings() : this.enableModuleBindings();\n  }\n  /**\n   * Creates Block instance by tool name\n   *\n   * @param {object} options - block creation options\n   * @param {string} options.tool - tools passed in editor config {@link EditorConfig#tools}\n   * @param {string} [options.id] - unique id for this block\n   * @param {BlockToolData} [options.data] - constructor params\n   * @returns {Block}\n   */\n  composeBlock({\n    tool: e,\n    data: t = {},\n    id: o = void 0,\n    tunes: i = {}\n  }) {\n    const s = this.Editor.ReadOnly.isEnabled, r = this.Editor.Tools.blockTools.get(e), l = new D({\n      id: o,\n      data: t,\n      tool: r,\n      api: this.Editor.API,\n      readOnly: s,\n      tunesData: i\n    }, this.eventsDispatcher);\n    return s || window.requestIdleCallback(() => {\n      this.bindBlockEvents(l);\n    }, { timeout: 2e3 }), l;\n  }\n  /**\n   * Insert new block into _blocks\n   *\n   * @param {object} options - insert options\n   * @param {string} [options.id] - block's unique id\n   * @param {string} [options.tool] - plugin name, by default method inserts the default block type\n   * @param {object} [options.data] - plugin data\n   * @param {number} [options.index] - index where to insert new Block\n   * @param {boolean} [options.needToFocus] - flag shows if needed to update current Block index\n   * @param {boolean} [options.replace] - flag shows if block by passed index should be replaced with inserted one\n   * @returns {Block}\n   */\n  insert({\n    id: e = void 0,\n    tool: t = this.config.defaultBlock,\n    data: o = {},\n    index: i,\n    needToFocus: s = !0,\n    replace: r = !1,\n    tunes: l = {}\n  } = {}) {\n    let a = i;\n    a === void 0 && (a = this.currentBlockIndex + (r ? 0 : 1));\n    const c = this.composeBlock({\n      id: e,\n      tool: t,\n      data: o,\n      tunes: l\n    });\n    return r && this.blockDidMutated(Bt, this.getBlockByIndex(a), {\n      index: a\n    }), this._blocks.insert(a, c, r), this.blockDidMutated(Tt, c, {\n      index: a\n    }), s ? this.currentBlockIndex = a : a <= this.currentBlockIndex && this.currentBlockIndex++, c;\n  }\n  /**\n   * Inserts several blocks at once\n   *\n   * @param blocks - blocks to insert\n   * @param index - index where to insert\n   */\n  insertMany(e, t = 0) {\n    this._blocks.insertMany(e, t);\n  }\n  /**\n   * Update Block data.\n   *\n   * Currently we don't have an 'update' method in the Tools API, so we just create a new block with the same id and type\n   * Should not trigger 'block-removed' or 'block-added' events.\n   *\n   * If neither data nor tunes is provided, return the provided block instead.\n   *\n   * @param block - block to update\n   * @param data - (optional) new data\n   * @param tunes - (optional) tune data\n   */\n  async update(e, t, o) {\n    if (!t && !o)\n      return e;\n    const i = await e.data, s = this.composeBlock({\n      id: e.id,\n      tool: e.name,\n      data: Object.assign({}, i, t ?? {}),\n      tunes: o ?? e.tunes\n    }), r = this.getBlockIndex(e);\n    return this._blocks.replace(r, s), this.blockDidMutated(Ct, s, {\n      index: r\n    }), s;\n  }\n  /**\n   * Replace passed Block with the new one with specified Tool and data\n   *\n   * @param block - block to replace\n   * @param newTool - new Tool name\n   * @param data - new Tool data\n   */\n  replace(e, t, o) {\n    const i = this.getBlockIndex(e);\n    return this.insert({\n      tool: t,\n      data: o,\n      index: i,\n      replace: !0\n    });\n  }\n  /**\n   * Insert pasted content. Call onPaste callback after insert.\n   *\n   * @param {string} toolName - name of Tool to insert\n   * @param {PasteEvent} pasteEvent - pasted data\n   * @param {boolean} replace - should replace current block\n   */\n  paste(e, t, o = !1) {\n    const i = this.insert({\n      tool: e,\n      replace: o\n    });\n    try {\n      window.requestIdleCallback(() => {\n        i.call(J.ON_PASTE, t);\n      });\n    } catch (s) {\n      I(`${e}: onPaste callback call is failed`, \"error\", s);\n    }\n    return i;\n  }\n  /**\n   * Insert new default block at passed index\n   *\n   * @param {number} index - index where Block should be inserted\n   * @param {boolean} needToFocus - if true, updates current Block index\n   *\n   * TODO: Remove method and use insert() with index instead (?)\n   * @returns {Block} inserted Block\n   */\n  insertDefaultBlockAtIndex(e, t = !1) {\n    const o = this.composeBlock({ tool: this.config.defaultBlock });\n    return this._blocks[e] = o, this.blockDidMutated(Tt, o, {\n      index: e\n    }), t ? this.currentBlockIndex = e : e <= this.currentBlockIndex && this.currentBlockIndex++, o;\n  }\n  /**\n   * Always inserts at the end\n   *\n   * @returns {Block}\n   */\n  insertAtEnd() {\n    return this.currentBlockIndex = this.blocks.length - 1, this.insert();\n  }\n  /**\n   * Merge two blocks\n   *\n   * @param {Block} targetBlock - previous block will be append to this block\n   * @param {Block} blockToMerge - block that will be merged with target block\n   * @returns {Promise} - the sequence that can be continued\n   */\n  async mergeBlocks(e, t) {\n    let o;\n    if (e.name === t.name && e.mergeable) {\n      const i = await t.data;\n      if (V(i)) {\n        console.error(\"Could not merge Block. Failed to extract original Block data.\");\n        return;\n      }\n      const [s] = nt([i], e.tool.sanitizeConfig);\n      o = s;\n    } else if (e.mergeable && Le(t, \"export\") && Le(e, \"import\")) {\n      const i = await t.exportDataAsString(), s = q(i, e.tool.sanitizeConfig);\n      o = wt(s, e.tool.conversionConfig);\n    }\n    o !== void 0 && (await e.mergeWith(o), this.removeBlock(t), this.currentBlockIndex = this._blocks.indexOf(e));\n  }\n  /**\n   * Remove passed Block\n   *\n   * @param block - Block to remove\n   * @param addLastBlock - if true, adds new default block at the end. @todo remove this logic and use event-bus instead\n   */\n  removeBlock(e, t = !0) {\n    return new Promise((o) => {\n      const i = this._blocks.indexOf(e);\n      if (!this.validateIndex(i))\n        throw new Error(\"Can't find a Block to remove\");\n      e.destroy(), this._blocks.remove(i), this.blockDidMutated(Bt, e, {\n        index: i\n      }), this.currentBlockIndex >= i && this.currentBlockIndex--, this.blocks.length ? i === 0 && (this.currentBlockIndex = 0) : (this.unsetCurrentBlock(), t && this.insert()), o();\n    });\n  }\n  /**\n   * Remove only selected Blocks\n   * and returns first Block index where started removing...\n   *\n   * @returns {number|undefined}\n   */\n  removeSelectedBlocks() {\n    let e;\n    for (let t = this.blocks.length - 1; t >= 0; t--)\n      this.blocks[t].selected && (this.removeBlock(this.blocks[t]), e = t);\n    return e;\n  }\n  /**\n   * Attention!\n   * After removing insert the new default typed Block and focus on it\n   * Removes all blocks\n   */\n  removeAllBlocks() {\n    for (let e = this.blocks.length - 1; e >= 0; e--)\n      this._blocks.remove(e);\n    this.unsetCurrentBlock(), this.insert(), this.currentBlock.firstInput.focus();\n  }\n  /**\n   * Split current Block\n   * 1. Extract content from Caret position to the Block`s end\n   * 2. Insert a new Block below current one with extracted content\n   *\n   * @returns {Block}\n   */\n  split() {\n    const e = this.Editor.Caret.extractFragmentFromCaretPosition(), t = d.make(\"div\");\n    t.appendChild(e);\n    const o = {\n      text: d.isEmpty(t) ? \"\" : t.innerHTML\n    };\n    return this.insert({ data: o });\n  }\n  /**\n   * Returns Block by passed index\n   *\n   * @param {number} index - index to get. -1 to get last\n   * @returns {Block}\n   */\n  getBlockByIndex(e) {\n    return e === -1 && (e = this._blocks.length - 1), this._blocks[e];\n  }\n  /**\n   * Returns an index for passed Block\n   *\n   * @param block - block to find index\n   */\n  getBlockIndex(e) {\n    return this._blocks.indexOf(e);\n  }\n  /**\n   * Returns the Block by passed id\n   *\n   * @param id - id of block to get\n   * @returns {Block}\n   */\n  getBlockById(e) {\n    return this._blocks.array.find((t) => t.id === e);\n  }\n  /**\n   * Get Block instance by html element\n   *\n   * @param {Node} element - html element to get Block by\n   */\n  getBlock(e) {\n    d.isElement(e) || (e = e.parentNode);\n    const t = this._blocks.nodes, o = e.closest(`.${D.CSS.wrapper}`), i = t.indexOf(o);\n    if (i >= 0)\n      return this._blocks[i];\n  }\n  /**\n   * 1) Find first-level Block from passed child Node\n   * 2) Mark it as current\n   *\n   * @param {Node} childNode - look ahead from this node.\n   * @returns {Block | undefined} can return undefined in case when the passed child note is not a part of the current editor instance\n   */\n  setCurrentBlockByChildNode(e) {\n    d.isElement(e) || (e = e.parentNode);\n    const t = e.closest(`.${D.CSS.wrapper}`);\n    if (!t)\n      return;\n    const o = t.closest(`.${this.Editor.UI.CSS.editorWrapper}`);\n    if (o != null && o.isEqualNode(this.Editor.UI.nodes.wrapper))\n      return this.currentBlockIndex = this._blocks.nodes.indexOf(t), this.currentBlock.updateCurrentInput(), this.currentBlock;\n  }\n  /**\n   * Return block which contents passed node\n   *\n   * @param {Node} childNode - node to get Block by\n   * @returns {Block}\n   */\n  getBlockByChildNode(e) {\n    if (!e || !(e instanceof Node))\n      return;\n    d.isElement(e) || (e = e.parentNode);\n    const t = e.closest(`.${D.CSS.wrapper}`);\n    return this.blocks.find((o) => o.holder === t);\n  }\n  /**\n   * Swap Blocks Position\n   *\n   * @param {number} fromIndex - index of first block\n   * @param {number} toIndex - index of second block\n   * @deprecated  use 'move' instead\n   */\n  swap(e, t) {\n    this._blocks.swap(e, t), this.currentBlockIndex = t;\n  }\n  /**\n   * Move a block to a new index\n   *\n   * @param {number} toIndex - index where to move Block\n   * @param {number} fromIndex - index of Block to move\n   */\n  move(e, t = this.currentBlockIndex) {\n    if (isNaN(e) || isNaN(t)) {\n      I(\"Warning during 'move' call: incorrect indices provided.\", \"warn\");\n      return;\n    }\n    if (!this.validateIndex(e) || !this.validateIndex(t)) {\n      I(\"Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.\", \"warn\");\n      return;\n    }\n    this._blocks.move(e, t), this.currentBlockIndex = e, this.blockDidMutated(Ji, this.currentBlock, {\n      fromIndex: t,\n      toIndex: e\n    });\n  }\n  /**\n   * Converts passed Block to the new Tool\n   * Uses Conversion Config\n   *\n   * @param blockToConvert - Block that should be converted\n   * @param targetToolName - name of the Tool to convert to\n   * @param blockDataOverrides - optional new Block data overrides\n   */\n  async convert(e, t, o) {\n    if (!await e.save())\n      throw new Error(\"Could not convert Block. Failed to extract original Block data.\");\n    const s = this.Editor.Tools.blockTools.get(t);\n    if (!s)\n      throw new Error(`Could not convert Block. Tool ${t} not found.`);\n    const r = await e.exportDataAsString(), l = q(\n      r,\n      s.sanitizeConfig\n    );\n    let a = wt(l, s.conversionConfig);\n    return o && (a = Object.assign(a, o)), this.replace(e, s.name, a);\n  }\n  /**\n   * Sets current Block Index -1 which means unknown\n   * and clear highlights\n   */\n  unsetCurrentBlock() {\n    this.currentBlockIndex = -1;\n  }\n  /**\n   * Clears Editor\n   *\n   * @param {boolean} needToAddDefaultBlock - 1) in internal calls (for example, in api.blocks.render)\n   *                                             we don't need to add an empty default block\n   *                                        2) in api.blocks.clear we should add empty block\n   */\n  async clear(e = !1) {\n    const t = new Qi();\n    this.blocks.forEach((o) => {\n      t.add(async () => {\n        await this.removeBlock(o, !1);\n      });\n    }), await t.completed, this.unsetCurrentBlock(), e && this.insert(), this.Editor.UI.checkEmptiness();\n  }\n  /**\n   * Cleans up all the block tools' resources\n   * This is called when editor is destroyed\n   */\n  async destroy() {\n    await Promise.all(this.blocks.map((e) => e.destroy()));\n  }\n  /**\n   * Bind Block events\n   *\n   * @param {Block} block - Block to which event should be bound\n   */\n  bindBlockEvents(e) {\n    const { BlockEvents: t } = this.Editor;\n    this.readOnlyMutableListeners.on(e.holder, \"keydown\", (o) => {\n      t.keydown(o);\n    }), this.readOnlyMutableListeners.on(e.holder, \"keyup\", (o) => {\n      t.keyup(o);\n    }), this.readOnlyMutableListeners.on(e.holder, \"dragover\", (o) => {\n      t.dragOver(o);\n    }), this.readOnlyMutableListeners.on(e.holder, \"dragleave\", (o) => {\n      t.dragLeave(o);\n    }), e.on(\"didMutated\", (o) => this.blockDidMutated(Ct, o, {\n      index: this.getBlockIndex(o)\n    }));\n  }\n  /**\n   * Disable mutable handlers and bindings\n   */\n  disableModuleBindings() {\n    this.readOnlyMutableListeners.clearAll();\n  }\n  /**\n   * Enables all module handlers and bindings for all Blocks\n   */\n  enableModuleBindings() {\n    this.readOnlyMutableListeners.on(\n      document,\n      \"cut\",\n      (e) => this.Editor.BlockEvents.handleCommandX(e)\n    ), this.blocks.forEach((e) => {\n      this.bindBlockEvents(e);\n    });\n  }\n  /**\n   * Validates that the given index is not lower than 0 or higher than the amount of blocks\n   *\n   * @param {number} index - index of blocks array to validate\n   * @returns {boolean}\n   */\n  validateIndex(e) {\n    return !(e < 0 || e >= this._blocks.length);\n  }\n  /**\n   * Block mutation callback\n   *\n   * @param mutationType - what happened with block\n   * @param block - mutated block\n   * @param detailData - additional data to pass with change event\n   */\n  blockDidMutated(e, t, o) {\n    const i = new CustomEvent(e, {\n      detail: {\n        target: new G(t),\n        ...o\n      }\n    });\n    return this.eventsDispatcher.emit(Pt, {\n      event: i\n    }), t;\n  }\n}\nclass ts extends y {\n  constructor() {\n    super(...arguments), this.anyBlockSelectedCache = null, this.needToSelectAll = !1, this.nativeInputSelected = !1, this.readyToBlockSelection = !1;\n  }\n  /**\n   * Sanitizer Config\n   *\n   * @returns {SanitizerConfig}\n   */\n  get sanitizerConfig() {\n    return {\n      p: {},\n      h1: {},\n      h2: {},\n      h3: {},\n      h4: {},\n      h5: {},\n      h6: {},\n      ol: {},\n      ul: {},\n      li: {},\n      br: !0,\n      img: {\n        src: !0,\n        width: !0,\n        height: !0\n      },\n      a: {\n        href: !0\n      },\n      b: {},\n      i: {},\n      u: {}\n    };\n  }\n  /**\n   * Flag that identifies all Blocks selection\n   *\n   * @returns {boolean}\n   */\n  get allBlocksSelected() {\n    const { BlockManager: e } = this.Editor;\n    return e.blocks.every((t) => t.selected === !0);\n  }\n  /**\n   * Set selected all blocks\n   *\n   * @param {boolean} state - state to set\n   */\n  set allBlocksSelected(e) {\n    const { BlockManager: t } = this.Editor;\n    t.blocks.forEach((o) => {\n      o.selected = e;\n    }), this.clearCache();\n  }\n  /**\n   * Flag that identifies any Block selection\n   *\n   * @returns {boolean}\n   */\n  get anyBlockSelected() {\n    const { BlockManager: e } = this.Editor;\n    return this.anyBlockSelectedCache === null && (this.anyBlockSelectedCache = e.blocks.some((t) => t.selected === !0)), this.anyBlockSelectedCache;\n  }\n  /**\n   * Return selected Blocks array\n   *\n   * @returns {Block[]}\n   */\n  get selectedBlocks() {\n    return this.Editor.BlockManager.blocks.filter((e) => e.selected);\n  }\n  /**\n   * Module Preparation\n   * Registers Shortcuts CMD+A and CMD+C\n   * to select all and copy them\n   */\n  prepare() {\n    this.selection = new b(), de.add({\n      name: \"CMD+A\",\n      handler: (e) => {\n        const { BlockManager: t, ReadOnly: o } = this.Editor;\n        if (o.isEnabled) {\n          e.preventDefault(), this.selectAllBlocks();\n          return;\n        }\n        t.currentBlock && this.handleCommandA(e);\n      },\n      on: this.Editor.UI.nodes.redactor\n    });\n  }\n  /**\n   * Toggle read-only state\n   *\n   *  - Remove all ranges\n   *  - Unselect all Blocks\n   */\n  toggleReadOnly() {\n    b.get().removeAllRanges(), this.allBlocksSelected = !1;\n  }\n  /**\n   * Remove selection of Block\n   *\n   * @param {number?} index - Block index according to the BlockManager's indexes\n   */\n  unSelectBlockByIndex(e) {\n    const { BlockManager: t } = this.Editor;\n    let o;\n    isNaN(e) ? o = t.currentBlock : o = t.getBlockByIndex(e), o.selected = !1, this.clearCache();\n  }\n  /**\n   * Clear selection from Blocks\n   *\n   * @param {Event} reason - event caused clear of selection\n   * @param {boolean} restoreSelection - if true, restore saved selection\n   */\n  clearSelection(e, t = !1) {\n    const { BlockManager: o, Caret: i, RectangleSelection: s } = this.Editor;\n    this.needToSelectAll = !1, this.nativeInputSelected = !1, this.readyToBlockSelection = !1;\n    const r = e && e instanceof KeyboardEvent, l = r && It(e.keyCode);\n    if (this.anyBlockSelected && r && l && !b.isSelectionExists) {\n      const a = o.removeSelectedBlocks();\n      o.insertDefaultBlockAtIndex(a, !0), i.setToBlock(o.currentBlock), Oe(() => {\n        const c = e.key;\n        i.insertContentAtCaretPosition(c.length > 1 ? \"\" : c);\n      }, 20)();\n    }\n    if (this.Editor.CrossBlockSelection.clear(e), !this.anyBlockSelected || s.isRectActivated()) {\n      this.Editor.RectangleSelection.clearSelection();\n      return;\n    }\n    t && this.selection.restore(), this.allBlocksSelected = !1;\n  }\n  /**\n   * Reduce each Block and copy its content\n   *\n   * @param {ClipboardEvent} e - copy/cut event\n   * @returns {Promise<void>}\n   */\n  copySelectedBlocks(e) {\n    e.preventDefault();\n    const t = d.make(\"div\");\n    this.selectedBlocks.forEach((s) => {\n      const r = q(s.holder.innerHTML, this.sanitizerConfig), l = d.make(\"p\");\n      l.innerHTML = r, t.appendChild(l);\n    });\n    const o = Array.from(t.childNodes).map((s) => s.textContent).join(`\n\n`), i = t.innerHTML;\n    return e.clipboardData.setData(\"text/plain\", o), e.clipboardData.setData(\"text/html\", i), Promise.all(this.selectedBlocks.map((s) => s.save())).then((s) => {\n      try {\n        e.clipboardData.setData(this.Editor.Paste.MIME_TYPE, JSON.stringify(s));\n      } catch {\n      }\n    });\n  }\n  /**\n   * Select Block by its index\n   *\n   * @param {number?} index - Block index according to the BlockManager's indexes\n   */\n  selectBlockByIndex(e) {\n    const { BlockManager: t } = this.Editor, o = t.getBlockByIndex(e);\n    o !== void 0 && this.selectBlock(o);\n  }\n  /**\n   * Select passed Block\n   *\n   * @param {Block} block - Block to select\n   */\n  selectBlock(e) {\n    this.selection.save(), b.get().removeAllRanges(), e.selected = !0, this.clearCache(), this.Editor.InlineToolbar.close();\n  }\n  /**\n   * Remove selection from passed Block\n   *\n   * @param {Block} block - Block to unselect\n   */\n  unselectBlock(e) {\n    e.selected = !1, this.clearCache();\n  }\n  /**\n   * Clear anyBlockSelected cache\n   */\n  clearCache() {\n    this.anyBlockSelectedCache = null;\n  }\n  /**\n   * Module destruction\n   * De-registers Shortcut CMD+A\n   */\n  destroy() {\n    de.remove(this.Editor.UI.nodes.redactor, \"CMD+A\");\n  }\n  /**\n   * First CMD+A selects all input content by native behaviour,\n   * next CMD+A keypress selects all blocks\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  handleCommandA(e) {\n    if (this.Editor.RectangleSelection.clearSelection(), d.isNativeInput(e.target) && !this.readyToBlockSelection) {\n      this.readyToBlockSelection = !0;\n      return;\n    }\n    const t = this.Editor.BlockManager.getBlock(e.target), o = t.inputs;\n    if (o.length > 1 && !this.readyToBlockSelection) {\n      this.readyToBlockSelection = !0;\n      return;\n    }\n    if (o.length === 1 && !this.needToSelectAll) {\n      this.needToSelectAll = !0;\n      return;\n    }\n    this.needToSelectAll ? (e.preventDefault(), this.selectAllBlocks(), this.needToSelectAll = !1, this.readyToBlockSelection = !1) : this.readyToBlockSelection && (e.preventDefault(), this.selectBlock(t), this.needToSelectAll = !0);\n  }\n  /**\n   * Select All Blocks\n   * Each Block has selected setter that makes Block copyable\n   */\n  selectAllBlocks() {\n    this.selection.save(), b.get().removeAllRanges(), this.allBlocksSelected = !0, this.Editor.InlineToolbar.close();\n  }\n}\nclass De extends y {\n  /**\n   * Allowed caret positions in input\n   *\n   * @static\n   * @returns {{START: string, END: string, DEFAULT: string}}\n   */\n  get positions() {\n    return {\n      START: \"start\",\n      END: \"end\",\n      DEFAULT: \"default\"\n    };\n  }\n  /**\n   * Elements styles that can be useful for Caret Module\n   */\n  static get CSS() {\n    return {\n      shadowCaret: \"cdx-shadow-caret\"\n    };\n  }\n  /**\n   * Method gets Block instance and puts caret to the text node with offset\n   * There two ways that method applies caret position:\n   *   - first found text node: sets at the beginning, but you can pass an offset\n   *   - last found text node: sets at the end of the node. Also, you can customize the behaviour\n   *\n   * @param {Block} block - Block class\n   * @param {string} position - position where to set caret.\n   *                            If default - leave default behaviour and apply offset if it's passed\n   * @param {number} offset - caret offset regarding to the text node\n   */\n  setToBlock(e, t = this.positions.DEFAULT, o = 0) {\n    var c;\n    const { BlockManager: i, BlockSelection: s } = this.Editor;\n    if (s.clearSelection(), !e.focusable) {\n      (c = window.getSelection()) == null || c.removeAllRanges(), s.selectBlock(e), i.currentBlock = e;\n      return;\n    }\n    let r;\n    switch (t) {\n      case this.positions.START:\n        r = e.firstInput;\n        break;\n      case this.positions.END:\n        r = e.lastInput;\n        break;\n      default:\n        r = e.currentInput;\n    }\n    if (!r)\n      return;\n    const l = d.getDeepestNode(r, t === this.positions.END), a = d.getContentLength(l);\n    switch (!0) {\n      case t === this.positions.START:\n        o = 0;\n        break;\n      case t === this.positions.END:\n      case o > a:\n        o = a;\n        break;\n    }\n    this.set(l, o), i.setCurrentBlockByChildNode(e.holder), i.currentBlock.currentInput = r;\n  }\n  /**\n   * Set caret to the current input of current Block.\n   *\n   * @param {HTMLElement} input - input where caret should be set\n   * @param {string} position - position of the caret.\n   *                            If default - leave default behaviour and apply offset if it's passed\n   * @param {number} offset - caret offset regarding to the text node\n   */\n  setToInput(e, t = this.positions.DEFAULT, o = 0) {\n    const { currentBlock: i } = this.Editor.BlockManager, s = d.getDeepestNode(e);\n    switch (t) {\n      case this.positions.START:\n        this.set(s, 0);\n        break;\n      case this.positions.END:\n        this.set(s, d.getContentLength(s));\n        break;\n      default:\n        o && this.set(s, o);\n    }\n    i.currentInput = e;\n  }\n  /**\n   * Creates Document Range and sets caret to the element with offset\n   *\n   * @param {HTMLElement} element - target node.\n   * @param {number} offset - offset\n   */\n  set(e, t = 0) {\n    const { top: i, bottom: s } = b.setCursor(e, t), { innerHeight: r } = window;\n    i < 0 ? window.scrollBy(0, i - 30) : s > r && window.scrollBy(0, s - r + 30);\n  }\n  /**\n   * Set Caret to the last Block\n   * If last block is not empty, append another empty block\n   */\n  setToTheLastBlock() {\n    const e = this.Editor.BlockManager.lastBlock;\n    if (e)\n      if (e.tool.isDefault && e.isEmpty)\n        this.setToBlock(e);\n      else {\n        const t = this.Editor.BlockManager.insertAtEnd();\n        this.setToBlock(t);\n      }\n  }\n  /**\n   * Extract content fragment of current Block from Caret position to the end of the Block\n   */\n  extractFragmentFromCaretPosition() {\n    const e = b.get();\n    if (e.rangeCount) {\n      const t = e.getRangeAt(0), o = this.Editor.BlockManager.currentBlock.currentInput;\n      if (t.deleteContents(), o)\n        if (d.isNativeInput(o)) {\n          const i = o, s = document.createDocumentFragment(), r = i.value.substring(0, i.selectionStart), l = i.value.substring(i.selectionStart);\n          return s.textContent = l, i.value = r, s;\n        } else {\n          const i = t.cloneRange();\n          return i.selectNodeContents(o), i.setStart(t.endContainer, t.endOffset), i.extractContents();\n        }\n    }\n  }\n  /**\n   * Set's caret to the next Block or Tool`s input\n   * Before moving caret, we should check if caret position is at the end of Plugins node\n   * Using {@link Dom#getDeepestNode} to get a last node and match with current selection\n   *\n   * @param {boolean} force - pass true to skip check for caret position\n   */\n  navigateNext(e = !1) {\n    const { BlockManager: t } = this.Editor, { currentBlock: o, nextBlock: i } = t;\n    if (o === void 0)\n      return !1;\n    const { nextInput: s, currentInput: r } = o, l = r !== void 0 ? Me(r) : void 0;\n    let a = i;\n    const c = e || l || !o.focusable;\n    if (s && c)\n      return this.setToInput(s, this.positions.START), !0;\n    if (a === null) {\n      if (o.tool.isDefault || !c)\n        return !1;\n      a = t.insertAtEnd();\n    }\n    return c ? (this.setToBlock(a, this.positions.START), !0) : !1;\n  }\n  /**\n   * Set's caret to the previous Tool`s input or Block\n   * Before moving caret, we should check if caret position is start of the Plugins node\n   * Using {@link Dom#getDeepestNode} to get a last node and match with current selection\n   *\n   * @param {boolean} force - pass true to skip check for caret position\n   */\n  navigatePrevious(e = !1) {\n    const { currentBlock: t, previousBlock: o } = this.Editor.BlockManager;\n    if (!t)\n      return !1;\n    const { previousInput: i, currentInput: s } = t, r = s !== void 0 ? Ie(s) : void 0, l = e || r || !t.focusable;\n    return i && l ? (this.setToInput(i, this.positions.END), !0) : o !== null && l ? (this.setToBlock(o, this.positions.END), !0) : !1;\n  }\n  /**\n   * Inserts shadow element after passed element where caret can be placed\n   *\n   * @param {Element} element - element after which shadow caret should be inserted\n   */\n  createShadow(e) {\n    const t = document.createElement(\"span\");\n    t.classList.add(De.CSS.shadowCaret), e.insertAdjacentElement(\"beforeend\", t);\n  }\n  /**\n   * Restores caret position\n   *\n   * @param {HTMLElement} element - element where caret should be restored\n   */\n  restoreCaret(e) {\n    const t = e.querySelector(`.${De.CSS.shadowCaret}`);\n    if (!t)\n      return;\n    new b().expandToTag(t);\n    const i = document.createRange();\n    i.selectNode(t), i.extractContents();\n  }\n  /**\n   * Inserts passed content at caret position\n   *\n   * @param {string} content - content to insert\n   */\n  insertContentAtCaretPosition(e) {\n    const t = document.createDocumentFragment(), o = document.createElement(\"div\"), i = b.get(), s = b.range;\n    o.innerHTML = e, Array.from(o.childNodes).forEach((c) => t.appendChild(c)), t.childNodes.length === 0 && t.appendChild(new Text());\n    const r = t.lastChild;\n    s.deleteContents(), s.insertNode(t);\n    const l = document.createRange(), a = r.nodeType === Node.TEXT_NODE ? r : r.firstChild;\n    a !== null && a.textContent !== null && l.setStart(a, a.textContent.length), i.removeAllRanges(), i.addRange(l);\n  }\n}\nclass os extends y {\n  constructor() {\n    super(...arguments), this.onMouseUp = () => {\n      this.listeners.off(document, \"mouseover\", this.onMouseOver), this.listeners.off(document, \"mouseup\", this.onMouseUp);\n    }, this.onMouseOver = (e) => {\n      const { BlockManager: t, BlockSelection: o } = this.Editor;\n      if (e.relatedTarget === null && e.target === null)\n        return;\n      const i = t.getBlockByChildNode(e.relatedTarget) || this.lastSelectedBlock, s = t.getBlockByChildNode(e.target);\n      if (!(!i || !s) && s !== i) {\n        if (i === this.firstSelectedBlock) {\n          b.get().removeAllRanges(), i.selected = !0, s.selected = !0, o.clearCache();\n          return;\n        }\n        if (s === this.firstSelectedBlock) {\n          i.selected = !1, s.selected = !1, o.clearCache();\n          return;\n        }\n        this.Editor.InlineToolbar.close(), this.toggleBlocksSelectedState(i, s), this.lastSelectedBlock = s;\n      }\n    };\n  }\n  /**\n   * Module preparation\n   *\n   * @returns {Promise}\n   */\n  async prepare() {\n    this.listeners.on(document, \"mousedown\", (e) => {\n      this.enableCrossBlockSelection(e);\n    });\n  }\n  /**\n   * Sets up listeners\n   *\n   * @param {MouseEvent} event - mouse down event\n   */\n  watchSelection(e) {\n    if (e.button !== wo.LEFT)\n      return;\n    const { BlockManager: t } = this.Editor;\n    this.firstSelectedBlock = t.getBlock(e.target), this.lastSelectedBlock = this.firstSelectedBlock, this.listeners.on(document, \"mouseover\", this.onMouseOver), this.listeners.on(document, \"mouseup\", this.onMouseUp);\n  }\n  /**\n   * Return boolean is cross block selection started:\n   * there should be at least 2 selected blocks\n   */\n  get isCrossBlockSelectionStarted() {\n    return !!this.firstSelectedBlock && !!this.lastSelectedBlock && this.firstSelectedBlock !== this.lastSelectedBlock;\n  }\n  /**\n   * Change selection state of the next Block\n   * Used for CBS via Shift + arrow keys\n   *\n   * @param {boolean} next - if true, toggle next block. Previous otherwise\n   */\n  toggleBlockSelectedState(e = !0) {\n    const { BlockManager: t, BlockSelection: o } = this.Editor;\n    this.lastSelectedBlock || (this.lastSelectedBlock = this.firstSelectedBlock = t.currentBlock), this.firstSelectedBlock === this.lastSelectedBlock && (this.firstSelectedBlock.selected = !0, o.clearCache(), b.get().removeAllRanges());\n    const i = t.blocks.indexOf(this.lastSelectedBlock) + (e ? 1 : -1), s = t.blocks[i];\n    s && (this.lastSelectedBlock.selected !== s.selected ? (s.selected = !0, o.clearCache()) : (this.lastSelectedBlock.selected = !1, o.clearCache()), this.lastSelectedBlock = s, this.Editor.InlineToolbar.close(), s.holder.scrollIntoView({\n      block: \"nearest\"\n    }));\n  }\n  /**\n   * Clear saved state\n   *\n   * @param {Event} reason - event caused clear of selection\n   */\n  clear(e) {\n    const { BlockManager: t, BlockSelection: o, Caret: i } = this.Editor, s = t.blocks.indexOf(this.firstSelectedBlock), r = t.blocks.indexOf(this.lastSelectedBlock);\n    if (o.anyBlockSelected && s > -1 && r > -1 && e && e instanceof KeyboardEvent)\n      switch (e.keyCode) {\n        case w.DOWN:\n        case w.RIGHT:\n          i.setToBlock(t.blocks[Math.max(s, r)], i.positions.END);\n          break;\n        case w.UP:\n        case w.LEFT:\n          i.setToBlock(t.blocks[Math.min(s, r)], i.positions.START);\n          break;\n        default:\n          i.setToBlock(t.blocks[Math.max(s, r)], i.positions.END);\n      }\n    this.firstSelectedBlock = this.lastSelectedBlock = null;\n  }\n  /**\n   * Enables Cross Block Selection\n   *\n   * @param {MouseEvent} event - mouse down event\n   */\n  enableCrossBlockSelection(e) {\n    const { UI: t } = this.Editor;\n    b.isCollapsed || this.Editor.BlockSelection.clearSelection(e), t.nodes.redactor.contains(e.target) ? this.watchSelection(e) : this.Editor.BlockSelection.clearSelection(e);\n  }\n  /**\n   * Change blocks selection state between passed two blocks.\n   *\n   * @param {Block} firstBlock - first block in range\n   * @param {Block} lastBlock - last block in range\n   */\n  toggleBlocksSelectedState(e, t) {\n    const { BlockManager: o, BlockSelection: i } = this.Editor, s = o.blocks.indexOf(e), r = o.blocks.indexOf(t), l = e.selected !== t.selected;\n    for (let a = Math.min(s, r); a <= Math.max(s, r); a++) {\n      const c = o.blocks[a];\n      c !== this.firstSelectedBlock && c !== (l ? e : t) && (o.blocks[a].selected = !o.blocks[a].selected, i.clearCache());\n    }\n  }\n}\nclass is extends y {\n  constructor() {\n    super(...arguments), this.isStartedAtEditor = !1;\n  }\n  /**\n   * Toggle read-only state\n   *\n   * if state is true:\n   *  - disable all drag-n-drop event handlers\n   *\n   * if state is false:\n   *  - restore drag-n-drop event handlers\n   *\n   * @param {boolean} readOnlyEnabled - \"read only\" state\n   */\n  toggleReadOnly(e) {\n    e ? this.disableModuleBindings() : this.enableModuleBindings();\n  }\n  /**\n   * Add drag events listeners to editor zone\n   */\n  enableModuleBindings() {\n    const { UI: e } = this.Editor;\n    this.readOnlyMutableListeners.on(e.nodes.holder, \"drop\", async (t) => {\n      await this.processDrop(t);\n    }, !0), this.readOnlyMutableListeners.on(e.nodes.holder, \"dragstart\", () => {\n      this.processDragStart();\n    }), this.readOnlyMutableListeners.on(e.nodes.holder, \"dragover\", (t) => {\n      this.processDragOver(t);\n    }, !0);\n  }\n  /**\n   * Unbind drag-n-drop event handlers\n   */\n  disableModuleBindings() {\n    this.readOnlyMutableListeners.clearAll();\n  }\n  /**\n   * Handle drop event\n   *\n   * @param {DragEvent} dropEvent - drop event\n   */\n  async processDrop(e) {\n    const {\n      BlockManager: t,\n      Paste: o,\n      Caret: i\n    } = this.Editor;\n    e.preventDefault(), t.blocks.forEach((r) => {\n      r.dropTarget = !1;\n    }), b.isAtEditor && !b.isCollapsed && this.isStartedAtEditor && document.execCommand(\"delete\"), this.isStartedAtEditor = !1;\n    const s = t.setCurrentBlockByChildNode(e.target);\n    if (s)\n      this.Editor.Caret.setToBlock(s, i.positions.END);\n    else {\n      const r = t.setCurrentBlockByChildNode(t.lastBlock.holder);\n      this.Editor.Caret.setToBlock(r, i.positions.END);\n    }\n    await o.processDataTransfer(e.dataTransfer, !0);\n  }\n  /**\n   * Handle drag start event\n   */\n  processDragStart() {\n    b.isAtEditor && !b.isCollapsed && (this.isStartedAtEditor = !0), this.Editor.InlineToolbar.close();\n  }\n  /**\n   * @param {DragEvent} dragEvent - drag event\n   */\n  processDragOver(e) {\n    e.preventDefault();\n  }\n}\nconst ss = 180, ns = 400;\nclass rs extends y {\n  /**\n   * Prepare the module\n   *\n   * @param options - options used by the modification observer module\n   * @param options.config - Editor configuration object\n   * @param options.eventsDispatcher - common Editor event bus\n   */\n  constructor({ config: e, eventsDispatcher: t }) {\n    super({\n      config: e,\n      eventsDispatcher: t\n    }), this.disabled = !1, this.batchingTimeout = null, this.batchingOnChangeQueue = /* @__PURE__ */ new Map(), this.batchTime = ns, this.mutationObserver = new MutationObserver((o) => {\n      this.redactorChanged(o);\n    }), this.eventsDispatcher.on(Pt, (o) => {\n      this.particularBlockChanged(o.event);\n    }), this.eventsDispatcher.on(Dt, () => {\n      this.disable();\n    }), this.eventsDispatcher.on(Rt, () => {\n      this.enable();\n    });\n  }\n  /**\n   * Enables onChange event\n   */\n  enable() {\n    this.mutationObserver.observe(\n      this.Editor.UI.nodes.redactor,\n      {\n        childList: !0,\n        subtree: !0,\n        characterData: !0,\n        attributes: !0\n      }\n    ), this.disabled = !1;\n  }\n  /**\n   * Disables onChange event\n   */\n  disable() {\n    this.mutationObserver.disconnect(), this.disabled = !0;\n  }\n  /**\n   * Call onChange event passed to Editor.js configuration\n   *\n   * @param event - some of our custom change events\n   */\n  particularBlockChanged(e) {\n    this.disabled || !A(this.config.onChange) || (this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`, e), this.batchingTimeout && clearTimeout(this.batchingTimeout), this.batchingTimeout = setTimeout(() => {\n      let t;\n      this.batchingOnChangeQueue.size === 1 ? t = this.batchingOnChangeQueue.values().next().value : t = Array.from(this.batchingOnChangeQueue.values()), this.config.onChange && this.config.onChange(this.Editor.API.methods, t), this.batchingOnChangeQueue.clear();\n    }, this.batchTime));\n  }\n  /**\n   * Fired on every blocks wrapper dom change\n   *\n   * @param mutations - mutations happened\n   */\n  redactorChanged(e) {\n    this.eventsDispatcher.emit(Je, {\n      mutations: e\n    });\n  }\n}\nconst ro = class lo extends y {\n  constructor() {\n    super(...arguments), this.MIME_TYPE = \"application/x-editor-js\", this.toolsTags = {}, this.tagsByTool = {}, this.toolsPatterns = [], this.toolsFiles = {}, this.exceptionList = [], this.processTool = (e) => {\n      try {\n        const t = e.create({}, {}, !1);\n        if (e.pasteConfig === !1) {\n          this.exceptionList.push(e.name);\n          return;\n        }\n        if (!A(t.onPaste))\n          return;\n        this.getTagsConfig(e), this.getFilesConfig(e), this.getPatternsConfig(e);\n      } catch (t) {\n        I(\n          `Paste handling for ${e.name} Tool hasn't been set up because of the error`,\n          \"warn\",\n          t\n        );\n      }\n    }, this.handlePasteEvent = async (e) => {\n      const { BlockManager: t, Toolbar: o } = this.Editor, i = t.setCurrentBlockByChildNode(e.target);\n      !i || this.isNativeBehaviour(e.target) && !e.clipboardData.types.includes(\"Files\") || i && this.exceptionList.includes(i.name) || (e.preventDefault(), this.processDataTransfer(e.clipboardData), o.close());\n    };\n  }\n  /**\n   * Set onPaste callback and collect tools` paste configurations\n   */\n  async prepare() {\n    this.processTools();\n  }\n  /**\n   * Set read-only state\n   *\n   * @param {boolean} readOnlyEnabled - read only flag value\n   */\n  toggleReadOnly(e) {\n    e ? this.unsetCallback() : this.setCallback();\n  }\n  /**\n   * Handle pasted or dropped data transfer object\n   *\n   * @param {DataTransfer} dataTransfer - pasted or dropped data transfer object\n   * @param {boolean} isDragNDrop - true if data transfer comes from drag'n'drop events\n   */\n  async processDataTransfer(e, t = !1) {\n    const { Tools: o } = this.Editor, i = e.types;\n    if ((i.includes ? i.includes(\"Files\") : i.contains(\"Files\")) && !V(this.toolsFiles)) {\n      await this.processFiles(e.files);\n      return;\n    }\n    const r = e.getData(this.MIME_TYPE), l = e.getData(\"text/plain\");\n    let a = e.getData(\"text/html\");\n    if (r)\n      try {\n        this.insertEditorJSData(JSON.parse(r));\n        return;\n      } catch {\n      }\n    t && l.trim() && a.trim() && (a = \"<p>\" + (a.trim() ? a : l) + \"</p>\");\n    const c = Object.keys(this.toolsTags).reduce((p, g) => (p[g.toLowerCase()] = this.toolsTags[g].sanitizationConfig ?? {}, p), {}), u = Object.assign({}, c, o.getAllInlineToolsSanitizeConfig(), { br: {} }), h = q(a, u);\n    !h.trim() || h.trim() === l || !d.isHTMLString(h) ? await this.processText(l) : await this.processText(h, !0);\n  }\n  /**\n   * Process pasted text and divide them into Blocks\n   *\n   * @param {string} data - text to process. Can be HTML or plain.\n   * @param {boolean} isHTML - if passed string is HTML, this parameter should be true\n   */\n  async processText(e, t = !1) {\n    const { Caret: o, BlockManager: i } = this.Editor, s = t ? this.processHTML(e) : this.processPlain(e);\n    if (!s.length)\n      return;\n    if (s.length === 1) {\n      s[0].isBlock ? this.processSingleBlock(s.pop()) : this.processInlinePaste(s.pop());\n      return;\n    }\n    const l = i.currentBlock && i.currentBlock.tool.isDefault && i.currentBlock.isEmpty;\n    s.map(\n      async (a, c) => this.insertBlock(a, c === 0 && l)\n    ), i.currentBlock && o.setToBlock(i.currentBlock, o.positions.END);\n  }\n  /**\n   * Set onPaste callback handler\n   */\n  setCallback() {\n    this.listeners.on(this.Editor.UI.nodes.holder, \"paste\", this.handlePasteEvent);\n  }\n  /**\n   * Unset onPaste callback handler\n   */\n  unsetCallback() {\n    this.listeners.off(this.Editor.UI.nodes.holder, \"paste\", this.handlePasteEvent);\n  }\n  /**\n   * Get and process tool`s paste configs\n   */\n  processTools() {\n    const e = this.Editor.Tools.blockTools;\n    Array.from(e.values()).forEach(this.processTool);\n  }\n  /**\n   * Get tags name list from either tag name or sanitization config.\n   *\n   * @param {string | object} tagOrSanitizeConfig - tag name or sanitize config object.\n   * @returns {string[]} array of tags.\n   */\n  collectTagNames(e) {\n    return Q(e) ? [e] : R(e) ? Object.keys(e) : [];\n  }\n  /**\n   * Get tags to substitute by Tool\n   *\n   * @param tool - BlockTool object\n   */\n  getTagsConfig(e) {\n    if (e.pasteConfig === !1)\n      return;\n    const t = e.pasteConfig.tags || [], o = [];\n    t.forEach((i) => {\n      const s = this.collectTagNames(i);\n      o.push(...s), s.forEach((r) => {\n        if (Object.prototype.hasOwnProperty.call(this.toolsTags, r)) {\n          I(\n            `Paste handler for ${e.name} Tool on ${r} tag is skipped because it is already used by ${this.toolsTags[r].tool.name} Tool.`,\n            \"warn\"\n          );\n          return;\n        }\n        const l = R(i) ? i[r] : null;\n        this.toolsTags[r.toUpperCase()] = {\n          tool: e,\n          sanitizationConfig: l\n        };\n      });\n    }), this.tagsByTool[e.name] = o.map((i) => i.toUpperCase());\n  }\n  /**\n   * Get files` types and extensions to substitute by Tool\n   *\n   * @param tool - BlockTool object\n   */\n  getFilesConfig(e) {\n    if (e.pasteConfig === !1)\n      return;\n    const { files: t = {} } = e.pasteConfig;\n    let { extensions: o, mimeTypes: i } = t;\n    !o && !i || (o && !Array.isArray(o) && (I(`extensions property of the onDrop config for ${e.name} Tool should be an array`), o = []), i && !Array.isArray(i) && (I(`mimeTypes property of the onDrop config for ${e.name} Tool should be an array`), i = []), i && (i = i.filter((s) => To(s) ? !0 : (I(`MIME type value ${s} for the ${e.name} Tool is not a valid MIME type`, \"warn\"), !1))), this.toolsFiles[e.name] = {\n      extensions: o || [],\n      mimeTypes: i || []\n    });\n  }\n  /**\n   * Get RegExp patterns to substitute by Tool\n   *\n   * @param tool - BlockTool object\n   */\n  getPatternsConfig(e) {\n    e.pasteConfig === !1 || !e.pasteConfig.patterns || V(e.pasteConfig.patterns) || Object.entries(e.pasteConfig.patterns).forEach(([t, o]) => {\n      o instanceof RegExp || I(\n        `Pattern ${o} for ${e.name} Tool is skipped because it should be a Regexp instance.`,\n        \"warn\"\n      ), this.toolsPatterns.push({\n        key: t,\n        pattern: o,\n        tool: e\n      });\n    });\n  }\n  /**\n   * Check if browser behavior suits better\n   *\n   * @param {EventTarget} element - element where content has been pasted\n   * @returns {boolean}\n   */\n  isNativeBehaviour(e) {\n    return d.isNativeInput(e);\n  }\n  /**\n   * Get files from data transfer object and insert related Tools\n   *\n   * @param {FileList} items - pasted or dropped items\n   */\n  async processFiles(e) {\n    const { BlockManager: t } = this.Editor;\n    let o;\n    o = await Promise.all(\n      Array.from(e).map((r) => this.processFile(r))\n    ), o = o.filter((r) => !!r);\n    const s = t.currentBlock.tool.isDefault && t.currentBlock.isEmpty;\n    o.forEach(\n      (r, l) => {\n        t.paste(r.type, r.event, l === 0 && s);\n      }\n    );\n  }\n  /**\n   * Get information about file and find Tool to handle it\n   *\n   * @param {File} file - file to process\n   */\n  async processFile(e) {\n    const t = Bo(e), o = Object.entries(this.toolsFiles).find(([r, { mimeTypes: l, extensions: a }]) => {\n      const [c, u] = e.type.split(\"/\"), h = a.find((g) => g.toLowerCase() === t.toLowerCase()), p = l.find((g) => {\n        const [f, k] = g.split(\"/\");\n        return f === c && (k === u || k === \"*\");\n      });\n      return !!h || !!p;\n    });\n    if (!o)\n      return;\n    const [i] = o;\n    return {\n      event: this.composePasteEvent(\"file\", {\n        file: e\n      }),\n      type: i\n    };\n  }\n  /**\n   * Split HTML string to blocks and return it as array of Block data\n   *\n   * @param {string} innerHTML - html string to process\n   * @returns {PasteData[]}\n   */\n  processHTML(e) {\n    const { Tools: t } = this.Editor, o = d.make(\"DIV\");\n    return o.innerHTML = e, this.getNodes(o).map((s) => {\n      let r, l = t.defaultTool, a = !1;\n      switch (s.nodeType) {\n        case Node.DOCUMENT_FRAGMENT_NODE:\n          r = d.make(\"div\"), r.appendChild(s);\n          break;\n        case Node.ELEMENT_NODE:\n          r = s, a = !0, this.toolsTags[r.tagName] && (l = this.toolsTags[r.tagName].tool);\n          break;\n      }\n      const { tags: c } = l.pasteConfig || { tags: [] }, u = c.reduce((g, f) => (this.collectTagNames(f).forEach((C) => {\n        const S = R(f) ? f[C] : null;\n        g[C.toLowerCase()] = S || {};\n      }), g), {}), h = Object.assign({}, u, l.baseSanitizeConfig);\n      if (r.tagName.toLowerCase() === \"table\") {\n        const g = q(r.outerHTML, h);\n        r = d.make(\"div\", void 0, {\n          innerHTML: g\n        }).firstChild;\n      } else\n        r.innerHTML = q(r.innerHTML, h);\n      const p = this.composePasteEvent(\"tag\", {\n        data: r\n      });\n      return {\n        content: r,\n        isBlock: a,\n        tool: l.name,\n        event: p\n      };\n    }).filter((s) => {\n      const r = d.isEmpty(s.content), l = d.isSingleTag(s.content);\n      return !r || l;\n    });\n  }\n  /**\n   * Split plain text by new line symbols and return it as array of Block data\n   *\n   * @param {string} plain - string to process\n   * @returns {PasteData[]}\n   */\n  processPlain(e) {\n    const { defaultBlock: t } = this.config;\n    if (!e)\n      return [];\n    const o = t;\n    return e.split(/\\r?\\n/).filter((i) => i.trim()).map((i) => {\n      const s = d.make(\"div\");\n      s.textContent = i;\n      const r = this.composePasteEvent(\"tag\", {\n        data: s\n      });\n      return {\n        content: s,\n        tool: o,\n        isBlock: !1,\n        event: r\n      };\n    });\n  }\n  /**\n   * Process paste of single Block tool content\n   *\n   * @param {PasteData} dataToInsert - data of Block to insert\n   */\n  async processSingleBlock(e) {\n    const { Caret: t, BlockManager: o } = this.Editor, { currentBlock: i } = o;\n    if (!i || e.tool !== i.name || !d.containsOnlyInlineElements(e.content.innerHTML)) {\n      this.insertBlock(e, (i == null ? void 0 : i.tool.isDefault) && i.isEmpty);\n      return;\n    }\n    t.insertContentAtCaretPosition(e.content.innerHTML);\n  }\n  /**\n   * Process paste to single Block:\n   * 1. Find patterns` matches\n   * 2. Insert new block if it is not the same type as current one\n   * 3. Just insert text if there is no substitutions\n   *\n   * @param {PasteData} dataToInsert - data of Block to insert\n   */\n  async processInlinePaste(e) {\n    const { BlockManager: t, Caret: o } = this.Editor, { content: i } = e;\n    if (t.currentBlock && t.currentBlock.tool.isDefault && i.textContent.length < lo.PATTERN_PROCESSING_MAX_LENGTH) {\n      const r = await this.processPattern(i.textContent);\n      if (r) {\n        const l = t.currentBlock && t.currentBlock.tool.isDefault && t.currentBlock.isEmpty, a = t.paste(r.tool, r.event, l);\n        o.setToBlock(a, o.positions.END);\n        return;\n      }\n    }\n    if (t.currentBlock && t.currentBlock.currentInput) {\n      const r = t.currentBlock.tool.baseSanitizeConfig;\n      document.execCommand(\n        \"insertHTML\",\n        !1,\n        q(i.innerHTML, r)\n      );\n    } else\n      this.insertBlock(e);\n  }\n  /**\n   * Get patterns` matches\n   *\n   * @param {string} text - text to process\n   * @returns {Promise<{event: PasteEvent, tool: string}>}\n   */\n  async processPattern(e) {\n    const t = this.toolsPatterns.find((i) => {\n      const s = i.pattern.exec(e);\n      return s ? e === s.shift() : !1;\n    });\n    return t ? {\n      event: this.composePasteEvent(\"pattern\", {\n        key: t.key,\n        data: e\n      }),\n      tool: t.tool.name\n    } : void 0;\n  }\n  /**\n   * Insert pasted Block content to Editor\n   *\n   * @param {PasteData} data - data to insert\n   * @param {boolean} canReplaceCurrentBlock - if true and is current Block is empty, will replace current Block\n   * @returns {void}\n   */\n  insertBlock(e, t = !1) {\n    const { BlockManager: o, Caret: i } = this.Editor, { currentBlock: s } = o;\n    let r;\n    if (t && s && s.isEmpty) {\n      r = o.paste(e.tool, e.event, !0), i.setToBlock(r, i.positions.END);\n      return;\n    }\n    r = o.paste(e.tool, e.event), i.setToBlock(r, i.positions.END);\n  }\n  /**\n   * Insert data passed as application/x-editor-js JSON\n   *\n   * @param {Array} blocks  Blocks' data to insert\n   * @returns {void}\n   */\n  insertEditorJSData(e) {\n    const { BlockManager: t, Caret: o, Tools: i } = this.Editor;\n    nt(\n      e,\n      (r) => i.blockTools.get(r).sanitizeConfig\n    ).forEach(({ tool: r, data: l }, a) => {\n      let c = !1;\n      a === 0 && (c = t.currentBlock && t.currentBlock.tool.isDefault && t.currentBlock.isEmpty);\n      const u = t.insert({\n        tool: r,\n        data: l,\n        replace: c\n      });\n      o.setToBlock(u, o.positions.END);\n    });\n  }\n  /**\n   * Fetch nodes from Element node\n   *\n   * @param {Node} node - current node\n   * @param {Node[]} nodes - processed nodes\n   * @param {Node} destNode - destination node\n   */\n  processElementNode(e, t, o) {\n    const i = Object.keys(this.toolsTags), s = e, { tool: r } = this.toolsTags[s.tagName] || {}, l = this.tagsByTool[r == null ? void 0 : r.name] || [], a = i.includes(s.tagName), c = d.blockElements.includes(s.tagName.toLowerCase()), u = Array.from(s.children).some(\n      ({ tagName: p }) => i.includes(p) && !l.includes(p)\n    ), h = Array.from(s.children).some(\n      ({ tagName: p }) => d.blockElements.includes(p.toLowerCase())\n    );\n    if (!c && !a && !u)\n      return o.appendChild(s), [...t, o];\n    if (a && !u || c && !h && !u)\n      return [...t, o, s];\n  }\n  /**\n   * Recursively divide HTML string to two types of nodes:\n   * 1. Block element\n   * 2. Document Fragments contained text and markup tags like a, b, i etc.\n   *\n   * @param {Node} wrapper - wrapper of paster HTML content\n   * @returns {Node[]}\n   */\n  getNodes(e) {\n    const t = Array.from(e.childNodes);\n    let o;\n    const i = (s, r) => {\n      if (d.isEmpty(r) && !d.isSingleTag(r))\n        return s;\n      const l = s[s.length - 1];\n      let a = new DocumentFragment();\n      switch (l && d.isFragment(l) && (a = s.pop()), r.nodeType) {\n        case Node.ELEMENT_NODE:\n          if (o = this.processElementNode(r, s, a), o)\n            return o;\n          break;\n        case Node.TEXT_NODE:\n          return a.appendChild(r), [...s, a];\n        default:\n          return [...s, a];\n      }\n      return [...s, ...Array.from(r.childNodes).reduce(i, [])];\n    };\n    return t.reduce(i, []);\n  }\n  /**\n   * Compose paste event with passed type and detail\n   *\n   * @param {string} type - event type\n   * @param {PasteEventDetail} detail - event detail\n   */\n  composePasteEvent(e, t) {\n    return new CustomEvent(e, {\n      detail: t\n    });\n  }\n};\nro.PATTERN_PROCESSING_MAX_LENGTH = 450;\nlet ls = ro;\nclass as extends y {\n  constructor() {\n    super(...arguments), this.toolsDontSupportReadOnly = [], this.readOnlyEnabled = !1;\n  }\n  /**\n   * Returns state of read only mode\n   */\n  get isEnabled() {\n    return this.readOnlyEnabled;\n  }\n  /**\n   * Set initial state\n   */\n  async prepare() {\n    const { Tools: e } = this.Editor, { blockTools: t } = e, o = [];\n    Array.from(t.entries()).forEach(([i, s]) => {\n      s.isReadOnlySupported || o.push(i);\n    }), this.toolsDontSupportReadOnly = o, this.config.readOnly && o.length > 0 && this.throwCriticalError(), this.toggle(this.config.readOnly, !0);\n  }\n  /**\n   * Set read-only mode or toggle current state\n   * Call all Modules `toggleReadOnly` method and re-render Editor\n   *\n   * @param state - (optional) read-only state or toggle\n   * @param isInitial - (optional) true when editor is initializing\n   */\n  async toggle(e = !this.readOnlyEnabled, t = !1) {\n    e && this.toolsDontSupportReadOnly.length > 0 && this.throwCriticalError();\n    const o = this.readOnlyEnabled;\n    this.readOnlyEnabled = e;\n    for (const s in this.Editor)\n      this.Editor[s].toggleReadOnly && this.Editor[s].toggleReadOnly(e);\n    if (o === e)\n      return this.readOnlyEnabled;\n    if (t)\n      return this.readOnlyEnabled;\n    this.Editor.ModificationsObserver.disable();\n    const i = await this.Editor.Saver.save();\n    return await this.Editor.BlockManager.clear(), await this.Editor.Renderer.render(i.blocks), this.Editor.ModificationsObserver.enable(), this.readOnlyEnabled;\n  }\n  /**\n   * Throws an error about tools which don't support read-only mode\n   */\n  throwCriticalError() {\n    throw new Nt(\n      `To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(\", \")} don't support read-only mode.`\n    );\n  }\n}\nclass we extends y {\n  constructor() {\n    super(...arguments), this.isRectSelectionActivated = !1, this.SCROLL_SPEED = 3, this.HEIGHT_OF_SCROLL_ZONE = 40, this.BOTTOM_SCROLL_ZONE = 1, this.TOP_SCROLL_ZONE = 2, this.MAIN_MOUSE_BUTTON = 0, this.mousedown = !1, this.isScrolling = !1, this.inScrollZone = null, this.startX = 0, this.startY = 0, this.mouseX = 0, this.mouseY = 0, this.stackOfSelected = [], this.listenerIds = [];\n  }\n  /**\n   * CSS classes for the Block\n   *\n   * @returns {{wrapper: string, content: string}}\n   */\n  static get CSS() {\n    return {\n      overlay: \"codex-editor-overlay\",\n      overlayContainer: \"codex-editor-overlay__container\",\n      rect: \"codex-editor-overlay__rectangle\",\n      topScrollZone: \"codex-editor-overlay__scroll-zone--top\",\n      bottomScrollZone: \"codex-editor-overlay__scroll-zone--bottom\"\n    };\n  }\n  /**\n   * Module Preparation\n   * Creating rect and hang handlers\n   */\n  prepare() {\n    this.enableModuleBindings();\n  }\n  /**\n   * Init rect params\n   *\n   * @param {number} pageX - X coord of mouse\n   * @param {number} pageY - Y coord of mouse\n   */\n  startSelection(e, t) {\n    const o = document.elementFromPoint(e - window.pageXOffset, t - window.pageYOffset);\n    o.closest(`.${this.Editor.Toolbar.CSS.toolbar}`) || (this.Editor.BlockSelection.allBlocksSelected = !1, this.clearSelection(), this.stackOfSelected = []);\n    const s = [\n      `.${D.CSS.content}`,\n      `.${this.Editor.Toolbar.CSS.toolbar}`,\n      `.${this.Editor.InlineToolbar.CSS.inlineToolbar}`\n    ], r = o.closest(\".\" + this.Editor.UI.CSS.editorWrapper), l = s.some((a) => !!o.closest(a));\n    !r || l || (this.mousedown = !0, this.startX = e, this.startY = t);\n  }\n  /**\n   * Clear all params to end selection\n   */\n  endSelection() {\n    this.mousedown = !1, this.startX = 0, this.startY = 0, this.overlayRectangle.style.display = \"none\";\n  }\n  /**\n   * is RectSelection Activated\n   */\n  isRectActivated() {\n    return this.isRectSelectionActivated;\n  }\n  /**\n   * Mark that selection is end\n   */\n  clearSelection() {\n    this.isRectSelectionActivated = !1;\n  }\n  /**\n   * Sets Module necessary event handlers\n   */\n  enableModuleBindings() {\n    const { container: e } = this.genHTML();\n    this.listeners.on(e, \"mousedown\", (t) => {\n      this.processMouseDown(t);\n    }, !1), this.listeners.on(document.body, \"mousemove\", Ve((t) => {\n      this.processMouseMove(t);\n    }, 10), {\n      passive: !0\n    }), this.listeners.on(document.body, \"mouseleave\", () => {\n      this.processMouseLeave();\n    }), this.listeners.on(window, \"scroll\", Ve((t) => {\n      this.processScroll(t);\n    }, 10), {\n      passive: !0\n    }), this.listeners.on(document.body, \"mouseup\", () => {\n      this.processMouseUp();\n    }, !1);\n  }\n  /**\n   * Handle mouse down events\n   *\n   * @param {MouseEvent} mouseEvent - mouse event payload\n   */\n  processMouseDown(e) {\n    if (e.button !== this.MAIN_MOUSE_BUTTON)\n      return;\n    e.target.closest(d.allInputsSelector) !== null || this.startSelection(e.pageX, e.pageY);\n  }\n  /**\n   * Handle mouse move events\n   *\n   * @param {MouseEvent} mouseEvent - mouse event payload\n   */\n  processMouseMove(e) {\n    this.changingRectangle(e), this.scrollByZones(e.clientY);\n  }\n  /**\n   * Handle mouse leave\n   */\n  processMouseLeave() {\n    this.clearSelection(), this.endSelection();\n  }\n  /**\n   * @param {MouseEvent} mouseEvent - mouse event payload\n   */\n  processScroll(e) {\n    this.changingRectangle(e);\n  }\n  /**\n   * Handle mouse up\n   */\n  processMouseUp() {\n    this.clearSelection(), this.endSelection();\n  }\n  /**\n   * Scroll If mouse in scroll zone\n   *\n   * @param {number} clientY - Y coord of mouse\n   */\n  scrollByZones(e) {\n    if (this.inScrollZone = null, e <= this.HEIGHT_OF_SCROLL_ZONE && (this.inScrollZone = this.TOP_SCROLL_ZONE), document.documentElement.clientHeight - e <= this.HEIGHT_OF_SCROLL_ZONE && (this.inScrollZone = this.BOTTOM_SCROLL_ZONE), !this.inScrollZone) {\n      this.isScrolling = !1;\n      return;\n    }\n    this.isScrolling || (this.scrollVertical(this.inScrollZone === this.TOP_SCROLL_ZONE ? -this.SCROLL_SPEED : this.SCROLL_SPEED), this.isScrolling = !0);\n  }\n  /**\n   * Generates required HTML elements\n   *\n   * @returns {Object<string, Element>}\n   */\n  genHTML() {\n    const { UI: e } = this.Editor, t = e.nodes.holder.querySelector(\".\" + e.CSS.editorWrapper), o = d.make(\"div\", we.CSS.overlay, {}), i = d.make(\"div\", we.CSS.overlayContainer, {}), s = d.make(\"div\", we.CSS.rect, {});\n    return i.appendChild(s), o.appendChild(i), t.appendChild(o), this.overlayRectangle = s, {\n      container: t,\n      overlay: o\n    };\n  }\n  /**\n   * Activates scrolling if blockSelection is active and mouse is in scroll zone\n   *\n   * @param {number} speed - speed of scrolling\n   */\n  scrollVertical(e) {\n    if (!(this.inScrollZone && this.mousedown))\n      return;\n    const t = window.pageYOffset;\n    window.scrollBy(0, e), this.mouseY += window.pageYOffset - t, setTimeout(() => {\n      this.scrollVertical(e);\n    }, 0);\n  }\n  /**\n   * Handles the change in the rectangle and its effect\n   *\n   * @param {MouseEvent} event - mouse event\n   */\n  changingRectangle(e) {\n    if (!this.mousedown)\n      return;\n    e.pageY !== void 0 && (this.mouseX = e.pageX, this.mouseY = e.pageY);\n    const { rightPos: t, leftPos: o, index: i } = this.genInfoForMouseSelection(), s = this.startX > t && this.mouseX > t, r = this.startX < o && this.mouseX < o;\n    this.rectCrossesBlocks = !(s || r), this.isRectSelectionActivated || (this.rectCrossesBlocks = !1, this.isRectSelectionActivated = !0, this.shrinkRectangleToPoint(), this.overlayRectangle.style.display = \"block\"), this.updateRectangleSize(), this.Editor.Toolbar.close(), i !== void 0 && (this.trySelectNextBlock(i), this.inverseSelection(), b.get().removeAllRanges());\n  }\n  /**\n   * Shrink rect to singular point\n   */\n  shrinkRectangleToPoint() {\n    this.overlayRectangle.style.left = `${this.startX - window.pageXOffset}px`, this.overlayRectangle.style.top = `${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.bottom = `calc(100% - ${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.right = `calc(100% - ${this.startX - window.pageXOffset}px`;\n  }\n  /**\n   * Select or unselect all of blocks in array if rect is out or in selectable area\n   */\n  inverseSelection() {\n    const t = this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;\n    if (this.rectCrossesBlocks && !t)\n      for (const o of this.stackOfSelected)\n        this.Editor.BlockSelection.selectBlockByIndex(o);\n    if (!this.rectCrossesBlocks && t)\n      for (const o of this.stackOfSelected)\n        this.Editor.BlockSelection.unSelectBlockByIndex(o);\n  }\n  /**\n   * Updates size of rectangle\n   */\n  updateRectangleSize() {\n    this.mouseY >= this.startY ? (this.overlayRectangle.style.top = `${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.bottom = `calc(100% - ${this.mouseY - window.pageYOffset}px`) : (this.overlayRectangle.style.bottom = `calc(100% - ${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.top = `${this.mouseY - window.pageYOffset}px`), this.mouseX >= this.startX ? (this.overlayRectangle.style.left = `${this.startX - window.pageXOffset}px`, this.overlayRectangle.style.right = `calc(100% - ${this.mouseX - window.pageXOffset}px`) : (this.overlayRectangle.style.right = `calc(100% - ${this.startX - window.pageXOffset}px`, this.overlayRectangle.style.left = `${this.mouseX - window.pageXOffset}px`);\n  }\n  /**\n   * Collects information needed to determine the behavior of the rectangle\n   *\n   * @returns {object} index - index next Block, leftPos - start of left border of Block, rightPos - right border\n   */\n  genInfoForMouseSelection() {\n    const t = document.body.offsetWidth / 2, o = this.mouseY - window.pageYOffset, i = document.elementFromPoint(t, o), s = this.Editor.BlockManager.getBlockByChildNode(i);\n    let r;\n    s !== void 0 && (r = this.Editor.BlockManager.blocks.findIndex((h) => h.holder === s.holder));\n    const l = this.Editor.BlockManager.lastBlock.holder.querySelector(\".\" + D.CSS.content), a = Number.parseInt(window.getComputedStyle(l).width, 10) / 2, c = t - a, u = t + a;\n    return {\n      index: r,\n      leftPos: c,\n      rightPos: u\n    };\n  }\n  /**\n   * Select block with index index\n   *\n   * @param index - index of block in redactor\n   */\n  addBlockInSelection(e) {\n    this.rectCrossesBlocks && this.Editor.BlockSelection.selectBlockByIndex(e), this.stackOfSelected.push(e);\n  }\n  /**\n   * Adds a block to the selection and determines which blocks should be selected\n   *\n   * @param {object} index - index of new block in the reactor\n   */\n  trySelectNextBlock(e) {\n    const t = this.stackOfSelected[this.stackOfSelected.length - 1] === e, o = this.stackOfSelected.length, i = 1, s = -1, r = 0;\n    if (t)\n      return;\n    const l = this.stackOfSelected[o - 1] - this.stackOfSelected[o - 2] > 0;\n    let a = r;\n    o > 1 && (a = l ? i : s);\n    const c = e > this.stackOfSelected[o - 1] && a === i, u = e < this.stackOfSelected[o - 1] && a === s, p = !(c || u || a === r);\n    if (!p && (e > this.stackOfSelected[o - 1] || this.stackOfSelected[o - 1] === void 0)) {\n      let k = this.stackOfSelected[o - 1] + 1 || e;\n      for (k; k <= e; k++)\n        this.addBlockInSelection(k);\n      return;\n    }\n    if (!p && e < this.stackOfSelected[o - 1]) {\n      for (let k = this.stackOfSelected[o - 1] - 1; k >= e; k--)\n        this.addBlockInSelection(k);\n      return;\n    }\n    if (!p)\n      return;\n    let g = o - 1, f;\n    for (e > this.stackOfSelected[o - 1] ? f = () => e > this.stackOfSelected[g] : f = () => e < this.stackOfSelected[g]; f(); )\n      this.rectCrossesBlocks && this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[g]), this.stackOfSelected.pop(), g--;\n  }\n}\nclass cs extends y {\n  /**\n   * Renders passed blocks as one batch\n   *\n   * @param blocksData - blocks to render\n   */\n  async render(e) {\n    return new Promise((t) => {\n      const { Tools: o, BlockManager: i } = this.Editor;\n      if (e.length === 0)\n        i.insert();\n      else {\n        const s = e.map(({ type: r, data: l, tunes: a, id: c }) => {\n          o.available.has(r) === !1 && (X(`Tool ${r} is not found. Check 'tools' property at the Editor.js config.`, \"warn\"), l = this.composeStubDataForTool(r, l, c), r = o.stubTool);\n          let u;\n          try {\n            u = i.composeBlock({\n              id: c,\n              tool: r,\n              data: l,\n              tunes: a\n            });\n          } catch (h) {\n            I(`Block ${r} skipped because of plugins error`, \"error\", {\n              data: l,\n              error: h\n            }), l = this.composeStubDataForTool(r, l, c), r = o.stubTool, u = i.composeBlock({\n              id: c,\n              tool: r,\n              data: l,\n              tunes: a\n            });\n          }\n          return u;\n        });\n        i.insertMany(s);\n      }\n      window.requestIdleCallback(() => {\n        t();\n      }, { timeout: 2e3 });\n    });\n  }\n  /**\n   * Create data for the Stub Tool that will be used instead of unavailable tool\n   *\n   * @param tool - unavailable tool name to stub\n   * @param data - data of unavailable block\n   * @param [id] - id of unavailable block\n   */\n  composeStubDataForTool(e, t, o) {\n    const { Tools: i } = this.Editor;\n    let s = e;\n    if (i.unavailable.has(e)) {\n      const r = i.unavailable.get(e).toolbox;\n      r !== void 0 && r[0].title !== void 0 && (s = r[0].title);\n    }\n    return {\n      savedData: {\n        id: o,\n        type: e,\n        data: t\n      },\n      title: s\n    };\n  }\n}\nclass ds extends y {\n  /**\n   * Composes new chain of Promises to fire them alternatelly\n   *\n   * @returns {OutputData}\n   */\n  async save() {\n    const { BlockManager: e, Tools: t } = this.Editor, o = e.blocks, i = [];\n    try {\n      o.forEach((l) => {\n        i.push(this.getSavedData(l));\n      });\n      const s = await Promise.all(i), r = await nt(s, (l) => t.blockTools.get(l).sanitizeConfig);\n      return this.makeOutput(r);\n    } catch (s) {\n      X(\"Saving failed due to the Error %o\", \"error\", s);\n    }\n  }\n  /**\n   * Saves and validates\n   *\n   * @param {Block} block - Editor's Tool\n   * @returns {ValidatedData} - Tool's validated data\n   */\n  async getSavedData(e) {\n    const t = await e.save(), o = t && await e.validate(t.data);\n    return {\n      ...t,\n      isValid: o\n    };\n  }\n  /**\n   * Creates output object with saved data, time and version of editor\n   *\n   * @param {ValidatedData} allExtractedData - data extracted from Blocks\n   * @returns {OutputData}\n   */\n  makeOutput(e) {\n    const t = [];\n    return e.forEach(({ id: o, tool: i, data: s, tunes: r, isValid: l }) => {\n      if (!l) {\n        I(`Block ${i} skipped because saved data is invalid`);\n        return;\n      }\n      if (i === this.Editor.Tools.stubTool) {\n        t.push(s);\n        return;\n      }\n      const a = {\n        id: o,\n        type: i,\n        data: s,\n        ...!V(r) && {\n          tunes: r\n        }\n      };\n      t.push(a);\n    }), {\n      time: +/* @__PURE__ */ new Date(),\n      blocks: t,\n      version: \"2.30.2\"\n    };\n  }\n}\n(function() {\n  try {\n    if (typeof document < \"u\") {\n      var n = document.createElement(\"style\");\n      n.appendChild(document.createTextNode(\".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}\")), document.head.appendChild(n);\n    }\n  } catch (e) {\n    console.error(\"vite-plugin-css-injected-by-js\", e);\n  }\n})();\nconst hs = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14\"/></svg>';\nfunction us(n) {\n  const e = document.createElement(\"div\");\n  e.innerHTML = n.trim();\n  const t = document.createDocumentFragment();\n  return t.append(...Array.from(e.childNodes)), t;\n}\n/**\n * Base Paragraph Block for the Editor.js.\n * Represents a regular text block\n *\n * @author CodeX (team@codex.so)\n * @copyright CodeX 2018\n * @license The MIT License (MIT)\n */\nclass dt {\n  /**\n   * Default placeholder for Paragraph Tool\n   *\n   * @returns {string}\n   * @class\n   */\n  static get DEFAULT_PLACEHOLDER() {\n    return \"\";\n  }\n  /**\n   * Render plugin`s main Element and fill it with saved data\n   *\n   * @param {object} params - constructor params\n   * @param {ParagraphData} params.data - previously saved data\n   * @param {ParagraphConfig} params.config - user config for Tool\n   * @param {object} params.api - editor.js api\n   * @param {boolean} readOnly - read only mode flag\n   */\n  constructor({ data: e, config: t, api: o, readOnly: i }) {\n    this.api = o, this.readOnly = i, this._CSS = {\n      block: this.api.styles.block,\n      wrapper: \"ce-paragraph\"\n    }, this.readOnly || (this.onKeyUp = this.onKeyUp.bind(this)), this._placeholder = t.placeholder ? t.placeholder : dt.DEFAULT_PLACEHOLDER, this._data = e ?? {}, this._element = null, this._preserveBlank = t.preserveBlank ?? !1;\n  }\n  /**\n   * Check if text content is empty and set empty string to inner html.\n   * We need this because some browsers (e.g. Safari) insert <br> into empty contenteditanle elements\n   *\n   * @param {KeyboardEvent} e - key up event\n   */\n  onKeyUp(e) {\n    if (e.code !== \"Backspace\" && e.code !== \"Delete\" || !this._element)\n      return;\n    const { textContent: t } = this._element;\n    t === \"\" && (this._element.innerHTML = \"\");\n  }\n  /**\n   * Create Tool's view\n   *\n   * @returns {HTMLDivElement}\n   * @private\n   */\n  drawView() {\n    const e = document.createElement(\"DIV\");\n    return e.classList.add(this._CSS.wrapper, this._CSS.block), e.contentEditable = \"false\", e.dataset.placeholderActive = this.api.i18n.t(this._placeholder), this._data.text && (e.innerHTML = this._data.text), this.readOnly || (e.contentEditable = \"true\", e.addEventListener(\"keyup\", this.onKeyUp)), e;\n  }\n  /**\n   * Return Tool's view\n   *\n   * @returns {HTMLDivElement}\n   */\n  render() {\n    return this._element = this.drawView(), this._element;\n  }\n  /**\n   * Method that specified how to merge two Text blocks.\n   * Called by Editor.js by backspace at the beginning of the Block\n   *\n   * @param {ParagraphData} data\n   * @public\n   */\n  merge(e) {\n    if (!this._element)\n      return;\n    this._data.text += e.text;\n    const t = us(e.text);\n    this._element.appendChild(t), this._element.normalize();\n  }\n  /**\n   * Validate Paragraph block data:\n   * - check for emptiness\n   *\n   * @param {ParagraphData} savedData  data received after saving\n   * @returns {boolean} false if saved data is not correct, otherwise true\n   * @public\n   */\n  validate(e) {\n    return !(e.text.trim() === \"\" && !this._preserveBlank);\n  }\n  /**\n   * Extract Tool's data from the view\n   *\n   * @param {HTMLDivElement} toolsContent - Paragraph tools rendered view\n   * @returns {ParagraphData} - saved data\n   * @public\n   */\n  save(e) {\n    return {\n      text: e.innerHTML\n    };\n  }\n  /**\n   * On paste callback fired from Editor.\n   *\n   * @param {HTMLPasteEvent} event - event with pasted data\n   */\n  onPaste(e) {\n    const t = {\n      text: e.detail.data.innerHTML\n    };\n    this._data = t, window.requestAnimationFrame(() => {\n      this._element && (this._element.innerHTML = this._data.text || \"\");\n    });\n  }\n  /**\n   * Enable Conversion Toolbar. Paragraph can be converted to/from other tools\n   * @returns {ConversionConfig}\n   */\n  static get conversionConfig() {\n    return {\n      export: \"text\",\n      // to convert Paragraph to other block, use 'text' property of saved data\n      import: \"text\"\n      // to covert other block's exported string to Paragraph, fill 'text' property of tool data\n    };\n  }\n  /**\n   * Sanitizer rules\n   * @returns {SanitizerConfig} - Edtior.js sanitizer config\n   */\n  static get sanitize() {\n    return {\n      text: {\n        br: !0\n      }\n    };\n  }\n  /**\n   * Returns true to notify the core that read-only mode is supported\n   *\n   * @returns {boolean}\n   */\n  static get isReadOnlySupported() {\n    return !0;\n  }\n  /**\n   * Used by Editor paste handling API.\n   * Provides configuration to handle P tags.\n   *\n   * @returns {PasteConfig} - Paragraph Paste Setting\n   */\n  static get pasteConfig() {\n    return {\n      tags: [\"P\"]\n    };\n  }\n  /**\n   * Icon and title for displaying at the Toolbox\n   *\n   * @returns {ToolboxConfig} - Paragraph Toolbox Setting\n   */\n  static get toolbox() {\n    return {\n      icon: hs,\n      title: \"Text\"\n    };\n  }\n}\nclass ht {\n  constructor() {\n    this.commandName = \"bold\";\n  }\n  /**\n   * Sanitizer Rule\n   * Leave <b> tags\n   *\n   * @returns {object}\n   */\n  static get sanitize() {\n    return {\n      b: {}\n    };\n  }\n  /**\n   * Create button for Inline Toolbar\n   */\n  render() {\n    return {\n      icon: zo,\n      name: \"bold\",\n      onActivate: () => {\n        document.execCommand(this.commandName);\n      },\n      isActive: () => document.queryCommandState(this.commandName)\n    };\n  }\n  /**\n   * Set a shortcut\n   *\n   * @returns {boolean}\n   */\n  get shortcut() {\n    return \"CMD+B\";\n  }\n}\nht.isInline = !0;\nht.title = \"Bold\";\nclass ut {\n  constructor() {\n    this.commandName = \"italic\", this.CSS = {\n      button: \"ce-inline-tool\",\n      buttonActive: \"ce-inline-tool--active\",\n      buttonModifier: \"ce-inline-tool--italic\"\n    }, this.nodes = {\n      button: null\n    };\n  }\n  /**\n   * Sanitizer Rule\n   * Leave <i> tags\n   *\n   * @returns {object}\n   */\n  static get sanitize() {\n    return {\n      i: {}\n    };\n  }\n  /**\n   * Create button for Inline Toolbar\n   */\n  render() {\n    return this.nodes.button = document.createElement(\"button\"), this.nodes.button.type = \"button\", this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier), this.nodes.button.innerHTML = Xo, this.nodes.button;\n  }\n  /**\n   * Wrap range with <i> tag\n   */\n  surround() {\n    document.execCommand(this.commandName);\n  }\n  /**\n   * Check selection and set activated state to button if there are <i> tag\n   */\n  checkState() {\n    const e = document.queryCommandState(this.commandName);\n    return this.nodes.button.classList.toggle(this.CSS.buttonActive, e), e;\n  }\n  /**\n   * Set a shortcut\n   */\n  get shortcut() {\n    return \"CMD+I\";\n  }\n}\nut.isInline = !0;\nut.title = \"Italic\";\nclass pt {\n  /**\n   * @param api - Editor.js API\n   */\n  constructor({ api: e }) {\n    this.commandLink = \"createLink\", this.commandUnlink = \"unlink\", this.ENTER_KEY = 13, this.CSS = {\n      button: \"ce-inline-tool\",\n      buttonActive: \"ce-inline-tool--active\",\n      buttonModifier: \"ce-inline-tool--link\",\n      buttonUnlink: \"ce-inline-tool--unlink\",\n      input: \"ce-inline-tool-input\",\n      inputShowed: \"ce-inline-tool-input--showed\"\n    }, this.nodes = {\n      button: null,\n      input: null\n    }, this.inputOpened = !1, this.toolbar = e.toolbar, this.inlineToolbar = e.inlineToolbar, this.notifier = e.notifier, this.i18n = e.i18n, this.selection = new b();\n  }\n  /**\n   * Sanitizer Rule\n   * Leave <a> tags\n   *\n   * @returns {object}\n   */\n  static get sanitize() {\n    return {\n      a: {\n        href: !0,\n        target: \"_blank\",\n        rel: \"nofollow\"\n      }\n    };\n  }\n  /**\n   * Create button for Inline Toolbar\n   */\n  render() {\n    return this.nodes.button = document.createElement(\"button\"), this.nodes.button.type = \"button\", this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier), this.nodes.button.innerHTML = xt, this.nodes.button;\n  }\n  /**\n   * Input for the link\n   */\n  renderActions() {\n    return this.nodes.input = document.createElement(\"input\"), this.nodes.input.placeholder = this.i18n.t(\"Add a link\"), this.nodes.input.enterKeyHint = \"done\", this.nodes.input.classList.add(this.CSS.input), this.nodes.input.addEventListener(\"keydown\", (e) => {\n      e.keyCode === this.ENTER_KEY && this.enterPressed(e);\n    }), this.nodes.input;\n  }\n  /**\n   * Handle clicks on the Inline Toolbar icon\n   *\n   * @param {Range} range - range to wrap with link\n   */\n  surround(e) {\n    if (e) {\n      this.inputOpened ? (this.selection.restore(), this.selection.removeFakeBackground()) : (this.selection.setFakeBackground(), this.selection.save());\n      const t = this.selection.findParentTag(\"A\");\n      if (t) {\n        this.selection.expandToTag(t), this.unlink(), this.closeActions(), this.checkState(), this.toolbar.close();\n        return;\n      }\n    }\n    this.toggleActions();\n  }\n  /**\n   * Check selection and set activated state to button if there are <a> tag\n   */\n  checkState() {\n    const e = this.selection.findParentTag(\"A\");\n    if (e) {\n      this.nodes.button.innerHTML = Go, this.nodes.button.classList.add(this.CSS.buttonUnlink), this.nodes.button.classList.add(this.CSS.buttonActive), this.openActions();\n      const t = e.getAttribute(\"href\");\n      this.nodes.input.value = t !== \"null\" ? t : \"\", this.selection.save();\n    } else\n      this.nodes.button.innerHTML = xt, this.nodes.button.classList.remove(this.CSS.buttonUnlink), this.nodes.button.classList.remove(this.CSS.buttonActive);\n    return !!e;\n  }\n  /**\n   * Function called with Inline Toolbar closing\n   */\n  clear() {\n    this.closeActions();\n  }\n  /**\n   * Set a shortcut\n   */\n  get shortcut() {\n    return \"CMD+K\";\n  }\n  /**\n   * Show/close link input\n   */\n  toggleActions() {\n    this.inputOpened ? this.closeActions(!1) : this.openActions(!0);\n  }\n  /**\n   * @param {boolean} needFocus - on link creation we need to focus input. On editing - nope.\n   */\n  openActions(e = !1) {\n    this.nodes.input.classList.add(this.CSS.inputShowed), e && this.nodes.input.focus(), this.inputOpened = !0;\n  }\n  /**\n   * Close input\n   *\n   * @param {boolean} clearSavedSelection  we don't need to clear saved selection\n   *                                        on toggle-clicks on the icon of opened Toolbar\n   */\n  closeActions(e = !0) {\n    if (this.selection.isFakeBackgroundEnabled) {\n      const t = new b();\n      t.save(), this.selection.restore(), this.selection.removeFakeBackground(), t.restore();\n    }\n    this.nodes.input.classList.remove(this.CSS.inputShowed), this.nodes.input.value = \"\", e && this.selection.clearSaved(), this.inputOpened = !1;\n  }\n  /**\n   * Enter pressed on input\n   *\n   * @param {KeyboardEvent} event - enter keydown event\n   */\n  enterPressed(e) {\n    let t = this.nodes.input.value || \"\";\n    if (!t.trim()) {\n      this.selection.restore(), this.unlink(), e.preventDefault(), this.closeActions();\n      return;\n    }\n    if (!this.validateURL(t)) {\n      this.notifier.show({\n        message: \"Pasted link is not valid.\",\n        style: \"error\"\n      }), I(\"Incorrect Link pasted\", \"warn\", t);\n      return;\n    }\n    t = this.prepareLink(t), this.selection.restore(), this.selection.removeFakeBackground(), this.insertLink(t), e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation(), this.selection.collapseToEnd(), this.inlineToolbar.close();\n  }\n  /**\n   * Detects if passed string is URL\n   *\n   * @param {string} str - string to validate\n   * @returns {boolean}\n   */\n  validateURL(e) {\n    return !/\\s/.test(e);\n  }\n  /**\n   * Process link before injection\n   * - sanitize\n   * - add protocol for links like 'google.com'\n   *\n   * @param {string} link - raw user input\n   */\n  prepareLink(e) {\n    return e = e.trim(), e = this.addProtocol(e), e;\n  }\n  /**\n   * Add 'http' protocol to the links like 'vc.ru', 'google.com'\n   *\n   * @param {string} link - string to process\n   */\n  addProtocol(e) {\n    if (/^(\\w+):(\\/\\/)?/.test(e))\n      return e;\n    const t = /^\\/[^/\\s]/.test(e), o = e.substring(0, 1) === \"#\", i = /^\\/\\/[^/\\s]/.test(e);\n    return !t && !o && !i && (e = \"http://\" + e), e;\n  }\n  /**\n   * Inserts <a> tag with \"href\"\n   *\n   * @param {string} link - \"href\" value\n   */\n  insertLink(e) {\n    const t = this.selection.findParentTag(\"A\");\n    t && this.selection.expandToTag(t), document.execCommand(this.commandLink, !1, e);\n  }\n  /**\n   * Removes <a> tag\n   */\n  unlink() {\n    document.execCommand(this.commandUnlink);\n  }\n}\npt.isInline = !0;\npt.title = \"Link\";\nclass ao {\n  /**\n   * @param api - Editor.js API\n   */\n  constructor({ api: e }) {\n    this.i18nAPI = e.i18n, this.blocksAPI = e.blocks, this.selectionAPI = e.selection, this.toolsAPI = e.tools, this.caretAPI = e.caret;\n  }\n  /**\n   * Returns tool's UI config\n   */\n  async render() {\n    const e = b.get(), t = this.blocksAPI.getBlockByElement(e.anchorNode);\n    if (t === void 0)\n      return [];\n    const o = this.toolsAPI.getBlockTools(), i = await zt(t, o);\n    if (i.length === 0)\n      return [];\n    const s = i.reduce((c, u) => {\n      var h;\n      return (h = u.toolbox) == null || h.forEach((p) => {\n        c.push({\n          icon: p.icon,\n          title: z.t(K.toolNames, p.title),\n          name: u.name,\n          closeOnActivate: !0,\n          onActivate: async () => {\n            const g = await this.blocksAPI.convert(t.id, u.name, p.data);\n            this.caretAPI.setToBlock(g, \"end\");\n          }\n        });\n      }), c;\n    }, []), r = await t.getActiveToolboxEntry(), l = r !== void 0 ? r.icon : jt, a = !ue();\n    return {\n      icon: l,\n      name: \"convert-to\",\n      hint: {\n        title: this.i18nAPI.t(\"Convert to\")\n      },\n      children: {\n        searchable: a,\n        items: s,\n        onOpen: () => {\n          a && (this.selectionAPI.setFakeBackground(), this.selectionAPI.save());\n        },\n        onClose: () => {\n          a && (this.selectionAPI.restore(), this.selectionAPI.removeFakeBackground());\n        }\n      }\n    };\n  }\n}\nao.isInline = !0;\nclass co {\n  /**\n   * @param options - constructor options\n   * @param options.data - stub tool data\n   * @param options.api - Editor.js API\n   */\n  constructor({ data: e, api: t }) {\n    this.CSS = {\n      wrapper: \"ce-stub\",\n      info: \"ce-stub__info\",\n      title: \"ce-stub__title\",\n      subtitle: \"ce-stub__subtitle\"\n    }, this.api = t, this.title = e.title || this.api.i18n.t(\"Error\"), this.subtitle = this.api.i18n.t(\"The block can not be displayed correctly.\"), this.savedData = e.savedData, this.wrapper = this.make();\n  }\n  /**\n   * Returns stub holder\n   *\n   * @returns {HTMLElement}\n   */\n  render() {\n    return this.wrapper;\n  }\n  /**\n   * Return original Tool data\n   *\n   * @returns {BlockToolData}\n   */\n  save() {\n    return this.savedData;\n  }\n  /**\n   * Create Tool html markup\n   *\n   * @returns {HTMLElement}\n   */\n  make() {\n    const e = d.make(\"div\", this.CSS.wrapper), t = Jo, o = d.make(\"div\", this.CSS.info), i = d.make(\"div\", this.CSS.title, {\n      textContent: this.title\n    }), s = d.make(\"div\", this.CSS.subtitle, {\n      textContent: this.subtitle\n    });\n    return e.innerHTML = t, o.appendChild(i), o.appendChild(s), e.appendChild(o), e;\n  }\n}\nco.isReadOnlySupported = !0;\nclass ps extends ct {\n  constructor() {\n    super(...arguments), this.type = Fe.Inline;\n  }\n  /**\n   * Returns title for Inline Tool if specified by user\n   */\n  get title() {\n    return this.constructable[at.Title];\n  }\n  /**\n   * Constructs new InlineTool instance from constructable\n   */\n  create() {\n    return new this.constructable({\n      api: this.api,\n      config: this.settings\n    });\n  }\n}\nclass fs extends ct {\n  constructor() {\n    super(...arguments), this.type = Fe.Tune;\n  }\n  /**\n   * Constructs new BlockTune instance from constructable\n   *\n   * @param data - Tune data\n   * @param block - Block API object\n   */\n  create(e, t) {\n    return new this.constructable({\n      api: this.api,\n      config: this.settings,\n      block: t,\n      data: e\n    });\n  }\n}\nclass F extends Map {\n  /**\n   * Returns Block Tools collection\n   */\n  get blockTools() {\n    const e = Array.from(this.entries()).filter(([, t]) => t.isBlock());\n    return new F(e);\n  }\n  /**\n   * Returns Inline Tools collection\n   */\n  get inlineTools() {\n    const e = Array.from(this.entries()).filter(([, t]) => t.isInline());\n    return new F(e);\n  }\n  /**\n   * Returns Block Tunes collection\n   */\n  get blockTunes() {\n    const e = Array.from(this.entries()).filter(([, t]) => t.isTune());\n    return new F(e);\n  }\n  /**\n   * Returns internal Tools collection\n   */\n  get internalTools() {\n    const e = Array.from(this.entries()).filter(([, t]) => t.isInternal);\n    return new F(e);\n  }\n  /**\n   * Returns Tools collection provided by user\n   */\n  get externalTools() {\n    const e = Array.from(this.entries()).filter(([, t]) => !t.isInternal);\n    return new F(e);\n  }\n}\nvar gs = Object.defineProperty, ms = Object.getOwnPropertyDescriptor, ho = (n, e, t, o) => {\n  for (var i = o > 1 ? void 0 : o ? ms(e, t) : e, s = n.length - 1, r; s >= 0; s--)\n    (r = n[s]) && (i = (o ? r(e, t, i) : r(i)) || i);\n  return o && i && gs(e, t, i), i;\n};\nclass ft extends ct {\n  constructor() {\n    super(...arguments), this.type = Fe.Block, this.inlineTools = new F(), this.tunes = new F();\n  }\n  /**\n   * Creates new Tool instance\n   *\n   * @param data - Tool data\n   * @param block - BlockAPI for current Block\n   * @param readOnly - True if Editor is in read-only mode\n   */\n  create(e, t, o) {\n    return new this.constructable({\n      data: e,\n      block: t,\n      readOnly: o,\n      api: this.api,\n      config: this.settings\n    });\n  }\n  /**\n   * Returns true if read-only mode is supported by Tool\n   */\n  get isReadOnlySupported() {\n    return this.constructable[ae.IsReadOnlySupported] === !0;\n  }\n  /**\n   * Returns true if Tool supports linebreaks\n   */\n  get isLineBreaksEnabled() {\n    return this.constructable[ae.IsEnabledLineBreaks];\n  }\n  /**\n   * Returns Tool toolbox configuration (internal or user-specified).\n   *\n   * Merges internal and user-defined toolbox configs based on the following rules:\n   *\n   * - If both internal and user-defined toolbox configs are arrays their items are merged.\n   * Length of the second one is kept.\n   *\n   * - If both are objects their properties are merged.\n   *\n   * - If one is an object and another is an array than internal config is replaced with user-defined\n   * config. This is made to allow user to override default tool's toolbox representation (single/multiple entries)\n   */\n  get toolbox() {\n    const e = this.constructable[ae.Toolbox], t = this.config[Se.Toolbox];\n    if (!V(e) && t !== !1)\n      return t ? Array.isArray(e) ? Array.isArray(t) ? t.map((o, i) => {\n        const s = e[i];\n        return s ? {\n          ...s,\n          ...o\n        } : o;\n      }) : [t] : Array.isArray(t) ? t : [\n        {\n          ...e,\n          ...t\n        }\n      ] : Array.isArray(e) ? e : [e];\n  }\n  /**\n   * Returns Tool conversion configuration\n   */\n  get conversionConfig() {\n    return this.constructable[ae.ConversionConfig];\n  }\n  /**\n   * Returns enabled inline tools for Tool\n   */\n  get enabledInlineTools() {\n    return this.config[Se.EnabledInlineTools] || !1;\n  }\n  /**\n   * Returns enabled tunes for Tool\n   */\n  get enabledBlockTunes() {\n    return this.config[Se.EnabledBlockTunes];\n  }\n  /**\n   * Returns Tool paste configuration\n   */\n  get pasteConfig() {\n    return this.constructable[ae.PasteConfig] ?? {};\n  }\n  get sanitizeConfig() {\n    const e = super.sanitizeConfig, t = this.baseSanitizeConfig;\n    if (V(e))\n      return t;\n    const o = {};\n    for (const i in e)\n      if (Object.prototype.hasOwnProperty.call(e, i)) {\n        const s = e[i];\n        R(s) ? o[i] = Object.assign({}, t, s) : o[i] = s;\n      }\n    return o;\n  }\n  get baseSanitizeConfig() {\n    const e = {};\n    return Array.from(this.inlineTools.values()).forEach((t) => Object.assign(e, t.sanitizeConfig)), Array.from(this.tunes.values()).forEach((t) => Object.assign(e, t.sanitizeConfig)), e;\n  }\n}\nho([\n  he\n], ft.prototype, \"sanitizeConfig\", 1);\nho([\n  he\n], ft.prototype, \"baseSanitizeConfig\", 1);\nclass bs {\n  /**\n   * @class\n   * @param config - tools config\n   * @param editorConfig - EditorJS config\n   * @param api - EditorJS API module\n   */\n  constructor(e, t, o) {\n    this.api = o, this.config = e, this.editorConfig = t;\n  }\n  /**\n   * Returns Tool object based on it's type\n   *\n   * @param name - tool name\n   */\n  get(e) {\n    const { class: t, isInternal: o = !1, ...i } = this.config[e], s = this.getConstructor(t), r = t[Qe.IsTune];\n    return new s({\n      name: e,\n      constructable: t,\n      config: i,\n      api: this.api.getMethodsForTool(e, r),\n      isDefault: e === this.editorConfig.defaultBlock,\n      defaultPlaceholder: this.editorConfig.placeholder,\n      isInternal: o\n    });\n  }\n  /**\n   * Find appropriate Tool object constructor for Tool constructable\n   *\n   * @param constructable - Tools constructable\n   */\n  getConstructor(e) {\n    switch (!0) {\n      case e[at.IsInline]:\n        return ps;\n      case e[Qe.IsTune]:\n        return fs;\n      default:\n        return ft;\n    }\n  }\n}\nclass uo {\n  /**\n   * MoveDownTune constructor\n   *\n   * @param {API} api  Editor's API\n   */\n  constructor({ api: e }) {\n    this.CSS = {\n      animation: \"wobble\"\n    }, this.api = e;\n  }\n  /**\n   * Tune's appearance in block settings menu\n   */\n  render() {\n    return {\n      icon: Uo,\n      title: this.api.i18n.t(\"Move down\"),\n      onActivate: () => this.handleClick(),\n      name: \"move-down\"\n    };\n  }\n  /**\n   * Handle clicks on 'move down' button\n   */\n  handleClick() {\n    const e = this.api.blocks.getCurrentBlockIndex(), t = this.api.blocks.getBlockByIndex(e + 1);\n    if (!t)\n      throw new Error(\"Unable to move Block down since it is already the last\");\n    const o = t.holder, i = o.getBoundingClientRect();\n    let s = Math.abs(window.innerHeight - o.offsetHeight);\n    i.top < window.innerHeight && (s = window.scrollY + o.offsetHeight), window.scrollTo(0, s), this.api.blocks.move(e + 1), this.api.toolbar.toggleBlockSettings(!0);\n  }\n}\nuo.isTune = !0;\nclass po {\n  /**\n   * DeleteTune constructor\n   *\n   * @param {API} api - Editor's API\n   */\n  constructor({ api: e }) {\n    this.api = e;\n  }\n  /**\n   * Tune's appearance in block settings menu\n   */\n  render() {\n    return {\n      icon: Wo,\n      title: this.api.i18n.t(\"Delete\"),\n      name: \"delete\",\n      confirmation: {\n        title: this.api.i18n.t(\"Click to delete\"),\n        onActivate: () => this.handleClick()\n      }\n    };\n  }\n  /**\n   * Delete block conditions passed\n   */\n  handleClick() {\n    this.api.blocks.delete();\n  }\n}\npo.isTune = !0;\nclass fo {\n  /**\n   * MoveUpTune constructor\n   *\n   * @param {API} api - Editor's API\n   */\n  constructor({ api: e }) {\n    this.CSS = {\n      animation: \"wobble\"\n    }, this.api = e;\n  }\n  /**\n   * Tune's appearance in block settings menu\n   */\n  render() {\n    return {\n      icon: Yo,\n      title: this.api.i18n.t(\"Move up\"),\n      onActivate: () => this.handleClick(),\n      name: \"move-up\"\n    };\n  }\n  /**\n   * Move current block up\n   */\n  handleClick() {\n    const e = this.api.blocks.getCurrentBlockIndex(), t = this.api.blocks.getBlockByIndex(e), o = this.api.blocks.getBlockByIndex(e - 1);\n    if (e === 0 || !t || !o)\n      throw new Error(\"Unable to move Block up since it is already the first\");\n    const i = t.holder, s = o.holder, r = i.getBoundingClientRect(), l = s.getBoundingClientRect();\n    let a;\n    l.top > 0 ? a = Math.abs(r.top) - Math.abs(l.top) : a = Math.abs(r.top) + l.height, window.scrollBy(0, -1 * a), this.api.blocks.move(e - 1), this.api.toolbar.toggleBlockSettings(!0);\n  }\n}\nfo.isTune = !0;\nvar ks = Object.defineProperty, vs = Object.getOwnPropertyDescriptor, ws = (n, e, t, o) => {\n  for (var i = o > 1 ? void 0 : o ? vs(e, t) : e, s = n.length - 1, r; s >= 0; s--)\n    (r = n[s]) && (i = (o ? r(e, t, i) : r(i)) || i);\n  return o && i && ks(e, t, i), i;\n};\nclass go extends y {\n  constructor() {\n    super(...arguments), this.stubTool = \"stub\", this.toolsAvailable = new F(), this.toolsUnavailable = new F();\n  }\n  /**\n   * Returns available Tools\n   */\n  get available() {\n    return this.toolsAvailable;\n  }\n  /**\n   * Returns unavailable Tools\n   */\n  get unavailable() {\n    return this.toolsUnavailable;\n  }\n  /**\n   * Return Tools for the Inline Toolbar\n   */\n  get inlineTools() {\n    return this.available.inlineTools;\n  }\n  /**\n   * Return editor block tools\n   */\n  get blockTools() {\n    return this.available.blockTools;\n  }\n  /**\n   * Return available Block Tunes\n   *\n   * @returns {object} - object of Inline Tool's classes\n   */\n  get blockTunes() {\n    return this.available.blockTunes;\n  }\n  /**\n   * Returns default Tool object\n   */\n  get defaultTool() {\n    return this.blockTools.get(this.config.defaultBlock);\n  }\n  /**\n   * Returns internal tools\n   */\n  get internal() {\n    return this.available.internalTools;\n  }\n  /**\n   * Creates instances via passed or default configuration\n   *\n   * @returns {Promise<void>}\n   */\n  async prepare() {\n    if (this.validateTools(), this.config.tools = qe({}, this.internalTools, this.config.tools), !Object.prototype.hasOwnProperty.call(this.config, \"tools\") || Object.keys(this.config.tools).length === 0)\n      throw Error(\"Can't start without tools\");\n    const e = this.prepareConfig();\n    this.factory = new bs(e, this.config, this.Editor.API);\n    const t = this.getListOfPrepareFunctions(e);\n    if (t.length === 0)\n      return Promise.resolve();\n    await Eo(t, (o) => {\n      this.toolPrepareMethodSuccess(o);\n    }, (o) => {\n      this.toolPrepareMethodFallback(o);\n    }), this.prepareBlockTools();\n  }\n  getAllInlineToolsSanitizeConfig() {\n    const e = {};\n    return Array.from(this.inlineTools.values()).forEach((t) => {\n      Object.assign(e, t.sanitizeConfig);\n    }), e;\n  }\n  /**\n   * Calls each Tool reset method to clean up anything set by Tool\n   */\n  destroy() {\n    Object.values(this.available).forEach(async (e) => {\n      A(e.reset) && await e.reset();\n    });\n  }\n  /**\n   * Returns internal tools\n   * Includes Bold, Italic, Link and Paragraph\n   */\n  get internalTools() {\n    return {\n      convertTo: {\n        class: ao,\n        isInternal: !0\n      },\n      link: {\n        class: pt,\n        isInternal: !0\n      },\n      bold: {\n        class: ht,\n        isInternal: !0\n      },\n      italic: {\n        class: ut,\n        isInternal: !0\n      },\n      paragraph: {\n        class: dt,\n        inlineToolbar: !0,\n        isInternal: !0\n      },\n      stub: {\n        class: co,\n        isInternal: !0\n      },\n      moveUp: {\n        class: fo,\n        isInternal: !0\n      },\n      delete: {\n        class: po,\n        isInternal: !0\n      },\n      moveDown: {\n        class: uo,\n        isInternal: !0\n      }\n    };\n  }\n  /**\n   * Tool prepare method success callback\n   *\n   * @param {object} data - append tool to available list\n   */\n  toolPrepareMethodSuccess(e) {\n    const t = this.factory.get(e.toolName);\n    if (t.isInline()) {\n      const i = [\"render\"].filter((s) => !t.create()[s]);\n      if (i.length) {\n        I(\n          `Incorrect Inline Tool: ${t.name}. Some of required methods is not implemented %o`,\n          \"warn\",\n          i\n        ), this.toolsUnavailable.set(t.name, t);\n        return;\n      }\n    }\n    this.toolsAvailable.set(t.name, t);\n  }\n  /**\n   * Tool prepare method fail callback\n   *\n   * @param {object} data - append tool to unavailable list\n   */\n  toolPrepareMethodFallback(e) {\n    this.toolsUnavailable.set(e.toolName, this.factory.get(e.toolName));\n  }\n  /**\n   * Binds prepare function of plugins with user or default config\n   *\n   * @returns {Array} list of functions that needs to be fired sequentially\n   * @param config - tools config\n   */\n  getListOfPrepareFunctions(e) {\n    const t = [];\n    return Object.entries(e).forEach(([o, i]) => {\n      t.push({\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        function: A(i.class.prepare) ? i.class.prepare : () => {\n        },\n        data: {\n          toolName: o,\n          config: i.config\n        }\n      });\n    }), t;\n  }\n  /**\n   * Assign enabled Inline Tools and Block Tunes for Block Tool\n   */\n  prepareBlockTools() {\n    Array.from(this.blockTools.values()).forEach((e) => {\n      this.assignInlineToolsToBlockTool(e), this.assignBlockTunesToBlockTool(e);\n    });\n  }\n  /**\n   * Assign enabled Inline Tools for Block Tool\n   *\n   * @param tool - Block Tool\n   */\n  assignInlineToolsToBlockTool(e) {\n    if (this.config.inlineToolbar !== !1) {\n      if (e.enabledInlineTools === !0) {\n        e.inlineTools = new F(\n          Array.isArray(this.config.inlineToolbar) ? this.config.inlineToolbar.map((t) => [t, this.inlineTools.get(t)]) : Array.from(this.inlineTools.entries())\n        );\n        return;\n      }\n      Array.isArray(e.enabledInlineTools) && (e.inlineTools = new F(\n        /** Prepend ConvertTo Inline Tool */\n        [\"convertTo\", ...e.enabledInlineTools].map((t) => [t, this.inlineTools.get(t)])\n      ));\n    }\n  }\n  /**\n   * Assign enabled Block Tunes for Block Tool\n   *\n   * @param tool  Block Tool\n   */\n  assignBlockTunesToBlockTool(e) {\n    if (e.enabledBlockTunes !== !1) {\n      if (Array.isArray(e.enabledBlockTunes)) {\n        const t = new F(\n          e.enabledBlockTunes.map((o) => [o, this.blockTunes.get(o)])\n        );\n        e.tunes = new F([...t, ...this.blockTunes.internalTools]);\n        return;\n      }\n      if (Array.isArray(this.config.tunes)) {\n        const t = new F(\n          this.config.tunes.map((o) => [o, this.blockTunes.get(o)])\n        );\n        e.tunes = new F([...t, ...this.blockTunes.internalTools]);\n        return;\n      }\n      e.tunes = this.blockTunes.internalTools;\n    }\n  }\n  /**\n   * Validate Tools configuration objects and throw Error for user if it is invalid\n   */\n  validateTools() {\n    for (const e in this.config.tools)\n      if (Object.prototype.hasOwnProperty.call(this.config.tools, e)) {\n        if (e in this.internalTools)\n          return;\n        const t = this.config.tools[e];\n        if (!A(t) && !A(t.class))\n          throw Error(\n            `Tool ${e} must be a constructor function or an object with function in the class property`\n          );\n      }\n  }\n  /**\n   * Unify tools config\n   */\n  prepareConfig() {\n    const e = {};\n    for (const t in this.config.tools)\n      R(this.config.tools[t]) ? e[t] = this.config.tools[t] : e[t] = { class: this.config.tools[t] };\n    return e;\n  }\n}\nws([\n  he\n], go.prototype, \"getAllInlineToolsSanitizeConfig\", 1);\nconst xs = `:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:\"\\\\feff\"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:\"\";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:\"\";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:\"\";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}\n`;\nclass ys extends y {\n  constructor() {\n    super(...arguments), this.isMobile = !1, this.contentRectCache = void 0, this.resizeDebouncer = kt(() => {\n      this.windowResize();\n    }, 200);\n  }\n  /**\n   * Editor.js UI CSS class names\n   *\n   * @returns {{editorWrapper: string, editorZone: string}}\n   */\n  get CSS() {\n    return {\n      editorWrapper: \"codex-editor\",\n      editorWrapperNarrow: \"codex-editor--narrow\",\n      editorZone: \"codex-editor__redactor\",\n      editorZoneHidden: \"codex-editor__redactor--hidden\",\n      editorEmpty: \"codex-editor--empty\",\n      editorRtlFix: \"codex-editor--rtl\"\n    };\n  }\n  /**\n   * Return Width of center column of Editor\n   *\n   * @returns {DOMRect}\n   */\n  get contentRect() {\n    if (this.contentRectCache)\n      return this.contentRectCache;\n    const e = this.nodes.wrapper.querySelector(`.${D.CSS.content}`);\n    return e ? (this.contentRectCache = e.getBoundingClientRect(), this.contentRectCache) : {\n      width: 650,\n      left: 0,\n      right: 0\n    };\n  }\n  /**\n   * Making main interface\n   */\n  async prepare() {\n    this.setIsMobile(), this.make(), this.loadStyles();\n  }\n  /**\n   * Toggle read-only state\n   *\n   * If readOnly is true:\n   *  - removes all listeners from main UI module elements\n   *\n   * if readOnly is false:\n   *  - enables all listeners to UI module elements\n   *\n   * @param {boolean} readOnlyEnabled - \"read only\" state\n   */\n  toggleReadOnly(e) {\n    e ? this.disableModuleBindings() : window.requestIdleCallback(() => {\n      this.enableModuleBindings();\n    }, {\n      timeout: 2e3\n    });\n  }\n  /**\n   * Check if Editor is empty and set CSS class to wrapper\n   */\n  checkEmptiness() {\n    const { BlockManager: e } = this.Editor;\n    this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty, e.isEditorEmpty);\n  }\n  /**\n   * Check if one of Toolbar is opened\n   * Used to prevent global keydowns (for example, Enter) conflicts with Enter-on-toolbar\n   *\n   * @returns {boolean}\n   */\n  get someToolbarOpened() {\n    const { Toolbar: e, BlockSettings: t, InlineToolbar: o } = this.Editor;\n    return !!(t.opened || o.opened || e.toolbox.opened);\n  }\n  /**\n   * Check for some Flipper-buttons is under focus\n   */\n  get someFlipperButtonFocused() {\n    return this.Editor.Toolbar.toolbox.hasFocus() ? !0 : Object.entries(this.Editor).filter(([e, t]) => t.flipper instanceof re).some(([e, t]) => t.flipper.hasFocus());\n  }\n  /**\n   * Clean editor`s UI\n   */\n  destroy() {\n    this.nodes.holder.innerHTML = \"\";\n  }\n  /**\n   * Close all Editor's toolbars\n   */\n  closeAllToolbars() {\n    const { Toolbar: e, BlockSettings: t, InlineToolbar: o } = this.Editor;\n    t.close(), o.close(), e.toolbox.close();\n  }\n  /**\n   * Check for mobile mode and save the result\n   */\n  setIsMobile() {\n    const e = window.innerWidth < Ot;\n    e !== this.isMobile && this.eventsDispatcher.emit(xe, {\n      isEnabled: this.isMobile\n    }), this.isMobile = e;\n  }\n  /**\n   * Makes Editor.js interface\n   */\n  make() {\n    this.nodes.holder = d.getHolder(this.config.holder), this.nodes.wrapper = d.make(\"div\", [\n      this.CSS.editorWrapper,\n      ...this.isRtl ? [this.CSS.editorRtlFix] : []\n    ]), this.nodes.redactor = d.make(\"div\", this.CSS.editorZone), this.nodes.holder.offsetWidth < this.contentRect.width && this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow), this.nodes.redactor.style.paddingBottom = this.config.minHeight + \"px\", this.nodes.wrapper.appendChild(this.nodes.redactor), this.nodes.holder.appendChild(this.nodes.wrapper);\n  }\n  /**\n   * Appends CSS\n   */\n  loadStyles() {\n    const e = \"editor-js-styles\";\n    if (d.get(e))\n      return;\n    const t = d.make(\"style\", null, {\n      id: e,\n      textContent: xs.toString()\n    });\n    this.config.style && !V(this.config.style) && this.config.style.nonce && t.setAttribute(\"nonce\", this.config.style.nonce), d.prepend(document.head, t);\n  }\n  /**\n   * Bind events on the Editor.js interface\n   */\n  enableModuleBindings() {\n    this.readOnlyMutableListeners.on(this.nodes.redactor, \"click\", (t) => {\n      this.redactorClicked(t);\n    }, !1), this.readOnlyMutableListeners.on(this.nodes.redactor, \"mousedown\", (t) => {\n      this.documentTouched(t);\n    }, {\n      capture: !0,\n      passive: !0\n    }), this.readOnlyMutableListeners.on(this.nodes.redactor, \"touchstart\", (t) => {\n      this.documentTouched(t);\n    }, {\n      capture: !0,\n      passive: !0\n    }), this.readOnlyMutableListeners.on(document, \"keydown\", (t) => {\n      this.documentKeydown(t);\n    }, !0), this.readOnlyMutableListeners.on(document, \"mousedown\", (t) => {\n      this.documentClicked(t);\n    }, !0);\n    const e = kt(() => {\n      this.selectionChanged();\n    }, ss);\n    this.readOnlyMutableListeners.on(document, \"selectionchange\", e, !0), this.readOnlyMutableListeners.on(window, \"resize\", () => {\n      this.resizeDebouncer();\n    }, {\n      passive: !0\n    }), this.watchBlockHoveredEvents(), this.enableInputsEmptyMark();\n  }\n  /**\n   * Listen redactor mousemove to emit 'block-hovered' event\n   */\n  watchBlockHoveredEvents() {\n    let e;\n    this.readOnlyMutableListeners.on(this.nodes.redactor, \"mousemove\", Ve((t) => {\n      const o = t.target.closest(\".ce-block\");\n      this.Editor.BlockSelection.anyBlockSelected || o && e !== o && (e = o, this.eventsDispatcher.emit(oo, {\n        block: this.Editor.BlockManager.getBlockByChildNode(o)\n      }));\n    }, 20), {\n      passive: !0\n    });\n  }\n  /**\n   * Unbind events on the Editor.js interface\n   */\n  disableModuleBindings() {\n    this.readOnlyMutableListeners.clearAll();\n  }\n  /**\n   * Resize window handler\n   */\n  windowResize() {\n    this.contentRectCache = null, this.setIsMobile();\n  }\n  /**\n   * All keydowns on document\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  documentKeydown(e) {\n    switch (e.keyCode) {\n      case w.ENTER:\n        this.enterPressed(e);\n        break;\n      case w.BACKSPACE:\n      case w.DELETE:\n        this.backspacePressed(e);\n        break;\n      case w.ESC:\n        this.escapePressed(e);\n        break;\n      default:\n        this.defaultBehaviour(e);\n        break;\n    }\n  }\n  /**\n   * Ignore all other document's keydown events\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  defaultBehaviour(e) {\n    const { currentBlock: t } = this.Editor.BlockManager, o = e.target.closest(`.${this.CSS.editorWrapper}`), i = e.altKey || e.ctrlKey || e.metaKey || e.shiftKey;\n    if (t !== void 0 && o === null) {\n      this.Editor.BlockEvents.keydown(e);\n      return;\n    }\n    o || t && i || (this.Editor.BlockManager.unsetCurrentBlock(), this.Editor.Toolbar.close());\n  }\n  /**\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  backspacePressed(e) {\n    const { BlockManager: t, BlockSelection: o, Caret: i } = this.Editor;\n    if (o.anyBlockSelected && !b.isSelectionExists) {\n      const s = t.removeSelectedBlocks(), r = t.insertDefaultBlockAtIndex(s, !0);\n      i.setToBlock(r, i.positions.START), o.clearSelection(e), e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation();\n    }\n  }\n  /**\n   * Escape pressed\n   * If some of Toolbar components are opened, then close it otherwise close Toolbar\n   *\n   * @param {Event} event - escape keydown event\n   */\n  escapePressed(e) {\n    this.Editor.BlockSelection.clearSelection(e), this.Editor.Toolbar.toolbox.opened ? (this.Editor.Toolbar.toolbox.close(), this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock, this.Editor.Caret.positions.END)) : this.Editor.BlockSettings.opened ? this.Editor.BlockSettings.close() : this.Editor.InlineToolbar.opened ? this.Editor.InlineToolbar.close() : this.Editor.Toolbar.close();\n  }\n  /**\n   * Enter pressed on document\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  enterPressed(e) {\n    const { BlockManager: t, BlockSelection: o } = this.Editor;\n    if (this.someToolbarOpened)\n      return;\n    const i = t.currentBlockIndex >= 0;\n    if (o.anyBlockSelected && !b.isSelectionExists) {\n      o.clearSelection(e), e.preventDefault(), e.stopImmediatePropagation(), e.stopPropagation();\n      return;\n    }\n    if (!this.someToolbarOpened && i && e.target.tagName === \"BODY\") {\n      const s = this.Editor.BlockManager.insert();\n      e.preventDefault(), this.Editor.Caret.setToBlock(s), this.Editor.Toolbar.moveAndOpen(s);\n    }\n    this.Editor.BlockSelection.clearSelection(e);\n  }\n  /**\n   * All clicks on document\n   *\n   * @param {MouseEvent} event - Click event\n   */\n  documentClicked(e) {\n    var l, a;\n    if (!e.isTrusted)\n      return;\n    const t = e.target;\n    this.nodes.holder.contains(t) || b.isAtEditor || (this.Editor.BlockManager.unsetCurrentBlock(), this.Editor.Toolbar.close());\n    const i = (l = this.Editor.BlockSettings.nodes.wrapper) == null ? void 0 : l.contains(t), s = (a = this.Editor.Toolbar.nodes.settingsToggler) == null ? void 0 : a.contains(t), r = i || s;\n    if (this.Editor.BlockSettings.opened && !r) {\n      this.Editor.BlockSettings.close();\n      const c = this.Editor.BlockManager.getBlockByChildNode(t);\n      this.Editor.Toolbar.moveAndOpen(c);\n    }\n    this.Editor.BlockSelection.clearSelection(e);\n  }\n  /**\n   * First touch on editor\n   * Fired before click\n   *\n   * Used to change current block  we need to do it before 'selectionChange' event.\n   * Also:\n   * - Move and show the Toolbar\n   * - Set a Caret\n   *\n   * @param {MouseEvent | TouchEvent} event - touch or mouse event\n   */\n  documentTouched(e) {\n    let t = e.target;\n    if (t === this.nodes.redactor) {\n      const o = e instanceof MouseEvent ? e.clientX : e.touches[0].clientX, i = e instanceof MouseEvent ? e.clientY : e.touches[0].clientY;\n      t = document.elementFromPoint(o, i);\n    }\n    try {\n      this.Editor.BlockManager.setCurrentBlockByChildNode(t);\n    } catch {\n      this.Editor.RectangleSelection.isRectActivated() || this.Editor.Caret.setToTheLastBlock();\n    }\n    this.Editor.Toolbar.moveAndOpen();\n  }\n  /**\n   * All clicks on the redactor zone\n   *\n   * @param {MouseEvent} event - click event\n   * @description\n   * - By clicks on the Editor's bottom zone:\n   *      - if last Block is empty, set a Caret to this\n   *      - otherwise, add a new empty Block and set a Caret to that\n   */\n  redactorClicked(e) {\n    if (!b.isCollapsed)\n      return;\n    const t = e.target, o = e.metaKey || e.ctrlKey;\n    if (d.isAnchor(t) && o) {\n      e.stopImmediatePropagation(), e.stopPropagation();\n      const i = t.getAttribute(\"href\"), s = So(i);\n      Mo(s);\n      return;\n    }\n    this.processBottomZoneClick(e);\n  }\n  /**\n   * Check if user clicks on the Editor's bottom zone:\n   *  - set caret to the last block\n   *  - or add new empty block\n   *\n   * @param event - click event\n   */\n  processBottomZoneClick(e) {\n    const t = this.Editor.BlockManager.getBlockByIndex(-1), o = d.offset(t.holder).bottom, i = e.pageY, { BlockSelection: s } = this.Editor;\n    if (e.target instanceof Element && e.target.isEqualNode(this.nodes.redactor) && /**\n    * If there is cross block selection started, target will be equal to redactor so we need additional check\n    */\n    !s.anyBlockSelected && /**\n    * Prevent caret jumping (to last block) when clicking between blocks\n    */\n    o < i) {\n      e.stopImmediatePropagation(), e.stopPropagation();\n      const { BlockManager: l, Caret: a, Toolbar: c } = this.Editor;\n      (!l.lastBlock.tool.isDefault || !l.lastBlock.isEmpty) && l.insertAtEnd(), a.setToTheLastBlock(), c.moveAndOpen(l.lastBlock);\n    }\n  }\n  /**\n   * Handle selection changes on mobile devices\n   * Uses for showing the Inline Toolbar\n   */\n  selectionChanged() {\n    const { CrossBlockSelection: e, BlockSelection: t } = this.Editor, o = b.anchorElement;\n    if (e.isCrossBlockSelectionStarted && t.anyBlockSelected && b.get().removeAllRanges(), !o) {\n      b.range || this.Editor.InlineToolbar.close();\n      return;\n    }\n    o.closest(`.${D.CSS.content}`) === null && (this.Editor.InlineToolbar.containsNode(o) || this.Editor.InlineToolbar.close(), !(o.dataset.inlineToolbar === \"true\")) || (this.Editor.BlockManager.currentBlock || this.Editor.BlockManager.setCurrentBlockByChildNode(o), this.Editor.InlineToolbar.tryToShow(!0));\n  }\n  /**\n   * Editor.js provides and ability to show placeholders for empty contenteditable elements\n   *\n   * This method watches for input and focus events and toggles 'data-empty' attribute\n   * to workaroud the case, when inputs contains only <br>s and has no visible content\n   * Then, CSS could rely on this attribute to show placeholders\n   */\n  enableInputsEmptyMark() {\n    function e(t) {\n      const o = t.target;\n      At(o);\n    }\n    this.readOnlyMutableListeners.on(this.nodes.wrapper, \"input\", e), this.readOnlyMutableListeners.on(this.nodes.wrapper, \"focusin\", e), this.readOnlyMutableListeners.on(this.nodes.wrapper, \"focusout\", e);\n  }\n}\nconst Es = {\n  // API Modules\n  BlocksAPI: fi,\n  CaretAPI: mi,\n  EventsAPI: bi,\n  I18nAPI: st,\n  API: ki,\n  InlineToolbarAPI: vi,\n  ListenersAPI: wi,\n  NotifierAPI: Bi,\n  ReadOnlyAPI: Ti,\n  SanitizerAPI: Li,\n  SaverAPI: _i,\n  SelectionAPI: Ni,\n  ToolsAPI: Pi,\n  StylesAPI: Di,\n  ToolbarAPI: Ri,\n  TooltipAPI: Fi,\n  UiAPI: Hi,\n  // Toolbar Modules\n  BlockSettings: Ui,\n  Toolbar: qi,\n  InlineToolbar: Zi,\n  // Modules\n  BlockEvents: Gi,\n  BlockManager: es,\n  BlockSelection: ts,\n  Caret: De,\n  CrossBlockSelection: os,\n  DragNDrop: is,\n  ModificationsObserver: rs,\n  Paste: ls,\n  ReadOnly: as,\n  RectangleSelection: we,\n  Renderer: cs,\n  Saver: ds,\n  Tools: go,\n  UI: ys\n};\nclass Bs {\n  /**\n   * @param {EditorConfig} config - user configuration\n   */\n  constructor(e) {\n    this.moduleInstances = {}, this.eventsDispatcher = new Be();\n    let t, o;\n    this.isReady = new Promise((i, s) => {\n      t = i, o = s;\n    }), Promise.resolve().then(async () => {\n      this.configuration = e, this.validate(), this.init(), await this.start(), await this.render();\n      const { BlockManager: i, Caret: s, UI: r, ModificationsObserver: l } = this.moduleInstances;\n      r.checkEmptiness(), l.enable(), this.configuration.autofocus && s.setToBlock(i.blocks[0], s.positions.START), t();\n    }).catch((i) => {\n      I(`Editor.js is not ready because of ${i}`, \"error\"), o(i);\n    });\n  }\n  /**\n   * Setting for configuration\n   *\n   * @param {EditorConfig|string} config - Editor's config to set\n   */\n  set configuration(e) {\n    var o, i;\n    R(e) ? this.config = {\n      ...e\n    } : this.config = {\n      holder: e\n    }, Ze(!!this.config.holderId, \"config.holderId\", \"config.holder\"), this.config.holderId && !this.config.holder && (this.config.holder = this.config.holderId, this.config.holderId = null), this.config.holder == null && (this.config.holder = \"editorjs\"), this.config.logLevel || (this.config.logLevel = St.VERBOSE), xo(this.config.logLevel), Ze(!!this.config.initialBlock, \"config.initialBlock\", \"config.defaultBlock\"), this.config.defaultBlock = this.config.defaultBlock || this.config.initialBlock || \"paragraph\", this.config.minHeight = this.config.minHeight !== void 0 ? this.config.minHeight : 300;\n    const t = {\n      type: this.config.defaultBlock,\n      data: {}\n    };\n    this.config.placeholder = this.config.placeholder || !1, this.config.sanitizer = this.config.sanitizer || {\n      p: !0,\n      b: !0,\n      a: !0\n    }, this.config.hideToolbar = this.config.hideToolbar ? this.config.hideToolbar : !1, this.config.tools = this.config.tools || {}, this.config.i18n = this.config.i18n || {}, this.config.data = this.config.data || { blocks: [] }, this.config.onReady = this.config.onReady || (() => {\n    }), this.config.onChange = this.config.onChange || (() => {\n    }), this.config.inlineToolbar = this.config.inlineToolbar !== void 0 ? this.config.inlineToolbar : !0, (V(this.config.data) || !this.config.data.blocks || this.config.data.blocks.length === 0) && (this.config.data = { blocks: [t] }), this.config.readOnly = this.config.readOnly || !1, (o = this.config.i18n) != null && o.messages && z.setDictionary(this.config.i18n.messages), this.config.i18n.direction = ((i = this.config.i18n) == null ? void 0 : i.direction) || \"ltr\";\n  }\n  /**\n   * Returns private property\n   *\n   * @returns {EditorConfig}\n   */\n  get configuration() {\n    return this.config;\n  }\n  /**\n   * Checks for required fields in Editor's config\n   */\n  validate() {\n    const { holderId: e, holder: t } = this.config;\n    if (e && t)\n      throw Error(\"holderId and holder param can't assign at the same time.\");\n    if (Q(t) && !d.get(t))\n      throw Error(`element with ID ${t} is missing. Pass correct holder's ID.`);\n    if (t && R(t) && !d.isElement(t))\n      throw Error(\"holder value must be an Element node\");\n  }\n  /**\n   * Initializes modules:\n   *  - make and save instances\n   *  - configure\n   */\n  init() {\n    this.constructModules(), this.configureModules();\n  }\n  /**\n   * Start Editor!\n   *\n   * Get list of modules that needs to be prepared and return a sequence (Promise)\n   *\n   * @returns {Promise<void>}\n   */\n  async start() {\n    await [\n      \"Tools\",\n      \"UI\",\n      \"BlockManager\",\n      \"Paste\",\n      \"BlockSelection\",\n      \"RectangleSelection\",\n      \"CrossBlockSelection\",\n      \"ReadOnly\"\n    ].reduce(\n      (t, o) => t.then(async () => {\n        try {\n          await this.moduleInstances[o].prepare();\n        } catch (i) {\n          if (i instanceof Nt)\n            throw new Error(i.message);\n          I(`Module ${o} was skipped because of %o`, \"warn\", i);\n        }\n      }),\n      Promise.resolve()\n    );\n  }\n  /**\n   * Render initial data\n   */\n  render() {\n    return this.moduleInstances.Renderer.render(this.config.data.blocks);\n  }\n  /**\n   * Make modules instances and save it to the @property this.moduleInstances\n   */\n  constructModules() {\n    Object.entries(Es).forEach(([e, t]) => {\n      try {\n        this.moduleInstances[e] = new t({\n          config: this.configuration,\n          eventsDispatcher: this.eventsDispatcher\n        });\n      } catch (o) {\n        I(\"[constructModules]\", `Module ${e} skipped because`, \"error\", o);\n      }\n    });\n  }\n  /**\n   * Modules instances configuration:\n   *  - pass other modules to the 'state' property\n   *  - ...\n   */\n  configureModules() {\n    for (const e in this.moduleInstances)\n      Object.prototype.hasOwnProperty.call(this.moduleInstances, e) && (this.moduleInstances[e].state = this.getModulesDiff(e));\n  }\n  /**\n   * Return modules without passed name\n   *\n   * @param {string} name - module for witch modules difference should be calculated\n   */\n  getModulesDiff(e) {\n    const t = {};\n    for (const o in this.moduleInstances)\n      o !== e && (t[o] = this.moduleInstances[o]);\n    return t;\n  }\n}\n/**\n * Editor.js\n *\n * @license Apache-2.0\n * @see Editor.js <https://editorjs.io>\n * @author CodeX Team <https://codex.so>\n */\nclass Ts {\n  /** Editor version */\n  static get version() {\n    return \"2.30.2\";\n  }\n  /**\n   * @param {EditorConfig|string|undefined} [configuration] - user configuration\n   */\n  constructor(e) {\n    let t = () => {\n    };\n    R(e) && A(e.onReady) && (t = e.onReady);\n    const o = new Bs(e);\n    this.isReady = o.isReady.then(() => {\n      this.exportAPI(o), t();\n    });\n  }\n  /**\n   * Export external API methods\n   *\n   * @param {Core} editor  Editor's instance\n   */\n  exportAPI(e) {\n    const t = [\"configuration\"], o = () => {\n      Object.values(e.moduleInstances).forEach((s) => {\n        A(s.destroy) && s.destroy(), s.listeners.removeAll();\n      }), oi(), e = null;\n      for (const s in this)\n        Object.prototype.hasOwnProperty.call(this, s) && delete this[s];\n      Object.setPrototypeOf(this, null);\n    };\n    t.forEach((s) => {\n      this[s] = e[s];\n    }), this.destroy = o, Object.setPrototypeOf(this, e.moduleInstances.API.methods), delete this.exportAPI, Object.entries({\n      blocks: {\n        clear: \"clear\",\n        render: \"render\"\n      },\n      caret: {\n        focus: \"focus\"\n      },\n      events: {\n        on: \"on\",\n        off: \"off\",\n        emit: \"emit\"\n      },\n      saver: {\n        save: \"save\"\n      }\n    }).forEach(([s, r]) => {\n      Object.entries(r).forEach(([l, a]) => {\n        this[a] = e.moduleInstances.API.methods[s][l];\n      });\n    });\n  }\n}\nexport {\n  Ts as default\n};\n","import { get, writable, type Writable } from 'svelte/store';\nimport EditorJS, { type OutputData } from '@editorjs/editorjs';\nimport type * as Lexc from './types'; \n\nconst Default: Lexc.Language = {\n    Version: '2.1.15',\n    FileVersion: '0',\n    Name: 'Unnamed Language',\n    CaseSensitive: false,\n    IgnoreDiacritics: true,\n    ShowEtymology: false,\n    ShowInflection: false,\n    Inflections: [],\n    UseLects: false,\n    HeaderTags: '',\n    Alphabet: 'a b c d e f g h i j k l m n o p q r s t u v w x y z',\n    Lexicon: <Lexc.Lexicon> { },\n    Etymologies: <Lexc.Etymologies> { },\n    Relatives: { },\n    Pronunciations: <Lexc.Pronunciations> {\n        General: 'Use this field to write pronunciation rules to automatically transcribe your orthography in IPA. For example,\\n'\n        + 'th > \\n'\n        + 'This rule will automatically transcribe any th in your orthography as [].\\n'\n        + 'Rules can be much more complex than this. You can read the section on pronunciation rules in the Help tab for more information.\\n\\n'\n        + 'The most common mistake has to do with the fact that rules are applied in order from top to bottom. For example, if you have the following rules,\\n' \n        + 'e > \\n'\n        + 'ae > \\n'\n        + 'then the second rule will never be applied, because the first rule will always change e to [] before the second rule can be applied.\\n'\n        + 'The solution in almost all cases like this is to change the order of the rules so that the ones with the longest patterns are applied first.\\n'\n        + 'ae > \\n'\n        + 'e > \\n'\n        + 'Now both rules will be applied correctly. You can test this by removing the first set of rules from this demo.'\n    },\n    Orthographies: <Lexc.Orthography[]> [{\n        name: 'Romanization',\n        font: 'Gentium',\n        root: 'rom',\n        lect: 'General',\n        rules: 'Your romanized orthography is the base form of input.',\n        display: true\n    }],\n    ShowOrthography: false,\n    ShowPronunciation: true,\n    Phonotactics: <Lexc.Phonotactics> {\n        General: <Lexc.PhonotacticsLect> {\n            Onsets: '',\n            Medials: '',\n            Codas: '',\n            Vowels: '',\n            Illegals: '',\n        }\n    },\n    UseAdvancedPhonotactics: false,\n    AdvancedPhonotactics: <Lexc.AdvancedPhonotactics> {\n        Categories: { },\n        Syllables: [ ],\n        Constructs: [{enabled:true, structures:''}],\n        Illegals: [ ],\n    },\n    Lects: ['General'],\n    Phrasebook: <Lexc.Phrasebook> { },\n    Docs: <OutputData> {\n        blocks: [ ]\n    },\n    Diagnostics: <Lexc.Diagnostic[]> [ ],\n    FileTheme: 'default',\n    OrderByDate: false,\n    SaveLocation: '',\n    UploadToDatabase: false,\n};\nexport const defaultLanguage: Writable<Lexc.Language> = writable(Default);\n\n// Initial state for the language data\nexport const Language: Writable<Lexc.Language> = writable(structuredClone(Default));\n\nexport const selectedTab = writable(0);\n\n// Initial states for all the global variables across the app\ntype PronunciationInputs = {\n    [index: string]: string\n}\nexport const wordInput = writable('');\nexport const pronunciations: Writable<PronunciationInputs> = writable((()=>{\n    const inputs: PronunciationInputs = {};\n    for (const lect of get(Language).Lects) {\n        inputs[lect] = '';\n    }\n    return inputs;\n})());\n\nexport const phraseInput = writable('');\nexport const phrasePronunciations: Writable<PronunciationInputs> = writable((()=>{\n    const inputs: PronunciationInputs = {};\n    for (const lect of get(Language).Lects) {\n        inputs[lect] = '';\n    }\n    return inputs;\n})());\n\nexport const categoryInput = writable('');\nexport const selectedCategory = writable('');\n\nexport const docsEditor: Writable<EditorJS> = writable(new EditorJS());\n\nexport const theme = writable('styles/dark.css');\nexport const autosave = writable(true);\nexport const fileLoadIncrement = writable(0);\n\nexport const hideDropdowns = writable(false);\n\nexport const referenceLanguage: Writable<Lexc.Language>|Writable<boolean> = writable(false);\n\nexport const dbid = writable(''); \nexport const dbkey = writable('');\n","import type * as Lexc from '../types';\nimport { Language } from '../stores';\nimport { get } from 'svelte/store';\nimport { platform } from 'os';\nconst { ipcRenderer } = require('electron');\nconst fs = require('fs');\nconst path = require('path');\n\n// can't import this from utils/files because it causes a circular dependency\nasync function userData (callback: (user_path: string) => void): Promise<void> {\n    let path: string;\n    await ipcRenderer.invoke('getUserDataPath').then((result: string) => {\n        path = result;\n    });\n    callback(path);\n}\n\n/**\n * This function pushes a new diagnostic record to the diagnostics\n * data in the Language object, which is saved along with the save\n * file. \n * @param {string} action - The action that was being performed when the error occurred.\n * @param {string} error - The error message.\n */\nexport function logError(action: string, error: Error): void {\n    get(Language).Diagnostics.push(<Lexc.Diagnostic> {\n        Time: Date(),\n        Version: get(Language).Version,\n        OS: platform(),\n        Action: action,\n        Error: error.stack\n    });\n    debug.error(error.stack);\n}\n\n/**\n * Takes a string and pushes it to the Diagnostics array in the Language object, along\n * with the current date, version, and OS.\n * @param {string} action - The action that was performed.\n */\nexport function logAction(action: string): void {\n    get(Language).Diagnostics.push(<Lexc.Diagnostic> {\n        Time: Date(),\n        Version: get(Language).Version,\n        OS: platform(),\n        Action: action\n    });\n}\n\nfunction logToFile(message: string, report: 'info' | 'warning' | 'error'): void {\n    userData(userPath => {\n        const logsPath = userPath + path.sep + 'Diagnostics' + path.sep;\n        if (!fs.existsSync(logsPath)) {\n            fs.mkdirSync(logsPath);\n        }\n        const timestamp = new Date().toString();\n        const logFile = logsPath + 'logs';\n        const log = \n            'Report: ' + report + '\\n'\n            + 'Time: ' + timestamp + '\\n' \n            + 'Version: ' + ipcRenderer.invoke('getVersion') + '\\n'\n            + 'File: (v'  + get(Language).Version + ') ' + get(Language).Name + '\\n'\n            + message + '\\n';\n        if (!fs.existsSync(logFile)) {\n            fs.writeFile(logFile, log, (err: Error) => {if (err) debug.error(String(err), false);});\n        } else {\n            fs.appendFile(logFile, log, (err: Error) => {if (err) debug.error(String(err), false);});\n        }\n    });\n}\n\nexport const debug = {\n    log: (message: string, logFile = true) => {\n        if (logFile) logToFile(message, 'info');\n        const formatted = '\\x1B[22m\\x1B[4mLexc Debug\\x1B[24m:\\x1B[22m ' + '\\x1B[32m' + message + '\\x1B[39m';\n        console.log(formatted);\n        ipcRenderer.invoke('debug', formatted);\n    },\n    logObj: (obj: unknown, name = '', logFile = true) => {\n        if (logFile) logToFile('Object: ' + name + '\\n' + JSON.stringify(obj, null, 2), 'info');\n        const objString = JSON.stringify(obj, null, 2)\n            .replace(/(.*):/g, '\\x1B[32m$1\\x1B[39m:');\n        const formatted = '\\x1B[22m\\x1B[4mLexc Debug\\x1B[24m\\x1B[22m ' + '\\x1B[32m' + name + ':\\x1B[39m' + '\\n' + objString;\n        ipcRenderer.invoke('debug', formatted);\n        console.log(formatted);\n    },    \n    warn: (message: string, logFile = true) => {\n        if (logFile) logToFile(message, 'warning');\n        const formatted = '\\x1B[22m\\x1B[4mLexc Debug\\x1B[24m\\x1B[22m ' + '\\x1B[33m' + message + '\\x1B[39m';\n        ipcRenderer.invoke('debug', formatted);\n        console.log(formatted);\n    },\n    error: (message: string, logFile = true) => {\n        if (logFile) logToFile(message, 'error');\n        const formatted = '\\x1B[22m\\x1B[4mLexc Debug\\x1B[24m\\x1B[22m ' + '\\x1B[31m' + message + '\\x1B[39m';\n        ipcRenderer.invoke('debug', formatted);\n        console.log(formatted);\n    },\n    logAndReturn: <T> (object:T, message = '', logFile = false): T => {\n        debug.logObj(object, message, logFile);\n        return object;\n    }\n};\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport * as diagnostics from './diagnostics';\nimport { get } from 'svelte/store';\nimport { Language } from '../stores';\nimport type * as Lexc from '../types';\nconst Lang = () => get(Language);\n\n/**\n * Takes a Lexicon object and returns an array of words in the alphabetical order\n * of the language, defined by the Alphabet property in the language file, and \n * with the any words which contain any HeaderTags at the top.\n * @param lexicon - the lexicon object\n * @returns An array of words, sorted by the alphabetical order of the language.\n */\nexport function alphabetize(lexicon: Lexc.Lexicon): string[] {\n    let priority_tags = Lang().HeaderTags.toLowerCase().trim().split(/\\s+/);\n    if (!priority_tags[0]) priority_tags = [];\n    let $alphabet = Lang().Alphabet;\n    const $ignore_diacritics = Lang().IgnoreDiacritics;\n    const $case_sensitive = Lang().CaseSensitive;\n    const all_words = structuredClone(lexicon);\n    const tag_ordered_lexes = [];\n    for (const tag of priority_tags) {\n        tag_ordered_lexes.push([]);\n        for (const word in all_words) {\n            if ((():string[] => {\n                const tags = [];\n                all_words[word].Senses.forEach((sense: Lexc.Sense) => {\n                    tags.push(...sense.tags);\n                });\n                return tags;\n            })().includes(tag)) {\n                tag_ordered_lexes[tag_ordered_lexes.length - 1].push(word);\n            }\n        }\n        for (const w of tag_ordered_lexes[tag_ordered_lexes.length - 1]) {\n            delete all_words[w];\n        }\n    }\n    const remaining_words = [];\n    for (const w in all_words) {\n        remaining_words.push(w);\n    }\n    tag_ordered_lexes.push(remaining_words);\n\n    // Lowercase alphabet if case-sensitivity is unticked\n    $alphabet = $case_sensitive? $alphabet.trim() : $alphabet.trim().toLowerCase();\n    const order = $alphabet.split(/\\s+/);\n    // to make sure we find the largest tokens first, i.e. for cases where 'st' comes before 'str' alphabetically\n    const find_in_order = Array.from(new Set(order)).sort(\n        (a, b) => b.length - a.length\n    ); // descending, ensures uniqueness\n\n    const final_sort = [];\n    for (const group of tag_ordered_lexes) {\n        const lex = {};\n        const list = [];\n        for (const word of group) {\n            // case sensitivity\n            let w: string = $case_sensitive? word : word.toLowerCase();\n\n            // diacritic sensitivity\n            w = $ignore_diacritics? w.normalize('NFD').replace(/\\p{Diacritic}/gu, '') : w;\n\n            for (const token of find_in_order) {\n                w = w.replace(\n                    new RegExp(`${token.replace(/[-[\\]{}()*+?.,\\\\/^$|#\\s]/g, '\\\\$&')}`, 'g'),\n                    `${order.indexOf(token)}.`\n                );\n            }\n            const append: (string | number)[] = w.split('.');\n            for (const i of append) {\n                append[append.indexOf(i)] = +i || 0;\n            }\n            lex[word] = append;\n            list.push(append);\n        }\n        list.sort((a, b) => {\n            for (const i of a) {\n                const j = b[a.indexOf(i)];\n                if (i === j) {\n                    continue;\n                }\n                return i - j;\n            }\n            return 0;\n        });\n        const sorted = [];\n        for (const key in lex) {\n            sorted.push([key, list.indexOf(lex[key])]);\n        } // [ [word, index], [word, index], ...]\n        sorted.sort((a, b) => a[1] - b[1]);\n        for (let i = 0; i < sorted.length; i++) {\n            sorted[i] = sorted[i][0];\n        }\n        for (const i of sorted) {\n            final_sort.push(i);\n        }\n    }\n    return final_sort;\n}\n\ntype valid = string & { __brand: 'valid' };\n/**\n * Takes a word and returns false if it contains any characters not in the alphabet.\n * The function takes case sensitivity and diacritic sensitivity into account.\n * @param word - the word to check\n * @returns false if the word contains any characters not in the alphabet.\n */\nexport function alphabetPrecheck(word: string): word is valid {\n    // check in order of length descending, solves combining diacritcs issue (i.e. 'a' would be removed from 'a', leaving the ring)\n    const alphabet = Lang().Alphabet.trim().split(/\\s+/).sort((a, b) => b.length - a.length);\n    word = Lang().CaseSensitive? word : word.toLowerCase();\n    word = Lang().IgnoreDiacritics? word.normalize('NFD').replace(/\\p{Diacritic}/gu, '') : word;\n    alphabet.forEach((token) => {\n        word = word.replaceAll(token, '');\n        // debug.log(`alphabetPrecheck: ${word} | ${token}`, false);\n    });\n    return !word.replaceAll(/\\s+/g, '');\n}\n","import * as diagnostics from './diagnostics';\nimport { Language } from '../stores';\nimport { get } from 'svelte/store';\nconst vex = require('vex-js');\n\nfunction applyRule(rule: string, input: string, categories: {[index: string]: string[]}): string {\n    const caseSensitive = get(Language).CaseSensitive;\n    const flags = caseSensitive? 'g' : 'gi';\n\n    // eslint-disable-next-line prefer-const\n    let [pattern, sub, context] = rule.split('/');\n    input = ' ' + input + ' ';\n    let result = input;\n\n    //SECTION - Preprocess the rule\n    const unionRule = /\\{(.+?)\\}/g;\n    const boundaryRule = /\\^|#/g;\n    const negativeRule = /\\{!(.+(?:\\s+.+)*)\\}/g;\n    const commaUnionRule = /\\s*,\\s*/g;\n    const spaceRule = /\\s+/g;\n    const nullRule = /[]/g;\n    const Symbols: string[] = [\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '', \n        '', '', '', '', '', '', '', '',\n    ];\n    let i = 0;\n    pattern.match(unionRule)?.forEach((match) => {\n        categories[Symbols[i]] = match.replace(unionRule, '$1').split(commaUnionRule);\n        pattern = pattern.replace(match, Symbols[i]);\n        i++;\n    });\n    sub.match(unionRule)?.forEach((match) => {\n        categories[Symbols[i]] = match.replace(unionRule, '$1').split(commaUnionRule);\n        sub = sub.replace(match, Symbols[i]);\n        i++;\n    });\n    context.match(unionRule)?.forEach((match) => {\n        categories[Symbols[i]] = match.replace(unionRule, '$1').split(commaUnionRule);\n        context = context.replace(match, Symbols[i]);\n        i++;\n    });\n\n    pattern = pattern\n        .replaceAll(boundaryRule, '\\\\s')\n        .replaceAll(negativeRule, '(?:(?!$1).)')\n        .replaceAll(spaceRule, '')\n    ;\n    sub = sub\n        .replaceAll(spaceRule, '')\n    ;\n    context = context\n        .replaceAll(boundaryRule, '\\\\s')\n        .replaceAll(negativeRule, '(?:(?!$1).)')\n        .replaceAll(spaceRule, '')\n    ;\n\n    //SECTION - Construct RegExp rule string and map category appearances\n    let regString = '(' + context.replace('_', `)${pattern}(`) + ')';\n    Object.entries(categories).forEach(([symbol, values]: [string, string[]]) => {\n        regString = regString.replaceAll(symbol, `(?:${values.join('|')})`);\n    });\n    const patternCatMap = pattern.split('').filter(char => char in categories);\n    const subCatMap = sub.split('').filter(char => char in categories);\n    const contextCatMap = context.split('').filter(char => char in categories);\n\n    function getSlice(match): string {\n        //SECTION - Get the index of the pattern in the context, accounting for varying category token lengths\n        let expandedContext = context.replaceAll('\\\\b', '');\n        let matchContext = [];\n        if (contextCatMap.length > 0) {\n            contextCatMap.forEach(symbol => {\n                const matchMatches = match.match(new RegExp(`(?:${categories[symbol].join('|')})`, flags));\n                matchContext.push([symbol, matchMatches]);\n            });\n            matchContext = [...new Set(matchContext)].sort((a, b) => b.length - a.length);\n        }\n        matchContext.forEach(([symbol, matches]) => {\n            matches.forEach(match => {\n                expandedContext = expandedContext.replace(symbol, match);\n            });\n        });\n\n        expandedContext = expandedContext.replaceAll('\\\\s', ' ');\n        for (const m of expandedContext.match(/\\(\\?:(.*)\\)\\?/g)? expandedContext.match(/\\(\\?:(.*)\\)\\?/g) : []) {\n            const optional = m.replace(/\\(\\?:(.*)\\)\\?/g, '$1');\n            /* console.log(\n                'm:', `'${m}'`, '|',\n                'optional:', `'${optional}'`\n            ); */\n            const testContext = expandedContext.replace(m, optional);\n            let testRegString = '(' + testContext.replace('_', `)${pattern}(`) + ')';\n            Object.entries(categories).forEach(([symbol, values]: [string, string[]]) => {\n                testRegString = testRegString.replaceAll(symbol, `(?:${values.join('|')})`);\n            });\n            \n            if (input.match(new RegExp(testRegString, flags))) {\n                expandedContext = testContext;\n            } else {\n                expandedContext = expandedContext.replace(m, '');\n            }\n        }\n        for (const m of expandedContext.match(/(.|\\s)\\?/g)? expandedContext.match(/(.|\\s)\\?/g) : []) {\n            const optional = m.replace(/(.|\\s)\\?/g, '$1');\n            const testContext = expandedContext.replace(m, optional);\n            let testRegString = '(' + testContext.replace('_', `)${pattern}(`) + ')';\n            Object.entries(categories).forEach(([symbol, values]: [string, string[]]) => {\n                testRegString = testRegString.replaceAll(symbol, `(?:${values.join('|')})`);\n            });\n            \n            if (input.match(new RegExp(testRegString, flags))) {\n                expandedContext = testContext;\n            } else {\n                expandedContext = expandedContext.replace(m, '');\n            }\n        }\n\n        const indexOfPattern = \n            expandedContext\n                .replaceAll('?', '')\n                .indexOf('_');\n\n        //SECTION - Get the slice of the match that corresponds to the pattern\n        const patternLength = \n            !patternCatMap[0]\n                ? pattern.length \n                : context === '_'\n                    ? match.length\n                    : (():number => {\n                        let length = 0;\n                        Object.entries(categories).filter(\n                            ([symbol,]: [string, string[]]) => patternCatMap.includes(symbol)\n                        ).forEach(([, values]: [string, string[]]) => {\n                            const candidate = values.find(value => match.includes(value));\n                            length += candidate? candidate.length : 0;\n                        });\n                        return length;\n                    })();\n        match = match.slice( \n            indexOfPattern, \n            indexOfPattern + patternLength\n        );\n        return match;\n    }\n\n    //SECTION - Apply the rule\n    const matches: string[] = input.match(new RegExp(regString, flags));\n    if (matches && sub.includes('_')) {\n        matches.forEach(match => {\n            const slice = getSlice(match);\n            result = result.replace(slice, sub.replaceAll('_', slice));\n        });\n    } else {\n        result;\n        regString;\n        result = result.replaceAll(new RegExp(regString, flags), `$1${sub}$2`);\n        result;\n    }\n    \n    if (!!subCatMap[0] && !!patternCatMap[0]) {\n        let catMap: string[][] = [];\n        if (matches) { \n            catMap = matches.map(match => {\n                const slice = getSlice(match);\n                //SECTION - Create the map\n                const map = [\n                    slice,\n                    subCatMap[patternCatMap\n                        .indexOf(Object.keys(categories)\n                            .find(symbol => categories[symbol]\n                                .some( (value: string) => \n                                    value === slice && patternCatMap.includes(symbol) \n                                )\n                            )\n                        )\n                    ]\n                ];\n\n                return [\n                    map[0],\n                    map[1],\n                    categories[map[1]][ categories[ patternCatMap[subCatMap.indexOf(map[1])] ].indexOf(map[0]) ]\n                        ? categories[map[1]][ categories[ patternCatMap[subCatMap.indexOf(map[1])] ].indexOf(map[0]) ]\n                        : map[0]\n                ];\n            });\n            matches.forEach((match, i) => {\n                result = result\n                    .replace(\n                        match.replace(catMap[i][0], catMap[i][1]), \n                        match.replace(catMap[i][0], catMap[i][2])\n                    );\n            });\n        }\n    }\n    /* console.log(\n        input, '::', pattern + '/' + sub + '/' + context, '-> ', result\n    ); */\n    return result\n        .replaceAll(nullRule, '')\n        .replaceAll('', ' ')\n        .trim();\n}\n\nlet indialog = false;\nexport function applyRules(rules: string[], input: string, categories): string {\n    let result = input;\n    rules.forEach(rule => {\n        try {\n            result = applyRule(rule, result, categories);\n        } catch (err) {\n            const error = err as Error;\n            diagnostics.logError(`Attempted to apply rule '${rule}' to '${input}'`, error);\n            if (!indialog) {\n                indialog = true;\n                vex.dialog.alert({\n                    message: `An error occurred while trying to apply rule '${rule}' to '${input}'. The rule may be invalid. If you think this is a bug, please contact the developer.`,\n                    callback: () => {\n                        indialog = false;\n                    }\n                });\n            }\n        }\n    });\n    return result;\n}\n\nexport function parseRules(rules: string): {rules: string[], categories: {[index: string]: string[]}} {\n    const result = {\n        rules: rules\n            .split(/\\n|;/)\n            .map(rule => rule.trim())\n            .filter(rule => rule.match(/^.*(?:\\/|>).*/)) // p > s || p / s\n            .map(rule => rule.match(/\\/.*_.*$/) // p > s / _ || p / s / _\n                ? rule \n                : rule.match(/\\/\\s*$/) // p > s / || p / s /\n                    ? rule + '_'\n                    : rule + '/_'\n            )\n            .map(rule => rule.split(/(?:\\/|>)/)\n                .map(part => part.trim())\n                .join('/'))\n            .filter(rule => rule.match(/^.+?\\/.*?\\/.*?_.*?$/) || rule.match(/^.*?\\/.+?\\/.*?_.*?$/)),\n        categories: Object.fromEntries(\n            rules\n                .split('\\n')\n                .map(rule => rule.trim())\n                .filter(rule => rule.match(/^.*::.*$/))\n                .map(rule => rule.split('::'))\n                .map(([symbol, values]) => [ symbol.trim(), values.split(',').map(value => value.trim()) ])\n        )\n    };\n    /* console.log(\n        'rules:', result.rules, '|| categories:', result.categories\n    ); */\n    return result;\n}\n\n\n/* const rules = `\na > e / {a, b}_{a}\n`;\nconst input = 'aaa';\nconsole.log(\n    input, '-->',\n    applyRules(parseRules(rules).rules, input, parseRules(rules).categories),\n); */\n","import { get } from 'svelte/store';\nimport { \n    Language, wordInput, pronunciations, phraseInput, phrasePronunciations\n} from '../stores.js';\nimport { applyRules, parseRules } from './sca';\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport * as diagnostics from './diagnostics.js';\nimport type * as Lexc from '../types.js';\nconst Lang = () => get(Language);\n\n/**\n * Takes a word and returns its pronunciation based on\n * the user-defined romanization rules.\n * @param {string} word\n * @returns {string}\n */\nexport function get_pronunciation(word: string, lect: string, reference: false | Lexc.Language = false): string {\n    // console.log('Requested pronunciation for ' + word + ' in ' + lect + '.');\n    let rules: string;\n    if (!reference) rules = Lang().Pronunciations[lect];\n    else rules = reference.Pronunciations[lect];\n    const settings = parseRules(rules);\n    return applyRules(settings.rules, word, settings.categories);\n}\n\n/**\n * Rewrites all pronunciations for a given lect.\n */\nexport function writeRomans (lect: string) {\n    get(pronunciations)[lect] = get_pronunciation(get(wordInput), lect);\n\n    const lexicon: Lexc.Lexicon = Lang().Lexicon;\n    for (const word in lexicon) {\n        if (lexicon[word].pronunciations.hasOwnProperty(lect)) {\n            if (lexicon[word].pronunciations[lect].irregular === false) {\n                lexicon[word].pronunciations[lect].ipa = get_pronunciation(word, lect);\n            }\n        }\n    }\n    Lang().Lexicon = lexicon;\n\n    get(phrasePronunciations)[lect] = get_pronunciation(get(phraseInput), lect);\n    const phrasebook: Lexc.Phrasebook = Lang().Phrasebook;\n    for (const category in phrasebook) {\n        for (const entry in phrasebook[category]) {\n            if (phrasebook[category][entry].pronunciations.hasOwnProperty(lect)) {\n                if (phrasebook[category][entry].pronunciations[lect].irregular === false) {\n                    phrasebook[category][entry].pronunciations[lect].ipa =\n                        get_pronunciation(entry, lect);\n                }\n                for (const variant in phrasebook[category][entry].variants) {\n                    phrasebook[category][entry].variants[variant].pronunciations[lect].ipa =\n                        get_pronunciation(variant, lect);\n                }\n            }\n        }\n    }\n    Lang().Phrasebook = phrasebook;\n}\n\n/**\n * Attempts to complete a given word using the user's phonotactics.\n * @param {string} trial\n * @returns {string} The completed word, or an empty string if no word could be generated\n */\nexport function complete_word(trial) {\n    const random_boolean = () => Math.floor(Math.random() * 2) === 0;\n    const choice = arr => arr[Math.floor(Math.random() * arr.length)];\n    const inventory = {\n        Onsets: Lang().Phonotactics.General.Onsets.split(/\\s+/g),\n        Medials: Lang().Phonotactics.General.Medials.split(/\\s+/g), \n        Codas: Lang().Phonotactics.General.Codas.split(/\\s+/g),\n        Vowels: Lang().Phonotactics.General.Vowels.split(/\\s+/g),\n        Illegals: Lang().Phonotactics.General.Illegals.split(/\\s+/g)\n    };\n    let word = '^' + trial;\n\n    const finalize = (word: string) => {\n        word += '^';\n        if (!inventory.Illegals.some(v => word.includes(v)) || !inventory.Illegals[0]) {\n            return word.replace(/\\^/g, '');\n        } else {\n            return '';\n        }\n    };\n\n    let ends_in_vowel = false;\n    for (const v of inventory.Vowels) {\n        // Check if word ends in vowel; add middle consonant and vowel, or coda and end\n        if (\n            word.includes(v) &&\n            word.lastIndexOf(v) === word.length - v.length\n        ) {\n            if (random_boolean()) {\n                word += choice(inventory.Medials) + choice(inventory.Vowels);\n                ends_in_vowel = true;\n                break;\n            } else {\n                word += choice(inventory.Codas);\n                return finalize(word);\n            }\n        }\n    }\n    if (!ends_in_vowel) {\n        // Add vowel to end of word, potentially end word with vowel or vowel + coda\n        word += choice(inventory.Vowels);\n        if (random_boolean()) {\n            if (random_boolean()) {\n                word += choice(inventory.Codas);\n            }\n            return finalize(word);\n        }\n    }\n    // End word with one of: coda, middle + vowel, or middle + vowel + coda\n    if (random_boolean()) {\n        word += choice(inventory.Codas);\n    } else {\n        word += choice(inventory.Medials) + choice(inventory.Vowels);\n        if (random_boolean()) {\n            word += choice(inventory.Codas);\n        }\n    }\n    return finalize(word);\n}\n\n/**\n * Generates a random word based on the given phonotactics. Will attempt\n * up to 50 times to generate a word that does not contain any illegal\n * combinations. If no word can be generated, returns an empty string.\n * @returns {string} The generated word, or an empty string if one could not be generated.\n */\nexport function generate_word() {\n    const attempt = () => {\n        const inventory = {\n            Onsets: Lang().Phonotactics.General.Onsets.split(/\\s+/g),\n            Medials: Lang().Phonotactics.General.Medials.split(/\\s+/g),\n            Codas: Lang().Phonotactics.General.Codas.split(/\\s+/g),\n            Vowels: Lang().Phonotactics.General.Vowels.split(/\\s+/g),\n            Illegals: Lang().Phonotactics.General.Illegals.split(/\\s+/g)\n        };\n        const random_boolean = () => Math.floor(Math.random() * 2) === 0;\n        const choice = arr => arr[Math.floor(Math.random() * arr.length)];\n        let word = '^';\n    \n        if (random_boolean()) {\n            word += choice(inventory.Vowels);\n        } else {\n            word += choice(inventory.Onsets);\n            word += choice(inventory.Vowels);\n        }\n    \n        for (let j = 0; j < 2; j++) {\n            if (random_boolean() || word.length === 2 /* word is \"^vowel\" */) {\n                word += choice(inventory.Medials);\n                word += choice(inventory.Vowels);\n            }\n        }\n        if (random_boolean()) {\n            word += choice(inventory.Codas);\n        }\n    \n        word += '^';\n        if (!inventory.Illegals.some(v => word.includes(v)) || !inventory.Illegals[0]) {\n            return word.replace(/\\^/g, '');\n        } else {\n            return '';\n        }\n    };\n    for (let i = 0; i < 50; i++) {\n        const word = attempt();\n        if (!!word) {\n            return word;\n        }\n    }\n    return '';\n}\n","export const formatVariableKey = (str) => {\n  return str\n    .replace(/-_$/g, '')\n    .replace(/([a-z0-9])([A-Z])/g, '$1-$2')\n    .replace(/([A-Z])([A-Z])(?=[a-z])/g, '$1-$2')\n    .toLowerCase();\n};\n\nexport const getMinWidth = (element, maxWidth) => {\n  const extraCharPadding = 2;\n  const elementWidth = element.getBoundingClientRect().width + extraCharPadding;\n  const elementStyle = window.getComputedStyle(element);\n  const elementPaddingLeft = parseInt(elementStyle.getPropertyValue('padding-left'), 10);\n  const elementPaddingRight = parseInt(elementStyle.getPropertyValue('padding-right'), 10);\n  const elementPadding = elementPaddingLeft + elementPaddingRight;\n  const contentWidth = elementWidth - elementPadding;\n\n  return Math.round(Math.min(maxWidth, contentWidth || maxWidth));\n};\n\nexport const isInViewport = (element) => {\n  const rect = element.getBoundingClientRect();\n\n  return (\n    rect.top >= 0 &&\n    rect.left >= 0 &&\n    rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n    rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n  );\n};\n","export const inverse = {\n  left: 'right',\n  right: 'left',\n  top: 'bottom',\n  bottom: 'top'\n};\n","<script>\n  // @ts-check\n\n  import { onMount, onDestroy } from 'svelte';\n  import { formatVariableKey, getMinWidth, isInViewport } from './helpers';\n  import { inverse } from './constants';\n\n  /** @type {'hover' | 'click' | 'prop' | string} */\n  export let action = 'hover';\n\n  /** @type {string | {component: any, props?: Record<string, any>}} */\n  export let content = '';\n\n  /** @type {'left' | string} */\n  export let align = 'left';\n\n  /** @type {'top' | string} */\n  export let position = 'top';\n\n  /** @type {number} */\n  export let maxWidth = 200;\n\n  /** @type {Record<string, string> | null} */\n  export let style = null;\n\n  /** @type {string} */\n  export let theme = '';\n\n  /** @type {string} */\n  export let animation = '';\n\n  /** @type {boolean} */\n  export let arrow = true;\n\n  /** @type {boolean} */\n  export let autoPosition = false;\n\n  /** @type {boolean} */\n  export let show = false;\n\n  /** @type {HTMLDivElement | null} */\n  let tooltipRef = null;\n\n  /** @type {number} */\n  let minWidth = 0;\n\n  /** @type {any} */\n  let component = null;\n\n  /** @type {string | null} */\n  let animationEffect = null;\n\n  /** @type {boolean} */\n  let visible = false;\n\n  const delay = animation ? 200 : 0;\n\n  onMount(() => {\n    if (tooltipRef !== null) {\n      if (isComponent && !component) {\n        // @ts-ignore\n        component = new content.component({ target: tooltipRef, props: { action, ...content.props } });\n      }\n\n      minWidth = getMinWidth(tooltipRef, maxWidth);\n\n      if (style && typeof style === 'object') {\n        for (let prop in style) {\n          const key = formatVariableKey(prop);\n          const value = style[prop];\n\n          tooltipRef.style.setProperty(`--tooltip-${key}`, value);\n        }\n      }\n    }\n\n    if (autoPosition && !isInViewport(tooltipRef)) {\n      // @ts-ignore\n      position = inverse[position];\n    }\n\n    if (animation) {\n      animationEffect = animation;\n    }\n\n    setTimeout(() => (visible = true), delay);\n  });\n\n  onDestroy(() => {\n    if (component) {\n      component.$destroy();\n      component = null;\n    }\n  });\n\n  $: isComponent = typeof content === 'object';\n  $: tooltipRef && show ? setTimeout(() => (visible = true), delay) : (visible = false);\n</script>\n\n{#if content}\n  <div\n    bind:this={tooltipRef}\n    class=\"tooltip animation-{animationEffect} {position} {theme}\"\n    class:show={visible}\n    class:arrowless={!arrow}\n    style=\"min-width: {minWidth}px; max-width: {maxWidth}px; text-align: {align};\"\n  >\n    {#if !isComponent}\n      {@html content}\n    {/if}\n  </div>\n{/if}\n\n<style>\n  /*--------------------------*\n   * Theme Variables\n   *--------------------------*/\n\n  :root {\n    --tooltip-arrow-size: 10px;\n    --tooltip-background-color: rgba(0, 0, 0, 0.9);\n    --tooltip-border-radius: 4px;\n    --tooltip-box-shadow: 0 1px 20px rgba(0, 0, 0, 0.25);\n    --tooltip-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell,\n      'Helvetica Neue', sans-serif;\n    --tooltip-font-size: 14px;\n    --tooltip-font-weight: 500;\n    --tooltip-line-height: 1.25rem;\n    --tooltip-color: #fff;\n    --tooltip-offset-x: 12px;\n    --tooltip-offset-y: 12px;\n    --tooltip-padding: 12px;\n    --tooltip-white-space-hidden: nowrap;\n    --tooltip-white-space-shown: normal;\n    --tooltip-z-index: 100;\n  }\n\n  /*--------------------------*\n   * Tooltip Styling\n   *--------------------------*/\n\n  .tooltip {\n    background-color: var(--tooltip-background-color);\n    box-shadow: var(--tooltip-box-shadow);\n    border-radius: var(--tooltip-border-radius);\n    color: var(--tooltip-color);\n    opacity: 0;\n    font-family: var(--tooltip-font-family);\n    font-size: var(--tooltip-font-size);\n    font-style: normal;\n    font-weight: var(--tooltip-font-weight);\n    line-height: var(--tooltip-line-height);\n    padding: var(--tooltip-padding);\n    position: absolute;\n    text-align: left;\n    visibility: hidden;\n    white-space: var(--tooltip-white-space-hidden);\n    z-index: var(--tooltip-z-index);\n  }\n\n  .tooltip.show {\n    opacity: 1;\n    visibility: visible;\n    white-space: var(--tooltip-white-space-shown);\n  }\n\n  .tooltip.bottom:after,\n  .tooltip.left:after,\n  .tooltip.right:after,\n  .tooltip.top:after {\n    border: var(--tooltip-arrow-size) solid var(--tooltip-background-color);\n    content: ' ';\n    position: absolute;\n  }\n\n  .tooltip.arrowless:after {\n    border: 0 !important;\n  }\n\n  .tooltip.bottom,\n  .tooltip.top {\n    --tooltip-offset-x: 0px;\n    --tooltip-offset-y: 12px;\n  }\n\n  .tooltip.left,\n  .tooltip.right {\n    --tooltip-offset-x: 12px;\n    --tooltip-offset-y: 0px;\n  }\n\n  .tooltip.bottom {\n    bottom: 0;\n    left: 50%;\n    transform: translate(\n      calc(-50% + var(--tooltip-offset-x)),\n      calc(100% + var(--tooltip-offset-y))\n    );\n  }\n\n  .tooltip.bottom:after {\n    border-color: transparent transparent var(--tooltip-background-color);\n    left: 50%;\n    top: 0;\n    transform: translate(-50%, -99%);\n  }\n\n  .tooltip.top {\n    left: 50%;\n    top: 0;\n    transform: translate(\n      calc(-50% + var(--tooltip-offset-x)),\n      calc(-100% - var(--tooltip-offset-y))\n    );\n  }\n\n  .tooltip.top:after {\n    border-color: var(--tooltip-background-color) transparent transparent transparent;\n    bottom: 0;\n    left: 50%;\n    transform: translate(-50%, 99%);\n  }\n\n  .tooltip.left {\n    left: 0;\n    top: 50%;\n    transform: translate(\n      calc(-100% - var(--tooltip-offset-x)),\n      calc(-50% - var(--tooltip-offset-y))\n    );\n  }\n\n  .tooltip.left:after {\n    border-color: transparent transparent transparent var(--tooltip-background-color);\n    right: 0;\n    top: 50%;\n    transform: translate(99%, -50%);\n  }\n\n  .tooltip.right {\n    right: 0;\n    top: 50%;\n    transform: translate(\n      calc(100% + var(--tooltip-offset-x)),\n      calc(-50% - var(--tooltip-offset-y))\n    );\n  }\n\n  .tooltip.right:after {\n    border-color: transparent var(--tooltip-background-color) transparent transparent;\n    left: 0;\n    top: 50%;\n    transform: translate(-99%, -50%);\n  }\n\n  /*--------------------------*\n   * CSS Animations\n   *--------------------------*/\n\n  /* Fade */\n\n  .tooltip.animation-fade {\n    opacity: 0;\n    transition: opacity 0.25s ease-in-out;\n  }\n\n  .tooltip.animation-fade.show {\n    opacity: 1;\n  }\n\n  /* Slide */\n\n  .tooltip.top.animation-slide {\n    margin-top: 10px;\n    opacity: 0;\n    transition: opacity 0.25s ease-in-out, margin 0.25s ease-in-out;\n  }\n\n  .tooltip.top.animation-slide.show {\n    margin-top: 0;\n    opacity: 1;\n  }\n\n  .tooltip.bottom.animation-slide {\n    margin-bottom: 20px;\n    opacity: 0;\n    transition: opacity 0.25s ease-in-out, margin 0.25s ease-in-out;\n  }\n\n  .tooltip.bottom.animation-slide.show {\n    margin-bottom: 0;\n    opacity: 1;\n  }\n\n  .tooltip.right.animation-slide {\n    margin-right: 20px;\n    opacity: 0;\n    transition: opacity 0.25s ease-in-out, margin 0.25s ease-in-out;\n  }\n\n  .tooltip.right.animation-slide.show {\n    margin-right: 0;\n    opacity: 1;\n  }\n\n  .tooltip.left.animation-slide {\n    margin-left: 20px;\n    opacity: 0;\n    transition: opacity 0.25s ease-in-out, margin 0.25s ease-in-out;\n  }\n\n  .tooltip.left.animation-slide.show {\n    margin-left: 0;\n    opacity: 1;\n  }\n\n  /* Puff */\n\n  .tooltip.left.animation-puff {\n    filter: blur(2px);\n    opacity: 0;\n    transform: translate(\n      calc(-100% - var(--tooltip-offset-x)),\n      calc(-50% - var(--tooltip-offset-y))\n    ) scale(2, 2);\n    transform-origin: 50% 50%;\n    transition: opacity 0.25s ease-in-out, filter 0.25s ease-in-out, transform 0.25s ease-in-out;\n  }\n\n  .tooltip.left.animation-puff.show {\n    filter: blur(0);\n    opacity: 1;\n    transform: translate(\n      calc(-100% - var(--tooltip-offset-x)),\n      calc(-50% - var(--tooltip-offset-y))\n    ) scale(1, 1);\n  }\n\n  .tooltip.right.animation-puff {\n    filter: blur(2px);\n    opacity: 0;\n    transform: translate(\n      calc(100% + var(--tooltip-offset-x)),\n      calc(-50% - var(--tooltip-offset-y))\n    ) scale(2, 2);\n    transform-origin: 50% 50%;\n    transition: opacity 0.25s ease-in-out, filter 0.25s ease-in-out, transform 0.25s ease-in-out;\n  }\n\n  .tooltip.right.animation-puff.show {\n    filter: blur(0);\n    opacity: 1;\n    transform: translate(\n      calc(100% + var(--tooltip-offset-x)),\n      calc(-50% - var(--tooltip-offset-y))\n    ) scale(1, 1);\n  }\n\n  .tooltip.top.animation-puff {\n    filter: blur(2px);\n    opacity: 0;\n    transform: translate(\n      calc(-50% + var(--tooltip-offset-x)),\n      calc(-100% - var(--tooltip-offset-y))\n    ) scale(2, 2);\n    transform-origin: 50% 50%;\n    transition: opacity 0.25s ease-in-out, filter 0.25s ease-in-out, transform 0.25s ease-in-out;\n  }\n\n  .tooltip.top.animation-puff.show {\n    filter: blur(0);\n    opacity: 1;\n    transform: translate(\n      calc(-50% + var(--tooltip-offset-x)),\n      calc(-100% - var(--tooltip-offset-y))\n    ) scale(1, 1);\n  }\n\n  .tooltip.bottom.animation-puff {\n    filter: blur(2px);\n    opacity: 0;\n    transform: translate(\n      calc(-50% + var(--tooltip-offset-x)),\n      calc(100% + var(--tooltip-offset-y))\n    ) scale(2, 2);\n    transform-origin: 50% 50%;\n    transition: opacity 0.25s ease-in-out, filter 0.25s ease-in-out, transform 0.25s ease-in-out;\n  }\n\n  .tooltip.bottom.animation-puff.show {\n    filter: blur(0);\n    opacity: 1;\n    transform: translate(\n      calc(-50% + var(--tooltip-offset-x)),\n      calc(100% + var(--tooltip-offset-y))\n    ) scale(1, 1);\n  }\n\n  /* Bounce */\n\n  .tooltip.left.animation-bounce {\n    opacity: 0;\n    transform: translate(\n      calc(-100% - var(--tooltip-offset-x)),\n      calc(-50% + var(--tooltip-offset-y))\n    ) scale(1.2, 1.2);\n    transform-origin: 50% 50%;\n    transition: opacity 0.25s ease-in-out, transform 0.25s cubic-bezier(0.5, -1, 0.5, 3);\n  }\n\n  .tooltip.left.animation-bounce.show {\n    opacity: 1;\n    transform: translate(\n      calc(-100% - var(--tooltip-offset-x)),\n      calc(-50% + var(--tooltip-offset-y))\n    ) scale(1, 1);\n  }\n\n  .tooltip.right.animation-bounce {\n    opacity: 0;\n    transform: translate(calc(100% + var(--tooltip-offset-x)), calc(-50% + var(--tooltip-offset-y))) scale(1.2, 1.2);\n    transform-origin: 50% 50%;\n    transition: opacity 0.25s ease-in-out, transform 0.25s cubic-bezier(0.5, -1, 0.5, 3);\n  }\n\n  .tooltip.right.animation-bounce.show {\n    opacity: 1;\n    transform: translate(\n      calc(100% + var(--tooltip-offset-x)),\n      calc(-50% + var(--tooltip-offset-y))\n    ) scale(1, 1);\n  }\n\n  .tooltip.top.animation-bounce {\n    opacity: 0;\n    transform: translate(\n      calc(-50% + var(--tooltip-offset-x)),\n      calc(-100% - var(--tooltip-offset-y))\n    ) scale(1.2, 1.2);\n    transform-origin: 50% 50%;\n    transition: opacity 0.25s ease-in-out, transform 0.25s cubic-bezier(0.5, -1, 0.5, 3);\n  }\n\n  .tooltip.top.animation-bounce.show {\n    opacity: 1;\n    transform: translate(\n      calc(-50% + var(--tooltip-offset-x)),\n      calc(-100% - var(--tooltip-offset-y))\n    ) scale(1, 1);\n  }\n\n  .tooltip.bottom.animation-bounce {\n    opacity: 0;\n    transform: translate(\n      calc(-50% + var(--tooltip-offset-x)),\n      calc(100% + var(--tooltip-offset-y))\n    ) scale(1.2, 1.2);\n    transform-origin: 50% 50%;\n    transition: opacity 0.25s ease-in-out, transform 0.25s cubic-bezier(0.5, -1, 0.5, 3);\n  }\n\n  .tooltip.bottom.animation-bounce.show {\n    opacity: 1;\n    transform: translate(\n      calc(-50% + var(--tooltip-offset-x)),\n      calc(100% + var(--tooltip-offset-y))\n    ) scale(1, 1);\n  }\n</style>\n","import Tooltip from './action-tooltip.svelte';\n\nexport const tooltip = (element, props) => {\n  let component = null;\n  let title = element.getAttribute('title');\n  let action = props?.action || element.getAttribute('action') || 'hover';\n\n  if (title) {\n    element.removeAttribute('title');\n\n    props = {\n      content: title,\n      ...props\n    }\n  }\n\n  const onClick = () => {\n    if (component) {\n      onHide();\n    } else {\n      onShow();\n    }\n  };\n\n  const onShow = () => {\n    if (!component) {\n      component = new Tooltip({\n        target: element,\n        props\n      });\n    }\n  };\n\n  const onHide = () => {\n    if (component) {\n      component.$destroy();\n      component = null;\n    }\n  };\n\n  const addListeners = () => {\n    if (element !== null) {\n      removeListeners();\n\n      if (action === 'click') {\n        element.addEventListener('click', onClick);\n      }\n\n      if (action === 'hover') {\n        element.addEventListener('mouseenter', onShow);\n        element.addEventListener('mouseleave', onHide);\n      }\n    }\n  }\n\n  const removeListeners = () => {\n    if (element !== null) {\n      element.removeEventListener('click', onClick);\n      element.removeEventListener('mouseenter', onShow);\n      element.removeEventListener('mouseleave', onHide);\n    }\n  };\n\n  addListeners();\n\n  element.style.position = 'relative';\n\n  if (props.show) {\n    onShow();\n  }\n\n  return {\n    destroy() {\n      removeListeners();\n\n      if (title) {\n        element.setAttribute('title', title);\n      }\n    }\n  };\n}\n","<script lang=\"ts\">\n    import type * as Lect from '../types';\n    import { Language } from '../stores';\n    import {tooltip} from '@svelte-plugins/tooltips';\n\n    export let pronunciations: Lect.EntryPronunciations;\n</script>\n{#if $Language.ShowPronunciation}\n    {#if Object.keys(pronunciations).length > 1 || $Language.UseLects || pronunciations.General === undefined}\n        {#each Object.keys(pronunciations) as lect}\n            <p class=\"lect\">\n                <u>{lect}</u>\n                <span class=\"pronunciation\">\n                    {pronunciations[lect].ipa}\n                    {#if pronunciations[lect].irregular}\n                        <span use:tooltip={{position:'bottom'}} title='irregular pronunciation: rules are not being applied' class='material-icons' \n                            style='font-size:0.75em; margin-right:-1em'>\n                        lightbulb</span>\n                    {/if}\n                </span>\n            </p>\n        {/each}\n    {:else}\n        <p class=\"pronunciation\">\n            {pronunciations.General.ipa}\n            {#if pronunciations.General.irregular}\n                <span use:tooltip={{position:'bottom'}} title='irregular pronunciation: rules are not being applied' class='material-icons' \n                    style='font-size:0.75em; margin-right:-1em'>\n                lightbulb</span>\n            {/if}\n        </p>\n    {/if}\n{/if}\n","export { identity as linear } from '../internal/index.mjs';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicInOut, linear, cubicOut } from '../easing/index.mjs';\nimport { split_css_unit, is_function, assign } from '../internal/index.mjs';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction blur(node, { delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const f = style.filter === 'none' ? '' : style.filter;\n    const od = target_opacity * (1 - opacity);\n    const [value, unit] = split_css_unit(amount);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `opacity: ${target_opacity - (od * u)}; filter: ${f} blur(${u * value}${unit});`\n    };\n}\nfunction fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    const [xValue, xUnit] = split_css_unit(x);\n    const [yValue, yUnit] = split_css_unit(y);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * xValue}${xUnit}, ${(1 - t) * yValue}${yUnit});\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut, axis = 'y' } = {}) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const primary_property = axis === 'y' ? 'height' : 'width';\n    const primary_property_value = parseFloat(style[primary_property]);\n    const secondary_properties = axis === 'y' ? ['top', 'bottom'] : ['left', 'right'];\n    const capitalized_secondary_properties = secondary_properties.map((e) => `${e[0].toUpperCase()}${e.slice(1)}`);\n    const padding_start_value = parseFloat(style[`padding${capitalized_secondary_properties[0]}`]);\n    const padding_end_value = parseFloat(style[`padding${capitalized_secondary_properties[1]}`]);\n    const margin_start_value = parseFloat(style[`margin${capitalized_secondary_properties[0]}`]);\n    const margin_end_value = parseFloat(style[`margin${capitalized_secondary_properties[1]}`]);\n    const border_width_start_value = parseFloat(style[`border${capitalized_secondary_properties[0]}Width`]);\n    const border_width_end_value = parseFloat(style[`border${capitalized_secondary_properties[1]}Width`]);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => 'overflow: hidden;' +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `${primary_property}: ${t * primary_property_value}px;` +\n            `padding-${secondary_properties[0]}: ${t * padding_start_value}px;` +\n            `padding-${secondary_properties[1]}: ${t * padding_end_value}px;` +\n            `margin-${secondary_properties[0]}: ${t * margin_start_value}px;` +\n            `margin-${secondary_properties[1]}: ${t * margin_end_value}px;` +\n            `border-${secondary_properties[0]}-width: ${t * border_width_start_value}px;` +\n            `border-${secondary_properties[1]}-width: ${t * border_width_end_value}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n    let len = node.getTotalLength();\n    const style = getComputedStyle(node);\n    if (style.strokeLinecap !== 'butt') {\n        len += parseInt(style.strokeWidth);\n    }\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_, u) => `\n\t\t\tstroke-dasharray: ${len};\n\t\t\tstroke-dashoffset: ${u * len};\n\t\t`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from_node, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const from = from_node.getBoundingClientRect();\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, node);\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const other_node = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(other_node, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { blur, crossfade, draw, fade, fly, scale, slide };\n","<script lang='ts'>\n    import { Language, hideDropdowns, referenceLanguage } from \"../stores\";\n    import * as diagnostics from \"../utils/diagnostics\";\n    import { blur } from 'svelte/transition';\n    import * as sca from \"../utils/sca\";\n    import type { OutputBlockData } from \"@editorjs/editorjs\";\n    export let word: string;\n    export let tags: string[];\n    export let readFromReference: boolean = false;\n    let show = false;\n\n    function htmlToText(html: string) {\n        const temp = document.createElement('div');\n        temp.innerHTML = html;\n        return temp.textContent;\n    }\n\n    let data: OutputBlockData[][];\n\n    $: {\n        word; tags; $Language.Inflections; $Language.Lexicon;\n        let categories = '';\n        data = structuredClone((readFromReference && typeof $referenceLanguage === 'object')? $referenceLanguage.Inflections : $Language.Inflections)\n            .filter(inflection => {\n                let filter: RegExp;\n                try {\n                    filter = new RegExp(inflection.filter);\n                } catch (e) {\n                    diagnostics.debug.error(`Invalid regular expression: /${inflection.filter}/`);\n                    filter = /.+/;\n                }\n                return (inflection.tags[0]? inflection.tags.some(tag => tags.includes(tag)) : true) && word.match(filter)\n            })\n            .map(inflection => {\n                categories += inflection.categories + '\\n';\n                return inflection.tables.blocks\n            });\n\n        data.forEach((blocks, i) => {\n            blocks.forEach((block, j) => {\n                if (block.type !== 'table') return;\n                block.data.content.forEach((row: string[], y: number) => {\n                    row.forEach((cell: string, x: number) => {\n                        const rules = sca.parseRules(htmlToText(cell)).rules;\n                        const cats = sca.parseRules(categories).categories;\n                        if (!rules[0]) return\n                        data[i][j].data.content[y][x] = sca.applyRules(rules, word, cats);\n                    });\n                });\n            });\n        });\n    }\n</script>\n\n{#if data[0]}\n    <button class='inflection hover-highlight' on:click={() => show = !show}>Inflections {show? '' : ''}</button>\n    {#if show && !$hideDropdowns}\n        <div class='inflection' transition:blur='{{amount: 10, duration: 333}}'>\n            {#each data.flat() as block}\n                {#if block.type === 'header'}\n                    <svelte:element this={`h${block.data.level}`}>{@html block.data.text}</svelte:element>\n                {/if}\n                {#if block.type === 'table'}\n                    <table style='margin: auto'>\n                        {#each block.data.content as row}\n                            <tr>\n                                {#each row as cell}\n                                    <td>{@html cell}</td>\n                                {/each}\n                            </tr>\n                        {/each}\n                    </table>\n                {/if}\n                {#if block.type === 'paragraph'}\n                    <p>{@html block.data.text}</p>\n                {/if}\n            {/each}\n        </div>\n    {/if}\n{/if}\n","/**\n * marked v4.3.0 - a markdown parser\n * Copyright (c) 2011-2023, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\nfunction getDefaults() {\n  return {\n    async: false,\n    baseUrl: null,\n    breaks: false,\n    extensions: null,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    hooks: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: null,\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartypants: false,\n    tokenizer: null,\n    walkTokens: null,\n    xhtml: false\n  };\n}\n\nlet defaults = getDefaults();\n\nfunction changeDefaults(newDefaults) {\n  defaults = newDefaults;\n}\n\n/**\n * Helpers\n */\nconst escapeTest = /[&<>\"']/;\nconst escapeReplace = new RegExp(escapeTest.source, 'g');\nconst escapeTestNoEncode = /[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/;\nconst escapeReplaceNoEncode = new RegExp(escapeTestNoEncode.source, 'g');\nconst escapeReplacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\nconst getEscapeReplacement = (ch) => escapeReplacements[ch];\nfunction escape(html, encode) {\n  if (encode) {\n    if (escapeTest.test(html)) {\n      return html.replace(escapeReplace, getEscapeReplacement);\n    }\n  } else {\n    if (escapeTestNoEncode.test(html)) {\n      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n    }\n  }\n\n  return html;\n}\n\nconst unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n\n/**\n * @param {string} html\n */\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(unescapeTest, (_, n) => {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nconst caret = /(^|[^\\[])\\^/g;\n\n/**\n * @param {string | RegExp} regex\n * @param {string} opt\n */\nfunction edit(regex, opt) {\n  regex = typeof regex === 'string' ? regex : regex.source;\n  opt = opt || '';\n  const obj = {\n    replace: (name, val) => {\n      val = val.source || val;\n      val = val.replace(caret, '$1');\n      regex = regex.replace(name, val);\n      return obj;\n    },\n    getRegex: () => {\n      return new RegExp(regex, opt);\n    }\n  };\n  return obj;\n}\n\nconst nonWordAndColonTest = /[^\\w:]/g;\nconst originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\n/**\n * @param {boolean} sanitize\n * @param {string} base\n * @param {string} href\n */\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    let prot;\n    try {\n      prot = decodeURIComponent(unescape(href))\n        .replace(nonWordAndColonTest, '')\n        .toLowerCase();\n    } catch (e) {\n      return null;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n  return href;\n}\n\nconst baseUrls = {};\nconst justDomain = /^[^:]+:\\/*[^/]*$/;\nconst protocol = /^([^:]+:)[\\s\\S]*$/;\nconst domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n\n/**\n * @param {string} base\n * @param {string} href\n */\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (justDomain.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n  base = baseUrls[' ' + base];\n  const relativeBase = base.indexOf(':') === -1;\n\n  if (href.substring(0, 2) === '//') {\n    if (relativeBase) {\n      return href;\n    }\n    return base.replace(protocol, '$1') + href;\n  } else if (href.charAt(0) === '/') {\n    if (relativeBase) {\n      return href;\n    }\n    return base.replace(domain, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\n\nconst noopTest = { exec: function noopTest() {} };\n\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  const row = tableRow.replace(/\\|/g, (match, offset, str) => {\n      let escaped = false,\n        curr = offset;\n      while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n    cells = row.split(/ \\|/);\n  let i = 0;\n\n  // First/last cell in a row cannot be empty if it has no leading/trailing pipe\n  if (!cells[0].trim()) { cells.shift(); }\n  if (cells.length > 0 && !cells[cells.length - 1].trim()) { cells.pop(); }\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) cells.push('');\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n  return cells;\n}\n\n/**\n * Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n * /c*$/ is vulnerable to REDOS.\n *\n * @param {string} str\n * @param {string} c\n * @param {boolean} invert Remove suffix of non-c chars instead. Default falsey.\n */\nfunction rtrim(str, c, invert) {\n  const l = str.length;\n  if (l === 0) {\n    return '';\n  }\n\n  // Length of suffix matching the invert condition.\n  let suffLen = 0;\n\n  // Step left until we fail to match the invert condition.\n  while (suffLen < l) {\n    const currChar = str.charAt(l - suffLen - 1);\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.slice(0, l - suffLen);\n}\n\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n  const l = str.length;\n  let level = 0,\n    i = 0;\n  for (; i < l; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n  return -1;\n}\n\nfunction checkSanitizeDeprecation(opt) {\n  if (opt && opt.sanitize && !opt.silent) {\n    console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n  }\n}\n\n// copied from https://stackoverflow.com/a/5450113/806777\n/**\n * @param {string} pattern\n * @param {number} count\n */\nfunction repeatString(pattern, count) {\n  if (count < 1) {\n    return '';\n  }\n  let result = '';\n  while (count > 1) {\n    if (count & 1) {\n      result += pattern;\n    }\n    count >>= 1;\n    pattern += pattern;\n  }\n  return result + pattern;\n}\n\nfunction outputLink(cap, link, raw, lexer) {\n  const href = link.href;\n  const title = link.title ? escape(link.title) : null;\n  const text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n\n  if (cap[0].charAt(0) !== '!') {\n    lexer.state.inLink = true;\n    const token = {\n      type: 'link',\n      raw,\n      href,\n      title,\n      text,\n      tokens: lexer.inlineTokens(text)\n    };\n    lexer.state.inLink = false;\n    return token;\n  }\n  return {\n    type: 'image',\n    raw,\n    href,\n    title,\n    text: escape(text)\n  };\n}\n\nfunction indentCodeCompensation(raw, text) {\n  const matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n\n  if (matchIndentToCode === null) {\n    return text;\n  }\n\n  const indentToCode = matchIndentToCode[1];\n\n  return text\n    .split('\\n')\n    .map(node => {\n      const matchIndentInNode = node.match(/^\\s+/);\n      if (matchIndentInNode === null) {\n        return node;\n      }\n\n      const [indentInNode] = matchIndentInNode;\n\n      if (indentInNode.length >= indentToCode.length) {\n        return node.slice(indentToCode.length);\n      }\n\n      return node;\n    })\n    .join('\\n');\n}\n\n/**\n * Tokenizer\n */\nclass Tokenizer {\n  constructor(options) {\n    this.options = options || defaults;\n  }\n\n  space(src) {\n    const cap = this.rules.block.newline.exec(src);\n    if (cap && cap[0].length > 0) {\n      return {\n        type: 'space',\n        raw: cap[0]\n      };\n    }\n  }\n\n  code(src) {\n    const cap = this.rules.block.code.exec(src);\n    if (cap) {\n      const text = cap[0].replace(/^ {1,4}/gm, '');\n      return {\n        type: 'code',\n        raw: cap[0],\n        codeBlockStyle: 'indented',\n        text: !this.options.pedantic\n          ? rtrim(text, '\\n')\n          : text\n      };\n    }\n  }\n\n  fences(src) {\n    const cap = this.rules.block.fences.exec(src);\n    if (cap) {\n      const raw = cap[0];\n      const text = indentCodeCompensation(raw, cap[3] || '');\n\n      return {\n        type: 'code',\n        raw,\n        lang: cap[2] ? cap[2].trim().replace(this.rules.inline._escapes, '$1') : cap[2],\n        text\n      };\n    }\n  }\n\n  heading(src) {\n    const cap = this.rules.block.heading.exec(src);\n    if (cap) {\n      let text = cap[2].trim();\n\n      // remove trailing #s\n      if (/#$/.test(text)) {\n        const trimmed = rtrim(text, '#');\n        if (this.options.pedantic) {\n          text = trimmed.trim();\n        } else if (!trimmed || / $/.test(trimmed)) {\n          // CommonMark requires space before trailing #s\n          text = trimmed.trim();\n        }\n      }\n\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[1].length,\n        text,\n        tokens: this.lexer.inline(text)\n      };\n    }\n  }\n\n  hr(src) {\n    const cap = this.rules.block.hr.exec(src);\n    if (cap) {\n      return {\n        type: 'hr',\n        raw: cap[0]\n      };\n    }\n  }\n\n  blockquote(src) {\n    const cap = this.rules.block.blockquote.exec(src);\n    if (cap) {\n      const text = cap[0].replace(/^ *>[ \\t]?/gm, '');\n      const top = this.lexer.state.top;\n      this.lexer.state.top = true;\n      const tokens = this.lexer.blockTokens(text);\n      this.lexer.state.top = top;\n      return {\n        type: 'blockquote',\n        raw: cap[0],\n        tokens,\n        text\n      };\n    }\n  }\n\n  list(src) {\n    let cap = this.rules.block.list.exec(src);\n    if (cap) {\n      let raw, istask, ischecked, indent, i, blankLine, endsWithBlankLine,\n        line, nextLine, rawLine, itemContents, endEarly;\n\n      let bull = cap[1].trim();\n      const isordered = bull.length > 1;\n\n      const list = {\n        type: 'list',\n        raw: '',\n        ordered: isordered,\n        start: isordered ? +bull.slice(0, -1) : '',\n        loose: false,\n        items: []\n      };\n\n      bull = isordered ? `\\\\d{1,9}\\\\${bull.slice(-1)}` : `\\\\${bull}`;\n\n      if (this.options.pedantic) {\n        bull = isordered ? bull : '[*+-]';\n      }\n\n      // Get next list item\n      const itemRegex = new RegExp(`^( {0,3}${bull})((?:[\\t ][^\\\\n]*)?(?:\\\\n|$))`);\n\n      // Check if current bullet point can start a new List Item\n      while (src) {\n        endEarly = false;\n        if (!(cap = itemRegex.exec(src))) {\n          break;\n        }\n\n        if (this.rules.block.hr.test(src)) { // End list if bullet was actually HR (possibly move into itemRegex?)\n          break;\n        }\n\n        raw = cap[0];\n        src = src.substring(raw.length);\n\n        line = cap[2].split('\\n', 1)[0].replace(/^\\t+/, (t) => ' '.repeat(3 * t.length));\n        nextLine = src.split('\\n', 1)[0];\n\n        if (this.options.pedantic) {\n          indent = 2;\n          itemContents = line.trimLeft();\n        } else {\n          indent = cap[2].search(/[^ ]/); // Find first non-space char\n          indent = indent > 4 ? 1 : indent; // Treat indented code blocks (> 4 spaces) as having only 1 indent\n          itemContents = line.slice(indent);\n          indent += cap[1].length;\n        }\n\n        blankLine = false;\n\n        if (!line && /^ *$/.test(nextLine)) { // Items begin with at most one blank line\n          raw += nextLine + '\\n';\n          src = src.substring(nextLine.length + 1);\n          endEarly = true;\n        }\n\n        if (!endEarly) {\n          const nextBulletRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}(?:[*+-]|\\\\d{1,9}[.)])((?:[ \\t][^\\\\n]*)?(?:\\\\n|$))`);\n          const hrRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$)`);\n          const fencesBeginRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}(?:\\`\\`\\`|~~~)`);\n          const headingBeginRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}#`);\n\n          // Check if following lines should be included in List Item\n          while (src) {\n            rawLine = src.split('\\n', 1)[0];\n            nextLine = rawLine;\n\n            // Re-align to follow commonmark nesting rules\n            if (this.options.pedantic) {\n              nextLine = nextLine.replace(/^ {1,4}(?=( {4})*[^ ])/g, '  ');\n            }\n\n            // End list item if found code fences\n            if (fencesBeginRegex.test(nextLine)) {\n              break;\n            }\n\n            // End list item if found start of new heading\n            if (headingBeginRegex.test(nextLine)) {\n              break;\n            }\n\n            // End list item if found start of new bullet\n            if (nextBulletRegex.test(nextLine)) {\n              break;\n            }\n\n            // Horizontal rule found\n            if (hrRegex.test(src)) {\n              break;\n            }\n\n            if (nextLine.search(/[^ ]/) >= indent || !nextLine.trim()) { // Dedent if possible\n              itemContents += '\\n' + nextLine.slice(indent);\n            } else {\n              // not enough indentation\n              if (blankLine) {\n                break;\n              }\n\n              // paragraph continuation unless last line was a different block level element\n              if (line.search(/[^ ]/) >= 4) { // indented code block\n                break;\n              }\n              if (fencesBeginRegex.test(line)) {\n                break;\n              }\n              if (headingBeginRegex.test(line)) {\n                break;\n              }\n              if (hrRegex.test(line)) {\n                break;\n              }\n\n              itemContents += '\\n' + nextLine;\n            }\n\n            if (!blankLine && !nextLine.trim()) { // Check if current line is blank\n              blankLine = true;\n            }\n\n            raw += rawLine + '\\n';\n            src = src.substring(rawLine.length + 1);\n            line = nextLine.slice(indent);\n          }\n        }\n\n        if (!list.loose) {\n          // If the previous item ended with a blank line, the list is loose\n          if (endsWithBlankLine) {\n            list.loose = true;\n          } else if (/\\n *\\n *$/.test(raw)) {\n            endsWithBlankLine = true;\n          }\n        }\n\n        // Check for task list items\n        if (this.options.gfm) {\n          istask = /^\\[[ xX]\\] /.exec(itemContents);\n          if (istask) {\n            ischecked = istask[0] !== '[ ] ';\n            itemContents = itemContents.replace(/^\\[[ xX]\\] +/, '');\n          }\n        }\n\n        list.items.push({\n          type: 'list_item',\n          raw,\n          task: !!istask,\n          checked: ischecked,\n          loose: false,\n          text: itemContents\n        });\n\n        list.raw += raw;\n      }\n\n      // Do not consume newlines at end of final item. Alternatively, make itemRegex *start* with any newlines to simplify/speed up endsWithBlankLine logic\n      list.items[list.items.length - 1].raw = raw.trimRight();\n      list.items[list.items.length - 1].text = itemContents.trimRight();\n      list.raw = list.raw.trimRight();\n\n      const l = list.items.length;\n\n      // Item child tokens handled here at end because we needed to have the final item to trim it first\n      for (i = 0; i < l; i++) {\n        this.lexer.state.top = false;\n        list.items[i].tokens = this.lexer.blockTokens(list.items[i].text, []);\n\n        if (!list.loose) {\n          // Check if list should be loose\n          const spacers = list.items[i].tokens.filter(t => t.type === 'space');\n          const hasMultipleLineBreaks = spacers.length > 0 && spacers.some(t => /\\n.*\\n/.test(t.raw));\n\n          list.loose = hasMultipleLineBreaks;\n        }\n      }\n\n      // Set all items to loose if list is loose\n      if (list.loose) {\n        for (i = 0; i < l; i++) {\n          list.items[i].loose = true;\n        }\n      }\n\n      return list;\n    }\n  }\n\n  html(src) {\n    const cap = this.rules.block.html.exec(src);\n    if (cap) {\n      const token = {\n        type: 'html',\n        raw: cap[0],\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      };\n      if (this.options.sanitize) {\n        const text = this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]);\n        token.type = 'paragraph';\n        token.text = text;\n        token.tokens = this.lexer.inline(text);\n      }\n      return token;\n    }\n  }\n\n  def(src) {\n    const cap = this.rules.block.def.exec(src);\n    if (cap) {\n      const tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      const href = cap[2] ? cap[2].replace(/^<(.*)>$/, '$1').replace(this.rules.inline._escapes, '$1') : '';\n      const title = cap[3] ? cap[3].substring(1, cap[3].length - 1).replace(this.rules.inline._escapes, '$1') : cap[3];\n      return {\n        type: 'def',\n        tag,\n        raw: cap[0],\n        href,\n        title\n      };\n    }\n  }\n\n  table(src) {\n    const cap = this.rules.block.table.exec(src);\n    if (cap) {\n      const item = {\n        type: 'table',\n        header: splitCells(cap[1]).map(c => { return { text: c }; }),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        rows: cap[3] && cap[3].trim() ? cap[3].replace(/\\n[ \\t]*$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        item.raw = cap[0];\n\n        let l = item.align.length;\n        let i, j, k, row;\n        for (i = 0; i < l; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        l = item.rows.length;\n        for (i = 0; i < l; i++) {\n          item.rows[i] = splitCells(item.rows[i], item.header.length).map(c => { return { text: c }; });\n        }\n\n        // parse child tokens inside headers and cells\n\n        // header child tokens\n        l = item.header.length;\n        for (j = 0; j < l; j++) {\n          item.header[j].tokens = this.lexer.inline(item.header[j].text);\n        }\n\n        // cell child tokens\n        l = item.rows.length;\n        for (j = 0; j < l; j++) {\n          row = item.rows[j];\n          for (k = 0; k < row.length; k++) {\n            row[k].tokens = this.lexer.inline(row[k].text);\n          }\n        }\n\n        return item;\n      }\n    }\n  }\n\n  lheading(src) {\n    const cap = this.rules.block.lheading.exec(src);\n    if (cap) {\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[2].charAt(0) === '=' ? 1 : 2,\n        text: cap[1],\n        tokens: this.lexer.inline(cap[1])\n      };\n    }\n  }\n\n  paragraph(src) {\n    const cap = this.rules.block.paragraph.exec(src);\n    if (cap) {\n      const text = cap[1].charAt(cap[1].length - 1) === '\\n'\n        ? cap[1].slice(0, -1)\n        : cap[1];\n      return {\n        type: 'paragraph',\n        raw: cap[0],\n        text,\n        tokens: this.lexer.inline(text)\n      };\n    }\n  }\n\n  text(src) {\n    const cap = this.rules.block.text.exec(src);\n    if (cap) {\n      return {\n        type: 'text',\n        raw: cap[0],\n        text: cap[0],\n        tokens: this.lexer.inline(cap[0])\n      };\n    }\n  }\n\n  escape(src) {\n    const cap = this.rules.inline.escape.exec(src);\n    if (cap) {\n      return {\n        type: 'escape',\n        raw: cap[0],\n        text: escape(cap[1])\n      };\n    }\n  }\n\n  tag(src) {\n    const cap = this.rules.inline.tag.exec(src);\n    if (cap) {\n      if (!this.lexer.state.inLink && /^<a /i.test(cap[0])) {\n        this.lexer.state.inLink = true;\n      } else if (this.lexer.state.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.lexer.state.inLink = false;\n      }\n      if (!this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.lexer.state.inRawBlock = true;\n      } else if (this.lexer.state.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.lexer.state.inRawBlock = false;\n      }\n\n      return {\n        type: this.options.sanitize\n          ? 'text'\n          : 'html',\n        raw: cap[0],\n        inLink: this.lexer.state.inLink,\n        inRawBlock: this.lexer.state.inRawBlock,\n        text: this.options.sanitize\n          ? (this.options.sanitizer\n            ? this.options.sanitizer(cap[0])\n            : escape(cap[0]))\n          : cap[0]\n      };\n    }\n  }\n\n  link(src) {\n    const cap = this.rules.inline.link.exec(src);\n    if (cap) {\n      const trimmedUrl = cap[2].trim();\n      if (!this.options.pedantic && /^</.test(trimmedUrl)) {\n        // commonmark requires matching angle brackets\n        if (!(/>$/.test(trimmedUrl))) {\n          return;\n        }\n\n        // ending angle bracket cannot be escaped\n        const rtrimSlash = rtrim(trimmedUrl.slice(0, -1), '\\\\');\n        if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\n          return;\n        }\n      } else {\n        // find closing parenthesis\n        const lastParenIndex = findClosingBracket(cap[2], '()');\n        if (lastParenIndex > -1) {\n          const start = cap[0].indexOf('!') === 0 ? 5 : 4;\n          const linkLen = start + cap[1].length + lastParenIndex;\n          cap[2] = cap[2].substring(0, lastParenIndex);\n          cap[0] = cap[0].substring(0, linkLen).trim();\n          cap[3] = '';\n        }\n      }\n      let href = cap[2];\n      let title = '';\n      if (this.options.pedantic) {\n        // split pedantic href and title\n        const link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n\n      href = href.trim();\n      if (/^</.test(href)) {\n        if (this.options.pedantic && !(/>$/.test(trimmedUrl))) {\n          // pedantic allows starting angle bracket without ending angle bracket\n          href = href.slice(1);\n        } else {\n          href = href.slice(1, -1);\n        }\n      }\n      return outputLink(cap, {\n        href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n        title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n      }, cap[0], this.lexer);\n    }\n  }\n\n  reflink(src, links) {\n    let cap;\n    if ((cap = this.rules.inline.reflink.exec(src))\n        || (cap = this.rules.inline.nolink.exec(src))) {\n      let link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = links[link.toLowerCase()];\n      if (!link) {\n        const text = cap[0].charAt(0);\n        return {\n          type: 'text',\n          raw: text,\n          text\n        };\n      }\n      return outputLink(cap, link, cap[0], this.lexer);\n    }\n  }\n\n  emStrong(src, maskedSrc, prevChar = '') {\n    let match = this.rules.inline.emStrong.lDelim.exec(src);\n    if (!match) return;\n\n    // _ can't be between two alphanumerics. \\p{L}\\p{N} includes non-english alphabet/numbers as well\n    if (match[3] && prevChar.match(/[\\p{L}\\p{N}]/u)) return;\n\n    const nextChar = match[1] || match[2] || '';\n\n    if (!nextChar || (nextChar && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar)))) {\n      const lLength = match[0].length - 1;\n      let rDelim, rLength, delimTotal = lLength, midDelimTotal = 0;\n\n      const endReg = match[0][0] === '*' ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;\n      endReg.lastIndex = 0;\n\n      // Clip maskedSrc to same section of string as src (move to lexer?)\n      maskedSrc = maskedSrc.slice(-1 * src.length + lLength);\n\n      while ((match = endReg.exec(maskedSrc)) != null) {\n        rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];\n\n        if (!rDelim) continue; // skip single * in __abc*abc__\n\n        rLength = rDelim.length;\n\n        if (match[3] || match[4]) { // found another Left Delim\n          delimTotal += rLength;\n          continue;\n        } else if (match[5] || match[6]) { // either Left or Right Delim\n          if (lLength % 3 && !((lLength + rLength) % 3)) {\n            midDelimTotal += rLength;\n            continue; // CommonMark Emphasis Rules 9-10\n          }\n        }\n\n        delimTotal -= rLength;\n\n        if (delimTotal > 0) continue; // Haven't found enough closing delimiters\n\n        // Remove extra characters. *a*** -> *a*\n        rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal);\n\n        const raw = src.slice(0, lLength + match.index + (match[0].length - rDelim.length) + rLength);\n\n        // Create `em` if smallest delimiter has odd char count. *a***\n        if (Math.min(lLength, rLength) % 2) {\n          const text = raw.slice(1, -1);\n          return {\n            type: 'em',\n            raw,\n            text,\n            tokens: this.lexer.inlineTokens(text)\n          };\n        }\n\n        // Create 'strong' if smallest delimiter has even char count. **a***\n        const text = raw.slice(2, -2);\n        return {\n          type: 'strong',\n          raw,\n          text,\n          tokens: this.lexer.inlineTokens(text)\n        };\n      }\n    }\n  }\n\n  codespan(src) {\n    const cap = this.rules.inline.code.exec(src);\n    if (cap) {\n      let text = cap[2].replace(/\\n/g, ' ');\n      const hasNonSpaceChars = /[^ ]/.test(text);\n      const hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);\n      if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n        text = text.substring(1, text.length - 1);\n      }\n      text = escape(text, true);\n      return {\n        type: 'codespan',\n        raw: cap[0],\n        text\n      };\n    }\n  }\n\n  br(src) {\n    const cap = this.rules.inline.br.exec(src);\n    if (cap) {\n      return {\n        type: 'br',\n        raw: cap[0]\n      };\n    }\n  }\n\n  del(src) {\n    const cap = this.rules.inline.del.exec(src);\n    if (cap) {\n      return {\n        type: 'del',\n        raw: cap[0],\n        text: cap[2],\n        tokens: this.lexer.inlineTokens(cap[2])\n      };\n    }\n  }\n\n  autolink(src, mangle) {\n    const cap = this.rules.inline.autolink.exec(src);\n    if (cap) {\n      let text, href;\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n\n      return {\n        type: 'link',\n        raw: cap[0],\n        text,\n        href,\n        tokens: [\n          {\n            type: 'text',\n            raw: text,\n            text\n          }\n        ]\n      };\n    }\n  }\n\n  url(src, mangle) {\n    let cap;\n    if (cap = this.rules.inline.url.exec(src)) {\n      let text, href;\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        // do extended autolink path validation\n        let prevCapZero;\n        do {\n          prevCapZero = cap[0];\n          cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n        } while (prevCapZero !== cap[0]);\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + cap[0];\n        } else {\n          href = cap[0];\n        }\n      }\n      return {\n        type: 'link',\n        raw: cap[0],\n        text,\n        href,\n        tokens: [\n          {\n            type: 'text',\n            raw: text,\n            text\n          }\n        ]\n      };\n    }\n  }\n\n  inlineText(src, smartypants) {\n    const cap = this.rules.inline.text.exec(src);\n    if (cap) {\n      let text;\n      if (this.lexer.state.inRawBlock) {\n        text = this.options.sanitize ? (this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0])) : cap[0];\n      } else {\n        text = escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n      }\n      return {\n        type: 'text',\n        raw: cap[0],\n        text\n      };\n    }\n  }\n}\n\n/**\n * Block-Level Grammar\n */\nconst block = {\n  newline: /^(?: *(?:\\n|$))+/,\n  code: /^( {4}[^\\n]+(?:\\n(?: *(?:\\n|$))*)?)+/,\n  fences: /^ {0,3}(`{3,}(?=[^`\\n]*(?:\\n|$))|~{3,})([^\\n]*)(?:\\n|$)(?:|([\\s\\S]*?)(?:\\n|$))(?: {0,3}\\1[~`]* *(?=\\n|$)|$)/,\n  hr: /^ {0,3}((?:-[\\t ]*){3,}|(?:_[ \\t]*){3,}|(?:\\*[ \\t]*){3,})(?:\\n+|$)/,\n  heading: /^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3}bull)([ \\t][^\\n]+?)?(?:\\n|$)/,\n  html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (6)\n    + '|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) open tag\n    + '|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) closing tag\n    + ')',\n  def: /^ {0,3}\\[(label)\\]: *(?:\\n *)?([^<\\s][^\\s]*|<.*?>)(?:(?: +(?:\\n *)?| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noopTest,\n  lheading: /^((?:.|\\n(?!\\n))+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n  // regex template, placeholders will be replaced according to different paragraph\n  // interruption rules of commonmark and the original markdown spec:\n  _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\\n)[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?!\\s*\\])(?:\\\\.|[^\\[\\]\\\\])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d{1,9}[.)])/;\nblock.listItemStart = edit(/^( *)(bull) */)\n  .replace('bull', block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n  + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n  + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n  + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n  + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n  + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?(?:-->|$)/;\nblock.html = edit(block.html, 'i')\n  .replace('comment', block._comment)\n  .replace('tag', block._tag)\n  .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n  .getRegex();\n\nblock.paragraph = edit(block._paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} ')\n  .replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('|table', '')\n  .replace('blockquote', ' {0,3}>')\n  .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)')\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = { ...block };\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = {\n  ...block.normal,\n  table: '^ *([^\\\\n ].*\\\\|.*)\\\\n' // Header\n    + ' {0,3}(?:\\\\| *)?(:?-+:? *(?:\\\\| *:?-+:? *)*)(?:\\\\| *)?' // Align\n    + '(?:\\\\n((?:(?! *\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n};\n\nblock.gfm.table = edit(block.gfm.table)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} ')\n  .replace('blockquote', ' {0,3}>')\n  .replace('code', ' {4}[^\\\\n]')\n  .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)')\n  .replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.gfm.paragraph = edit(block._paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} ')\n  .replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('table', block.gfm.table) // interrupt paragraphs with table\n  .replace('blockquote', ' {0,3}>')\n  .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)')\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n/**\n * Pedantic grammar (original John Gruber's loose markdown specification)\n */\n\nblock.pedantic = {\n  ...block.normal,\n  html: edit(\n    '^ *(?:comment *(?:\\\\n|\\\\s*$)'\n    + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n    .replace('comment', block._comment)\n    .replace(/tag/g, '(?!(?:'\n      + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n      + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n      + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n    .getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n  heading: /^(#{1,6})(.*)(?:\\n+|$)/,\n  fences: noopTest, // fences not supported\n  lheading: /^(.+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n  paragraph: edit(block.normal._paragraph)\n    .replace('hr', block.hr)\n    .replace('heading', ' *#{1,6} *[^\\n]')\n    .replace('lheading', block.lheading)\n    .replace('blockquote', ' {0,3}>')\n    .replace('|fences', '')\n    .replace('|list', '')\n    .replace('|html', '')\n    .getRegex()\n};\n\n/**\n * Inline-Level Grammar\n */\nconst inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noopTest,\n  tag: '^comment'\n    + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n  link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(ref)\\]/,\n  nolink: /^!?\\[(ref)\\](?:\\[\\])?/,\n  reflinkSearch: 'reflink|nolink(?!\\\\()',\n  emStrong: {\n    lDelim: /^(?:\\*+(?:([punct_])|[^\\s*]))|^_+(?:([punct*])|([^\\s_]))/,\n    //        (1) and (2) can only be a Right Delimiter. (3) and (4) can only be Left.  (5) and (6) can be either Left or Right.\n    //          () Skip orphan inside strong                                      () Consume to delim     (1) #***                (2) a***#, a***                             (3) #***a, ***a                 (4) ***#              (5) #***#                 (6) a***a\n    rDelimAst: /^(?:[^_*\\\\]|\\\\.)*?\\_\\_(?:[^_*\\\\]|\\\\.)*?\\*(?:[^_*\\\\]|\\\\.)*?(?=\\_\\_)|(?:[^*\\\\]|\\\\.)+(?=[^*])|[punct_](\\*+)(?=[\\s]|$)|(?:[^punct*_\\s\\\\]|\\\\.)(\\*+)(?=[punct_\\s]|$)|[punct_\\s](\\*+)(?=[^punct*_\\s])|[\\s](\\*+)(?=[punct_])|[punct_](\\*+)(?=[punct_])|(?:[^punct*_\\s\\\\]|\\\\.)(\\*+)(?=[^punct*_\\s])/,\n    rDelimUnd: /^(?:[^_*\\\\]|\\\\.)*?\\*\\*(?:[^_*\\\\]|\\\\.)*?\\_(?:[^_*\\\\]|\\\\.)*?(?=\\*\\*)|(?:[^_\\\\]|\\\\.)+(?=[^_])|[punct*](\\_+)(?=[\\s]|$)|(?:[^punct*_\\s\\\\]|\\\\.)(\\_+)(?=[punct*\\s]|$)|[punct*\\s](\\_+)(?=[^punct*_\\s])|[\\s](\\_+)(?=[punct*])|[punct*](\\_+)(?=[punct*])/ // ^- Not allowed for _\n  },\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noopTest,\n  text: /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,\n  punctuation: /^([\\spunctuation])/\n};\n\n// list of punctuation marks from CommonMark spec\n// without * and _ to handle the different emphasis markers * and _\ninline._punctuation = '!\"#$%&\\'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~';\ninline.punctuation = edit(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex();\n\n// sequences em should skip over [title](link), `code`, <html>\ninline.blockSkip = /\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>/g;\n// lookbehind is not available on Safari as of version 16\n// inline.escapedEmSt = /(?<=(?:^|[^\\\\)(?:\\\\[^])*)\\\\[*_]/g;\ninline.escapedEmSt = /(?:^|[^\\\\])(?:\\\\\\\\)*\\\\[*_]/g;\n\ninline._comment = edit(block._comment).replace('(?:-->|$)', '-->').getRegex();\n\ninline.emStrong.lDelim = edit(inline.emStrong.lDelim)\n  .replace(/punct/g, inline._punctuation)\n  .getRegex();\n\ninline.emStrong.rDelimAst = edit(inline.emStrong.rDelimAst, 'g')\n  .replace(/punct/g, inline._punctuation)\n  .getRegex();\n\ninline.emStrong.rDelimUnd = edit(inline.emStrong.rDelimUnd, 'g')\n  .replace(/punct/g, inline._punctuation)\n  .getRegex();\n\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex();\n\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n\ninline.tag = edit(inline.tag)\n  .replace('comment', inline._comment)\n  .replace('attribute', inline._attribute)\n  .getRegex();\n\ninline._label = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\ninline._href = /<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n\ninline.link = edit(inline.link)\n  .replace('label', inline._label)\n  .replace('href', inline._href)\n  .replace('title', inline._title)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('label', inline._label)\n  .replace('ref', block._label)\n  .getRegex();\n\ninline.nolink = edit(inline.nolink)\n  .replace('ref', block._label)\n  .getRegex();\n\ninline.reflinkSearch = edit(inline.reflinkSearch, 'g')\n  .replace('reflink', inline.reflink)\n  .replace('nolink', inline.nolink)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = { ...inline };\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = {\n  ...inline.normal,\n  strong: {\n    start: /^__|\\*\\*/,\n    middle: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n    endAst: /\\*\\*(?!\\*)/g,\n    endUnd: /__(?!_)/g\n  },\n  em: {\n    start: /^_|\\*/,\n    middle: /^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,\n    endAst: /\\*(?!\\*)/g,\n    endUnd: /_(?!_)/g\n  },\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n    .replace('label', inline._label)\n    .getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n    .replace('label', inline._label)\n    .getRegex()\n};\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = {\n  ...inline.normal,\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_'\"~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'\"~)]+(?!$))+/,\n  del: /^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,\n  text: /^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/\n};\n\ninline.gfm.url = edit(inline.gfm.url, 'i')\n  .replace('email', inline.gfm._extended_email)\n  .getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = {\n  ...inline.gfm,\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text)\n    .replace('\\\\b_', '\\\\b_| {2,}\\\\n')\n    .replace(/\\{2,\\}/g, '*')\n    .getRegex()\n};\n\n/**\n * smartypants text replacement\n * @param {string} text\n */\nfunction smartypants(text) {\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n}\n\n/**\n * mangle email addresses\n * @param {string} text\n */\nfunction mangle(text) {\n  let out = '',\n    i,\n    ch;\n\n  const l = text.length;\n  for (i = 0; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n}\n\n/**\n * Block Lexer\n */\nclass Lexer {\n  constructor(options) {\n    this.tokens = [];\n    this.tokens.links = Object.create(null);\n    this.options = options || defaults;\n    this.options.tokenizer = this.options.tokenizer || new Tokenizer();\n    this.tokenizer = this.options.tokenizer;\n    this.tokenizer.options = this.options;\n    this.tokenizer.lexer = this;\n    this.inlineQueue = [];\n    this.state = {\n      inLink: false,\n      inRawBlock: false,\n      top: true\n    };\n\n    const rules = {\n      block: block.normal,\n      inline: inline.normal\n    };\n\n    if (this.options.pedantic) {\n      rules.block = block.pedantic;\n      rules.inline = inline.pedantic;\n    } else if (this.options.gfm) {\n      rules.block = block.gfm;\n      if (this.options.breaks) {\n        rules.inline = inline.breaks;\n      } else {\n        rules.inline = inline.gfm;\n      }\n    }\n    this.tokenizer.rules = rules;\n  }\n\n  /**\n   * Expose Rules\n   */\n  static get rules() {\n    return {\n      block,\n      inline\n    };\n  }\n\n  /**\n   * Static Lex Method\n   */\n  static lex(src, options) {\n    const lexer = new Lexer(options);\n    return lexer.lex(src);\n  }\n\n  /**\n   * Static Lex Inline Method\n   */\n  static lexInline(src, options) {\n    const lexer = new Lexer(options);\n    return lexer.inlineTokens(src);\n  }\n\n  /**\n   * Preprocessing\n   */\n  lex(src) {\n    src = src\n      .replace(/\\r\\n|\\r/g, '\\n');\n\n    this.blockTokens(src, this.tokens);\n\n    let next;\n    while (next = this.inlineQueue.shift()) {\n      this.inlineTokens(next.src, next.tokens);\n    }\n\n    return this.tokens;\n  }\n\n  /**\n   * Lexing\n   */\n  blockTokens(src, tokens = []) {\n    if (this.options.pedantic) {\n      src = src.replace(/\\t/g, '    ').replace(/^ +$/gm, '');\n    } else {\n      src = src.replace(/^( *)(\\t+)/gm, (_, leading, tabs) => {\n        return leading + '    '.repeat(tabs.length);\n      });\n    }\n\n    let token, lastToken, cutSrc, lastParagraphClipped;\n\n    while (src) {\n      if (this.options.extensions\n        && this.options.extensions.block\n        && this.options.extensions.block.some((extTokenizer) => {\n          if (token = extTokenizer.call({ lexer: this }, src, tokens)) {\n            src = src.substring(token.raw.length);\n            tokens.push(token);\n            return true;\n          }\n          return false;\n        })) {\n        continue;\n      }\n\n      // newline\n      if (token = this.tokenizer.space(src)) {\n        src = src.substring(token.raw.length);\n        if (token.raw.length === 1 && tokens.length > 0) {\n          // if there's a single \\n as a spacer, it's terminating the last line,\n          // so move it there so that we don't get unecessary paragraph tags\n          tokens[tokens.length - 1].raw += '\\n';\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      // code\n      if (token = this.tokenizer.code(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        // An indented code block cannot interrupt a paragraph.\n        if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      // fences\n      if (token = this.tokenizer.fences(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // heading\n      if (token = this.tokenizer.heading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // hr\n      if (token = this.tokenizer.hr(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // blockquote\n      if (token = this.tokenizer.blockquote(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // list\n      if (token = this.tokenizer.list(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // html\n      if (token = this.tokenizer.html(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // def\n      if (token = this.tokenizer.def(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.raw;\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else if (!this.tokens.links[token.tag]) {\n          this.tokens.links[token.tag] = {\n            href: token.href,\n            title: token.title\n          };\n        }\n        continue;\n      }\n\n      // table (gfm)\n      if (token = this.tokenizer.table(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // lheading\n      if (token = this.tokenizer.lheading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // top-level paragraph\n      // prevent paragraph consuming extensions by clipping 'src' to extension start\n      cutSrc = src;\n      if (this.options.extensions && this.options.extensions.startBlock) {\n        let startIndex = Infinity;\n        const tempSrc = src.slice(1);\n        let tempStart;\n        this.options.extensions.startBlock.forEach(function(getStartIndex) {\n          tempStart = getStartIndex.call({ lexer: this }, tempSrc);\n          if (typeof tempStart === 'number' && tempStart >= 0) { startIndex = Math.min(startIndex, tempStart); }\n        });\n        if (startIndex < Infinity && startIndex >= 0) {\n          cutSrc = src.substring(0, startIndex + 1);\n        }\n      }\n      if (this.state.top && (token = this.tokenizer.paragraph(cutSrc))) {\n        lastToken = tokens[tokens.length - 1];\n        if (lastParagraphClipped && lastToken.type === 'paragraph') {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue.pop();\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n        lastParagraphClipped = (cutSrc.length !== src.length);\n        src = src.substring(token.raw.length);\n        continue;\n      }\n\n      // text\n      if (token = this.tokenizer.text(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && lastToken.type === 'text') {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue.pop();\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      if (src) {\n        const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    this.state.top = true;\n    return tokens;\n  }\n\n  inline(src, tokens = []) {\n    this.inlineQueue.push({ src, tokens });\n    return tokens;\n  }\n\n  /**\n   * Lexing/Compiling\n   */\n  inlineTokens(src, tokens = []) {\n    let token, lastToken, cutSrc;\n\n    // String with links masked to avoid interference with em and strong\n    let maskedSrc = src;\n    let match;\n    let keepPrevChar, prevChar;\n\n    // Mask out reflinks\n    if (this.tokens.links) {\n      const links = Object.keys(this.tokens.links);\n      if (links.length > 0) {\n        while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n          if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n            maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n          }\n        }\n      }\n    }\n    // Mask out other blocks\n    while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n      maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n    }\n\n    // Mask out escaped em & strong delimiters\n    while ((match = this.tokenizer.rules.inline.escapedEmSt.exec(maskedSrc)) != null) {\n      maskedSrc = maskedSrc.slice(0, match.index + match[0].length - 2) + '++' + maskedSrc.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);\n      this.tokenizer.rules.inline.escapedEmSt.lastIndex--;\n    }\n\n    while (src) {\n      if (!keepPrevChar) {\n        prevChar = '';\n      }\n      keepPrevChar = false;\n\n      // extensions\n      if (this.options.extensions\n        && this.options.extensions.inline\n        && this.options.extensions.inline.some((extTokenizer) => {\n          if (token = extTokenizer.call({ lexer: this }, src, tokens)) {\n            src = src.substring(token.raw.length);\n            tokens.push(token);\n            return true;\n          }\n          return false;\n        })) {\n        continue;\n      }\n\n      // escape\n      if (token = this.tokenizer.escape(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // tag\n      if (token = this.tokenizer.tag(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      // link\n      if (token = this.tokenizer.link(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // reflink, nolink\n      if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      // em & strong\n      if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // code\n      if (token = this.tokenizer.codespan(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // br\n      if (token = this.tokenizer.br(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // del (gfm)\n      if (token = this.tokenizer.del(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // autolink\n      if (token = this.tokenizer.autolink(src, mangle)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // url (gfm)\n      if (!this.state.inLink && (token = this.tokenizer.url(src, mangle))) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // text\n      // prevent inlineText consuming extensions by clipping 'src' to extension start\n      cutSrc = src;\n      if (this.options.extensions && this.options.extensions.startInline) {\n        let startIndex = Infinity;\n        const tempSrc = src.slice(1);\n        let tempStart;\n        this.options.extensions.startInline.forEach(function(getStartIndex) {\n          tempStart = getStartIndex.call({ lexer: this }, tempSrc);\n          if (typeof tempStart === 'number' && tempStart >= 0) { startIndex = Math.min(startIndex, tempStart); }\n        });\n        if (startIndex < Infinity && startIndex >= 0) {\n          cutSrc = src.substring(0, startIndex + 1);\n        }\n      }\n      if (token = this.tokenizer.inlineText(cutSrc, smartypants)) {\n        src = src.substring(token.raw.length);\n        if (token.raw.slice(-1) !== '_') { // Track prevChar before string of ____ started\n          prevChar = token.raw.slice(-1);\n        }\n        keepPrevChar = true;\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      if (src) {\n        const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    return tokens;\n  }\n}\n\n/**\n * Renderer\n */\nclass Renderer {\n  constructor(options) {\n    this.options = options || defaults;\n  }\n\n  code(code, infostring, escaped) {\n    const lang = (infostring || '').match(/\\S*/)[0];\n    if (this.options.highlight) {\n      const out = this.options.highlight(code, lang);\n      if (out != null && out !== code) {\n        escaped = true;\n        code = out;\n      }\n    }\n\n    code = code.replace(/\\n$/, '') + '\\n';\n\n    if (!lang) {\n      return '<pre><code>'\n        + (escaped ? code : escape(code, true))\n        + '</code></pre>\\n';\n    }\n\n    return '<pre><code class=\"'\n      + this.options.langPrefix\n      + escape(lang)\n      + '\">'\n      + (escaped ? code : escape(code, true))\n      + '</code></pre>\\n';\n  }\n\n  /**\n   * @param {string} quote\n   */\n  blockquote(quote) {\n    return `<blockquote>\\n${quote}</blockquote>\\n`;\n  }\n\n  html(html) {\n    return html;\n  }\n\n  /**\n   * @param {string} text\n   * @param {string} level\n   * @param {string} raw\n   * @param {any} slugger\n   */\n  heading(text, level, raw, slugger) {\n    if (this.options.headerIds) {\n      const id = this.options.headerPrefix + slugger.slug(raw);\n      return `<h${level} id=\"${id}\">${text}</h${level}>\\n`;\n    }\n\n    // ignore IDs\n    return `<h${level}>${text}</h${level}>\\n`;\n  }\n\n  hr() {\n    return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n  }\n\n  list(body, ordered, start) {\n    const type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n    return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n  }\n\n  /**\n   * @param {string} text\n   */\n  listitem(text) {\n    return `<li>${text}</li>\\n`;\n  }\n\n  checkbox(checked) {\n    return '<input '\n      + (checked ? 'checked=\"\" ' : '')\n      + 'disabled=\"\" type=\"checkbox\"'\n      + (this.options.xhtml ? ' /' : '')\n      + '> ';\n  }\n\n  /**\n   * @param {string} text\n   */\n  paragraph(text) {\n    return `<p>${text}</p>\\n`;\n  }\n\n  /**\n   * @param {string} header\n   * @param {string} body\n   */\n  table(header, body) {\n    if (body) body = `<tbody>${body}</tbody>`;\n\n    return '<table>\\n'\n      + '<thead>\\n'\n      + header\n      + '</thead>\\n'\n      + body\n      + '</table>\\n';\n  }\n\n  /**\n   * @param {string} content\n   */\n  tablerow(content) {\n    return `<tr>\\n${content}</tr>\\n`;\n  }\n\n  tablecell(content, flags) {\n    const type = flags.header ? 'th' : 'td';\n    const tag = flags.align\n      ? `<${type} align=\"${flags.align}\">`\n      : `<${type}>`;\n    return tag + content + `</${type}>\\n`;\n  }\n\n  /**\n   * span level renderer\n   * @param {string} text\n   */\n  strong(text) {\n    return `<strong>${text}</strong>`;\n  }\n\n  /**\n   * @param {string} text\n   */\n  em(text) {\n    return `<em>${text}</em>`;\n  }\n\n  /**\n   * @param {string} text\n   */\n  codespan(text) {\n    return `<code>${text}</code>`;\n  }\n\n  br() {\n    return this.options.xhtml ? '<br/>' : '<br>';\n  }\n\n  /**\n   * @param {string} text\n   */\n  del(text) {\n    return `<del>${text}</del>`;\n  }\n\n  /**\n   * @param {string} href\n   * @param {string} title\n   * @param {string} text\n   */\n  link(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n    if (href === null) {\n      return text;\n    }\n    let out = '<a href=\"' + href + '\"';\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n    out += '>' + text + '</a>';\n    return out;\n  }\n\n  /**\n   * @param {string} href\n   * @param {string} title\n   * @param {string} text\n   */\n  image(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n    if (href === null) {\n      return text;\n    }\n\n    let out = `<img src=\"${href}\" alt=\"${text}\"`;\n    if (title) {\n      out += ` title=\"${title}\"`;\n    }\n    out += this.options.xhtml ? '/>' : '>';\n    return out;\n  }\n\n  text(text) {\n    return text;\n  }\n}\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\nclass TextRenderer {\n  // no need for block level renderers\n  strong(text) {\n    return text;\n  }\n\n  em(text) {\n    return text;\n  }\n\n  codespan(text) {\n    return text;\n  }\n\n  del(text) {\n    return text;\n  }\n\n  html(text) {\n    return text;\n  }\n\n  text(text) {\n    return text;\n  }\n\n  link(href, title, text) {\n    return '' + text;\n  }\n\n  image(href, title, text) {\n    return '' + text;\n  }\n\n  br() {\n    return '';\n  }\n}\n\n/**\n * Slugger generates header id\n */\nclass Slugger {\n  constructor() {\n    this.seen = {};\n  }\n\n  /**\n   * @param {string} value\n   */\n  serialize(value) {\n    return value\n      .toLowerCase()\n      .trim()\n      // remove html tags\n      .replace(/<[!\\/a-z].*?>/ig, '')\n      // remove unwanted chars\n      .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '')\n      .replace(/\\s/g, '-');\n  }\n\n  /**\n   * Finds the next safe (unique) slug to use\n   * @param {string} originalSlug\n   * @param {boolean} isDryRun\n   */\n  getNextSafeSlug(originalSlug, isDryRun) {\n    let slug = originalSlug;\n    let occurenceAccumulator = 0;\n    if (this.seen.hasOwnProperty(slug)) {\n      occurenceAccumulator = this.seen[originalSlug];\n      do {\n        occurenceAccumulator++;\n        slug = originalSlug + '-' + occurenceAccumulator;\n      } while (this.seen.hasOwnProperty(slug));\n    }\n    if (!isDryRun) {\n      this.seen[originalSlug] = occurenceAccumulator;\n      this.seen[slug] = 0;\n    }\n    return slug;\n  }\n\n  /**\n   * Convert string to unique id\n   * @param {object} [options]\n   * @param {boolean} [options.dryrun] Generates the next unique slug without\n   * updating the internal accumulator.\n   */\n  slug(value, options = {}) {\n    const slug = this.serialize(value);\n    return this.getNextSafeSlug(slug, options.dryrun);\n  }\n}\n\n/**\n * Parsing & Compiling\n */\nclass Parser {\n  constructor(options) {\n    this.options = options || defaults;\n    this.options.renderer = this.options.renderer || new Renderer();\n    this.renderer = this.options.renderer;\n    this.renderer.options = this.options;\n    this.textRenderer = new TextRenderer();\n    this.slugger = new Slugger();\n  }\n\n  /**\n   * Static Parse Method\n   */\n  static parse(tokens, options) {\n    const parser = new Parser(options);\n    return parser.parse(tokens);\n  }\n\n  /**\n   * Static Parse Inline Method\n   */\n  static parseInline(tokens, options) {\n    const parser = new Parser(options);\n    return parser.parseInline(tokens);\n  }\n\n  /**\n   * Parse Loop\n   */\n  parse(tokens, top = true) {\n    let out = '',\n      i,\n      j,\n      k,\n      l2,\n      l3,\n      row,\n      cell,\n      header,\n      body,\n      token,\n      ordered,\n      start,\n      loose,\n      itemBody,\n      item,\n      checked,\n      task,\n      checkbox,\n      ret;\n\n    const l = tokens.length;\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n\n      // Run any renderer extensions\n      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n        ret = this.options.extensions.renderers[token.type].call({ parser: this }, token);\n        if (ret !== false || !['space', 'hr', 'heading', 'code', 'table', 'blockquote', 'list', 'html', 'paragraph', 'text'].includes(token.type)) {\n          out += ret || '';\n          continue;\n        }\n      }\n\n      switch (token.type) {\n        case 'space': {\n          continue;\n        }\n        case 'hr': {\n          out += this.renderer.hr();\n          continue;\n        }\n        case 'heading': {\n          out += this.renderer.heading(\n            this.parseInline(token.tokens),\n            token.depth,\n            unescape(this.parseInline(token.tokens, this.textRenderer)),\n            this.slugger);\n          continue;\n        }\n        case 'code': {\n          out += this.renderer.code(token.text,\n            token.lang,\n            token.escaped);\n          continue;\n        }\n        case 'table': {\n          header = '';\n\n          // header\n          cell = '';\n          l2 = token.header.length;\n          for (j = 0; j < l2; j++) {\n            cell += this.renderer.tablecell(\n              this.parseInline(token.header[j].tokens),\n              { header: true, align: token.align[j] }\n            );\n          }\n          header += this.renderer.tablerow(cell);\n\n          body = '';\n          l2 = token.rows.length;\n          for (j = 0; j < l2; j++) {\n            row = token.rows[j];\n\n            cell = '';\n            l3 = row.length;\n            for (k = 0; k < l3; k++) {\n              cell += this.renderer.tablecell(\n                this.parseInline(row[k].tokens),\n                { header: false, align: token.align[k] }\n              );\n            }\n\n            body += this.renderer.tablerow(cell);\n          }\n          out += this.renderer.table(header, body);\n          continue;\n        }\n        case 'blockquote': {\n          body = this.parse(token.tokens);\n          out += this.renderer.blockquote(body);\n          continue;\n        }\n        case 'list': {\n          ordered = token.ordered;\n          start = token.start;\n          loose = token.loose;\n          l2 = token.items.length;\n\n          body = '';\n          for (j = 0; j < l2; j++) {\n            item = token.items[j];\n            checked = item.checked;\n            task = item.task;\n\n            itemBody = '';\n            if (item.task) {\n              checkbox = this.renderer.checkbox(checked);\n              if (loose) {\n                if (item.tokens.length > 0 && item.tokens[0].type === 'paragraph') {\n                  item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n                  if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                    item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                  }\n                } else {\n                  item.tokens.unshift({\n                    type: 'text',\n                    text: checkbox\n                  });\n                }\n              } else {\n                itemBody += checkbox;\n              }\n            }\n\n            itemBody += this.parse(item.tokens, loose);\n            body += this.renderer.listitem(itemBody, task, checked);\n          }\n\n          out += this.renderer.list(body, ordered, start);\n          continue;\n        }\n        case 'html': {\n          // TODO parse inline content if parameter markdown=1\n          out += this.renderer.html(token.text);\n          continue;\n        }\n        case 'paragraph': {\n          out += this.renderer.paragraph(this.parseInline(token.tokens));\n          continue;\n        }\n        case 'text': {\n          body = token.tokens ? this.parseInline(token.tokens) : token.text;\n          while (i + 1 < l && tokens[i + 1].type === 'text') {\n            token = tokens[++i];\n            body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n          }\n          out += top ? this.renderer.paragraph(body) : body;\n          continue;\n        }\n\n        default: {\n          const errMsg = 'Token with \"' + token.type + '\" type was not found.';\n          if (this.options.silent) {\n            console.error(errMsg);\n            return;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n    }\n\n    return out;\n  }\n\n  /**\n   * Parse Inline Tokens\n   */\n  parseInline(tokens, renderer) {\n    renderer = renderer || this.renderer;\n    let out = '',\n      i,\n      token,\n      ret;\n\n    const l = tokens.length;\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n\n      // Run any renderer extensions\n      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n        ret = this.options.extensions.renderers[token.type].call({ parser: this }, token);\n        if (ret !== false || !['escape', 'html', 'link', 'image', 'strong', 'em', 'codespan', 'br', 'del', 'text'].includes(token.type)) {\n          out += ret || '';\n          continue;\n        }\n      }\n\n      switch (token.type) {\n        case 'escape': {\n          out += renderer.text(token.text);\n          break;\n        }\n        case 'html': {\n          out += renderer.html(token.text);\n          break;\n        }\n        case 'link': {\n          out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'image': {\n          out += renderer.image(token.href, token.title, token.text);\n          break;\n        }\n        case 'strong': {\n          out += renderer.strong(this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'em': {\n          out += renderer.em(this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'codespan': {\n          out += renderer.codespan(token.text);\n          break;\n        }\n        case 'br': {\n          out += renderer.br();\n          break;\n        }\n        case 'del': {\n          out += renderer.del(this.parseInline(token.tokens, renderer));\n          break;\n        }\n        case 'text': {\n          out += renderer.text(token.text);\n          break;\n        }\n        default: {\n          const errMsg = 'Token with \"' + token.type + '\" type was not found.';\n          if (this.options.silent) {\n            console.error(errMsg);\n            return;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n    }\n    return out;\n  }\n}\n\nclass Hooks {\n  constructor(options) {\n    this.options = options || defaults;\n  }\n\n  static passThroughHooks = new Set([\n    'preprocess',\n    'postprocess'\n  ]);\n\n  /**\n   * Process markdown before marked\n   */\n  preprocess(markdown) {\n    return markdown;\n  }\n\n  /**\n   * Process HTML after marked is finished\n   */\n  postprocess(html) {\n    return html;\n  }\n}\n\nfunction onError(silent, async, callback) {\n  return (e) => {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n    if (silent) {\n      const msg = '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n      if (async) {\n        return Promise.resolve(msg);\n      }\n      if (callback) {\n        callback(null, msg);\n        return;\n      }\n      return msg;\n    }\n\n    if (async) {\n      return Promise.reject(e);\n    }\n    if (callback) {\n      callback(e);\n      return;\n    }\n    throw e;\n  };\n}\n\nfunction parseMarkdown(lexer, parser) {\n  return (src, opt, callback) => {\n    if (typeof opt === 'function') {\n      callback = opt;\n      opt = null;\n    }\n\n    const origOpt = { ...opt };\n    opt = { ...marked.defaults, ...origOpt };\n    const throwError = onError(opt.silent, opt.async, callback);\n\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      return throwError(new Error('marked(): input parameter is undefined or null'));\n    }\n    if (typeof src !== 'string') {\n      return throwError(new Error('marked(): input parameter is of type '\n        + Object.prototype.toString.call(src) + ', string expected'));\n    }\n\n    checkSanitizeDeprecation(opt);\n\n    if (opt.hooks) {\n      opt.hooks.options = opt;\n    }\n\n    if (callback) {\n      const highlight = opt.highlight;\n      let tokens;\n\n      try {\n        if (opt.hooks) {\n          src = opt.hooks.preprocess(src);\n        }\n        tokens = lexer(src, opt);\n      } catch (e) {\n        return throwError(e);\n      }\n\n      const done = function(err) {\n        let out;\n\n        if (!err) {\n          try {\n            if (opt.walkTokens) {\n              marked.walkTokens(tokens, opt.walkTokens);\n            }\n            out = parser(tokens, opt);\n            if (opt.hooks) {\n              out = opt.hooks.postprocess(out);\n            }\n          } catch (e) {\n            err = e;\n          }\n        }\n\n        opt.highlight = highlight;\n\n        return err\n          ? throwError(err)\n          : callback(null, out);\n      };\n\n      if (!highlight || highlight.length < 3) {\n        return done();\n      }\n\n      delete opt.highlight;\n\n      if (!tokens.length) return done();\n\n      let pending = 0;\n      marked.walkTokens(tokens, function(token) {\n        if (token.type === 'code') {\n          pending++;\n          setTimeout(() => {\n            highlight(token.text, token.lang, function(err, code) {\n              if (err) {\n                return done(err);\n              }\n              if (code != null && code !== token.text) {\n                token.text = code;\n                token.escaped = true;\n              }\n\n              pending--;\n              if (pending === 0) {\n                done();\n              }\n            });\n          }, 0);\n        }\n      });\n\n      if (pending === 0) {\n        done();\n      }\n\n      return;\n    }\n\n    if (opt.async) {\n      return Promise.resolve(opt.hooks ? opt.hooks.preprocess(src) : src)\n        .then(src => lexer(src, opt))\n        .then(tokens => opt.walkTokens ? Promise.all(marked.walkTokens(tokens, opt.walkTokens)).then(() => tokens) : tokens)\n        .then(tokens => parser(tokens, opt))\n        .then(html => opt.hooks ? opt.hooks.postprocess(html) : html)\n        .catch(throwError);\n    }\n\n    try {\n      if (opt.hooks) {\n        src = opt.hooks.preprocess(src);\n      }\n      const tokens = lexer(src, opt);\n      if (opt.walkTokens) {\n        marked.walkTokens(tokens, opt.walkTokens);\n      }\n      let html = parser(tokens, opt);\n      if (opt.hooks) {\n        html = opt.hooks.postprocess(html);\n      }\n      return html;\n    } catch (e) {\n      return throwError(e);\n    }\n  };\n}\n\n/**\n * Marked\n */\nfunction marked(src, opt, callback) {\n  return parseMarkdown(Lexer.lex, Parser.parse)(src, opt, callback);\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  marked.defaults = { ...marked.defaults, ...opt };\n  changeDefaults(marked.defaults);\n  return marked;\n};\n\nmarked.getDefaults = getDefaults;\n\nmarked.defaults = defaults;\n\n/**\n * Use Extension\n */\n\nmarked.use = function(...args) {\n  const extensions = marked.defaults.extensions || { renderers: {}, childTokens: {} };\n\n  args.forEach((pack) => {\n    // copy options to new object\n    const opts = { ...pack };\n\n    // set async to true if it was set to true before\n    opts.async = marked.defaults.async || opts.async || false;\n\n    // ==-- Parse \"addon\" extensions --== //\n    if (pack.extensions) {\n      pack.extensions.forEach((ext) => {\n        if (!ext.name) {\n          throw new Error('extension name required');\n        }\n        if (ext.renderer) { // Renderer extensions\n          const prevRenderer = extensions.renderers[ext.name];\n          if (prevRenderer) {\n            // Replace extension with func to run new extension but fall back if false\n            extensions.renderers[ext.name] = function(...args) {\n              let ret = ext.renderer.apply(this, args);\n              if (ret === false) {\n                ret = prevRenderer.apply(this, args);\n              }\n              return ret;\n            };\n          } else {\n            extensions.renderers[ext.name] = ext.renderer;\n          }\n        }\n        if (ext.tokenizer) { // Tokenizer Extensions\n          if (!ext.level || (ext.level !== 'block' && ext.level !== 'inline')) {\n            throw new Error(\"extension level must be 'block' or 'inline'\");\n          }\n          if (extensions[ext.level]) {\n            extensions[ext.level].unshift(ext.tokenizer);\n          } else {\n            extensions[ext.level] = [ext.tokenizer];\n          }\n          if (ext.start) { // Function to check for start of token\n            if (ext.level === 'block') {\n              if (extensions.startBlock) {\n                extensions.startBlock.push(ext.start);\n              } else {\n                extensions.startBlock = [ext.start];\n              }\n            } else if (ext.level === 'inline') {\n              if (extensions.startInline) {\n                extensions.startInline.push(ext.start);\n              } else {\n                extensions.startInline = [ext.start];\n              }\n            }\n          }\n        }\n        if (ext.childTokens) { // Child tokens to be visited by walkTokens\n          extensions.childTokens[ext.name] = ext.childTokens;\n        }\n      });\n      opts.extensions = extensions;\n    }\n\n    // ==-- Parse \"overwrite\" extensions --== //\n    if (pack.renderer) {\n      const renderer = marked.defaults.renderer || new Renderer();\n      for (const prop in pack.renderer) {\n        const prevRenderer = renderer[prop];\n        // Replace renderer with func to run extension, but fall back if false\n        renderer[prop] = (...args) => {\n          let ret = pack.renderer[prop].apply(renderer, args);\n          if (ret === false) {\n            ret = prevRenderer.apply(renderer, args);\n          }\n          return ret;\n        };\n      }\n      opts.renderer = renderer;\n    }\n    if (pack.tokenizer) {\n      const tokenizer = marked.defaults.tokenizer || new Tokenizer();\n      for (const prop in pack.tokenizer) {\n        const prevTokenizer = tokenizer[prop];\n        // Replace tokenizer with func to run extension, but fall back if false\n        tokenizer[prop] = (...args) => {\n          let ret = pack.tokenizer[prop].apply(tokenizer, args);\n          if (ret === false) {\n            ret = prevTokenizer.apply(tokenizer, args);\n          }\n          return ret;\n        };\n      }\n      opts.tokenizer = tokenizer;\n    }\n\n    // ==-- Parse Hooks extensions --== //\n    if (pack.hooks) {\n      const hooks = marked.defaults.hooks || new Hooks();\n      for (const prop in pack.hooks) {\n        const prevHook = hooks[prop];\n        if (Hooks.passThroughHooks.has(prop)) {\n          hooks[prop] = (arg) => {\n            if (marked.defaults.async) {\n              return Promise.resolve(pack.hooks[prop].call(hooks, arg)).then(ret => {\n                return prevHook.call(hooks, ret);\n              });\n            }\n\n            const ret = pack.hooks[prop].call(hooks, arg);\n            return prevHook.call(hooks, ret);\n          };\n        } else {\n          hooks[prop] = (...args) => {\n            let ret = pack.hooks[prop].apply(hooks, args);\n            if (ret === false) {\n              ret = prevHook.apply(hooks, args);\n            }\n            return ret;\n          };\n        }\n      }\n      opts.hooks = hooks;\n    }\n\n    // ==-- Parse WalkTokens extensions --== //\n    if (pack.walkTokens) {\n      const walkTokens = marked.defaults.walkTokens;\n      opts.walkTokens = function(token) {\n        let values = [];\n        values.push(pack.walkTokens.call(this, token));\n        if (walkTokens) {\n          values = values.concat(walkTokens.call(this, token));\n        }\n        return values;\n      };\n    }\n\n    marked.setOptions(opts);\n  });\n};\n\n/**\n * Run callback for every token\n */\n\nmarked.walkTokens = function(tokens, callback) {\n  let values = [];\n  for (const token of tokens) {\n    values = values.concat(callback.call(marked, token));\n    switch (token.type) {\n      case 'table': {\n        for (const cell of token.header) {\n          values = values.concat(marked.walkTokens(cell.tokens, callback));\n        }\n        for (const row of token.rows) {\n          for (const cell of row) {\n            values = values.concat(marked.walkTokens(cell.tokens, callback));\n          }\n        }\n        break;\n      }\n      case 'list': {\n        values = values.concat(marked.walkTokens(token.items, callback));\n        break;\n      }\n      default: {\n        if (marked.defaults.extensions && marked.defaults.extensions.childTokens && marked.defaults.extensions.childTokens[token.type]) { // Walk any extensions\n          marked.defaults.extensions.childTokens[token.type].forEach(function(childTokens) {\n            values = values.concat(marked.walkTokens(token[childTokens], callback));\n          });\n        } else if (token.tokens) {\n          values = values.concat(marked.walkTokens(token.tokens, callback));\n        }\n      }\n    }\n  }\n  return values;\n};\n\n/**\n * Parse Inline\n * @param {string} src\n */\nmarked.parseInline = parseMarkdown(Lexer.lexInline, Parser.parseInline);\n\n/**\n * Expose\n */\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\nmarked.Tokenizer = Tokenizer;\nmarked.Slugger = Slugger;\nmarked.Hooks = Hooks;\nmarked.parse = marked;\n\nconst options = marked.options;\nconst setOptions = marked.setOptions;\nconst use = marked.use;\nconst walkTokens = marked.walkTokens;\nconst parseInline = marked.parseInline;\nconst parse = marked;\nconst parser = Parser.parse;\nconst lexer = Lexer.lex;\n\nexport { Hooks, Lexer, Parser, Renderer, Slugger, TextRenderer, Tokenizer, defaults, getDefaults, lexer, marked, options, parse, parseInline, parser, setOptions, use, walkTokens };\n","import { marked } from 'marked';\nexport function markdownToHtml(text: string): string {\n    text = text.replaceAll(/__(.+)__/g, '<u>$1</u>'); // manually handle underlining\n    text = marked.parse(text, { \n        breaks: true, \n        smartypants: true,\n    });\n    return text;\n}\n","(function(){\"use strict\";try{if(typeof document<\"u\"){var e=document.createElement(\"style\");e.appendChild(document.createTextNode(\".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}\")),document.head.appendChild(e)}}catch(n){console.error(\"vite-plugin-css-injected-by-js\",n)}})();\nconst a = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5\"/></svg>', l = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17\"/></svg>', o = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3\"/></svg>', h = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6\"/></svg>', d = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8\"/></svg>', u = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z\"/></svg>', g = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12\"/></svg>';\n/**\n * Header block for the Editor.js.\n *\n * @author CodeX (team@ifmo.su)\n * @copyright CodeX 2018\n * @license MIT\n * @version 2.0.0\n */\nclass c {\n  constructor({ data: e, config: t, api: s, readOnly: r }) {\n    this.api = s, this.readOnly = r, this._settings = t, this._data = this.normalizeData(e), this._element = this.getTag();\n  }\n  /**\n   * Styles\n   */\n  get _CSS() {\n    return {\n      block: this.api.styles.block,\n      wrapper: \"ce-header\"\n    };\n  }\n  /**\n   * Check if data is valid\n   * \n   * @param {any} data - data to check\n   * @returns {data is HeaderData}\n   * @private\n   */\n  isHeaderData(e) {\n    return e.text !== void 0;\n  }\n  /**\n   * Normalize input data\n   *\n   * @param {HeaderData} data - saved data to process\n   *\n   * @returns {HeaderData}\n   * @private\n   */\n  normalizeData(e) {\n    const t = { text: \"\", level: this.defaultLevel.number };\n    return this.isHeaderData(e) && (t.text = e.text || \"\", e.level !== void 0 && !isNaN(parseInt(e.level.toString())) && (t.level = parseInt(e.level.toString()))), t;\n  }\n  /**\n   * Return Tool's view\n   *\n   * @returns {HTMLHeadingElement}\n   * @public\n   */\n  render() {\n    return this._element;\n  }\n  /**\n   * Returns header block tunes config\n   *\n   * @returns {Array}\n   */\n  renderSettings() {\n    return this.levels.map((e) => ({\n      icon: e.svg,\n      label: this.api.i18n.t(`Heading ${e.number}`),\n      onActivate: () => this.setLevel(e.number),\n      closeOnActivate: !0,\n      isActive: this.currentLevel.number === e.number,\n      render: () => document.createElement(\"div\")\n    }));\n  }\n  /**\n   * Callback for Block's settings buttons\n   *\n   * @param {number} level - level to set\n   */\n  setLevel(e) {\n    this.data = {\n      level: e,\n      text: this.data.text\n    };\n  }\n  /**\n   * Method that specified how to merge two Text blocks.\n   * Called by Editor.js by backspace at the beginning of the Block\n   *\n   * @param {HeaderData} data - saved data to merger with current block\n   * @public\n   */\n  merge(e) {\n    const t = {\n      text: this.data.text + e.text,\n      level: this.data.level\n    };\n    this.data = t;\n  }\n  /**\n   * Validate Text block data:\n   * - check for emptiness\n   *\n   * @param {HeaderData} blockData  data received after saving\n   * @returns {boolean} false if saved data is not correct, otherwise true\n   * @public\n   */\n  validate(e) {\n    return e.text.trim() !== \"\";\n  }\n  /**\n   * Extract Tool's data from the view\n   *\n   * @param {HTMLHeadingElement} toolsContent - Text tools rendered view\n   * @returns {HeaderData} - saved data\n   * @public\n   */\n  save(e) {\n    return {\n      text: e.innerHTML,\n      level: this.currentLevel.number\n    };\n  }\n  /**\n   * Allow Header to be converted to/from other blocks\n   */\n  static get conversionConfig() {\n    return {\n      export: \"text\",\n      // use 'text' property for other blocks\n      import: \"text\"\n      // fill 'text' property from other block's export string\n    };\n  }\n  /**\n   * Sanitizer Rules\n   */\n  static get sanitize() {\n    return {\n      level: !1,\n      text: {}\n    };\n  }\n  /**\n   * Returns true to notify core that read-only is supported\n   *\n   * @returns {boolean}\n   */\n  static get isReadOnlySupported() {\n    return !0;\n  }\n  /**\n   * Get current Tools`s data\n   *\n   * @returns {HeaderData} Current data\n   * @private\n   */\n  get data() {\n    return this._data.text = this._element.innerHTML, this._data.level = this.currentLevel.number, this._data;\n  }\n  /**\n   * Store data in plugin:\n   * - at the this._data property\n   * - at the HTML\n   *\n   * @param {HeaderData} data  data to set\n   * @private\n   */\n  set data(e) {\n    if (this._data = this.normalizeData(e), e.level !== void 0 && this._element.parentNode) {\n      const t = this.getTag();\n      t.innerHTML = this._element.innerHTML, this._element.parentNode.replaceChild(t, this._element), this._element = t;\n    }\n    e.text !== void 0 && (this._element.innerHTML = this._data.text || \"\");\n  }\n  /**\n   * Get tag for target level\n   * By default returns second-leveled header\n   *\n   * @returns {HTMLElement}\n   */\n  getTag() {\n    const e = document.createElement(this.currentLevel.tag);\n    return e.innerHTML = this._data.text || \"\", e.classList.add(this._CSS.wrapper), e.contentEditable = this.readOnly ? \"false\" : \"true\", e.dataset.placeholder = this.api.i18n.t(this._settings.placeholder || \"\"), e;\n  }\n  /**\n   * Get current level\n   *\n   * @returns {level}\n   */\n  get currentLevel() {\n    let e = this.levels.find((t) => t.number === this._data.level);\n    return e || (e = this.defaultLevel), e;\n  }\n  /**\n   * Return default level\n   *\n   * @returns {level}\n   */\n  get defaultLevel() {\n    if (this._settings.defaultLevel) {\n      const e = this.levels.find((t) => t.number === this._settings.defaultLevel);\n      if (e)\n        return e;\n      console.warn(\"('-') Heading Tool: the default level specified was not found in available levels\");\n    }\n    return this.levels[1];\n  }\n  /**\n   * @typedef {object} level\n   * @property {number} number - level number\n   * @property {string} tag - tag corresponds with level number\n   * @property {string} svg - icon\n   */\n  /**\n   * Available header levels\n   *\n   * @returns {level[]}\n   */\n  get levels() {\n    const e = [\n      {\n        number: 1,\n        tag: \"H1\",\n        svg: a\n      },\n      {\n        number: 2,\n        tag: \"H2\",\n        svg: l\n      },\n      {\n        number: 3,\n        tag: \"H3\",\n        svg: o\n      },\n      {\n        number: 4,\n        tag: \"H4\",\n        svg: h\n      },\n      {\n        number: 5,\n        tag: \"H5\",\n        svg: d\n      },\n      {\n        number: 6,\n        tag: \"H6\",\n        svg: u\n      }\n    ];\n    return this._settings.levels ? e.filter(\n      (t) => this._settings.levels.includes(t.number)\n    ) : e;\n  }\n  /**\n   * Handle H1-H6 tags on paste to substitute it with header Tool\n   *\n   * @param {PasteEvent} event - event with pasted content\n   */\n  onPaste(e) {\n    const t = e.detail;\n    if (\"data\" in t) {\n      const s = t.data;\n      let r = this.defaultLevel.number;\n      switch (s.tagName) {\n        case \"H1\":\n          r = 1;\n          break;\n        case \"H2\":\n          r = 2;\n          break;\n        case \"H3\":\n          r = 3;\n          break;\n        case \"H4\":\n          r = 4;\n          break;\n        case \"H5\":\n          r = 5;\n          break;\n        case \"H6\":\n          r = 6;\n          break;\n      }\n      this._settings.levels && (r = this._settings.levels.reduce((n, i) => Math.abs(i - r) < Math.abs(n - r) ? i : n)), this.data = {\n        level: r,\n        text: s.innerHTML\n      };\n    }\n  }\n  /**\n   * Used by Editor.js paste handling API.\n   * Provides configuration to handle H1-H6 tags.\n   *\n   * @returns {{handler: (function(HTMLElement): {text: string}), tags: string[]}}\n   */\n  static get pasteConfig() {\n    return {\n      tags: [\"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\"]\n    };\n  }\n  /**\n   * Get Tool toolbox settings\n   * icon - Tool icon's SVG\n   * title - title to show in toolbox\n   *\n   * @returns {{icon: string, title: string}}\n   */\n  static get toolbox() {\n    return {\n      icon: g,\n      title: \"Heading\"\n    };\n  }\n}\nexport {\n  c as default\n};\n","(function(){\"use strict\";try{if(typeof document<\"u\"){var e=document.createElement(\"style\");e.appendChild(document.createTextNode(\".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}\")),document.head.appendChild(e)}}catch(a){console.error(\"vite-plugin-css-injected-by-js\",a)}})();\nconst a = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14\"/></svg>';\nfunction l(r) {\n  const t = document.createElement(\"div\");\n  t.innerHTML = r.trim();\n  const e = document.createDocumentFragment();\n  return e.append(...Array.from(t.childNodes)), e;\n}\n/**\n * Base Paragraph Block for the Editor.js.\n * Represents a regular text block\n *\n * @author CodeX (team@codex.so)\n * @copyright CodeX 2018\n * @license The MIT License (MIT)\n */\nclass n {\n  /**\n   * Default placeholder for Paragraph Tool\n   *\n   * @returns {string}\n   * @class\n   */\n  static get DEFAULT_PLACEHOLDER() {\n    return \"\";\n  }\n  /**\n   * Render plugin`s main Element and fill it with saved data\n   *\n   * @param {object} params - constructor params\n   * @param {ParagraphData} params.data - previously saved data\n   * @param {ParagraphConfig} params.config - user config for Tool\n   * @param {object} params.api - editor.js api\n   * @param {boolean} readOnly - read only mode flag\n   */\n  constructor({ data: t, config: e, api: i, readOnly: s }) {\n    this.api = i, this.readOnly = s, this._CSS = {\n      block: this.api.styles.block,\n      wrapper: \"ce-paragraph\"\n    }, this.readOnly || (this.onKeyUp = this.onKeyUp.bind(this)), this._placeholder = e.placeholder ? e.placeholder : n.DEFAULT_PLACEHOLDER, this._data = t ?? {}, this._element = null, this._preserveBlank = e.preserveBlank ?? !1;\n  }\n  /**\n   * Check if text content is empty and set empty string to inner html.\n   * We need this because some browsers (e.g. Safari) insert <br> into empty contenteditanle elements\n   *\n   * @param {KeyboardEvent} e - key up event\n   */\n  onKeyUp(t) {\n    if (t.code !== \"Backspace\" && t.code !== \"Delete\" || !this._element)\n      return;\n    const { textContent: e } = this._element;\n    e === \"\" && (this._element.innerHTML = \"\");\n  }\n  /**\n   * Create Tool's view\n   *\n   * @returns {HTMLDivElement}\n   * @private\n   */\n  drawView() {\n    const t = document.createElement(\"DIV\");\n    return t.classList.add(this._CSS.wrapper, this._CSS.block), t.contentEditable = \"false\", t.dataset.placeholderActive = this.api.i18n.t(this._placeholder), this._data.text && (t.innerHTML = this._data.text), this.readOnly || (t.contentEditable = \"true\", t.addEventListener(\"keyup\", this.onKeyUp)), t;\n  }\n  /**\n   * Return Tool's view\n   *\n   * @returns {HTMLDivElement}\n   */\n  render() {\n    return this._element = this.drawView(), this._element;\n  }\n  /**\n   * Method that specified how to merge two Text blocks.\n   * Called by Editor.js by backspace at the beginning of the Block\n   *\n   * @param {ParagraphData} data\n   * @public\n   */\n  merge(t) {\n    if (!this._element)\n      return;\n    this._data.text += t.text;\n    const e = l(t.text);\n    this._element.appendChild(e), this._element.normalize();\n  }\n  /**\n   * Validate Paragraph block data:\n   * - check for emptiness\n   *\n   * @param {ParagraphData} savedData  data received after saving\n   * @returns {boolean} false if saved data is not correct, otherwise true\n   * @public\n   */\n  validate(t) {\n    return !(t.text.trim() === \"\" && !this._preserveBlank);\n  }\n  /**\n   * Extract Tool's data from the view\n   *\n   * @param {HTMLDivElement} toolsContent - Paragraph tools rendered view\n   * @returns {ParagraphData} - saved data\n   * @public\n   */\n  save(t) {\n    return {\n      text: t.innerHTML\n    };\n  }\n  /**\n   * On paste callback fired from Editor.\n   *\n   * @param {HTMLPasteEvent} event - event with pasted data\n   */\n  onPaste(t) {\n    const e = {\n      text: t.detail.data.innerHTML\n    };\n    this._data = e, window.requestAnimationFrame(() => {\n      this._element && (this._element.innerHTML = this._data.text || \"\");\n    });\n  }\n  /**\n   * Enable Conversion Toolbar. Paragraph can be converted to/from other tools\n   * @returns {ConversionConfig}\n   */\n  static get conversionConfig() {\n    return {\n      export: \"text\",\n      // to convert Paragraph to other block, use 'text' property of saved data\n      import: \"text\"\n      // to covert other block's exported string to Paragraph, fill 'text' property of tool data\n    };\n  }\n  /**\n   * Sanitizer rules\n   * @returns {SanitizerConfig} - Edtior.js sanitizer config\n   */\n  static get sanitize() {\n    return {\n      text: {\n        br: !0\n      }\n    };\n  }\n  /**\n   * Returns true to notify the core that read-only mode is supported\n   *\n   * @returns {boolean}\n   */\n  static get isReadOnlySupported() {\n    return !0;\n  }\n  /**\n   * Used by Editor paste handling API.\n   * Provides configuration to handle P tags.\n   *\n   * @returns {PasteConfig} - Paragraph Paste Setting\n   */\n  static get pasteConfig() {\n    return {\n      tags: [\"P\"]\n    };\n  }\n  /**\n   * Icon and title for displaying at the Toolbox\n   *\n   * @returns {ToolboxConfig} - Paragraph Toolbox Setting\n   */\n  static get toolbox() {\n    return {\n      icon: a,\n      title: \"Text\"\n    };\n  }\n}\nexport {\n  n as default\n};\n","(function(){\"use strict\";try{if(typeof document<\"u\"){var o=document.createElement(\"style\");o.appendChild(document.createTextNode('.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size)}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:\"\"}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border)}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{padding:4px 0;justify-content:center;border-top:1px solid var(--color-border)}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative}.tc-add-row:before{content:\"\";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border)}.tc-row:after{content:\"\";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translate(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;padding:6px;display:none;will-change:opacity,transform}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm)}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:#0000001a}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}')),document.head.appendChild(o)}}catch(r){console.error(\"vite-plugin-css-injected-by-js\",r)}})();\nfunction c(d, t, e = {}) {\n  const o = document.createElement(d);\n  Array.isArray(t) ? o.classList.add(...t) : t && o.classList.add(t);\n  for (const i in e)\n    Object.prototype.hasOwnProperty.call(e, i) && (o[i] = e[i]);\n  return o;\n}\nfunction f(d) {\n  const t = d.getBoundingClientRect();\n  return {\n    y1: Math.floor(t.top + window.pageYOffset),\n    x1: Math.floor(t.left + window.pageXOffset),\n    x2: Math.floor(t.right + window.pageXOffset),\n    y2: Math.floor(t.bottom + window.pageYOffset)\n  };\n}\nfunction g(d, t) {\n  const e = f(d), o = f(t);\n  return {\n    fromTopBorder: o.y1 - e.y1,\n    fromLeftBorder: o.x1 - e.x1,\n    fromRightBorder: e.x2 - o.x2,\n    fromBottomBorder: e.y2 - o.y2\n  };\n}\nfunction R(d, t) {\n  const e = d.getBoundingClientRect(), { width: o, height: i, x: s, y: n } = e, { clientX: h, clientY: l } = t;\n  return {\n    width: o,\n    height: i,\n    x: h - s,\n    y: l - n\n  };\n}\nfunction C(d, t) {\n  return t.parentNode.insertBefore(d, t);\n}\nfunction m(d, t = !0) {\n  const e = document.createRange(), o = window.getSelection();\n  e.selectNodeContents(d), e.collapse(t), o.removeAllRanges(), o.addRange(e);\n}\nclass a {\n  /**\n   * @param {object} options - constructor options\n   * @param {PopoverItem[]} options.items - constructor options\n   */\n  constructor({ items: t }) {\n    this.items = t, this.wrapper = void 0, this.itemEls = [];\n  }\n  /**\n   * Set of CSS classnames used in popover\n   *\n   * @returns {object}\n   */\n  static get CSS() {\n    return {\n      popover: \"tc-popover\",\n      popoverOpened: \"tc-popover--opened\",\n      item: \"tc-popover__item\",\n      itemHidden: \"tc-popover__item--hidden\",\n      itemConfirmState: \"tc-popover__item--confirm\",\n      itemIcon: \"tc-popover__item-icon\",\n      itemLabel: \"tc-popover__item-label\"\n    };\n  }\n  /**\n   * Returns the popover element\n   *\n   * @returns {Element}\n   */\n  render() {\n    return this.wrapper = c(\"div\", a.CSS.popover), this.items.forEach((t, e) => {\n      const o = c(\"div\", a.CSS.item), i = c(\"div\", a.CSS.itemIcon, {\n        innerHTML: t.icon\n      }), s = c(\"div\", a.CSS.itemLabel, {\n        textContent: t.label\n      });\n      o.dataset.index = e, o.appendChild(i), o.appendChild(s), this.wrapper.appendChild(o), this.itemEls.push(o);\n    }), this.wrapper.addEventListener(\"click\", (t) => {\n      this.popoverClicked(t);\n    }), this.wrapper;\n  }\n  /**\n   * Popover wrapper click listener\n   * Used to delegate clicks in items\n   *\n   * @returns {void}\n   */\n  popoverClicked(t) {\n    const e = t.target.closest(`.${a.CSS.item}`);\n    if (!e)\n      return;\n    const o = e.dataset.index, i = this.items[o];\n    if (i.confirmationRequired && !this.hasConfirmationState(e)) {\n      this.setConfirmationState(e);\n      return;\n    }\n    i.onClick();\n  }\n  /**\n   * Enable the confirmation state on passed item\n   *\n   * @returns {void}\n   */\n  setConfirmationState(t) {\n    t.classList.add(a.CSS.itemConfirmState);\n  }\n  /**\n   * Disable the confirmation state on passed item\n   *\n   * @returns {void}\n   */\n  clearConfirmationState(t) {\n    t.classList.remove(a.CSS.itemConfirmState);\n  }\n  /**\n   * Check if passed item has the confirmation state\n   *\n   * @returns {boolean}\n   */\n  hasConfirmationState(t) {\n    return t.classList.contains(a.CSS.itemConfirmState);\n  }\n  /**\n   * Return an opening state\n   *\n   * @returns {boolean}\n   */\n  get opened() {\n    return this.wrapper.classList.contains(a.CSS.popoverOpened);\n  }\n  /**\n   * Opens the popover\n   *\n   * @returns {void}\n   */\n  open() {\n    this.items.forEach((t, e) => {\n      typeof t.hideIf == \"function\" && this.itemEls[e].classList.toggle(a.CSS.itemHidden, t.hideIf());\n    }), this.wrapper.classList.add(a.CSS.popoverOpened);\n  }\n  /**\n   * Closes the popover\n   *\n   * @returns {void}\n   */\n  close() {\n    this.wrapper.classList.remove(a.CSS.popoverOpened), this.itemEls.forEach((t) => {\n      this.clearConfirmationState(t);\n    });\n  }\n}\nconst b = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16\"/></svg>', k = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666\"/></svg>', S = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75\"/></svg>', x = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75\"/></svg>', y = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333\"/></svg>', T = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M9.41 9.66H9.4\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M14.6 9.66H14.59\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M9.31 14.36H9.3\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M14.6 14.36H14.59\"/></svg>', v = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M12 7V12M12 17V12M17 12H12M12 12H7\"/></svg>', L = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5 10H19\"/><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/></svg>', M = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M10 5V18.5\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M14 5V18.5\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5 10H19\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5 14H19\"/><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/></svg>', O = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M10 5V18.5\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5 10H19\"/><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/></svg>';\nclass u {\n  /**\n   * Creates toolbox buttons and toolbox menus\n   *\n   * @param {object} api - Editor.js api\n   * @param {PopoverItem[]} items - Editor.js api\n   * @param {function} onOpen - callback fired when the Popover is opening\n   * @param {function} onClose - callback fired when the Popover is closing\n   * @param {string} [cssModifier] - the modifier for the Toolbox. Allows to add some specific styles.\n   */\n  constructor({ api: t, items: e, onOpen: o, onClose: i, cssModifier: s = \"\" }) {\n    this.api = t, this.items = e, this.onOpen = o, this.onClose = i, this.cssModifier = s, this.popover = null, this.wrapper = this.createToolbox();\n  }\n  /**\n   * Style classes\n   */\n  static get CSS() {\n    return {\n      toolbox: \"tc-toolbox\",\n      toolboxShowed: \"tc-toolbox--showed\",\n      toggler: \"tc-toolbox__toggler\"\n    };\n  }\n  /**\n   * Returns rendered Toolbox element\n   */\n  get element() {\n    return this.wrapper;\n  }\n  /**\n   * Creating a toolbox to open menu for a manipulating columns\n   *\n   * @returns {Element}\n   */\n  createToolbox() {\n    const t = c(\"div\", [\n      u.CSS.toolbox,\n      this.cssModifier ? `${u.CSS.toolbox}--${this.cssModifier}` : \"\"\n    ]);\n    t.dataset.mutationFree = \"true\";\n    const e = this.createPopover(), o = this.createToggler();\n    return t.appendChild(o), t.appendChild(e), t;\n  }\n  /**\n   * Creates the Toggler\n   *\n   * @returns {Element}\n   */\n  createToggler() {\n    const t = c(\"div\", u.CSS.toggler, {\n      innerHTML: T\n    });\n    return t.addEventListener(\"click\", () => {\n      this.togglerClicked();\n    }), t;\n  }\n  /**\n   * Creates the Popover instance and render it\n   *\n   * @returns {Element}\n   */\n  createPopover() {\n    return this.popover = new a({\n      items: this.items\n    }), this.popover.render();\n  }\n  /**\n   * Toggler click handler. Opens/Closes the popover\n   *\n   * @returns {void}\n   */\n  togglerClicked() {\n    this.popover.opened ? (this.popover.close(), this.onClose()) : (this.popover.open(), this.onOpen());\n  }\n  /**\n   * Shows the Toolbox\n   *\n   * @param {function} computePositionMethod - method that returns the position coordinate\n   * @returns {void}\n   */\n  show(t) {\n    const e = t();\n    Object.entries(e).forEach(([o, i]) => {\n      this.wrapper.style[o] = i;\n    }), this.wrapper.classList.add(u.CSS.toolboxShowed);\n  }\n  /**\n   * Hides the Toolbox\n   *\n   * @returns {void}\n   */\n  hide() {\n    this.popover.close(), this.wrapper.classList.remove(u.CSS.toolboxShowed);\n  }\n}\nfunction H(d, t) {\n  let e = 0;\n  return function(...o) {\n    const i = (/* @__PURE__ */ new Date()).getTime();\n    if (!(i - e < d))\n      return e = i, t(...o);\n  };\n}\nconst r = {\n  wrapper: \"tc-wrap\",\n  wrapperReadOnly: \"tc-wrap--readonly\",\n  table: \"tc-table\",\n  row: \"tc-row\",\n  withHeadings: \"tc-table--heading\",\n  rowSelected: \"tc-row--selected\",\n  cell: \"tc-cell\",\n  cellSelected: \"tc-cell--selected\",\n  addRow: \"tc-add-row\",\n  addColumn: \"tc-add-column\"\n};\nclass A {\n  /**\n   * Creates\n   *\n   * @constructor\n   * @param {boolean} readOnly - read-only mode flag\n   * @param {object} api - Editor.js API\n   * @param {TableData} data - Editor.js API\n   * @param {TableConfig} config - Editor.js API\n   */\n  constructor(t, e, o, i) {\n    this.readOnly = t, this.api = e, this.data = o, this.config = i, this.wrapper = null, this.table = null, this.toolboxColumn = this.createColumnToolbox(), this.toolboxRow = this.createRowToolbox(), this.createTableWrapper(), this.hoveredRow = 0, this.hoveredColumn = 0, this.selectedRow = 0, this.selectedColumn = 0, this.tunes = {\n      withHeadings: !1\n    }, this.resize(), this.fill(), this.focusedCell = {\n      row: 0,\n      column: 0\n    }, this.documentClicked = (s) => {\n      const n = s.target.closest(`.${r.table}`) !== null, h = s.target.closest(`.${r.wrapper}`) === null;\n      (n || h) && this.hideToolboxes();\n      const w = s.target.closest(`.${r.addRow}`), p = s.target.closest(`.${r.addColumn}`);\n      w && w.parentNode === this.wrapper ? (this.addRow(void 0, !0), this.hideToolboxes()) : p && p.parentNode === this.wrapper && (this.addColumn(void 0, !0), this.hideToolboxes());\n    }, this.readOnly || this.bindEvents();\n  }\n  /**\n   * Returns the rendered table wrapper\n   *\n   * @returns {Element}\n   */\n  getWrapper() {\n    return this.wrapper;\n  }\n  /**\n   * Hangs the necessary handlers to events\n   */\n  bindEvents() {\n    document.addEventListener(\"click\", this.documentClicked), this.table.addEventListener(\"mousemove\", H(150, (t) => this.onMouseMoveInTable(t)), { passive: !0 }), this.table.onkeypress = (t) => this.onKeyPressListener(t), this.table.addEventListener(\"keydown\", (t) => this.onKeyDownListener(t)), this.table.addEventListener(\"focusin\", (t) => this.focusInTableListener(t));\n  }\n  /**\n   * Configures and creates the toolbox for manipulating with columns\n   *\n   * @returns {Toolbox}\n   */\n  createColumnToolbox() {\n    return new u({\n      api: this.api,\n      cssModifier: \"column\",\n      items: [\n        {\n          label: this.api.i18n.t(\"Add column to left\"),\n          icon: S,\n          onClick: () => {\n            this.addColumn(this.selectedColumn, !0), this.hideToolboxes();\n          }\n        },\n        {\n          label: this.api.i18n.t(\"Add column to right\"),\n          icon: x,\n          onClick: () => {\n            this.addColumn(this.selectedColumn + 1, !0), this.hideToolboxes();\n          }\n        },\n        {\n          label: this.api.i18n.t(\"Delete column\"),\n          icon: b,\n          hideIf: () => this.numberOfColumns === 1,\n          confirmationRequired: !0,\n          onClick: () => {\n            this.deleteColumn(this.selectedColumn), this.hideToolboxes();\n          }\n        }\n      ],\n      onOpen: () => {\n        this.selectColumn(this.hoveredColumn), this.hideRowToolbox();\n      },\n      onClose: () => {\n        this.unselectColumn();\n      }\n    });\n  }\n  /**\n   * Configures and creates the toolbox for manipulating with rows\n   *\n   * @returns {Toolbox}\n   */\n  createRowToolbox() {\n    return new u({\n      api: this.api,\n      cssModifier: \"row\",\n      items: [\n        {\n          label: this.api.i18n.t(\"Add row above\"),\n          icon: y,\n          onClick: () => {\n            this.addRow(this.selectedRow, !0), this.hideToolboxes();\n          }\n        },\n        {\n          label: this.api.i18n.t(\"Add row below\"),\n          icon: k,\n          onClick: () => {\n            this.addRow(this.selectedRow + 1, !0), this.hideToolboxes();\n          }\n        },\n        {\n          label: this.api.i18n.t(\"Delete row\"),\n          icon: b,\n          hideIf: () => this.numberOfRows === 1,\n          confirmationRequired: !0,\n          onClick: () => {\n            this.deleteRow(this.selectedRow), this.hideToolboxes();\n          }\n        }\n      ],\n      onOpen: () => {\n        this.selectRow(this.hoveredRow), this.hideColumnToolbox();\n      },\n      onClose: () => {\n        this.unselectRow();\n      }\n    });\n  }\n  /**\n   * When you press enter it moves the cursor down to the next row\n   * or creates it if the click occurred on the last one\n   */\n  moveCursorToNextRow() {\n    this.focusedCell.row !== this.numberOfRows ? (this.focusedCell.row += 1, this.focusCell(this.focusedCell)) : (this.addRow(), this.focusedCell.row += 1, this.focusCell(this.focusedCell), this.updateToolboxesPosition(0, 0));\n  }\n  /**\n   * Get table cell by row and col index\n   *\n   * @param {number} row - cell row coordinate\n   * @param {number} column - cell column coordinate\n   * @returns {HTMLElement}\n   */\n  getCell(t, e) {\n    return this.table.querySelectorAll(`.${r.row}:nth-child(${t}) .${r.cell}`)[e - 1];\n  }\n  /**\n   * Get table row by index\n   *\n   * @param {number} row - row coordinate\n   * @returns {HTMLElement}\n   */\n  getRow(t) {\n    return this.table.querySelector(`.${r.row}:nth-child(${t})`);\n  }\n  /**\n   * The parent of the cell which is the row\n   *\n   * @param {HTMLElement} cell - cell element\n   * @returns {HTMLElement}\n   */\n  getRowByCell(t) {\n    return t.parentElement;\n  }\n  /**\n   * Ger row's first cell\n   *\n   * @param {Element} row - row to find its first cell\n   * @returns {Element}\n   */\n  getRowFirstCell(t) {\n    return t.querySelector(`.${r.cell}:first-child`);\n  }\n  /**\n   * Set the sell's content by row and column numbers\n   *\n   * @param {number} row - cell row coordinate\n   * @param {number} column - cell column coordinate\n   * @param {string} content - cell HTML content\n   */\n  setCellContent(t, e, o) {\n    const i = this.getCell(t, e);\n    i.innerHTML = o;\n  }\n  /**\n   * Add column in table on index place\n   * Add cells in each row\n   *\n   * @param {number} columnIndex - number in the array of columns, where new column to insert, -1 if insert at the end\n   * @param {boolean} [setFocus] - pass true to focus the first cell\n   */\n  addColumn(t = -1, e = !1) {\n    let o = this.numberOfColumns;\n    for (let i = 1; i <= this.numberOfRows; i++) {\n      let s;\n      const n = this.createCell();\n      if (t > 0 && t <= o ? (s = this.getCell(i, t), C(n, s)) : s = this.getRow(i).appendChild(n), i === 1) {\n        const h = this.getCell(i, t > 0 ? t : o + 1);\n        h && e && m(h);\n      }\n    }\n    this.addHeadingAttrToFirstRow();\n  }\n  /**\n   * Add row in table on index place\n   *\n   * @param {number} index - number in the array of rows, where new column to insert, -1 if insert at the end\n   * @param {boolean} [setFocus] - pass true to focus the inserted row\n   * @returns {HTMLElement} row\n   */\n  addRow(t = -1, e = !1) {\n    let o, i = c(\"div\", r.row);\n    this.tunes.withHeadings && this.removeHeadingAttrFromFirstRow();\n    let s = this.numberOfColumns;\n    if (t > 0 && t <= this.numberOfRows) {\n      let h = this.getRow(t);\n      o = C(i, h);\n    } else\n      o = this.table.appendChild(i);\n    this.fillRow(o, s), this.tunes.withHeadings && this.addHeadingAttrToFirstRow();\n    const n = this.getRowFirstCell(o);\n    return n && e && m(n), o;\n  }\n  /**\n   * Delete a column by index\n   *\n   * @param {number} index\n   */\n  deleteColumn(t) {\n    for (let e = 1; e <= this.numberOfRows; e++) {\n      const o = this.getCell(e, t);\n      if (!o)\n        return;\n      o.remove();\n    }\n  }\n  /**\n   * Delete a row by index\n   *\n   * @param {number} index\n   */\n  deleteRow(t) {\n    this.getRow(t).remove(), this.addHeadingAttrToFirstRow();\n  }\n  /**\n   * Create a wrapper containing a table, toolboxes\n   * and buttons for adding rows and columns\n   *\n   * @returns {HTMLElement} wrapper - where all buttons for a table and the table itself will be\n   */\n  createTableWrapper() {\n    if (this.wrapper = c(\"div\", r.wrapper), this.table = c(\"div\", r.table), this.readOnly && this.wrapper.classList.add(r.wrapperReadOnly), this.wrapper.appendChild(this.toolboxRow.element), this.wrapper.appendChild(this.toolboxColumn.element), this.wrapper.appendChild(this.table), !this.readOnly) {\n      const t = c(\"div\", r.addColumn, {\n        innerHTML: v\n      }), e = c(\"div\", r.addRow, {\n        innerHTML: v\n      });\n      this.wrapper.appendChild(t), this.wrapper.appendChild(e);\n    }\n  }\n  /**\n   * Returns the size of the table based on initial data or config \"size\" property\n   *\n   * @return {{rows: number, cols: number}} - number of cols and rows\n   */\n  computeInitialSize() {\n    const t = this.data && this.data.content, e = Array.isArray(t), o = e ? t.length : !1, i = e ? t.length : void 0, s = o ? t[0].length : void 0, n = Number.parseInt(this.config && this.config.rows), h = Number.parseInt(this.config && this.config.cols), l = !isNaN(n) && n > 0 ? n : void 0, w = !isNaN(h) && h > 0 ? h : void 0;\n    return {\n      rows: i || l || 2,\n      cols: s || w || 2\n    };\n  }\n  /**\n   * Resize table to match config size or transmitted data size\n   *\n   * @return {{rows: number, cols: number}} - number of cols and rows\n   */\n  resize() {\n    const { rows: t, cols: e } = this.computeInitialSize();\n    for (let o = 0; o < t; o++)\n      this.addRow();\n    for (let o = 0; o < e; o++)\n      this.addColumn();\n  }\n  /**\n   * Fills the table with data passed to the constructor\n   *\n   * @returns {void}\n   */\n  fill() {\n    const t = this.data;\n    if (t && t.content)\n      for (let e = 0; e < t.content.length; e++)\n        for (let o = 0; o < t.content[e].length; o++)\n          this.setCellContent(e + 1, o + 1, t.content[e][o]);\n  }\n  /**\n   * Fills a row with cells\n   *\n   * @param {HTMLElement} row - row to fill\n   * @param {number} numberOfColumns - how many cells should be in a row\n   */\n  fillRow(t, e) {\n    for (let o = 1; o <= e; o++) {\n      const i = this.createCell();\n      t.appendChild(i);\n    }\n  }\n  /**\n   * Creating a cell element\n   *\n   * @return {Element}\n   */\n  createCell() {\n    return c(\"div\", r.cell, {\n      contentEditable: !this.readOnly\n    });\n  }\n  /**\n   * Get number of rows in the table\n   */\n  get numberOfRows() {\n    return this.table.childElementCount;\n  }\n  /**\n   * Get number of columns in the table\n   */\n  get numberOfColumns() {\n    return this.numberOfRows ? this.table.querySelectorAll(`.${r.row}:first-child .${r.cell}`).length : 0;\n  }\n  /**\n   * Is the column toolbox menu displayed or not\n   *\n   * @returns {boolean}\n   */\n  get isColumnMenuShowing() {\n    return this.selectedColumn !== 0;\n  }\n  /**\n   * Is the row toolbox menu displayed or not\n   *\n   * @returns {boolean}\n   */\n  get isRowMenuShowing() {\n    return this.selectedRow !== 0;\n  }\n  /**\n   * Recalculate position of toolbox icons\n   *\n   * @param {Event} event - mouse move event\n   */\n  onMouseMoveInTable(t) {\n    const { row: e, column: o } = this.getHoveredCell(t);\n    this.hoveredColumn = o, this.hoveredRow = e, this.updateToolboxesPosition();\n  }\n  /**\n   * Prevents default Enter behaviors\n   * Adds Shift+Enter processing\n   *\n   * @param {KeyboardEvent} event - keypress event\n   */\n  onKeyPressListener(t) {\n    if (t.key === \"Enter\") {\n      if (t.shiftKey)\n        return !0;\n      this.moveCursorToNextRow();\n    }\n    return t.key !== \"Enter\";\n  }\n  /**\n   * Prevents tab keydown event from bubbling\n   * so that it only works inside the table\n   *\n   * @param {KeyboardEvent} event - keydown event\n   */\n  onKeyDownListener(t) {\n    t.key === \"Tab\" && t.stopPropagation();\n  }\n  /**\n   * Set the coordinates of the cell that the focus has moved to\n   *\n   * @param {FocusEvent} event - focusin event\n   */\n  focusInTableListener(t) {\n    const e = t.target, o = this.getRowByCell(e);\n    this.focusedCell = {\n      row: Array.from(this.table.querySelectorAll(`.${r.row}`)).indexOf(o) + 1,\n      column: Array.from(o.querySelectorAll(`.${r.cell}`)).indexOf(e) + 1\n    };\n  }\n  /**\n   * Unselect row/column\n   * Close toolbox menu\n   * Hide toolboxes\n   *\n   * @returns {void}\n   */\n  hideToolboxes() {\n    this.hideRowToolbox(), this.hideColumnToolbox(), this.updateToolboxesPosition();\n  }\n  /**\n   * Unselect row, close toolbox\n   *\n   * @returns {void}\n   */\n  hideRowToolbox() {\n    this.unselectRow(), this.toolboxRow.hide();\n  }\n  /**\n   * Unselect column, close toolbox\n   *\n   * @returns {void}\n   */\n  hideColumnToolbox() {\n    this.unselectColumn(), this.toolboxColumn.hide();\n  }\n  /**\n   * Set the cursor focus to the focused cell\n   *\n   * @returns {void}\n   */\n  focusCell() {\n    this.focusedCellElem.focus();\n  }\n  /**\n   * Get current focused element\n   *\n   * @returns {HTMLElement} - focused cell\n   */\n  get focusedCellElem() {\n    const { row: t, column: e } = this.focusedCell;\n    return this.getCell(t, e);\n  }\n  /**\n   * Update toolboxes position\n   *\n   * @param {number} row - hovered row\n   * @param {number} column - hovered column\n   */\n  updateToolboxesPosition(t = this.hoveredRow, e = this.hoveredColumn) {\n    this.isColumnMenuShowing || e > 0 && e <= this.numberOfColumns && this.toolboxColumn.show(() => ({\n      left: `calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${e} - 1) * 2))`\n    })), this.isRowMenuShowing || t > 0 && t <= this.numberOfRows && this.toolboxRow.show(() => {\n      const o = this.getRow(t), { fromTopBorder: i } = g(this.table, o), { height: s } = o.getBoundingClientRect();\n      return {\n        top: `${Math.ceil(i + s / 2)}px`\n      };\n    });\n  }\n  /**\n   * Makes the first row headings\n   *\n   * @param {boolean} withHeadings - use headings row or not\n   */\n  setHeadingsSetting(t) {\n    this.tunes.withHeadings = t, t ? (this.table.classList.add(r.withHeadings), this.addHeadingAttrToFirstRow()) : (this.table.classList.remove(r.withHeadings), this.removeHeadingAttrFromFirstRow());\n  }\n  /**\n   * Adds an attribute for displaying the placeholder in the cell\n   */\n  addHeadingAttrToFirstRow() {\n    for (let t = 1; t <= this.numberOfColumns; t++) {\n      let e = this.getCell(1, t);\n      e && e.setAttribute(\"heading\", this.api.i18n.t(\"Heading\"));\n    }\n  }\n  /**\n   * Removes an attribute for displaying the placeholder in the cell\n   */\n  removeHeadingAttrFromFirstRow() {\n    for (let t = 1; t <= this.numberOfColumns; t++) {\n      let e = this.getCell(1, t);\n      e && e.removeAttribute(\"heading\");\n    }\n  }\n  /**\n   * Add effect of a selected row\n   *\n   * @param {number} index\n   */\n  selectRow(t) {\n    const e = this.getRow(t);\n    e && (this.selectedRow = t, e.classList.add(r.rowSelected));\n  }\n  /**\n   * Remove effect of a selected row\n   */\n  unselectRow() {\n    if (this.selectedRow <= 0)\n      return;\n    const t = this.table.querySelector(`.${r.rowSelected}`);\n    t && t.classList.remove(r.rowSelected), this.selectedRow = 0;\n  }\n  /**\n   * Add effect of a selected column\n   *\n   * @param {number} index\n   */\n  selectColumn(t) {\n    for (let e = 1; e <= this.numberOfRows; e++) {\n      const o = this.getCell(e, t);\n      o && o.classList.add(r.cellSelected);\n    }\n    this.selectedColumn = t;\n  }\n  /**\n   * Remove effect of a selected column\n   */\n  unselectColumn() {\n    if (this.selectedColumn <= 0)\n      return;\n    let t = this.table.querySelectorAll(`.${r.cellSelected}`);\n    Array.from(t).forEach((e) => {\n      e.classList.remove(r.cellSelected);\n    }), this.selectedColumn = 0;\n  }\n  /**\n   * Calculates the row and column that the cursor is currently hovering over\n   * The search was optimized from O(n) to O (log n) via bin search to reduce the number of calculations\n   *\n   * @param {Event} event - mousemove event\n   * @returns hovered cell coordinates as an integer row and column\n   */\n  getHoveredCell(t) {\n    let e = this.hoveredRow, o = this.hoveredColumn;\n    const { width: i, height: s, x: n, y: h } = R(this.table, t);\n    return n >= 0 && (o = this.binSearch(\n      this.numberOfColumns,\n      (l) => this.getCell(1, l),\n      ({ fromLeftBorder: l }) => n < l,\n      ({ fromRightBorder: l }) => n > i - l\n    )), h >= 0 && (e = this.binSearch(\n      this.numberOfRows,\n      (l) => this.getCell(l, 1),\n      ({ fromTopBorder: l }) => h < l,\n      ({ fromBottomBorder: l }) => h > s - l\n    )), {\n      row: e || this.hoveredRow,\n      column: o || this.hoveredColumn\n    };\n  }\n  /**\n   * Looks for the index of the cell the mouse is hovering over.\n   * Cells can be represented as ordered intervals with left and\n   * right (upper and lower for rows) borders inside the table, if the mouse enters it, then this is our index\n   *\n   * @param {number} numberOfCells - upper bound of binary search\n   * @param {function} getCell - function to take the currently viewed cell\n   * @param {function} beforeTheLeftBorder - determines the cursor position, to the left of the cell or not\n   * @param {function} afterTheRightBorder - determines the cursor position, to the right of the cell or not\n   * @returns {number}\n   */\n  binSearch(t, e, o, i) {\n    let s = 0, n = t + 1, h = 0, l;\n    for (; s < n - 1 && h < 10; ) {\n      l = Math.ceil((s + n) / 2);\n      const w = e(l), p = g(this.table, w);\n      if (o(p))\n        n = l;\n      else if (i(p))\n        s = l;\n      else\n        break;\n      h++;\n    }\n    return l;\n  }\n  /**\n   * Collects data from cells into a two-dimensional array\n   *\n   * @returns {string[][]}\n   */\n  getData() {\n    const t = [];\n    for (let e = 1; e <= this.numberOfRows; e++) {\n      const o = this.table.querySelector(`.${r.row}:nth-child(${e})`), i = Array.from(o.querySelectorAll(`.${r.cell}`));\n      i.every((n) => !n.textContent.trim()) || t.push(i.map((n) => n.innerHTML));\n    }\n    return t;\n  }\n  /**\n   * Remove listeners on the document\n   */\n  destroy() {\n    document.removeEventListener(\"click\", this.documentClicked);\n  }\n}\nclass I {\n  /**\n   * Notify core that read-only mode is supported\n   *\n   * @returns {boolean}\n   */\n  static get isReadOnlySupported() {\n    return !0;\n  }\n  /**\n   * Allow to press Enter inside the CodeTool textarea\n   *\n   * @returns {boolean}\n   * @public\n   */\n  static get enableLineBreaks() {\n    return !0;\n  }\n  /**\n   * Render plugin`s main Element and fill it with saved data\n   *\n   * @param {TableData} data  previously saved data\n   * @param {TableConfig} config - user config for Tool\n   * @param {object} api - Editor.js API\n   * @param {boolean} readOnly - read-only mode flag\n   */\n  constructor({ data: t, config: e, api: o, readOnly: i }) {\n    this.api = o, this.readOnly = i, this.config = e, this.data = {\n      withHeadings: this.getConfig(\"withHeadings\", !1, t),\n      content: t && t.content ? t.content : []\n    }, this.table = null;\n  }\n  /**\n   * Get Tool toolbox settings\n   * icon - Tool icon's SVG\n   * title - title to show in toolbox\n   *\n   * @returns {{icon: string, title: string}}\n   */\n  static get toolbox() {\n    return {\n      icon: O,\n      title: \"Table\"\n    };\n  }\n  /**\n   * Return Tool's view\n   *\n   * @returns {HTMLDivElement}\n   */\n  render() {\n    return this.table = new A(this.readOnly, this.api, this.data, this.config), this.container = c(\"div\", this.api.styles.block), this.container.appendChild(this.table.getWrapper()), this.table.setHeadingsSetting(this.data.withHeadings), this.container;\n  }\n  /**\n   * Returns plugin settings\n   *\n   * @returns {Array}\n   */\n  renderSettings() {\n    return [\n      {\n        label: this.api.i18n.t(\"With headings\"),\n        icon: L,\n        isActive: this.data.withHeadings,\n        closeOnActivate: !0,\n        toggle: !0,\n        onActivate: () => {\n          this.data.withHeadings = !0, this.table.setHeadingsSetting(this.data.withHeadings);\n        }\n      },\n      {\n        label: this.api.i18n.t(\"Without headings\"),\n        icon: M,\n        isActive: !this.data.withHeadings,\n        closeOnActivate: !0,\n        toggle: !0,\n        onActivate: () => {\n          this.data.withHeadings = !1, this.table.setHeadingsSetting(this.data.withHeadings);\n        }\n      }\n    ];\n  }\n  /**\n   * Extract table data from the view\n   *\n   * @returns {TableData} - saved data\n   */\n  save() {\n    const t = this.table.getData();\n    return {\n      withHeadings: this.data.withHeadings,\n      content: t\n    };\n  }\n  /**\n   * Plugin destroyer\n   *\n   * @returns {void}\n   */\n  destroy() {\n    this.table.destroy();\n  }\n  /**\n   * A helper to get config value.\n   * \n   * @param {string} configName - the key to get from the config. \n   * @param {any} defaultValue - default value if config doesn't have passed key\n   * @param {object} savedData - previously saved data. If passed, the key will be got from there, otherwise from the config\n   * @returns {any} - config value.\n   */\n  getConfig(t, e = void 0, o = void 0) {\n    const i = this.data || o;\n    return i ? i[t] ? i[t] : e : this.config && this.config[t] ? this.config[t] : e;\n  }\n  /**  \n   * Table onPaste configuration\n   *\n   * @public\n   */\n  static get pasteConfig() {\n    return { tags: [\"TABLE\", \"TR\", \"TH\", \"TD\"] };\n  }\n  /**\n   * On paste callback that is fired from Editor\n   *\n   * @param {PasteEvent} event - event with pasted data\n   */\n  onPaste(t) {\n    const e = t.detail.data, o = e.querySelector(\":scope > thead, tr:first-of-type th\"), s = Array.from(e.querySelectorAll(\"tr\")).map((n) => Array.from(n.querySelectorAll(\"th, td\")).map((l) => l.innerHTML));\n    this.data = {\n      withHeadings: o !== null,\n      content: s\n    }, this.table.wrapper && this.table.wrapper.replaceWith(this.render());\n  }\n}\nexport {\n  I as default\n};\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.Underline=t():e.Underline=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"/\",n(n.s=4)}([function(e,t,n){var r=n(1),o=n(2);\"string\"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,\"\"]]);var i={insert:\"head\",singleton:!1};r(o,i);e.exports=o.locals||{}},function(e,t,n){\"use strict\";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function u(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],c=t.base?i[0]+t.base:i[0],s=n[c]||0,l=\"\".concat(c,\" \").concat(s);n[c]=s+1;var f=u(l),d={css:i[1],media:i[2],sourceMap:i[3]};-1!==f?(a[f].references++,a[f].updater(d)):a.push({identifier:l,updater:b(d,t),references:1}),r.push(l)}return r}function s(e){var t=document.createElement(\"style\"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),\"function\"==typeof e.insert)e.insert(t);else{var a=i(e.insert||\"head\");if(!a)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");a.appendChild(t)}return t}var l,f=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join(\"\\n\")});function d(e,t,n,r){var o=n?\"\":r.media?\"@media \".concat(r.media,\" {\").concat(r.css,\"}\"):r.css;if(e.styleSheet)e.styleSheet.cssText=f(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function p(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute(\"media\",o):e.removeAttribute(\"media\"),i&&\"undefined\"!=typeof btoa&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i)))),\" */\")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var v=null,h=0;function b(e,t){var n,r,o;if(t.singleton){var i=h++;n=v||(v=s(t)),r=d.bind(null,n,i,!1),o=d.bind(null,n,i,!0)}else n=s(t),r=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||\"boolean\"==typeof t.singleton||(t.singleton=o());var n=c(e=e||[],t);return function(e){if(e=e||[],\"[object Array]\"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=u(n[r]);a[o].references--}for(var i=c(e,t),s=0;s<n.length;s++){var l=u(n[s]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=i}}}},function(e,t,n){(t=n(3)(!1)).push([e.i,\".cdx-underline {\\n    text-decoration: underline;\\n}\\n\",\"\"]),e.exports=t},function(e,t,n){\"use strict\";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||\"\",r=e[3];if(!r)return n;if(t&&\"function\"==typeof btoa){var o=(a=r,u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c=\"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(u),\"/*# \".concat(c,\" */\")),i=r.sources.map((function(e){return\"/*# sourceURL=\".concat(r.sourceRoot||\"\").concat(e,\" */\")}));return[n].concat(i).concat([o]).join(\"\\n\")}var a,u,c;return[n].join(\"\\n\")}(t,e);return t[2]?\"@media \".concat(t[2],\" {\").concat(n,\"}\"):n})).join(\"\")},t.i=function(e,n,r){\"string\"==typeof e&&(e=[[null,e,\"\"]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&o[c[0]]||(n&&(c[2]?c[2]=\"\".concat(n,\" and \").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));n(0);function r(e){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,a=void 0,a=function(e,t){if(\"object\"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||\"default\");if(\"object\"!==r(o))return o;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(i,\"string\"),\"symbol\"===r(a)?a:String(a)),o)}var i,a}var i=function(){function e(t){var n=t.api;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.api=n,this.button=null,this.tag=\"U\",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}var t,n,r;return t=e,r=[{key:\"CSS\",get:function(){return\"cdx-underline\"}},{key:\"isInline\",get:function(){return!0}},{key:\"sanitize\",get:function(){return{u:{class:e.CSS}}}}],(n=[{key:\"render\",value:function(){return this.button=document.createElement(\"button\"),this.button.type=\"button\",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:\"surround\",value:function(t){if(t){var n=this.api.selection.findParentTag(this.tag,e.CSS);n?this.unwrap(n):this.wrap(t)}}},{key:\"wrap\",value:function(t){var n=document.createElement(this.tag);n.classList.add(e.CSS),n.appendChild(t.extractContents()),t.insertNode(n),this.api.selection.expandToTag(n)}},{key:\"unwrap\",value:function(e){this.api.selection.expandToTag(e);var t=window.getSelection(),n=t.getRangeAt(0),r=n.extractContents();e.parentNode.removeChild(e),n.insertNode(r),t.removeAllRanges(),t.addRange(n)}},{key:\"checkState\",value:function(){var t=this.api.selection.findParentTag(this.tag,e.CSS);this.button.classList.toggle(this.iconClasses.active,!!t)}},{key:\"toolboxIcon\",get:function(){return'<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 7.5V11.5C9 12.2956 9.31607 13.0587 9.87868 13.6213C10.4413 14.1839 11.2044 14.5 12 14.5C12.7956 14.5 13.5587 14.1839 14.1213 13.6213C14.6839 13.0587 15 12.2956 15 11.5V7.5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7.71429 18H16.2857\"/></svg>'}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}()}]).default}));","import { docsEditor } from '../stores';\nimport EditorJS, { type OutputData } from '@editorjs/editorjs';\nimport Header from '@editorjs/header';\nimport Paragraph from '@editorjs/paragraph';\nimport Table from '@editorjs/table';\nimport Underline from '@editorjs/underline';\n/* eslint-disable @typescript-eslint/no-explicit-any */\nenum LogLevels { // REVIEW - monkeypatch gets around type check error, can't import this from @editorjs/editorjs/types for ...reasons.\n    VERBOSE = 'VERBOSE',\n    INFO = 'INFO',\n    WARN = 'WARN',\n    ERROR = 'ERROR',\n}\nexport class Monospace { // EditorJS custom class\n    api: any;\n    button: null | HTMLButtonElement;\n    tag: string;\n    iconClasses: any;\n\n    static get CSS() {\n        return 'cdx-monospace';\n    }\n\n    constructor({ api }) {\n        this.api = api;\n        this.button = null;\n        this.tag = 'CODE';\n        this.iconClasses = {\n            base: this.api.styles.inlineToolButton,\n            active: this.api.styles.inlineToolButtonActive,\n        };\n    }\n    static get isInline() {\n        return true;\n    }\n    render() {\n        this.button = document.createElement('button');\n        this.button.type = 'button';\n        this.button.textContent = 'M';\n        this.button.classList.add(this.api.styles.inlineToolButton);\n        return this.button;\n    }\n    surround(range) {\n        if (!range) {\n            return;\n        }\n        const termWrapper = this.api.selection.findParentTag(this.tag, Monospace.CSS);\n    \n        // If start or end of selection is in the highlighted block\n        if (termWrapper) {\n            this.unwrap(termWrapper);\n        } else {\n            this.wrap(range);\n        }\n    }\n    // Wrap selection with term-tag\n    wrap(range) {\n        const m = document.createElement(this.tag);\n        m.classList.add(Monospace.CSS);\n        /** SurroundContent throws an error if the Range splits a non-Text node with only one of its boundary points\n         *  @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Range/surroundContents}\n         *  // range.surroundContents(span);\n         */\n        m.appendChild(range.extractContents());\n        range.insertNode(m);\n    \n        // Expand (add) selection to highlighted block\n        this.api.selection.expandToTag(m);\n    }\n    // Unwrap term-tag\n    unwrap(termWrapper) {\n        // Expand selection to all term-tag\n        this.api.selection.expandToTag(termWrapper);\n\n        const sel = window.getSelection();\n        const range = sel.getRangeAt(0);\n        const unwrappedContent = range.extractContents();\n    \n        // Remove empty term-tag\n        termWrapper.parentNode.removeChild(termWrapper);\n    \n        // Insert extracted content\n        range.insertNode(unwrappedContent);\n    \n        // Restore selection\n        sel.removeAllRanges();\n        sel.addRange(range);\n    }\n    checkState() {\n        const termTag = this.api.selection.findParentTag(this.tag, Monospace.CSS);\n        this.button.classList.toggle(this.iconClasses.active, !!termTag);\n    }\n    static get sanitize() {\n        return {\n            code: {\n                class: Monospace.CSS,\n            },\n        };\n    }\n}\n\n/**\n * Initialize the EditorJS instance for the docs tab.\n * If data is provided, it will be used to populate the editor.\n * If data is not provided, or is false, the editor\n * will be initialized with an empty document.\n * @param {Object} data\n */\nexport function initializeDocs(data: OutputData | false, holder='docs-tab'): void {\n    const config = {\n        holder: holder,\n        data: null,\n        tools: {\n            underline: Underline,\n            monospace: Monospace,\n            header: {\n                class: Header,\n                inlineToolbar: true,\n            },\n            paragraph: {\n                class: Paragraph,\n                inlineToolbar: true,\n                config: {\n                    placeholder:\n                    'This panel can be used to document and describe your languges features in greater detail.',\n                },\n            },\n            table: {\n                class: Table,\n                inlineToolbar: true,\n                config: {\n                    rows: 3,\n                    cols: 3,\n                    withHeadings: true,\n                },\n            },\n        },\n        logLevel: LogLevels.ERROR,\n        readOnly: holder === 'ref-docs'\n    };\n    \n    if (data) config.data = data;\n    const editor = new EditorJS(config);\n    if (holder === 'docs-tab') {\n        docsEditor.set(editor);\n    }\n}\n","const defaultTrace = async (name, fn, _options) => {\n  return await fn({\n    name,\n    setAttributes: () => {\n      return;\n    }\n  });\n};\nconst TraceAttributes = {\n  KIND: \"xata.trace.kind\",\n  VERSION: \"xata.sdk.version\",\n  TABLE: \"xata.table\",\n  HTTP_REQUEST_ID: \"http.request_id\",\n  HTTP_STATUS_CODE: \"http.status_code\",\n  HTTP_HOST: \"http.host\",\n  HTTP_SCHEME: \"http.scheme\",\n  HTTP_USER_AGENT: \"http.user_agent\",\n  HTTP_METHOD: \"http.method\",\n  HTTP_URL: \"http.url\",\n  HTTP_ROUTE: \"http.route\",\n  HTTP_TARGET: \"http.target\",\n  CLOUDFLARE_RAY_ID: \"cf.ray\"\n};\n\nfunction notEmpty(value) {\n  return value !== null && value !== void 0;\n}\nfunction compact(arr) {\n  return arr.filter(notEmpty);\n}\nfunction compactObject(obj) {\n  return Object.fromEntries(Object.entries(obj).filter(([, value]) => notEmpty(value)));\n}\nfunction isBlob(value) {\n  try {\n    return value instanceof Blob;\n  } catch (error) {\n    return false;\n  }\n}\nfunction isObject(value) {\n  return Boolean(value) && typeof value === \"object\" && !Array.isArray(value) && !(value instanceof Date) && !isBlob(value);\n}\nfunction isDefined(value) {\n  return value !== null && value !== void 0;\n}\nfunction isString(value) {\n  return isDefined(value) && typeof value === \"string\";\n}\nfunction isStringArray(value) {\n  return isDefined(value) && Array.isArray(value) && value.every(isString);\n}\nfunction isNumber(value) {\n  return isDefined(value) && typeof value === \"number\";\n}\nfunction parseNumber(value) {\n  if (isNumber(value)) {\n    return value;\n  }\n  if (isString(value)) {\n    const parsed = Number(value);\n    if (!Number.isNaN(parsed)) {\n      return parsed;\n    }\n  }\n  return void 0;\n}\nfunction toBase64(value) {\n  try {\n    return btoa(value);\n  } catch (err) {\n    const buf = Buffer;\n    return buf.from(value).toString(\"base64\");\n  }\n}\nfunction deepMerge(a, b) {\n  const result = { ...a };\n  for (const [key, value] of Object.entries(b)) {\n    if (isObject(value) && isObject(result[key])) {\n      result[key] = deepMerge(result[key], value);\n    } else {\n      result[key] = value;\n    }\n  }\n  return result;\n}\nfunction chunk(array, chunkSize) {\n  const result = [];\n  for (let i = 0; i < array.length; i += chunkSize) {\n    result.push(array.slice(i, i + chunkSize));\n  }\n  return result;\n}\nasync function timeout(ms) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\nfunction timeoutWithCancel(ms) {\n  let timeoutId;\n  const promise = new Promise((resolve) => {\n    timeoutId = setTimeout(() => {\n      resolve();\n    }, ms);\n  });\n  return {\n    cancel: () => clearTimeout(timeoutId),\n    promise\n  };\n}\nfunction promiseMap(inputValues, mapper) {\n  const reducer = (acc$, inputValue) => acc$.then(\n    (acc) => mapper(inputValue).then((result) => {\n      acc.push(result);\n      return acc;\n    })\n  );\n  return inputValues.reduce(reducer, Promise.resolve([]));\n}\n\nfunction getEnvironment() {\n  try {\n    if (isDefined(process) && isDefined(process.env)) {\n      return {\n        apiKey: process.env.XATA_API_KEY ?? getGlobalApiKey(),\n        databaseURL: process.env.XATA_DATABASE_URL ?? getGlobalDatabaseURL(),\n        branch: process.env.XATA_BRANCH ?? getGlobalBranch(),\n        deployPreview: process.env.XATA_PREVIEW,\n        deployPreviewBranch: process.env.XATA_PREVIEW_BRANCH,\n        vercelGitCommitRef: process.env.VERCEL_GIT_COMMIT_REF,\n        vercelGitRepoOwner: process.env.VERCEL_GIT_REPO_OWNER\n      };\n    }\n  } catch (err) {\n  }\n  try {\n    if (isObject(Deno) && isObject(Deno.env)) {\n      return {\n        apiKey: Deno.env.get(\"XATA_API_KEY\") ?? getGlobalApiKey(),\n        databaseURL: Deno.env.get(\"XATA_DATABASE_URL\") ?? getGlobalDatabaseURL(),\n        branch: Deno.env.get(\"XATA_BRANCH\") ?? getGlobalBranch(),\n        deployPreview: Deno.env.get(\"XATA_PREVIEW\"),\n        deployPreviewBranch: Deno.env.get(\"XATA_PREVIEW_BRANCH\"),\n        vercelGitCommitRef: Deno.env.get(\"VERCEL_GIT_COMMIT_REF\"),\n        vercelGitRepoOwner: Deno.env.get(\"VERCEL_GIT_REPO_OWNER\")\n      };\n    }\n  } catch (err) {\n  }\n  return {\n    apiKey: getGlobalApiKey(),\n    databaseURL: getGlobalDatabaseURL(),\n    branch: getGlobalBranch(),\n    deployPreview: void 0,\n    deployPreviewBranch: void 0,\n    vercelGitCommitRef: void 0,\n    vercelGitRepoOwner: void 0\n  };\n}\nfunction getEnableBrowserVariable() {\n  try {\n    if (isObject(process) && isObject(process.env) && process.env.XATA_ENABLE_BROWSER !== void 0) {\n      return process.env.XATA_ENABLE_BROWSER === \"true\";\n    }\n  } catch (err) {\n  }\n  try {\n    if (isObject(Deno) && isObject(Deno.env) && Deno.env.get(\"XATA_ENABLE_BROWSER\") !== void 0) {\n      return Deno.env.get(\"XATA_ENABLE_BROWSER\") === \"true\";\n    }\n  } catch (err) {\n  }\n  try {\n    return XATA_ENABLE_BROWSER === true || XATA_ENABLE_BROWSER === \"true\";\n  } catch (err) {\n    return void 0;\n  }\n}\nfunction getGlobalApiKey() {\n  try {\n    return XATA_API_KEY;\n  } catch (err) {\n    return void 0;\n  }\n}\nfunction getGlobalDatabaseURL() {\n  try {\n    return XATA_DATABASE_URL;\n  } catch (err) {\n    return void 0;\n  }\n}\nfunction getGlobalBranch() {\n  try {\n    return XATA_BRANCH;\n  } catch (err) {\n    return void 0;\n  }\n}\nfunction getDatabaseURL() {\n  try {\n    const { databaseURL } = getEnvironment();\n    return databaseURL;\n  } catch (err) {\n    return void 0;\n  }\n}\nfunction getAPIKey() {\n  try {\n    const { apiKey } = getEnvironment();\n    return apiKey;\n  } catch (err) {\n    return void 0;\n  }\n}\nfunction getBranch() {\n  try {\n    const { branch } = getEnvironment();\n    return branch;\n  } catch (err) {\n    return void 0;\n  }\n}\nfunction buildPreviewBranchName({ org, branch }) {\n  return `preview-${org}-${branch}`;\n}\nfunction getPreviewBranch() {\n  try {\n    const { deployPreview, deployPreviewBranch, vercelGitCommitRef, vercelGitRepoOwner } = getEnvironment();\n    if (deployPreviewBranch)\n      return deployPreviewBranch;\n    switch (deployPreview) {\n      case \"vercel\": {\n        if (!vercelGitCommitRef || !vercelGitRepoOwner) {\n          console.warn(\"XATA_PREVIEW=vercel but VERCEL_GIT_COMMIT_REF or VERCEL_GIT_REPO_OWNER is not valid\");\n          return void 0;\n        }\n        return buildPreviewBranchName({ org: vercelGitRepoOwner, branch: vercelGitCommitRef });\n      }\n    }\n    return void 0;\n  } catch (err) {\n    return void 0;\n  }\n}\n\nvar __accessCheck$8 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$8 = (obj, member, getter) => {\n  __accessCheck$8(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$8 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$8 = (obj, member, value, setter) => {\n  __accessCheck$8(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod$4 = (obj, member, method) => {\n  __accessCheck$8(obj, member, \"access private method\");\n  return method;\n};\nvar _fetch, _queue, _concurrency, _enqueue, enqueue_fn;\nconst REQUEST_TIMEOUT = 5 * 60 * 1e3;\nfunction getFetchImplementation(userFetch) {\n  const globalFetch = typeof fetch !== \"undefined\" ? fetch : void 0;\n  const globalThisFetch = typeof globalThis !== \"undefined\" ? globalThis.fetch : void 0;\n  const fetchImpl = userFetch ?? globalFetch ?? globalThisFetch;\n  if (!fetchImpl) {\n    throw new Error(`Couldn't find a global \\`fetch\\`. Pass a fetch implementation explicitly.`);\n  }\n  return fetchImpl;\n}\nclass ApiRequestPool {\n  constructor(concurrency = 10) {\n    __privateAdd$8(this, _enqueue);\n    __privateAdd$8(this, _fetch, void 0);\n    __privateAdd$8(this, _queue, void 0);\n    __privateAdd$8(this, _concurrency, void 0);\n    __privateSet$8(this, _queue, []);\n    __privateSet$8(this, _concurrency, concurrency);\n    this.running = 0;\n    this.started = 0;\n  }\n  setFetch(fetch2) {\n    __privateSet$8(this, _fetch, fetch2);\n  }\n  getFetch() {\n    if (!__privateGet$8(this, _fetch)) {\n      throw new Error(\"Fetch not set\");\n    }\n    return __privateGet$8(this, _fetch);\n  }\n  request(url, options) {\n    const start = /* @__PURE__ */ new Date();\n    const fetchImpl = this.getFetch();\n    const runRequest = async (stalled = false) => {\n      const { promise, cancel } = timeoutWithCancel(REQUEST_TIMEOUT);\n      const response = await Promise.race([fetchImpl(url, options), promise.then(() => null)]).finally(cancel);\n      if (!response) {\n        throw new Error(\"Request timed out\");\n      }\n      if (response.status === 429) {\n        const rateLimitReset = parseNumber(response.headers?.get(\"x-ratelimit-reset\")) ?? 1;\n        await timeout(rateLimitReset * 1e3);\n        return await runRequest(true);\n      }\n      if (stalled) {\n        const stalledTime = (/* @__PURE__ */ new Date()).getTime() - start.getTime();\n        console.warn(`A request to Xata hit branch rate limits, was retried and stalled for ${stalledTime}ms`);\n      }\n      return response;\n    };\n    return __privateMethod$4(this, _enqueue, enqueue_fn).call(this, async () => {\n      return await runRequest();\n    });\n  }\n}\n_fetch = new WeakMap();\n_queue = new WeakMap();\n_concurrency = new WeakMap();\n_enqueue = new WeakSet();\nenqueue_fn = function(task) {\n  const promise = new Promise((resolve) => __privateGet$8(this, _queue).push(resolve)).finally(() => {\n    this.started--;\n    this.running++;\n  }).then(() => task()).finally(() => {\n    this.running--;\n    const next = __privateGet$8(this, _queue).shift();\n    if (next !== void 0) {\n      this.started++;\n      next();\n    }\n  });\n  if (this.running + this.started < __privateGet$8(this, _concurrency)) {\n    const next = __privateGet$8(this, _queue).shift();\n    if (next !== void 0) {\n      this.started++;\n      next();\n    }\n  }\n  return promise;\n};\n\nfunction generateUUID() {\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n    const r = Math.random() * 16 | 0, v = c == \"x\" ? r : r & 3 | 8;\n    return v.toString(16);\n  });\n}\n\nasync function getBytes(stream, onChunk) {\n  const reader = stream.getReader();\n  let result;\n  while (!(result = await reader.read()).done) {\n    onChunk(result.value);\n  }\n}\nfunction getLines(onLine) {\n  let buffer;\n  let position;\n  let fieldLength;\n  let discardTrailingNewline = false;\n  return function onChunk(arr) {\n    if (buffer === void 0) {\n      buffer = arr;\n      position = 0;\n      fieldLength = -1;\n    } else {\n      buffer = concat(buffer, arr);\n    }\n    const bufLength = buffer.length;\n    let lineStart = 0;\n    while (position < bufLength) {\n      if (discardTrailingNewline) {\n        if (buffer[position] === 10 /* NewLine */) {\n          lineStart = ++position;\n        }\n        discardTrailingNewline = false;\n      }\n      let lineEnd = -1;\n      for (; position < bufLength && lineEnd === -1; ++position) {\n        switch (buffer[position]) {\n          case 58 /* Colon */:\n            if (fieldLength === -1) {\n              fieldLength = position - lineStart;\n            }\n            break;\n          case 13 /* CarriageReturn */:\n            discardTrailingNewline = true;\n          case 10 /* NewLine */:\n            lineEnd = position;\n            break;\n        }\n      }\n      if (lineEnd === -1) {\n        break;\n      }\n      onLine(buffer.subarray(lineStart, lineEnd), fieldLength);\n      lineStart = position;\n      fieldLength = -1;\n    }\n    if (lineStart === bufLength) {\n      buffer = void 0;\n    } else if (lineStart !== 0) {\n      buffer = buffer.subarray(lineStart);\n      position -= lineStart;\n    }\n  };\n}\nfunction getMessages(onId, onRetry, onMessage) {\n  let message = newMessage();\n  const decoder = new TextDecoder();\n  return function onLine(line, fieldLength) {\n    if (line.length === 0) {\n      onMessage?.(message);\n      message = newMessage();\n    } else if (fieldLength > 0) {\n      const field = decoder.decode(line.subarray(0, fieldLength));\n      const valueOffset = fieldLength + (line[fieldLength + 1] === 32 /* Space */ ? 2 : 1);\n      const value = decoder.decode(line.subarray(valueOffset));\n      switch (field) {\n        case \"data\":\n          message.data = message.data ? message.data + \"\\n\" + value : value;\n          break;\n        case \"event\":\n          message.event = value;\n          break;\n        case \"id\":\n          onId(message.id = value);\n          break;\n        case \"retry\":\n          const retry = parseInt(value, 10);\n          if (!isNaN(retry)) {\n            onRetry(message.retry = retry);\n          }\n          break;\n      }\n    }\n  };\n}\nfunction concat(a, b) {\n  const res = new Uint8Array(a.length + b.length);\n  res.set(a);\n  res.set(b, a.length);\n  return res;\n}\nfunction newMessage() {\n  return {\n    data: \"\",\n    event: \"\",\n    id: \"\",\n    retry: void 0\n  };\n}\nconst EventStreamContentType = \"text/event-stream\";\nconst LastEventId = \"last-event-id\";\nfunction fetchEventSource(input, {\n  signal: inputSignal,\n  headers: inputHeaders,\n  onopen: inputOnOpen,\n  onmessage,\n  onclose,\n  onerror,\n  fetch: inputFetch,\n  ...rest\n}) {\n  return new Promise((resolve, reject) => {\n    const headers = { ...inputHeaders };\n    if (!headers.accept) {\n      headers.accept = EventStreamContentType;\n    }\n    let curRequestController;\n    function dispose() {\n      curRequestController.abort();\n    }\n    inputSignal?.addEventListener(\"abort\", () => {\n      dispose();\n      resolve();\n    });\n    const fetchImpl = inputFetch ?? fetch;\n    const onopen = inputOnOpen ?? defaultOnOpen;\n    async function create() {\n      curRequestController = new AbortController();\n      try {\n        const response = await fetchImpl(input, {\n          ...rest,\n          headers,\n          signal: curRequestController.signal\n        });\n        await onopen(response);\n        await getBytes(\n          response.body,\n          getLines(\n            getMessages(\n              (id) => {\n                if (id) {\n                  headers[LastEventId] = id;\n                } else {\n                  delete headers[LastEventId];\n                }\n              },\n              (_retry) => {\n              },\n              onmessage\n            )\n          )\n        );\n        onclose?.();\n        dispose();\n        resolve();\n      } catch (err) {\n      }\n    }\n    create();\n  });\n}\nfunction defaultOnOpen(response) {\n  const contentType = response.headers?.get(\"content-type\");\n  if (!contentType?.startsWith(EventStreamContentType)) {\n    throw new Error(`Expected content-type to be ${EventStreamContentType}, Actual: ${contentType}`);\n  }\n}\n\nconst VERSION = \"0.26.9\";\n\nclass ErrorWithCause extends Error {\n  constructor(message, options) {\n    super(message, options);\n  }\n}\nclass FetcherError extends ErrorWithCause {\n  constructor(status, data, requestId) {\n    super(getMessage(data));\n    this.status = status;\n    this.errors = isBulkError(data) ? data.errors : [{ message: getMessage(data), status }];\n    this.requestId = requestId;\n    if (data instanceof Error) {\n      this.stack = data.stack;\n      this.cause = data.cause;\n    }\n  }\n  toString() {\n    const error = super.toString();\n    return `[${this.status}] (${this.requestId ?? \"Unknown\"}): ${error}`;\n  }\n}\nfunction isBulkError(error) {\n  return isObject(error) && Array.isArray(error.errors);\n}\nfunction isErrorWithMessage(error) {\n  return isObject(error) && isString(error.message);\n}\nfunction getMessage(data) {\n  if (data instanceof Error) {\n    return data.message;\n  } else if (isString(data)) {\n    return data;\n  } else if (isErrorWithMessage(data)) {\n    return data.message;\n  } else if (isBulkError(data)) {\n    return \"Bulk operation failed\";\n  } else {\n    return \"Unexpected error\";\n  }\n}\n\nconst pool = new ApiRequestPool();\nconst resolveUrl = (url, queryParams = {}, pathParams = {}) => {\n  const cleanQueryParams = Object.entries(queryParams).reduce((acc, [key, value]) => {\n    if (value === void 0 || value === null)\n      return acc;\n    return { ...acc, [key]: value };\n  }, {});\n  const query = new URLSearchParams(cleanQueryParams).toString();\n  const queryString = query.length > 0 ? `?${query}` : \"\";\n  const cleanPathParams = Object.entries(pathParams).reduce((acc, [key, value]) => {\n    return { ...acc, [key]: encodeURIComponent(String(value ?? \"\")).replace(\"%3A\", \":\") };\n  }, {});\n  return url.replace(/\\{\\w*\\}/g, (key) => cleanPathParams[key.slice(1, -1)]) + queryString;\n};\nfunction buildBaseUrl({\n  endpoint,\n  path,\n  workspacesApiUrl,\n  apiUrl,\n  pathParams = {}\n}) {\n  if (endpoint === \"dataPlane\") {\n    const url = isString(workspacesApiUrl) ? `${workspacesApiUrl}${path}` : workspacesApiUrl(path, pathParams);\n    const urlWithWorkspace = isString(pathParams.workspace) ? url.replace(\"{workspaceId}\", String(pathParams.workspace)) : url;\n    return isString(pathParams.region) ? urlWithWorkspace.replace(\"{region}\", String(pathParams.region)) : urlWithWorkspace;\n  }\n  return `${apiUrl}${path}`;\n}\nfunction hostHeader(url) {\n  const pattern = /.*:\\/\\/(?<host>[^/]+).*/;\n  const { groups } = pattern.exec(url) ?? {};\n  return groups?.host ? { Host: groups.host } : {};\n}\nasync function parseBody(body, headers) {\n  if (!isDefined(body))\n    return void 0;\n  if (isBlob(body) || typeof body.text === \"function\") {\n    return body;\n  }\n  const { \"Content-Type\": contentType } = headers ?? {};\n  if (String(contentType).toLowerCase() === \"application/json\" && isObject(body)) {\n    return JSON.stringify(body);\n  }\n  return body;\n}\nconst defaultClientID = generateUUID();\nasync function fetch$1({\n  url: path,\n  method,\n  body,\n  headers: customHeaders,\n  pathParams,\n  queryParams,\n  fetch: fetch2,\n  apiKey,\n  endpoint,\n  apiUrl,\n  workspacesApiUrl,\n  trace,\n  signal,\n  clientID,\n  sessionID,\n  clientName,\n  xataAgentExtra,\n  fetchOptions = {},\n  rawResponse = false\n}) {\n  pool.setFetch(fetch2);\n  return await trace(\n    `${method.toUpperCase()} ${path}`,\n    async ({ setAttributes }) => {\n      const baseUrl = buildBaseUrl({ endpoint, path, workspacesApiUrl, pathParams, apiUrl });\n      const fullUrl = resolveUrl(baseUrl, queryParams, pathParams);\n      const url = fullUrl.includes(\"localhost\") ? fullUrl.replace(/^[^.]+\\./, \"http://\") : fullUrl;\n      setAttributes({\n        [TraceAttributes.HTTP_URL]: url,\n        [TraceAttributes.HTTP_TARGET]: resolveUrl(path, queryParams, pathParams)\n      });\n      const xataAgent = compact([\n        [\"client\", \"TS_SDK\"],\n        [\"version\", VERSION],\n        isDefined(clientName) ? [\"service\", clientName] : void 0,\n        ...Object.entries(xataAgentExtra ?? {})\n      ]).map(([key, value]) => `${key}=${value}`).join(\"; \");\n      const headers = compactObject({\n        \"Accept-Encoding\": \"identity\",\n        \"Content-Type\": \"application/json\",\n        \"X-Xata-Client-ID\": clientID ?? defaultClientID,\n        \"X-Xata-Session-ID\": sessionID ?? generateUUID(),\n        \"X-Xata-Agent\": xataAgent,\n        ...customHeaders,\n        ...hostHeader(fullUrl),\n        Authorization: `Bearer ${apiKey}`\n      });\n      const response = await pool.request(url, {\n        ...fetchOptions,\n        method: method.toUpperCase(),\n        body: await parseBody(body, headers),\n        headers,\n        signal\n      });\n      const { host, protocol } = parseUrl(response.url);\n      const requestId = response.headers?.get(\"x-request-id\") ?? void 0;\n      setAttributes({\n        [TraceAttributes.KIND]: \"http\",\n        [TraceAttributes.HTTP_REQUEST_ID]: requestId,\n        [TraceAttributes.HTTP_STATUS_CODE]: response.status,\n        [TraceAttributes.HTTP_HOST]: host,\n        [TraceAttributes.HTTP_SCHEME]: protocol?.replace(\":\", \"\"),\n        [TraceAttributes.CLOUDFLARE_RAY_ID]: response.headers?.get(\"cf-ray\") ?? void 0\n      });\n      const message = response.headers?.get(\"x-xata-message\");\n      if (message)\n        console.warn(message);\n      if (response.status === 204) {\n        return {};\n      }\n      if (response.status === 429) {\n        throw new FetcherError(response.status, \"Rate limit exceeded\", requestId);\n      }\n      try {\n        const jsonResponse = rawResponse ? await response.blob() : await response.json();\n        if (response.ok) {\n          return jsonResponse;\n        }\n        throw new FetcherError(response.status, jsonResponse, requestId);\n      } catch (error) {\n        throw new FetcherError(response.status, error, requestId);\n      }\n    },\n    { [TraceAttributes.HTTP_METHOD]: method.toUpperCase(), [TraceAttributes.HTTP_ROUTE]: path }\n  );\n}\nfunction fetchSSERequest({\n  url: path,\n  method,\n  body,\n  headers: customHeaders,\n  pathParams,\n  queryParams,\n  fetch: fetch2,\n  apiKey,\n  endpoint,\n  apiUrl,\n  workspacesApiUrl,\n  onMessage,\n  onError,\n  onClose,\n  signal,\n  clientID,\n  sessionID,\n  clientName,\n  xataAgentExtra\n}) {\n  const baseUrl = buildBaseUrl({ endpoint, path, workspacesApiUrl, pathParams, apiUrl });\n  const fullUrl = resolveUrl(baseUrl, queryParams, pathParams);\n  const url = fullUrl.includes(\"localhost\") ? fullUrl.replace(/^[^.]+\\./, \"http://\") : fullUrl;\n  void fetchEventSource(url, {\n    method,\n    body: JSON.stringify(body),\n    fetch: fetch2,\n    signal,\n    headers: {\n      \"X-Xata-Client-ID\": clientID ?? defaultClientID,\n      \"X-Xata-Session-ID\": sessionID ?? generateUUID(),\n      \"X-Xata-Agent\": compact([\n        [\"client\", \"TS_SDK\"],\n        [\"version\", VERSION],\n        isDefined(clientName) ? [\"service\", clientName] : void 0,\n        ...Object.entries(xataAgentExtra ?? {})\n      ]).map(([key, value]) => `${key}=${value}`).join(\"; \"),\n      ...customHeaders,\n      Authorization: `Bearer ${apiKey}`,\n      \"Content-Type\": \"application/json\"\n    },\n    onmessage(ev) {\n      onMessage?.(JSON.parse(ev.data));\n    },\n    onerror(ev) {\n      onError?.(JSON.parse(ev.data));\n    },\n    onclose() {\n      onClose?.();\n    }\n  });\n}\nfunction parseUrl(url) {\n  try {\n    const { host, protocol } = new URL(url);\n    return { host, protocol };\n  } catch (error) {\n    return {};\n  }\n}\n\nconst dataPlaneFetch = async (options) => fetch$1({ ...options, endpoint: \"dataPlane\" });\n\nconst getBranchList = (variables, signal) => dataPlaneFetch({\n  url: \"/dbs/{dbName}\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst getBranchDetails = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst createBranch = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}\", method: \"put\", ...variables, signal });\nconst deleteBranch = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}\",\n  method: \"delete\",\n  ...variables,\n  signal\n});\nconst getSchema = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/schema\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst copyBranch = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/copy\",\n  method: \"post\",\n  ...variables,\n  signal\n});\nconst updateBranchMetadata = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/metadata\",\n  method: \"put\",\n  ...variables,\n  signal\n});\nconst getBranchMetadata = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/metadata\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst getBranchStats = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/stats\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst getGitBranchesMapping = (variables, signal) => dataPlaneFetch({ url: \"/dbs/{dbName}/gitBranches\", method: \"get\", ...variables, signal });\nconst addGitBranchesEntry = (variables, signal) => dataPlaneFetch({ url: \"/dbs/{dbName}/gitBranches\", method: \"post\", ...variables, signal });\nconst removeGitBranchesEntry = (variables, signal) => dataPlaneFetch({ url: \"/dbs/{dbName}/gitBranches\", method: \"delete\", ...variables, signal });\nconst resolveBranch = (variables, signal) => dataPlaneFetch({ url: \"/dbs/{dbName}/resolveBranch\", method: \"get\", ...variables, signal });\nconst getBranchMigrationHistory = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/migrations\", method: \"get\", ...variables, signal });\nconst getBranchMigrationPlan = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/migrations/plan\", method: \"post\", ...variables, signal });\nconst executeBranchMigrationPlan = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/migrations/execute\", method: \"post\", ...variables, signal });\nconst queryMigrationRequests = (variables, signal) => dataPlaneFetch({ url: \"/dbs/{dbName}/migrations/query\", method: \"post\", ...variables, signal });\nconst createMigrationRequest = (variables, signal) => dataPlaneFetch({ url: \"/dbs/{dbName}/migrations\", method: \"post\", ...variables, signal });\nconst getMigrationRequest = (variables, signal) => dataPlaneFetch({\n  url: \"/dbs/{dbName}/migrations/{mrNumber}\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst updateMigrationRequest = (variables, signal) => dataPlaneFetch({ url: \"/dbs/{dbName}/migrations/{mrNumber}\", method: \"patch\", ...variables, signal });\nconst listMigrationRequestsCommits = (variables, signal) => dataPlaneFetch({ url: \"/dbs/{dbName}/migrations/{mrNumber}/commits\", method: \"post\", ...variables, signal });\nconst compareMigrationRequest = (variables, signal) => dataPlaneFetch({ url: \"/dbs/{dbName}/migrations/{mrNumber}/compare\", method: \"post\", ...variables, signal });\nconst getMigrationRequestIsMerged = (variables, signal) => dataPlaneFetch({ url: \"/dbs/{dbName}/migrations/{mrNumber}/merge\", method: \"get\", ...variables, signal });\nconst mergeMigrationRequest = (variables, signal) => dataPlaneFetch({\n  url: \"/dbs/{dbName}/migrations/{mrNumber}/merge\",\n  method: \"post\",\n  ...variables,\n  signal\n});\nconst getBranchSchemaHistory = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/schema/history\", method: \"post\", ...variables, signal });\nconst compareBranchWithUserSchema = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/schema/compare\", method: \"post\", ...variables, signal });\nconst compareBranchSchemas = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/schema/compare/{branchName}\", method: \"post\", ...variables, signal });\nconst updateBranchSchema = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/schema/update\", method: \"post\", ...variables, signal });\nconst previewBranchSchemaEdit = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/schema/preview\", method: \"post\", ...variables, signal });\nconst applyBranchSchemaEdit = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/schema/apply\", method: \"post\", ...variables, signal });\nconst pushBranchMigrations = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/schema/push\", method: \"post\", ...variables, signal });\nconst createTable = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/tables/{tableName}\",\n  method: \"put\",\n  ...variables,\n  signal\n});\nconst deleteTable = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/tables/{tableName}\",\n  method: \"delete\",\n  ...variables,\n  signal\n});\nconst updateTable = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/tables/{tableName}\", method: \"patch\", ...variables, signal });\nconst getTableSchema = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/tables/{tableName}/schema\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst setTableSchema = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/tables/{tableName}/schema\", method: \"put\", ...variables, signal });\nconst getTableColumns = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/tables/{tableName}/columns\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst addTableColumn = (variables, signal) => dataPlaneFetch(\n  { url: \"/db/{dbBranchName}/tables/{tableName}/columns\", method: \"post\", ...variables, signal }\n);\nconst getColumn = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/tables/{tableName}/columns/{columnName}\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst updateColumn = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/tables/{tableName}/columns/{columnName}\", method: \"patch\", ...variables, signal });\nconst deleteColumn = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/tables/{tableName}/columns/{columnName}\",\n  method: \"delete\",\n  ...variables,\n  signal\n});\nconst branchTransaction = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/transaction\", method: \"post\", ...variables, signal });\nconst insertRecord = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/tables/{tableName}/data\", method: \"post\", ...variables, signal });\nconst getFileItem = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/tables/{tableName}/data/{recordId}/column/{columnName}/file/{fileId}\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst putFileItem = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/tables/{tableName}/data/{recordId}/column/{columnName}/file/{fileId}\",\n  method: \"put\",\n  ...variables,\n  signal\n});\nconst deleteFileItem = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/tables/{tableName}/data/{recordId}/column/{columnName}/file/{fileId}\",\n  method: \"delete\",\n  ...variables,\n  signal\n});\nconst getFile = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/tables/{tableName}/data/{recordId}/column/{columnName}/file\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst putFile = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/tables/{tableName}/data/{recordId}/column/{columnName}/file\",\n  method: \"put\",\n  ...variables,\n  signal\n});\nconst deleteFile = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/tables/{tableName}/data/{recordId}/column/{columnName}/file\",\n  method: \"delete\",\n  ...variables,\n  signal\n});\nconst getRecord = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/tables/{tableName}/data/{recordId}\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst insertRecordWithID = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/tables/{tableName}/data/{recordId}\", method: \"put\", ...variables, signal });\nconst updateRecordWithID = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/tables/{tableName}/data/{recordId}\", method: \"patch\", ...variables, signal });\nconst upsertRecordWithID = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/tables/{tableName}/data/{recordId}\", method: \"post\", ...variables, signal });\nconst deleteRecord = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/tables/{tableName}/data/{recordId}\", method: \"delete\", ...variables, signal });\nconst bulkInsertTableRecords = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/tables/{tableName}/bulk\", method: \"post\", ...variables, signal });\nconst queryTable = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/tables/{tableName}/query\",\n  method: \"post\",\n  ...variables,\n  signal\n});\nconst searchBranch = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/search\",\n  method: \"post\",\n  ...variables,\n  signal\n});\nconst searchTable = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/tables/{tableName}/search\",\n  method: \"post\",\n  ...variables,\n  signal\n});\nconst vectorSearchTable = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/tables/{tableName}/vectorSearch\", method: \"post\", ...variables, signal });\nconst askTable = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/tables/{tableName}/ask\",\n  method: \"post\",\n  ...variables,\n  signal\n});\nconst askTableSession = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/tables/{tableName}/ask/{sessionId}\", method: \"post\", ...variables, signal });\nconst summarizeTable = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/tables/{tableName}/summarize\", method: \"post\", ...variables, signal });\nconst aggregateTable = (variables, signal) => dataPlaneFetch({ url: \"/db/{dbBranchName}/tables/{tableName}/aggregate\", method: \"post\", ...variables, signal });\nconst fileAccess = (variables, signal) => dataPlaneFetch({\n  url: \"/file/{fileId}\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst sqlQuery = (variables, signal) => dataPlaneFetch({\n  url: \"/db/{dbBranchName}/sql\",\n  method: \"post\",\n  ...variables,\n  signal\n});\nconst operationsByTag$2 = {\n  branch: {\n    getBranchList,\n    getBranchDetails,\n    createBranch,\n    deleteBranch,\n    copyBranch,\n    updateBranchMetadata,\n    getBranchMetadata,\n    getBranchStats,\n    getGitBranchesMapping,\n    addGitBranchesEntry,\n    removeGitBranchesEntry,\n    resolveBranch\n  },\n  migrations: {\n    getSchema,\n    getBranchMigrationHistory,\n    getBranchMigrationPlan,\n    executeBranchMigrationPlan,\n    getBranchSchemaHistory,\n    compareBranchWithUserSchema,\n    compareBranchSchemas,\n    updateBranchSchema,\n    previewBranchSchemaEdit,\n    applyBranchSchemaEdit,\n    pushBranchMigrations\n  },\n  migrationRequests: {\n    queryMigrationRequests,\n    createMigrationRequest,\n    getMigrationRequest,\n    updateMigrationRequest,\n    listMigrationRequestsCommits,\n    compareMigrationRequest,\n    getMigrationRequestIsMerged,\n    mergeMigrationRequest\n  },\n  table: {\n    createTable,\n    deleteTable,\n    updateTable,\n    getTableSchema,\n    setTableSchema,\n    getTableColumns,\n    addTableColumn,\n    getColumn,\n    updateColumn,\n    deleteColumn\n  },\n  records: {\n    branchTransaction,\n    insertRecord,\n    getRecord,\n    insertRecordWithID,\n    updateRecordWithID,\n    upsertRecordWithID,\n    deleteRecord,\n    bulkInsertTableRecords\n  },\n  files: { getFileItem, putFileItem, deleteFileItem, getFile, putFile, deleteFile, fileAccess },\n  searchAndFilter: {\n    queryTable,\n    searchBranch,\n    searchTable,\n    vectorSearchTable,\n    askTable,\n    askTableSession,\n    summarizeTable,\n    aggregateTable\n  },\n  sql: { sqlQuery }\n};\n\nconst controlPlaneFetch = async (options) => fetch$1({ ...options, endpoint: \"controlPlane\" });\n\nconst getAuthorizationCode = (variables, signal) => controlPlaneFetch({ url: \"/oauth/authorize\", method: \"get\", ...variables, signal });\nconst grantAuthorizationCode = (variables, signal) => controlPlaneFetch({ url: \"/oauth/authorize\", method: \"post\", ...variables, signal });\nconst getUser = (variables, signal) => controlPlaneFetch({\n  url: \"/user\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst updateUser = (variables, signal) => controlPlaneFetch({\n  url: \"/user\",\n  method: \"put\",\n  ...variables,\n  signal\n});\nconst deleteUser = (variables, signal) => controlPlaneFetch({\n  url: \"/user\",\n  method: \"delete\",\n  ...variables,\n  signal\n});\nconst getUserAPIKeys = (variables, signal) => controlPlaneFetch({\n  url: \"/user/keys\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst createUserAPIKey = (variables, signal) => controlPlaneFetch({\n  url: \"/user/keys/{keyName}\",\n  method: \"post\",\n  ...variables,\n  signal\n});\nconst deleteUserAPIKey = (variables, signal) => controlPlaneFetch({\n  url: \"/user/keys/{keyName}\",\n  method: \"delete\",\n  ...variables,\n  signal\n});\nconst getUserOAuthClients = (variables, signal) => controlPlaneFetch({\n  url: \"/user/oauth/clients\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst deleteUserOAuthClient = (variables, signal) => controlPlaneFetch({\n  url: \"/user/oauth/clients/{clientId}\",\n  method: \"delete\",\n  ...variables,\n  signal\n});\nconst getUserOAuthAccessTokens = (variables, signal) => controlPlaneFetch({\n  url: \"/user/oauth/tokens\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst deleteOAuthAccessToken = (variables, signal) => controlPlaneFetch({\n  url: \"/user/oauth/tokens/{token}\",\n  method: \"delete\",\n  ...variables,\n  signal\n});\nconst updateOAuthAccessToken = (variables, signal) => controlPlaneFetch({ url: \"/user/oauth/tokens/{token}\", method: \"patch\", ...variables, signal });\nconst getWorkspacesList = (variables, signal) => controlPlaneFetch({\n  url: \"/workspaces\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst createWorkspace = (variables, signal) => controlPlaneFetch({\n  url: \"/workspaces\",\n  method: \"post\",\n  ...variables,\n  signal\n});\nconst getWorkspace = (variables, signal) => controlPlaneFetch({\n  url: \"/workspaces/{workspaceId}\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst updateWorkspace = (variables, signal) => controlPlaneFetch({\n  url: \"/workspaces/{workspaceId}\",\n  method: \"put\",\n  ...variables,\n  signal\n});\nconst deleteWorkspace = (variables, signal) => controlPlaneFetch({\n  url: \"/workspaces/{workspaceId}\",\n  method: \"delete\",\n  ...variables,\n  signal\n});\nconst getWorkspaceMembersList = (variables, signal) => controlPlaneFetch({ url: \"/workspaces/{workspaceId}/members\", method: \"get\", ...variables, signal });\nconst updateWorkspaceMemberRole = (variables, signal) => controlPlaneFetch({ url: \"/workspaces/{workspaceId}/members/{userId}\", method: \"put\", ...variables, signal });\nconst removeWorkspaceMember = (variables, signal) => controlPlaneFetch({\n  url: \"/workspaces/{workspaceId}/members/{userId}\",\n  method: \"delete\",\n  ...variables,\n  signal\n});\nconst inviteWorkspaceMember = (variables, signal) => controlPlaneFetch({ url: \"/workspaces/{workspaceId}/invites\", method: \"post\", ...variables, signal });\nconst updateWorkspaceMemberInvite = (variables, signal) => controlPlaneFetch({ url: \"/workspaces/{workspaceId}/invites/{inviteId}\", method: \"patch\", ...variables, signal });\nconst cancelWorkspaceMemberInvite = (variables, signal) => controlPlaneFetch({ url: \"/workspaces/{workspaceId}/invites/{inviteId}\", method: \"delete\", ...variables, signal });\nconst acceptWorkspaceMemberInvite = (variables, signal) => controlPlaneFetch({ url: \"/workspaces/{workspaceId}/invites/{inviteKey}/accept\", method: \"post\", ...variables, signal });\nconst resendWorkspaceMemberInvite = (variables, signal) => controlPlaneFetch({ url: \"/workspaces/{workspaceId}/invites/{inviteId}/resend\", method: \"post\", ...variables, signal });\nconst listClusters = (variables, signal) => controlPlaneFetch({\n  url: \"/workspaces/{workspaceId}/clusters\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst createCluster = (variables, signal) => controlPlaneFetch({ url: \"/workspaces/{workspaceId}/clusters\", method: \"post\", ...variables, signal });\nconst getCluster = (variables, signal) => controlPlaneFetch({\n  url: \"/workspaces/{workspaceId}/clusters/{clusterId}\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst updateCluster = (variables, signal) => controlPlaneFetch({ url: \"/workspaces/{workspaceId}/clusters/{clusterId}\", method: \"patch\", ...variables, signal });\nconst getDatabaseList = (variables, signal) => controlPlaneFetch({\n  url: \"/workspaces/{workspaceId}/dbs\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst createDatabase = (variables, signal) => controlPlaneFetch({ url: \"/workspaces/{workspaceId}/dbs/{dbName}\", method: \"put\", ...variables, signal });\nconst deleteDatabase = (variables, signal) => controlPlaneFetch({\n  url: \"/workspaces/{workspaceId}/dbs/{dbName}\",\n  method: \"delete\",\n  ...variables,\n  signal\n});\nconst getDatabaseMetadata = (variables, signal) => controlPlaneFetch({ url: \"/workspaces/{workspaceId}/dbs/{dbName}\", method: \"get\", ...variables, signal });\nconst updateDatabaseMetadata = (variables, signal) => controlPlaneFetch({ url: \"/workspaces/{workspaceId}/dbs/{dbName}\", method: \"patch\", ...variables, signal });\nconst renameDatabase = (variables, signal) => controlPlaneFetch({ url: \"/workspaces/{workspaceId}/dbs/{dbName}/rename\", method: \"post\", ...variables, signal });\nconst getDatabaseGithubSettings = (variables, signal) => controlPlaneFetch({ url: \"/workspaces/{workspaceId}/dbs/{dbName}/github\", method: \"get\", ...variables, signal });\nconst updateDatabaseGithubSettings = (variables, signal) => controlPlaneFetch({ url: \"/workspaces/{workspaceId}/dbs/{dbName}/github\", method: \"put\", ...variables, signal });\nconst deleteDatabaseGithubSettings = (variables, signal) => controlPlaneFetch({ url: \"/workspaces/{workspaceId}/dbs/{dbName}/github\", method: \"delete\", ...variables, signal });\nconst listRegions = (variables, signal) => controlPlaneFetch({\n  url: \"/workspaces/{workspaceId}/regions\",\n  method: \"get\",\n  ...variables,\n  signal\n});\nconst operationsByTag$1 = {\n  oAuth: {\n    getAuthorizationCode,\n    grantAuthorizationCode,\n    getUserOAuthClients,\n    deleteUserOAuthClient,\n    getUserOAuthAccessTokens,\n    deleteOAuthAccessToken,\n    updateOAuthAccessToken\n  },\n  users: { getUser, updateUser, deleteUser },\n  authentication: { getUserAPIKeys, createUserAPIKey, deleteUserAPIKey },\n  workspaces: {\n    getWorkspacesList,\n    createWorkspace,\n    getWorkspace,\n    updateWorkspace,\n    deleteWorkspace,\n    getWorkspaceMembersList,\n    updateWorkspaceMemberRole,\n    removeWorkspaceMember\n  },\n  invites: {\n    inviteWorkspaceMember,\n    updateWorkspaceMemberInvite,\n    cancelWorkspaceMemberInvite,\n    acceptWorkspaceMemberInvite,\n    resendWorkspaceMemberInvite\n  },\n  xbcontrolOther: { listClusters, createCluster, getCluster, updateCluster },\n  databases: {\n    getDatabaseList,\n    createDatabase,\n    deleteDatabase,\n    getDatabaseMetadata,\n    updateDatabaseMetadata,\n    renameDatabase,\n    getDatabaseGithubSettings,\n    updateDatabaseGithubSettings,\n    deleteDatabaseGithubSettings,\n    listRegions\n  }\n};\n\nconst operationsByTag = deepMerge(operationsByTag$2, operationsByTag$1);\n\nfunction getHostUrl(provider, type) {\n  if (isHostProviderAlias(provider)) {\n    return providers[provider][type];\n  } else if (isHostProviderBuilder(provider)) {\n    return provider[type];\n  }\n  throw new Error(\"Invalid API provider\");\n}\nconst providers = {\n  production: {\n    main: \"https://api.xata.io\",\n    workspaces: \"https://{workspaceId}.{region}.xata.sh\"\n  },\n  staging: {\n    main: \"https://api.staging-xata.dev\",\n    workspaces: \"https://{workspaceId}.{region}.staging-xata.dev\"\n  },\n  dev: {\n    main: \"https://api.dev-xata.dev\",\n    workspaces: \"https://{workspaceId}.{region}.dev-xata.dev\"\n  }\n};\nfunction isHostProviderAlias(alias) {\n  return isString(alias) && Object.keys(providers).includes(alias);\n}\nfunction isHostProviderBuilder(builder) {\n  return isObject(builder) && isString(builder.main) && isString(builder.workspaces);\n}\nfunction parseProviderString(provider = \"production\") {\n  if (isHostProviderAlias(provider)) {\n    return provider;\n  }\n  const [main, workspaces] = provider.split(\",\");\n  if (!main || !workspaces)\n    return null;\n  return { main, workspaces };\n}\nfunction buildProviderString(provider) {\n  if (isHostProviderAlias(provider))\n    return provider;\n  return `${provider.main},${provider.workspaces}`;\n}\nfunction parseWorkspacesUrlParts(url) {\n  if (!isString(url))\n    return null;\n  const regex = /(?:https:\\/\\/)?([^.]+)(?:\\.([^.]+))\\.xata\\.sh.*/;\n  const regexDev = /(?:https:\\/\\/)?([^.]+)(?:\\.([^.]+))\\.dev-xata\\.dev.*/;\n  const regexStaging = /(?:https:\\/\\/)?([^.]+)(?:\\.([^.]+))\\.staging-xata\\.dev.*/;\n  const regexProdTesting = /(?:https:\\/\\/)?([^.]+)(?:\\.([^.]+))\\.xata\\.tech.*/;\n  const match = url.match(regex) || url.match(regexDev) || url.match(regexStaging) || url.match(regexProdTesting);\n  if (!match)\n    return null;\n  return { workspace: match[1], region: match[2] };\n}\n\nvar __accessCheck$7 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$7 = (obj, member, getter) => {\n  __accessCheck$7(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$7 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$7 = (obj, member, value, setter) => {\n  __accessCheck$7(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _extraProps, _namespaces;\nclass XataApiClient {\n  constructor(options = {}) {\n    __privateAdd$7(this, _extraProps, void 0);\n    __privateAdd$7(this, _namespaces, {});\n    const provider = options.host ?? \"production\";\n    const apiKey = options.apiKey ?? getAPIKey();\n    const trace = options.trace ?? defaultTrace;\n    const clientID = generateUUID();\n    if (!apiKey) {\n      throw new Error(\"Could not resolve a valid apiKey\");\n    }\n    __privateSet$7(this, _extraProps, {\n      apiUrl: getHostUrl(provider, \"main\"),\n      workspacesApiUrl: getHostUrl(provider, \"workspaces\"),\n      fetch: getFetchImplementation(options.fetch),\n      apiKey,\n      trace,\n      clientName: options.clientName,\n      xataAgentExtra: options.xataAgentExtra,\n      clientID\n    });\n  }\n  get user() {\n    if (!__privateGet$7(this, _namespaces).user)\n      __privateGet$7(this, _namespaces).user = new UserApi(__privateGet$7(this, _extraProps));\n    return __privateGet$7(this, _namespaces).user;\n  }\n  get authentication() {\n    if (!__privateGet$7(this, _namespaces).authentication)\n      __privateGet$7(this, _namespaces).authentication = new AuthenticationApi(__privateGet$7(this, _extraProps));\n    return __privateGet$7(this, _namespaces).authentication;\n  }\n  get workspaces() {\n    if (!__privateGet$7(this, _namespaces).workspaces)\n      __privateGet$7(this, _namespaces).workspaces = new WorkspaceApi(__privateGet$7(this, _extraProps));\n    return __privateGet$7(this, _namespaces).workspaces;\n  }\n  get invites() {\n    if (!__privateGet$7(this, _namespaces).invites)\n      __privateGet$7(this, _namespaces).invites = new InvitesApi(__privateGet$7(this, _extraProps));\n    return __privateGet$7(this, _namespaces).invites;\n  }\n  get database() {\n    if (!__privateGet$7(this, _namespaces).database)\n      __privateGet$7(this, _namespaces).database = new DatabaseApi(__privateGet$7(this, _extraProps));\n    return __privateGet$7(this, _namespaces).database;\n  }\n  get branches() {\n    if (!__privateGet$7(this, _namespaces).branches)\n      __privateGet$7(this, _namespaces).branches = new BranchApi(__privateGet$7(this, _extraProps));\n    return __privateGet$7(this, _namespaces).branches;\n  }\n  get migrations() {\n    if (!__privateGet$7(this, _namespaces).migrations)\n      __privateGet$7(this, _namespaces).migrations = new MigrationsApi(__privateGet$7(this, _extraProps));\n    return __privateGet$7(this, _namespaces).migrations;\n  }\n  get migrationRequests() {\n    if (!__privateGet$7(this, _namespaces).migrationRequests)\n      __privateGet$7(this, _namespaces).migrationRequests = new MigrationRequestsApi(__privateGet$7(this, _extraProps));\n    return __privateGet$7(this, _namespaces).migrationRequests;\n  }\n  get tables() {\n    if (!__privateGet$7(this, _namespaces).tables)\n      __privateGet$7(this, _namespaces).tables = new TableApi(__privateGet$7(this, _extraProps));\n    return __privateGet$7(this, _namespaces).tables;\n  }\n  get records() {\n    if (!__privateGet$7(this, _namespaces).records)\n      __privateGet$7(this, _namespaces).records = new RecordsApi(__privateGet$7(this, _extraProps));\n    return __privateGet$7(this, _namespaces).records;\n  }\n  get files() {\n    if (!__privateGet$7(this, _namespaces).files)\n      __privateGet$7(this, _namespaces).files = new FilesApi(__privateGet$7(this, _extraProps));\n    return __privateGet$7(this, _namespaces).files;\n  }\n  get searchAndFilter() {\n    if (!__privateGet$7(this, _namespaces).searchAndFilter)\n      __privateGet$7(this, _namespaces).searchAndFilter = new SearchAndFilterApi(__privateGet$7(this, _extraProps));\n    return __privateGet$7(this, _namespaces).searchAndFilter;\n  }\n}\n_extraProps = new WeakMap();\n_namespaces = new WeakMap();\nclass UserApi {\n  constructor(extraProps) {\n    this.extraProps = extraProps;\n  }\n  getUser() {\n    return operationsByTag.users.getUser({ ...this.extraProps });\n  }\n  updateUser({ user }) {\n    return operationsByTag.users.updateUser({ body: user, ...this.extraProps });\n  }\n  deleteUser() {\n    return operationsByTag.users.deleteUser({ ...this.extraProps });\n  }\n}\nclass AuthenticationApi {\n  constructor(extraProps) {\n    this.extraProps = extraProps;\n  }\n  getUserAPIKeys() {\n    return operationsByTag.authentication.getUserAPIKeys({ ...this.extraProps });\n  }\n  createUserAPIKey({ name }) {\n    return operationsByTag.authentication.createUserAPIKey({\n      pathParams: { keyName: name },\n      ...this.extraProps\n    });\n  }\n  deleteUserAPIKey({ name }) {\n    return operationsByTag.authentication.deleteUserAPIKey({\n      pathParams: { keyName: name },\n      ...this.extraProps\n    });\n  }\n}\nclass WorkspaceApi {\n  constructor(extraProps) {\n    this.extraProps = extraProps;\n  }\n  getWorkspacesList() {\n    return operationsByTag.workspaces.getWorkspacesList({ ...this.extraProps });\n  }\n  createWorkspace({ data }) {\n    return operationsByTag.workspaces.createWorkspace({\n      body: data,\n      ...this.extraProps\n    });\n  }\n  getWorkspace({ workspace }) {\n    return operationsByTag.workspaces.getWorkspace({\n      pathParams: { workspaceId: workspace },\n      ...this.extraProps\n    });\n  }\n  updateWorkspace({\n    workspace,\n    update\n  }) {\n    return operationsByTag.workspaces.updateWorkspace({\n      pathParams: { workspaceId: workspace },\n      body: update,\n      ...this.extraProps\n    });\n  }\n  deleteWorkspace({ workspace }) {\n    return operationsByTag.workspaces.deleteWorkspace({\n      pathParams: { workspaceId: workspace },\n      ...this.extraProps\n    });\n  }\n  getWorkspaceMembersList({ workspace }) {\n    return operationsByTag.workspaces.getWorkspaceMembersList({\n      pathParams: { workspaceId: workspace },\n      ...this.extraProps\n    });\n  }\n  updateWorkspaceMemberRole({\n    workspace,\n    user,\n    role\n  }) {\n    return operationsByTag.workspaces.updateWorkspaceMemberRole({\n      pathParams: { workspaceId: workspace, userId: user },\n      body: { role },\n      ...this.extraProps\n    });\n  }\n  removeWorkspaceMember({\n    workspace,\n    user\n  }) {\n    return operationsByTag.workspaces.removeWorkspaceMember({\n      pathParams: { workspaceId: workspace, userId: user },\n      ...this.extraProps\n    });\n  }\n}\nclass InvitesApi {\n  constructor(extraProps) {\n    this.extraProps = extraProps;\n  }\n  inviteWorkspaceMember({\n    workspace,\n    email,\n    role\n  }) {\n    return operationsByTag.invites.inviteWorkspaceMember({\n      pathParams: { workspaceId: workspace },\n      body: { email, role },\n      ...this.extraProps\n    });\n  }\n  updateWorkspaceMemberInvite({\n    workspace,\n    invite,\n    role\n  }) {\n    return operationsByTag.invites.updateWorkspaceMemberInvite({\n      pathParams: { workspaceId: workspace, inviteId: invite },\n      body: { role },\n      ...this.extraProps\n    });\n  }\n  cancelWorkspaceMemberInvite({\n    workspace,\n    invite\n  }) {\n    return operationsByTag.invites.cancelWorkspaceMemberInvite({\n      pathParams: { workspaceId: workspace, inviteId: invite },\n      ...this.extraProps\n    });\n  }\n  acceptWorkspaceMemberInvite({\n    workspace,\n    key\n  }) {\n    return operationsByTag.invites.acceptWorkspaceMemberInvite({\n      pathParams: { workspaceId: workspace, inviteKey: key },\n      ...this.extraProps\n    });\n  }\n  resendWorkspaceMemberInvite({\n    workspace,\n    invite\n  }) {\n    return operationsByTag.invites.resendWorkspaceMemberInvite({\n      pathParams: { workspaceId: workspace, inviteId: invite },\n      ...this.extraProps\n    });\n  }\n}\nclass BranchApi {\n  constructor(extraProps) {\n    this.extraProps = extraProps;\n  }\n  getBranchList({\n    workspace,\n    region,\n    database\n  }) {\n    return operationsByTag.branch.getBranchList({\n      pathParams: { workspace, region, dbName: database },\n      ...this.extraProps\n    });\n  }\n  getBranchDetails({\n    workspace,\n    region,\n    database,\n    branch\n  }) {\n    return operationsByTag.branch.getBranchDetails({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}` },\n      ...this.extraProps\n    });\n  }\n  createBranch({\n    workspace,\n    region,\n    database,\n    branch,\n    from,\n    metadata\n  }) {\n    return operationsByTag.branch.createBranch({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}` },\n      body: { from, metadata },\n      ...this.extraProps\n    });\n  }\n  deleteBranch({\n    workspace,\n    region,\n    database,\n    branch\n  }) {\n    return operationsByTag.branch.deleteBranch({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}` },\n      ...this.extraProps\n    });\n  }\n  copyBranch({\n    workspace,\n    region,\n    database,\n    branch,\n    destinationBranch,\n    limit\n  }) {\n    return operationsByTag.branch.copyBranch({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}` },\n      body: { destinationBranch, limit },\n      ...this.extraProps\n    });\n  }\n  updateBranchMetadata({\n    workspace,\n    region,\n    database,\n    branch,\n    metadata\n  }) {\n    return operationsByTag.branch.updateBranchMetadata({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}` },\n      body: metadata,\n      ...this.extraProps\n    });\n  }\n  getBranchMetadata({\n    workspace,\n    region,\n    database,\n    branch\n  }) {\n    return operationsByTag.branch.getBranchMetadata({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}` },\n      ...this.extraProps\n    });\n  }\n  getBranchStats({\n    workspace,\n    region,\n    database,\n    branch\n  }) {\n    return operationsByTag.branch.getBranchStats({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}` },\n      ...this.extraProps\n    });\n  }\n  getGitBranchesMapping({\n    workspace,\n    region,\n    database\n  }) {\n    return operationsByTag.branch.getGitBranchesMapping({\n      pathParams: { workspace, region, dbName: database },\n      ...this.extraProps\n    });\n  }\n  addGitBranchesEntry({\n    workspace,\n    region,\n    database,\n    gitBranch,\n    xataBranch\n  }) {\n    return operationsByTag.branch.addGitBranchesEntry({\n      pathParams: { workspace, region, dbName: database },\n      body: { gitBranch, xataBranch },\n      ...this.extraProps\n    });\n  }\n  removeGitBranchesEntry({\n    workspace,\n    region,\n    database,\n    gitBranch\n  }) {\n    return operationsByTag.branch.removeGitBranchesEntry({\n      pathParams: { workspace, region, dbName: database },\n      queryParams: { gitBranch },\n      ...this.extraProps\n    });\n  }\n  resolveBranch({\n    workspace,\n    region,\n    database,\n    gitBranch,\n    fallbackBranch\n  }) {\n    return operationsByTag.branch.resolveBranch({\n      pathParams: { workspace, region, dbName: database },\n      queryParams: { gitBranch, fallbackBranch },\n      ...this.extraProps\n    });\n  }\n}\nclass TableApi {\n  constructor(extraProps) {\n    this.extraProps = extraProps;\n  }\n  createTable({\n    workspace,\n    region,\n    database,\n    branch,\n    table\n  }) {\n    return operationsByTag.table.createTable({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table },\n      ...this.extraProps\n    });\n  }\n  deleteTable({\n    workspace,\n    region,\n    database,\n    branch,\n    table\n  }) {\n    return operationsByTag.table.deleteTable({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table },\n      ...this.extraProps\n    });\n  }\n  updateTable({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    update\n  }) {\n    return operationsByTag.table.updateTable({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table },\n      body: update,\n      ...this.extraProps\n    });\n  }\n  getTableSchema({\n    workspace,\n    region,\n    database,\n    branch,\n    table\n  }) {\n    return operationsByTag.table.getTableSchema({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table },\n      ...this.extraProps\n    });\n  }\n  setTableSchema({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    schema\n  }) {\n    return operationsByTag.table.setTableSchema({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table },\n      body: schema,\n      ...this.extraProps\n    });\n  }\n  getTableColumns({\n    workspace,\n    region,\n    database,\n    branch,\n    table\n  }) {\n    return operationsByTag.table.getTableColumns({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table },\n      ...this.extraProps\n    });\n  }\n  addTableColumn({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    column\n  }) {\n    return operationsByTag.table.addTableColumn({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table },\n      body: column,\n      ...this.extraProps\n    });\n  }\n  getColumn({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    column\n  }) {\n    return operationsByTag.table.getColumn({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table, columnName: column },\n      ...this.extraProps\n    });\n  }\n  updateColumn({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    column,\n    update\n  }) {\n    return operationsByTag.table.updateColumn({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table, columnName: column },\n      body: update,\n      ...this.extraProps\n    });\n  }\n  deleteColumn({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    column\n  }) {\n    return operationsByTag.table.deleteColumn({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table, columnName: column },\n      ...this.extraProps\n    });\n  }\n}\nclass RecordsApi {\n  constructor(extraProps) {\n    this.extraProps = extraProps;\n  }\n  insertRecord({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    record,\n    columns\n  }) {\n    return operationsByTag.records.insertRecord({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table },\n      queryParams: { columns },\n      body: record,\n      ...this.extraProps\n    });\n  }\n  getRecord({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    id,\n    columns\n  }) {\n    return operationsByTag.records.getRecord({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table, recordId: id },\n      queryParams: { columns },\n      ...this.extraProps\n    });\n  }\n  insertRecordWithID({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    id,\n    record,\n    columns,\n    createOnly,\n    ifVersion\n  }) {\n    return operationsByTag.records.insertRecordWithID({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table, recordId: id },\n      queryParams: { columns, createOnly, ifVersion },\n      body: record,\n      ...this.extraProps\n    });\n  }\n  updateRecordWithID({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    id,\n    record,\n    columns,\n    ifVersion\n  }) {\n    return operationsByTag.records.updateRecordWithID({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table, recordId: id },\n      queryParams: { columns, ifVersion },\n      body: record,\n      ...this.extraProps\n    });\n  }\n  upsertRecordWithID({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    id,\n    record,\n    columns,\n    ifVersion\n  }) {\n    return operationsByTag.records.upsertRecordWithID({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table, recordId: id },\n      queryParams: { columns, ifVersion },\n      body: record,\n      ...this.extraProps\n    });\n  }\n  deleteRecord({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    id,\n    columns\n  }) {\n    return operationsByTag.records.deleteRecord({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table, recordId: id },\n      queryParams: { columns },\n      ...this.extraProps\n    });\n  }\n  bulkInsertTableRecords({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    records,\n    columns\n  }) {\n    return operationsByTag.records.bulkInsertTableRecords({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table },\n      queryParams: { columns },\n      body: { records },\n      ...this.extraProps\n    });\n  }\n  branchTransaction({\n    workspace,\n    region,\n    database,\n    branch,\n    operations\n  }) {\n    return operationsByTag.records.branchTransaction({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}` },\n      body: { operations },\n      ...this.extraProps\n    });\n  }\n}\nclass FilesApi {\n  constructor(extraProps) {\n    this.extraProps = extraProps;\n  }\n  getFileItem({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    record,\n    column,\n    fileId\n  }) {\n    return operationsByTag.files.getFileItem({\n      pathParams: {\n        workspace,\n        region,\n        dbBranchName: `${database}:${branch}`,\n        tableName: table,\n        recordId: record,\n        columnName: column,\n        fileId\n      },\n      ...this.extraProps\n    });\n  }\n  putFileItem({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    record,\n    column,\n    fileId,\n    file\n  }) {\n    return operationsByTag.files.putFileItem({\n      pathParams: {\n        workspace,\n        region,\n        dbBranchName: `${database}:${branch}`,\n        tableName: table,\n        recordId: record,\n        columnName: column,\n        fileId\n      },\n      // @ts-ignore\n      body: file,\n      ...this.extraProps\n    });\n  }\n  deleteFileItem({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    record,\n    column,\n    fileId\n  }) {\n    return operationsByTag.files.deleteFileItem({\n      pathParams: {\n        workspace,\n        region,\n        dbBranchName: `${database}:${branch}`,\n        tableName: table,\n        recordId: record,\n        columnName: column,\n        fileId\n      },\n      ...this.extraProps\n    });\n  }\n  getFile({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    record,\n    column\n  }) {\n    return operationsByTag.files.getFile({\n      pathParams: {\n        workspace,\n        region,\n        dbBranchName: `${database}:${branch}`,\n        tableName: table,\n        recordId: record,\n        columnName: column\n      },\n      ...this.extraProps\n    });\n  }\n  putFile({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    record,\n    column,\n    file\n  }) {\n    return operationsByTag.files.putFile({\n      pathParams: {\n        workspace,\n        region,\n        dbBranchName: `${database}:${branch}`,\n        tableName: table,\n        recordId: record,\n        columnName: column\n      },\n      body: file,\n      ...this.extraProps\n    });\n  }\n  deleteFile({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    record,\n    column\n  }) {\n    return operationsByTag.files.deleteFile({\n      pathParams: {\n        workspace,\n        region,\n        dbBranchName: `${database}:${branch}`,\n        tableName: table,\n        recordId: record,\n        columnName: column\n      },\n      ...this.extraProps\n    });\n  }\n  fileAccess({\n    workspace,\n    region,\n    fileId,\n    verify\n  }) {\n    return operationsByTag.files.fileAccess({\n      pathParams: {\n        workspace,\n        region,\n        fileId\n      },\n      queryParams: { verify },\n      ...this.extraProps\n    });\n  }\n}\nclass SearchAndFilterApi {\n  constructor(extraProps) {\n    this.extraProps = extraProps;\n  }\n  queryTable({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    filter,\n    sort,\n    page,\n    columns,\n    consistency\n  }) {\n    return operationsByTag.searchAndFilter.queryTable({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table },\n      body: { filter, sort, page, columns, consistency },\n      ...this.extraProps\n    });\n  }\n  searchTable({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    query,\n    fuzziness,\n    target,\n    prefix,\n    filter,\n    highlight,\n    boosters\n  }) {\n    return operationsByTag.searchAndFilter.searchTable({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table },\n      body: { query, fuzziness, target, prefix, filter, highlight, boosters },\n      ...this.extraProps\n    });\n  }\n  searchBranch({\n    workspace,\n    region,\n    database,\n    branch,\n    tables,\n    query,\n    fuzziness,\n    prefix,\n    highlight\n  }) {\n    return operationsByTag.searchAndFilter.searchBranch({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}` },\n      body: { tables, query, fuzziness, prefix, highlight },\n      ...this.extraProps\n    });\n  }\n  vectorSearchTable({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    queryVector,\n    column,\n    similarityFunction,\n    size,\n    filter\n  }) {\n    return operationsByTag.searchAndFilter.vectorSearchTable({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table },\n      body: { queryVector, column, similarityFunction, size, filter },\n      ...this.extraProps\n    });\n  }\n  askTable({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    options\n  }) {\n    return operationsByTag.searchAndFilter.askTable({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table },\n      body: { ...options },\n      ...this.extraProps\n    });\n  }\n  askTableSession({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    sessionId,\n    message\n  }) {\n    return operationsByTag.searchAndFilter.askTableSession({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table, sessionId },\n      body: { message },\n      ...this.extraProps\n    });\n  }\n  summarizeTable({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    filter,\n    columns,\n    summaries,\n    sort,\n    summariesFilter,\n    page,\n    consistency\n  }) {\n    return operationsByTag.searchAndFilter.summarizeTable({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table },\n      body: { filter, columns, summaries, sort, summariesFilter, page, consistency },\n      ...this.extraProps\n    });\n  }\n  aggregateTable({\n    workspace,\n    region,\n    database,\n    branch,\n    table,\n    filter,\n    aggs\n  }) {\n    return operationsByTag.searchAndFilter.aggregateTable({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, tableName: table },\n      body: { filter, aggs },\n      ...this.extraProps\n    });\n  }\n}\nclass MigrationRequestsApi {\n  constructor(extraProps) {\n    this.extraProps = extraProps;\n  }\n  queryMigrationRequests({\n    workspace,\n    region,\n    database,\n    filter,\n    sort,\n    page,\n    columns\n  }) {\n    return operationsByTag.migrationRequests.queryMigrationRequests({\n      pathParams: { workspace, region, dbName: database },\n      body: { filter, sort, page, columns },\n      ...this.extraProps\n    });\n  }\n  createMigrationRequest({\n    workspace,\n    region,\n    database,\n    migration\n  }) {\n    return operationsByTag.migrationRequests.createMigrationRequest({\n      pathParams: { workspace, region, dbName: database },\n      body: migration,\n      ...this.extraProps\n    });\n  }\n  getMigrationRequest({\n    workspace,\n    region,\n    database,\n    migrationRequest\n  }) {\n    return operationsByTag.migrationRequests.getMigrationRequest({\n      pathParams: { workspace, region, dbName: database, mrNumber: migrationRequest },\n      ...this.extraProps\n    });\n  }\n  updateMigrationRequest({\n    workspace,\n    region,\n    database,\n    migrationRequest,\n    update\n  }) {\n    return operationsByTag.migrationRequests.updateMigrationRequest({\n      pathParams: { workspace, region, dbName: database, mrNumber: migrationRequest },\n      body: update,\n      ...this.extraProps\n    });\n  }\n  listMigrationRequestsCommits({\n    workspace,\n    region,\n    database,\n    migrationRequest,\n    page\n  }) {\n    return operationsByTag.migrationRequests.listMigrationRequestsCommits({\n      pathParams: { workspace, region, dbName: database, mrNumber: migrationRequest },\n      body: { page },\n      ...this.extraProps\n    });\n  }\n  compareMigrationRequest({\n    workspace,\n    region,\n    database,\n    migrationRequest\n  }) {\n    return operationsByTag.migrationRequests.compareMigrationRequest({\n      pathParams: { workspace, region, dbName: database, mrNumber: migrationRequest },\n      ...this.extraProps\n    });\n  }\n  getMigrationRequestIsMerged({\n    workspace,\n    region,\n    database,\n    migrationRequest\n  }) {\n    return operationsByTag.migrationRequests.getMigrationRequestIsMerged({\n      pathParams: { workspace, region, dbName: database, mrNumber: migrationRequest },\n      ...this.extraProps\n    });\n  }\n  mergeMigrationRequest({\n    workspace,\n    region,\n    database,\n    migrationRequest\n  }) {\n    return operationsByTag.migrationRequests.mergeMigrationRequest({\n      pathParams: { workspace, region, dbName: database, mrNumber: migrationRequest },\n      ...this.extraProps\n    });\n  }\n}\nclass MigrationsApi {\n  constructor(extraProps) {\n    this.extraProps = extraProps;\n  }\n  getBranchMigrationHistory({\n    workspace,\n    region,\n    database,\n    branch,\n    limit,\n    startFrom\n  }) {\n    return operationsByTag.migrations.getBranchMigrationHistory({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}` },\n      body: { limit, startFrom },\n      ...this.extraProps\n    });\n  }\n  getBranchMigrationPlan({\n    workspace,\n    region,\n    database,\n    branch,\n    schema\n  }) {\n    return operationsByTag.migrations.getBranchMigrationPlan({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}` },\n      body: schema,\n      ...this.extraProps\n    });\n  }\n  executeBranchMigrationPlan({\n    workspace,\n    region,\n    database,\n    branch,\n    plan\n  }) {\n    return operationsByTag.migrations.executeBranchMigrationPlan({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}` },\n      body: plan,\n      ...this.extraProps\n    });\n  }\n  getBranchSchemaHistory({\n    workspace,\n    region,\n    database,\n    branch,\n    page\n  }) {\n    return operationsByTag.migrations.getBranchSchemaHistory({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}` },\n      body: { page },\n      ...this.extraProps\n    });\n  }\n  compareBranchWithUserSchema({\n    workspace,\n    region,\n    database,\n    branch,\n    schema,\n    schemaOperations,\n    branchOperations\n  }) {\n    return operationsByTag.migrations.compareBranchWithUserSchema({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}` },\n      body: { schema, schemaOperations, branchOperations },\n      ...this.extraProps\n    });\n  }\n  compareBranchSchemas({\n    workspace,\n    region,\n    database,\n    branch,\n    compare,\n    sourceBranchOperations,\n    targetBranchOperations\n  }) {\n    return operationsByTag.migrations.compareBranchSchemas({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}`, branchName: compare },\n      body: { sourceBranchOperations, targetBranchOperations },\n      ...this.extraProps\n    });\n  }\n  updateBranchSchema({\n    workspace,\n    region,\n    database,\n    branch,\n    migration\n  }) {\n    return operationsByTag.migrations.updateBranchSchema({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}` },\n      body: migration,\n      ...this.extraProps\n    });\n  }\n  previewBranchSchemaEdit({\n    workspace,\n    region,\n    database,\n    branch,\n    data\n  }) {\n    return operationsByTag.migrations.previewBranchSchemaEdit({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}` },\n      body: data,\n      ...this.extraProps\n    });\n  }\n  applyBranchSchemaEdit({\n    workspace,\n    region,\n    database,\n    branch,\n    edits\n  }) {\n    return operationsByTag.migrations.applyBranchSchemaEdit({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}` },\n      body: { edits },\n      ...this.extraProps\n    });\n  }\n  pushBranchMigrations({\n    workspace,\n    region,\n    database,\n    branch,\n    migrations\n  }) {\n    return operationsByTag.migrations.pushBranchMigrations({\n      pathParams: { workspace, region, dbBranchName: `${database}:${branch}` },\n      body: { migrations },\n      ...this.extraProps\n    });\n  }\n}\nclass DatabaseApi {\n  constructor(extraProps) {\n    this.extraProps = extraProps;\n  }\n  getDatabaseList({ workspace }) {\n    return operationsByTag.databases.getDatabaseList({\n      pathParams: { workspaceId: workspace },\n      ...this.extraProps\n    });\n  }\n  createDatabase({\n    workspace,\n    database,\n    data,\n    headers\n  }) {\n    return operationsByTag.databases.createDatabase({\n      pathParams: { workspaceId: workspace, dbName: database },\n      body: data,\n      headers,\n      ...this.extraProps\n    });\n  }\n  deleteDatabase({\n    workspace,\n    database\n  }) {\n    return operationsByTag.databases.deleteDatabase({\n      pathParams: { workspaceId: workspace, dbName: database },\n      ...this.extraProps\n    });\n  }\n  getDatabaseMetadata({\n    workspace,\n    database\n  }) {\n    return operationsByTag.databases.getDatabaseMetadata({\n      pathParams: { workspaceId: workspace, dbName: database },\n      ...this.extraProps\n    });\n  }\n  updateDatabaseMetadata({\n    workspace,\n    database,\n    metadata\n  }) {\n    return operationsByTag.databases.updateDatabaseMetadata({\n      pathParams: { workspaceId: workspace, dbName: database },\n      body: metadata,\n      ...this.extraProps\n    });\n  }\n  renameDatabase({\n    workspace,\n    database,\n    newName\n  }) {\n    return operationsByTag.databases.renameDatabase({\n      pathParams: { workspaceId: workspace, dbName: database },\n      body: { newName },\n      ...this.extraProps\n    });\n  }\n  getDatabaseGithubSettings({\n    workspace,\n    database\n  }) {\n    return operationsByTag.databases.getDatabaseGithubSettings({\n      pathParams: { workspaceId: workspace, dbName: database },\n      ...this.extraProps\n    });\n  }\n  updateDatabaseGithubSettings({\n    workspace,\n    database,\n    settings\n  }) {\n    return operationsByTag.databases.updateDatabaseGithubSettings({\n      pathParams: { workspaceId: workspace, dbName: database },\n      body: settings,\n      ...this.extraProps\n    });\n  }\n  deleteDatabaseGithubSettings({\n    workspace,\n    database\n  }) {\n    return operationsByTag.databases.deleteDatabaseGithubSettings({\n      pathParams: { workspaceId: workspace, dbName: database },\n      ...this.extraProps\n    });\n  }\n  listRegions({ workspace }) {\n    return operationsByTag.databases.listRegions({\n      pathParams: { workspaceId: workspace },\n      ...this.extraProps\n    });\n  }\n}\n\nclass XataApiPlugin {\n  build(options) {\n    return new XataApiClient(options);\n  }\n}\n\nclass XataPlugin {\n}\n\nfunction buildTransformString(transformations) {\n  return transformations.flatMap(\n    (t) => Object.entries(t).map(([key, value]) => {\n      if (key === \"trim\") {\n        const { left = 0, top = 0, right = 0, bottom = 0 } = value;\n        return `${key}=${[top, right, bottom, left].join(\";\")}`;\n      }\n      if (key === \"gravity\" && typeof value === \"object\") {\n        const { x = 0.5, y = 0.5 } = value;\n        return `${key}=${[x, y].join(\"x\")}`;\n      }\n      return `${key}=${value}`;\n    })\n  ).join(\",\");\n}\nfunction transformImage(url, ...transformations) {\n  if (!isDefined(url))\n    return void 0;\n  const newTransformations = buildTransformString(transformations);\n  const { hostname, pathname, search } = new URL(url);\n  const pathParts = pathname.split(\"/\");\n  const transformIndex = pathParts.findIndex((part) => part === \"transform\");\n  const removedItems = transformIndex >= 0 ? pathParts.splice(transformIndex, 2) : [];\n  const transform = `/transform/${[removedItems[1], newTransformations].filter(isDefined).join(\",\")}`;\n  const path = pathParts.join(\"/\");\n  return `https://${hostname}${transform}${path}${search}`;\n}\n\nclass XataFile {\n  constructor(file) {\n    this.id = file.id;\n    this.name = file.name || \"\";\n    this.mediaType = file.mediaType || \"application/octet-stream\";\n    this.base64Content = file.base64Content;\n    this.enablePublicUrl = file.enablePublicUrl ?? false;\n    this.signedUrlTimeout = file.signedUrlTimeout ?? 300;\n    this.size = file.size ?? 0;\n    this.version = file.version ?? 1;\n    this.url = file.url || \"\";\n    this.signedUrl = file.signedUrl;\n    this.attributes = file.attributes || {};\n  }\n  static fromBuffer(buffer, options = {}) {\n    const base64Content = buffer.toString(\"base64\");\n    return new XataFile({ ...options, base64Content });\n  }\n  toBuffer() {\n    if (!this.base64Content) {\n      throw new Error(`File content is not available, please select property \"base64Content\" when querying the file`);\n    }\n    return Buffer.from(this.base64Content, \"base64\");\n  }\n  static fromArrayBuffer(arrayBuffer, options = {}) {\n    const uint8Array = new Uint8Array(arrayBuffer);\n    return this.fromUint8Array(uint8Array, options);\n  }\n  toArrayBuffer() {\n    if (!this.base64Content) {\n      throw new Error(`File content is not available, please select property \"base64Content\" when querying the file`);\n    }\n    const binary = atob(this.base64Content);\n    return new ArrayBuffer(binary.length);\n  }\n  static fromUint8Array(uint8Array, options = {}) {\n    let binary = \"\";\n    for (let i = 0; i < uint8Array.byteLength; i++) {\n      binary += String.fromCharCode(uint8Array[i]);\n    }\n    const base64Content = btoa(binary);\n    return new XataFile({ ...options, base64Content });\n  }\n  toUint8Array() {\n    if (!this.base64Content) {\n      throw new Error(`File content is not available, please select property \"base64Content\" when querying the file`);\n    }\n    const binary = atob(this.base64Content);\n    const uint8Array = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i++) {\n      uint8Array[i] = binary.charCodeAt(i);\n    }\n    return uint8Array;\n  }\n  static async fromBlob(file, options = {}) {\n    const name = options.name ?? file.name;\n    const mediaType = file.type;\n    const arrayBuffer = await file.arrayBuffer();\n    return this.fromArrayBuffer(arrayBuffer, { ...options, name, mediaType });\n  }\n  toBlob() {\n    if (!this.base64Content) {\n      throw new Error(`File content is not available, please select property \"base64Content\" when querying the file`);\n    }\n    const binary = atob(this.base64Content);\n    const uint8Array = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i++) {\n      uint8Array[i] = binary.charCodeAt(i);\n    }\n    return new Blob([uint8Array], { type: this.mediaType });\n  }\n  static fromString(string, options = {}) {\n    const base64Content = btoa(string);\n    return new XataFile({ ...options, base64Content });\n  }\n  toString() {\n    if (!this.base64Content) {\n      throw new Error(`File content is not available, please select property \"base64Content\" when querying the file`);\n    }\n    return atob(this.base64Content);\n  }\n  static fromBase64(base64Content, options = {}) {\n    return new XataFile({ ...options, base64Content });\n  }\n  toBase64() {\n    if (!this.base64Content) {\n      throw new Error(`File content is not available, please select property \"base64Content\" when querying the file`);\n    }\n    return this.base64Content;\n  }\n  transform(...options) {\n    return {\n      url: transformImage(this.url, ...options),\n      signedUrl: transformImage(this.signedUrl, ...options),\n      metadataUrl: transformImage(this.url, ...options, { format: \"json\" }),\n      metadataSignedUrl: transformImage(this.signedUrl, ...options, { format: \"json\" })\n    };\n  }\n}\nconst parseInputFileEntry = async (entry) => {\n  if (!isDefined(entry))\n    return null;\n  const { id, name, mediaType, base64Content, enablePublicUrl, signedUrlTimeout } = await entry;\n  return compactObject({\n    id,\n    // Name cannot be an empty string in our API\n    name: name ? name : void 0,\n    mediaType,\n    base64Content,\n    enablePublicUrl,\n    signedUrlTimeout\n  });\n};\n\nfunction cleanFilter(filter) {\n  if (!isDefined(filter))\n    return void 0;\n  if (!isObject(filter))\n    return filter;\n  const values = Object.fromEntries(\n    Object.entries(filter).reduce((acc, [key, value]) => {\n      if (!isDefined(value))\n        return acc;\n      if (Array.isArray(value)) {\n        const clean = value.map((item) => cleanFilter(item)).filter((item) => isDefined(item));\n        if (clean.length === 0)\n          return acc;\n        return [...acc, [key, clean]];\n      }\n      if (isObject(value)) {\n        const clean = cleanFilter(value);\n        if (!isDefined(clean))\n          return acc;\n        return [...acc, [key, clean]];\n      }\n      return [...acc, [key, value]];\n    }, [])\n  );\n  return Object.keys(values).length > 0 ? values : void 0;\n}\n\nfunction stringifyJson(value) {\n  if (!isDefined(value))\n    return value;\n  if (isString(value))\n    return value;\n  try {\n    return JSON.stringify(value);\n  } catch (e) {\n    return value;\n  }\n}\nfunction parseJson(value) {\n  try {\n    return JSON.parse(value);\n  } catch (e) {\n    return value;\n  }\n}\n\nvar __accessCheck$6 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$6 = (obj, member, getter) => {\n  __accessCheck$6(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$6 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$6 = (obj, member, value, setter) => {\n  __accessCheck$6(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _query, _page;\nclass Page {\n  constructor(query, meta, records = []) {\n    __privateAdd$6(this, _query, void 0);\n    __privateSet$6(this, _query, query);\n    this.meta = meta;\n    this.records = new RecordArray(this, records);\n  }\n  /**\n   * Retrieves the next page of results.\n   * @param size Maximum number of results to be retrieved.\n   * @param offset Number of results to skip when retrieving the results.\n   * @returns The next page or results.\n   */\n  async nextPage(size, offset) {\n    return __privateGet$6(this, _query).getPaginated({ pagination: { size, offset, after: this.meta.page.cursor } });\n  }\n  /**\n   * Retrieves the previous page of results.\n   * @param size Maximum number of results to be retrieved.\n   * @param offset Number of results to skip when retrieving the results.\n   * @returns The previous page or results.\n   */\n  async previousPage(size, offset) {\n    return __privateGet$6(this, _query).getPaginated({ pagination: { size, offset, before: this.meta.page.cursor } });\n  }\n  /**\n   * Retrieves the start page of results.\n   * @param size Maximum number of results to be retrieved.\n   * @param offset Number of results to skip when retrieving the results.\n   * @returns The start page or results.\n   */\n  async startPage(size, offset) {\n    return __privateGet$6(this, _query).getPaginated({ pagination: { size, offset, start: this.meta.page.cursor } });\n  }\n  /**\n   * Retrieves the end page of results.\n   * @param size Maximum number of results to be retrieved.\n   * @param offset Number of results to skip when retrieving the results.\n   * @returns The end page or results.\n   */\n  async endPage(size, offset) {\n    return __privateGet$6(this, _query).getPaginated({ pagination: { size, offset, end: this.meta.page.cursor } });\n  }\n  /**\n   * Shortcut method to check if there will be additional results if the next page of results is retrieved.\n   * @returns Whether or not there will be additional results in the next page of results.\n   */\n  hasNextPage() {\n    return this.meta.page.more;\n  }\n}\n_query = new WeakMap();\nconst PAGINATION_MAX_SIZE = 1e3;\nconst PAGINATION_DEFAULT_SIZE = 20;\nconst PAGINATION_MAX_OFFSET = 49e3;\nconst PAGINATION_DEFAULT_OFFSET = 0;\nfunction isCursorPaginationOptions(options) {\n  return isDefined(options) && (isDefined(options.start) || isDefined(options.end) || isDefined(options.after) || isDefined(options.before));\n}\nconst _RecordArray = class _RecordArray extends Array {\n  constructor(...args) {\n    super(..._RecordArray.parseConstructorParams(...args));\n    __privateAdd$6(this, _page, void 0);\n    __privateSet$6(this, _page, isObject(args[0]?.meta) ? args[0] : { meta: { page: { cursor: \"\", more: false } }, records: [] });\n  }\n  static parseConstructorParams(...args) {\n    if (args.length === 1 && typeof args[0] === \"number\") {\n      return new Array(args[0]);\n    }\n    if (args.length <= 2 && isObject(args[0]?.meta) && Array.isArray(args[1] ?? [])) {\n      const result = args[1] ?? args[0].records ?? [];\n      return new Array(...result);\n    }\n    return new Array(...args);\n  }\n  toArray() {\n    return new Array(...this);\n  }\n  toSerializable() {\n    return JSON.parse(this.toString());\n  }\n  toString() {\n    return JSON.stringify(this.toArray());\n  }\n  map(callbackfn, thisArg) {\n    return this.toArray().map(callbackfn, thisArg);\n  }\n  /**\n   * Retrieve next page of records\n   *\n   * @returns A new array of objects\n   */\n  async nextPage(size, offset) {\n    const newPage = await __privateGet$6(this, _page).nextPage(size, offset);\n    return new _RecordArray(newPage);\n  }\n  /**\n   * Retrieve previous page of records\n   *\n   * @returns A new array of objects\n   */\n  async previousPage(size, offset) {\n    const newPage = await __privateGet$6(this, _page).previousPage(size, offset);\n    return new _RecordArray(newPage);\n  }\n  /**\n   * Retrieve start page of records\n   *\n   * @returns A new array of objects\n   */\n  async startPage(size, offset) {\n    const newPage = await __privateGet$6(this, _page).startPage(size, offset);\n    return new _RecordArray(newPage);\n  }\n  /**\n   * Retrieve end page of records\n   *\n   * @returns A new array of objects\n   */\n  async endPage(size, offset) {\n    const newPage = await __privateGet$6(this, _page).endPage(size, offset);\n    return new _RecordArray(newPage);\n  }\n  /**\n   * @returns Boolean indicating if there is a next page\n   */\n  hasNextPage() {\n    return __privateGet$6(this, _page).meta.page.more;\n  }\n};\n_page = new WeakMap();\nlet RecordArray = _RecordArray;\n\nvar __accessCheck$5 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$5 = (obj, member, getter) => {\n  __accessCheck$5(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$5 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$5 = (obj, member, value, setter) => {\n  __accessCheck$5(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod$3 = (obj, member, method) => {\n  __accessCheck$5(obj, member, \"access private method\");\n  return method;\n};\nvar _table$1, _repository, _data, _cleanFilterConstraint, cleanFilterConstraint_fn;\nconst _Query = class _Query {\n  constructor(repository, table, data, rawParent) {\n    __privateAdd$5(this, _cleanFilterConstraint);\n    __privateAdd$5(this, _table$1, void 0);\n    __privateAdd$5(this, _repository, void 0);\n    __privateAdd$5(this, _data, { filter: {} });\n    // Implements pagination\n    this.meta = { page: { cursor: \"start\", more: true, size: PAGINATION_DEFAULT_SIZE } };\n    this.records = new RecordArray(this, []);\n    __privateSet$5(this, _table$1, table);\n    if (repository) {\n      __privateSet$5(this, _repository, repository);\n    } else {\n      __privateSet$5(this, _repository, this);\n    }\n    const parent = cleanParent(data, rawParent);\n    __privateGet$5(this, _data).filter = data.filter ?? parent?.filter ?? {};\n    __privateGet$5(this, _data).filter.$any = data.filter?.$any ?? parent?.filter?.$any;\n    __privateGet$5(this, _data).filter.$all = data.filter?.$all ?? parent?.filter?.$all;\n    __privateGet$5(this, _data).filter.$not = data.filter?.$not ?? parent?.filter?.$not;\n    __privateGet$5(this, _data).filter.$none = data.filter?.$none ?? parent?.filter?.$none;\n    __privateGet$5(this, _data).sort = data.sort ?? parent?.sort;\n    __privateGet$5(this, _data).columns = data.columns ?? parent?.columns;\n    __privateGet$5(this, _data).consistency = data.consistency ?? parent?.consistency;\n    __privateGet$5(this, _data).pagination = data.pagination ?? parent?.pagination;\n    __privateGet$5(this, _data).cache = data.cache ?? parent?.cache;\n    __privateGet$5(this, _data).fetchOptions = data.fetchOptions ?? parent?.fetchOptions;\n    this.any = this.any.bind(this);\n    this.all = this.all.bind(this);\n    this.not = this.not.bind(this);\n    this.filter = this.filter.bind(this);\n    this.sort = this.sort.bind(this);\n    this.none = this.none.bind(this);\n    Object.defineProperty(this, \"table\", { enumerable: false });\n    Object.defineProperty(this, \"repository\", { enumerable: false });\n  }\n  getQueryOptions() {\n    return __privateGet$5(this, _data);\n  }\n  key() {\n    const { columns = [], filter = {}, sort = [], pagination = {} } = __privateGet$5(this, _data);\n    const key = JSON.stringify({ columns, filter, sort, pagination });\n    return toBase64(key);\n  }\n  /**\n   * Builds a new query object representing a logical OR between the given subqueries.\n   * @param queries An array of subqueries.\n   * @returns A new Query object.\n   */\n  any(...queries) {\n    const $any = queries.map((query) => query.getQueryOptions().filter ?? {});\n    return new _Query(__privateGet$5(this, _repository), __privateGet$5(this, _table$1), { filter: { $any } }, __privateGet$5(this, _data));\n  }\n  /**\n   * Builds a new query object representing a logical AND between the given subqueries.\n   * @param queries An array of subqueries.\n   * @returns A new Query object.\n   */\n  all(...queries) {\n    const $all = queries.map((query) => query.getQueryOptions().filter ?? {});\n    return new _Query(__privateGet$5(this, _repository), __privateGet$5(this, _table$1), { filter: { $all } }, __privateGet$5(this, _data));\n  }\n  /**\n   * Builds a new query object representing a logical OR negating each subquery. In pseudo-code: !q1 OR !q2\n   * @param queries An array of subqueries.\n   * @returns A new Query object.\n   */\n  not(...queries) {\n    const $not = queries.map((query) => query.getQueryOptions().filter ?? {});\n    return new _Query(__privateGet$5(this, _repository), __privateGet$5(this, _table$1), { filter: { $not } }, __privateGet$5(this, _data));\n  }\n  /**\n   * Builds a new query object representing a logical AND negating each subquery. In pseudo-code: !q1 AND !q2\n   * @param queries An array of subqueries.\n   * @returns A new Query object.\n   */\n  none(...queries) {\n    const $none = queries.map((query) => query.getQueryOptions().filter ?? {});\n    return new _Query(__privateGet$5(this, _repository), __privateGet$5(this, _table$1), { filter: { $none } }, __privateGet$5(this, _data));\n  }\n  filter(a, b) {\n    if (arguments.length === 1) {\n      const constraints = Object.entries(a ?? {}).map(([column, constraint]) => ({\n        [column]: __privateMethod$3(this, _cleanFilterConstraint, cleanFilterConstraint_fn).call(this, column, constraint)\n      }));\n      const $all = compact([__privateGet$5(this, _data).filter?.$all].flat().concat(constraints));\n      return new _Query(__privateGet$5(this, _repository), __privateGet$5(this, _table$1), { filter: { $all } }, __privateGet$5(this, _data));\n    } else {\n      const constraints = isDefined(a) && isDefined(b) ? [{ [a]: __privateMethod$3(this, _cleanFilterConstraint, cleanFilterConstraint_fn).call(this, a, b) }] : void 0;\n      const $all = compact([__privateGet$5(this, _data).filter?.$all].flat().concat(constraints));\n      return new _Query(__privateGet$5(this, _repository), __privateGet$5(this, _table$1), { filter: { $all } }, __privateGet$5(this, _data));\n    }\n  }\n  sort(column, direction = \"asc\") {\n    const originalSort = [__privateGet$5(this, _data).sort ?? []].flat();\n    const sort = [...originalSort, { column, direction }];\n    return new _Query(__privateGet$5(this, _repository), __privateGet$5(this, _table$1), { sort }, __privateGet$5(this, _data));\n  }\n  /**\n   * Builds a new query specifying the set of columns to be returned in the query response.\n   * @param columns Array of column names to be returned by the query.\n   * @returns A new Query object.\n   */\n  select(columns) {\n    return new _Query(\n      __privateGet$5(this, _repository),\n      __privateGet$5(this, _table$1),\n      { columns },\n      __privateGet$5(this, _data)\n    );\n  }\n  getPaginated(options = {}) {\n    const query = new _Query(__privateGet$5(this, _repository), __privateGet$5(this, _table$1), options, __privateGet$5(this, _data));\n    return __privateGet$5(this, _repository).query(query);\n  }\n  /**\n   * Get results in an iterator\n   *\n   * @async\n   * @returns Async interable of results\n   */\n  async *[Symbol.asyncIterator]() {\n    for await (const [record] of this.getIterator({ batchSize: 1 })) {\n      yield record;\n    }\n  }\n  async *getIterator(options = {}) {\n    const { batchSize = 1 } = options;\n    let page = await this.getPaginated({ ...options, pagination: { size: batchSize, offset: 0 } });\n    let more = page.hasNextPage();\n    yield page.records;\n    while (more) {\n      page = await page.nextPage();\n      more = page.hasNextPage();\n      yield page.records;\n    }\n  }\n  async getMany(options = {}) {\n    const { pagination = {}, ...rest } = options;\n    const { size = PAGINATION_DEFAULT_SIZE, offset } = pagination;\n    const batchSize = size <= PAGINATION_MAX_SIZE ? size : PAGINATION_MAX_SIZE;\n    let page = await this.getPaginated({ ...rest, pagination: { size: batchSize, offset } });\n    const results = [...page.records];\n    while (page.hasNextPage() && results.length < size) {\n      page = await page.nextPage();\n      results.push(...page.records);\n    }\n    if (page.hasNextPage() && options.pagination?.size === void 0) {\n      console.trace(\"Calling getMany does not return all results. Paginate to get all results or call getAll.\");\n    }\n    const array = new RecordArray(page, results.slice(0, size));\n    return array;\n  }\n  async getAll(options = {}) {\n    const { batchSize = PAGINATION_MAX_SIZE, ...rest } = options;\n    const results = [];\n    for await (const page of this.getIterator({ ...rest, batchSize })) {\n      results.push(...page);\n    }\n    return results;\n  }\n  async getFirst(options = {}) {\n    const records = await this.getMany({ ...options, pagination: { size: 1 } });\n    return records[0] ?? null;\n  }\n  async getFirstOrThrow(options = {}) {\n    const records = await this.getMany({ ...options, pagination: { size: 1 } });\n    if (records[0] === void 0)\n      throw new Error(\"No results found.\");\n    return records[0];\n  }\n  async summarize(params = {}) {\n    const { summaries, summariesFilter, ...options } = params;\n    const query = new _Query(\n      __privateGet$5(this, _repository),\n      __privateGet$5(this, _table$1),\n      options,\n      __privateGet$5(this, _data)\n    );\n    return __privateGet$5(this, _repository).summarizeTable(query, summaries, summariesFilter);\n  }\n  /**\n   * Builds a new query object adding a cache TTL in milliseconds.\n   * @param ttl The cache TTL in milliseconds.\n   * @returns A new Query object.\n   */\n  cache(ttl) {\n    return new _Query(__privateGet$5(this, _repository), __privateGet$5(this, _table$1), { cache: ttl }, __privateGet$5(this, _data));\n  }\n  /**\n   * Retrieve next page of records\n   *\n   * @returns A new page object.\n   */\n  nextPage(size, offset) {\n    return this.startPage(size, offset);\n  }\n  /**\n   * Retrieve previous page of records\n   *\n   * @returns A new page object\n   */\n  previousPage(size, offset) {\n    return this.startPage(size, offset);\n  }\n  /**\n   * Retrieve start page of records\n   *\n   * @returns A new page object\n   */\n  startPage(size, offset) {\n    return this.getPaginated({ pagination: { size, offset } });\n  }\n  /**\n   * Retrieve last page of records\n   *\n   * @returns A new page object\n   */\n  endPage(size, offset) {\n    return this.getPaginated({ pagination: { size, offset, before: \"end\" } });\n  }\n  /**\n   * @returns Boolean indicating if there is a next page\n   */\n  hasNextPage() {\n    return this.meta.page.more;\n  }\n};\n_table$1 = new WeakMap();\n_repository = new WeakMap();\n_data = new WeakMap();\n_cleanFilterConstraint = new WeakSet();\ncleanFilterConstraint_fn = function(column, value) {\n  const columnType = __privateGet$5(this, _table$1).schema?.columns.find(({ name }) => name === column)?.type;\n  if (columnType === \"multiple\" && (isString(value) || isStringArray(value))) {\n    return { $includes: value };\n  }\n  if (columnType === \"link\" && isObject(value) && isString(value.id)) {\n    return value.id;\n  }\n  return value;\n};\nlet Query = _Query;\nfunction cleanParent(data, parent) {\n  if (isCursorPaginationOptions(data.pagination)) {\n    return { ...parent, sort: void 0, filter: void 0 };\n  }\n  return parent;\n}\n\nconst RecordColumnTypes = [\n  \"bool\",\n  \"int\",\n  \"float\",\n  \"string\",\n  \"text\",\n  \"email\",\n  \"multiple\",\n  \"link\",\n  \"object\",\n  \"datetime\",\n  \"vector\",\n  \"file[]\",\n  \"file\",\n  \"json\"\n];\nfunction isIdentifiable(x) {\n  return isObject(x) && isString(x?.id);\n}\nfunction isXataRecord(x) {\n  const record = x;\n  const metadata = record?.getMetadata();\n  return isIdentifiable(x) && isObject(metadata) && typeof metadata.version === \"number\";\n}\n\nfunction isValidExpandedColumn(column) {\n  return isObject(column) && isString(column.name);\n}\nfunction isValidSelectableColumns(columns) {\n  if (!Array.isArray(columns)) {\n    return false;\n  }\n  return columns.every((column) => {\n    if (typeof column === \"string\") {\n      return true;\n    }\n    if (typeof column === \"object\") {\n      return isValidExpandedColumn(column);\n    }\n    return false;\n  });\n}\n\nfunction isSortFilterString(value) {\n  return isString(value);\n}\nfunction isSortFilterBase(filter) {\n  return isObject(filter) && Object.entries(filter).every(([key, value]) => {\n    if (key === \"*\")\n      return value === \"random\";\n    return value === \"asc\" || value === \"desc\";\n  });\n}\nfunction isSortFilterObject(filter) {\n  return isObject(filter) && !isSortFilterBase(filter) && filter.column !== void 0;\n}\nfunction buildSortFilter(filter) {\n  if (isSortFilterString(filter)) {\n    return { [filter]: \"asc\" };\n  } else if (Array.isArray(filter)) {\n    return filter.map((item) => buildSortFilter(item));\n  } else if (isSortFilterBase(filter)) {\n    return filter;\n  } else if (isSortFilterObject(filter)) {\n    return { [filter.column]: filter.direction ?? \"asc\" };\n  } else {\n    throw new Error(`Invalid sort filter: ${filter}`);\n  }\n}\n\nvar __accessCheck$4 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$4 = (obj, member, getter) => {\n  __accessCheck$4(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$4 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$4 = (obj, member, value, setter) => {\n  __accessCheck$4(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod$2 = (obj, member, method) => {\n  __accessCheck$4(obj, member, \"access private method\");\n  return method;\n};\nvar _table, _getFetchProps, _db, _cache, _schemaTables$2, _trace, _insertRecordWithoutId, insertRecordWithoutId_fn, _insertRecordWithId, insertRecordWithId_fn, _insertRecords, insertRecords_fn, _updateRecordWithID, updateRecordWithID_fn, _updateRecords, updateRecords_fn, _upsertRecordWithID, upsertRecordWithID_fn, _deleteRecord, deleteRecord_fn, _deleteRecords, deleteRecords_fn, _setCacheQuery, setCacheQuery_fn, _getCacheQuery, getCacheQuery_fn, _getSchemaTables$1, getSchemaTables_fn$1, _transformObjectToApi, transformObjectToApi_fn;\nconst BULK_OPERATION_MAX_SIZE = 1e3;\nclass Repository extends Query {\n}\nclass RestRepository extends Query {\n  constructor(options) {\n    super(\n      null,\n      { name: options.table, schema: options.schemaTables?.find((table) => table.name === options.table) },\n      {}\n    );\n    __privateAdd$4(this, _insertRecordWithoutId);\n    __privateAdd$4(this, _insertRecordWithId);\n    __privateAdd$4(this, _insertRecords);\n    __privateAdd$4(this, _updateRecordWithID);\n    __privateAdd$4(this, _updateRecords);\n    __privateAdd$4(this, _upsertRecordWithID);\n    __privateAdd$4(this, _deleteRecord);\n    __privateAdd$4(this, _deleteRecords);\n    __privateAdd$4(this, _setCacheQuery);\n    __privateAdd$4(this, _getCacheQuery);\n    __privateAdd$4(this, _getSchemaTables$1);\n    __privateAdd$4(this, _transformObjectToApi);\n    __privateAdd$4(this, _table, void 0);\n    __privateAdd$4(this, _getFetchProps, void 0);\n    __privateAdd$4(this, _db, void 0);\n    __privateAdd$4(this, _cache, void 0);\n    __privateAdd$4(this, _schemaTables$2, void 0);\n    __privateAdd$4(this, _trace, void 0);\n    __privateSet$4(this, _table, options.table);\n    __privateSet$4(this, _db, options.db);\n    __privateSet$4(this, _cache, options.pluginOptions.cache);\n    __privateSet$4(this, _schemaTables$2, options.schemaTables);\n    __privateSet$4(this, _getFetchProps, () => ({ ...options.pluginOptions, sessionID: generateUUID() }));\n    const trace = options.pluginOptions.trace ?? defaultTrace;\n    __privateSet$4(this, _trace, async (name, fn, options2 = {}) => {\n      return trace(name, fn, {\n        ...options2,\n        [TraceAttributes.TABLE]: __privateGet$4(this, _table),\n        [TraceAttributes.KIND]: \"sdk-operation\",\n        [TraceAttributes.VERSION]: VERSION\n      });\n    });\n  }\n  async create(a, b, c, d) {\n    return __privateGet$4(this, _trace).call(this, \"create\", async () => {\n      const ifVersion = parseIfVersion(b, c, d);\n      if (Array.isArray(a)) {\n        if (a.length === 0)\n          return [];\n        const ids = await __privateMethod$2(this, _insertRecords, insertRecords_fn).call(this, a, { ifVersion, createOnly: true });\n        const columns = isValidSelectableColumns(b) ? b : [\"*\"];\n        const result = await this.read(ids, columns);\n        return result;\n      }\n      if (isString(a) && isObject(b)) {\n        if (a === \"\")\n          throw new Error(\"The id can't be empty\");\n        const columns = isValidSelectableColumns(c) ? c : void 0;\n        return await __privateMethod$2(this, _insertRecordWithId, insertRecordWithId_fn).call(this, a, b, columns, { createOnly: true, ifVersion });\n      }\n      if (isObject(a) && isString(a.id)) {\n        if (a.id === \"\")\n          throw new Error(\"The id can't be empty\");\n        const columns = isValidSelectableColumns(b) ? b : void 0;\n        return await __privateMethod$2(this, _insertRecordWithId, insertRecordWithId_fn).call(this, a.id, { ...a, id: void 0 }, columns, { createOnly: true, ifVersion });\n      }\n      if (isObject(a)) {\n        const columns = isValidSelectableColumns(b) ? b : void 0;\n        return __privateMethod$2(this, _insertRecordWithoutId, insertRecordWithoutId_fn).call(this, a, columns);\n      }\n      throw new Error(\"Invalid arguments for create method\");\n    });\n  }\n  async read(a, b) {\n    return __privateGet$4(this, _trace).call(this, \"read\", async () => {\n      const columns = isValidSelectableColumns(b) ? b : [\"*\"];\n      if (Array.isArray(a)) {\n        if (a.length === 0)\n          return [];\n        const ids = a.map((item) => extractId(item));\n        const finalObjects = await this.getAll({ filter: { id: { $any: compact(ids) } }, columns });\n        const dictionary = finalObjects.reduce((acc, object) => {\n          acc[object.id] = object;\n          return acc;\n        }, {});\n        return ids.map((id2) => dictionary[id2 ?? \"\"] ?? null);\n      }\n      const id = extractId(a);\n      if (id) {\n        try {\n          const response = await getRecord({\n            pathParams: {\n              workspace: \"{workspaceId}\",\n              dbBranchName: \"{dbBranch}\",\n              region: \"{region}\",\n              tableName: __privateGet$4(this, _table),\n              recordId: id\n            },\n            queryParams: { columns },\n            ...__privateGet$4(this, _getFetchProps).call(this)\n          });\n          const schemaTables = await __privateMethod$2(this, _getSchemaTables$1, getSchemaTables_fn$1).call(this);\n          return initObject(\n            __privateGet$4(this, _db),\n            schemaTables,\n            __privateGet$4(this, _table),\n            response,\n            columns\n          );\n        } catch (e) {\n          if (isObject(e) && e.status === 404) {\n            return null;\n          }\n          throw e;\n        }\n      }\n      return null;\n    });\n  }\n  async readOrThrow(a, b) {\n    return __privateGet$4(this, _trace).call(this, \"readOrThrow\", async () => {\n      const result = await this.read(a, b);\n      if (Array.isArray(result)) {\n        const missingIds = compact(\n          a.filter((_item, index) => result[index] === null).map((item) => extractId(item))\n        );\n        if (missingIds.length > 0) {\n          throw new Error(`Could not find records with ids: ${missingIds.join(\", \")}`);\n        }\n        return result;\n      }\n      if (result === null) {\n        const id = extractId(a) ?? \"unknown\";\n        throw new Error(`Record with id ${id} not found`);\n      }\n      return result;\n    });\n  }\n  async update(a, b, c, d) {\n    return __privateGet$4(this, _trace).call(this, \"update\", async () => {\n      const ifVersion = parseIfVersion(b, c, d);\n      if (Array.isArray(a)) {\n        if (a.length === 0)\n          return [];\n        const existing = await this.read(a, [\"id\"]);\n        const updates = a.filter((_item, index) => existing[index] !== null);\n        await __privateMethod$2(this, _updateRecords, updateRecords_fn).call(this, updates, {\n          ifVersion,\n          upsert: false\n        });\n        const columns = isValidSelectableColumns(b) ? b : [\"*\"];\n        const result = await this.read(a, columns);\n        return result;\n      }\n      try {\n        if (isString(a) && isObject(b)) {\n          const columns = isValidSelectableColumns(c) ? c : void 0;\n          return await __privateMethod$2(this, _updateRecordWithID, updateRecordWithID_fn).call(this, a, b, columns, { ifVersion });\n        }\n        if (isObject(a) && isString(a.id)) {\n          const columns = isValidSelectableColumns(b) ? b : void 0;\n          return await __privateMethod$2(this, _updateRecordWithID, updateRecordWithID_fn).call(this, a.id, { ...a, id: void 0 }, columns, { ifVersion });\n        }\n      } catch (error) {\n        if (error.status === 422)\n          return null;\n        throw error;\n      }\n      throw new Error(\"Invalid arguments for update method\");\n    });\n  }\n  async updateOrThrow(a, b, c, d) {\n    return __privateGet$4(this, _trace).call(this, \"updateOrThrow\", async () => {\n      const result = await this.update(a, b, c, d);\n      if (Array.isArray(result)) {\n        const missingIds = compact(\n          a.filter((_item, index) => result[index] === null).map((item) => extractId(item))\n        );\n        if (missingIds.length > 0) {\n          throw new Error(`Could not find records with ids: ${missingIds.join(\", \")}`);\n        }\n        return result;\n      }\n      if (result === null) {\n        const id = extractId(a) ?? \"unknown\";\n        throw new Error(`Record with id ${id} not found`);\n      }\n      return result;\n    });\n  }\n  async createOrUpdate(a, b, c, d) {\n    return __privateGet$4(this, _trace).call(this, \"createOrUpdate\", async () => {\n      const ifVersion = parseIfVersion(b, c, d);\n      if (Array.isArray(a)) {\n        if (a.length === 0)\n          return [];\n        await __privateMethod$2(this, _updateRecords, updateRecords_fn).call(this, a, {\n          ifVersion,\n          upsert: true\n        });\n        const columns = isValidSelectableColumns(b) ? b : [\"*\"];\n        const result = await this.read(a, columns);\n        return result;\n      }\n      if (isString(a) && isObject(b)) {\n        if (a === \"\")\n          throw new Error(\"The id can't be empty\");\n        const columns = isValidSelectableColumns(c) ? c : void 0;\n        return await __privateMethod$2(this, _upsertRecordWithID, upsertRecordWithID_fn).call(this, a, b, columns, { ifVersion });\n      }\n      if (isObject(a) && isString(a.id)) {\n        if (a.id === \"\")\n          throw new Error(\"The id can't be empty\");\n        const columns = isValidSelectableColumns(c) ? c : void 0;\n        return await __privateMethod$2(this, _upsertRecordWithID, upsertRecordWithID_fn).call(this, a.id, { ...a, id: void 0 }, columns, { ifVersion });\n      }\n      if (!isDefined(a) && isObject(b)) {\n        return await this.create(b, c);\n      }\n      if (isObject(a) && !isDefined(a.id)) {\n        return await this.create(a, b);\n      }\n      throw new Error(\"Invalid arguments for createOrUpdate method\");\n    });\n  }\n  async createOrReplace(a, b, c, d) {\n    return __privateGet$4(this, _trace).call(this, \"createOrReplace\", async () => {\n      const ifVersion = parseIfVersion(b, c, d);\n      if (Array.isArray(a)) {\n        if (a.length === 0)\n          return [];\n        const ids = await __privateMethod$2(this, _insertRecords, insertRecords_fn).call(this, a, { ifVersion, createOnly: false });\n        const columns = isValidSelectableColumns(b) ? b : [\"*\"];\n        const result = await this.read(ids, columns);\n        return result;\n      }\n      if (isString(a) && isObject(b)) {\n        if (a === \"\")\n          throw new Error(\"The id can't be empty\");\n        const columns = isValidSelectableColumns(c) ? c : void 0;\n        return await __privateMethod$2(this, _insertRecordWithId, insertRecordWithId_fn).call(this, a, b, columns, { createOnly: false, ifVersion });\n      }\n      if (isObject(a) && isString(a.id)) {\n        if (a.id === \"\")\n          throw new Error(\"The id can't be empty\");\n        const columns = isValidSelectableColumns(c) ? c : void 0;\n        return await __privateMethod$2(this, _insertRecordWithId, insertRecordWithId_fn).call(this, a.id, { ...a, id: void 0 }, columns, { createOnly: false, ifVersion });\n      }\n      if (!isDefined(a) && isObject(b)) {\n        return await this.create(b, c);\n      }\n      if (isObject(a) && !isDefined(a.id)) {\n        return await this.create(a, b);\n      }\n      throw new Error(\"Invalid arguments for createOrReplace method\");\n    });\n  }\n  async delete(a, b) {\n    return __privateGet$4(this, _trace).call(this, \"delete\", async () => {\n      if (Array.isArray(a)) {\n        if (a.length === 0)\n          return [];\n        const ids = a.map((o) => {\n          if (isString(o))\n            return o;\n          if (isString(o.id))\n            return o.id;\n          throw new Error(\"Invalid arguments for delete method\");\n        });\n        const columns = isValidSelectableColumns(b) ? b : [\"*\"];\n        const result = await this.read(a, columns);\n        await __privateMethod$2(this, _deleteRecords, deleteRecords_fn).call(this, ids);\n        return result;\n      }\n      if (isString(a)) {\n        return __privateMethod$2(this, _deleteRecord, deleteRecord_fn).call(this, a, b);\n      }\n      if (isObject(a) && isString(a.id)) {\n        return __privateMethod$2(this, _deleteRecord, deleteRecord_fn).call(this, a.id, b);\n      }\n      throw new Error(\"Invalid arguments for delete method\");\n    });\n  }\n  async deleteOrThrow(a, b) {\n    return __privateGet$4(this, _trace).call(this, \"deleteOrThrow\", async () => {\n      const result = await this.delete(a, b);\n      if (Array.isArray(result)) {\n        const missingIds = compact(\n          a.filter((_item, index) => result[index] === null).map((item) => extractId(item))\n        );\n        if (missingIds.length > 0) {\n          throw new Error(`Could not find records with ids: ${missingIds.join(\", \")}`);\n        }\n        return result;\n      } else if (result === null) {\n        const id = extractId(a) ?? \"unknown\";\n        throw new Error(`Record with id ${id} not found`);\n      }\n      return result;\n    });\n  }\n  async search(query, options = {}) {\n    return __privateGet$4(this, _trace).call(this, \"search\", async () => {\n      const { records } = await searchTable({\n        pathParams: {\n          workspace: \"{workspaceId}\",\n          dbBranchName: \"{dbBranch}\",\n          region: \"{region}\",\n          tableName: __privateGet$4(this, _table)\n        },\n        body: {\n          query,\n          fuzziness: options.fuzziness,\n          prefix: options.prefix,\n          highlight: options.highlight,\n          filter: options.filter,\n          boosters: options.boosters,\n          page: options.page,\n          target: options.target\n        },\n        ...__privateGet$4(this, _getFetchProps).call(this)\n      });\n      const schemaTables = await __privateMethod$2(this, _getSchemaTables$1, getSchemaTables_fn$1).call(this);\n      return records.map((item) => initObject(__privateGet$4(this, _db), schemaTables, __privateGet$4(this, _table), item, [\"*\"]));\n    });\n  }\n  async vectorSearch(column, query, options) {\n    return __privateGet$4(this, _trace).call(this, \"vectorSearch\", async () => {\n      const { records } = await vectorSearchTable({\n        pathParams: {\n          workspace: \"{workspaceId}\",\n          dbBranchName: \"{dbBranch}\",\n          region: \"{region}\",\n          tableName: __privateGet$4(this, _table)\n        },\n        body: {\n          column,\n          queryVector: query,\n          similarityFunction: options?.similarityFunction,\n          size: options?.size,\n          filter: options?.filter\n        },\n        ...__privateGet$4(this, _getFetchProps).call(this)\n      });\n      const schemaTables = await __privateMethod$2(this, _getSchemaTables$1, getSchemaTables_fn$1).call(this);\n      return records.map((item) => initObject(__privateGet$4(this, _db), schemaTables, __privateGet$4(this, _table), item, [\"*\"]));\n    });\n  }\n  async aggregate(aggs, filter) {\n    return __privateGet$4(this, _trace).call(this, \"aggregate\", async () => {\n      const result = await aggregateTable({\n        pathParams: {\n          workspace: \"{workspaceId}\",\n          dbBranchName: \"{dbBranch}\",\n          region: \"{region}\",\n          tableName: __privateGet$4(this, _table)\n        },\n        body: { aggs, filter },\n        ...__privateGet$4(this, _getFetchProps).call(this)\n      });\n      return result;\n    });\n  }\n  async query(query) {\n    return __privateGet$4(this, _trace).call(this, \"query\", async () => {\n      const cacheQuery = await __privateMethod$2(this, _getCacheQuery, getCacheQuery_fn).call(this, query);\n      if (cacheQuery)\n        return new Page(query, cacheQuery.meta, cacheQuery.records);\n      const data = query.getQueryOptions();\n      const { meta, records: objects } = await queryTable({\n        pathParams: {\n          workspace: \"{workspaceId}\",\n          dbBranchName: \"{dbBranch}\",\n          region: \"{region}\",\n          tableName: __privateGet$4(this, _table)\n        },\n        body: {\n          filter: cleanFilter(data.filter),\n          sort: data.sort !== void 0 ? buildSortFilter(data.sort) : void 0,\n          page: data.pagination,\n          columns: data.columns ?? [\"*\"],\n          consistency: data.consistency\n        },\n        fetchOptions: data.fetchOptions,\n        ...__privateGet$4(this, _getFetchProps).call(this)\n      });\n      const schemaTables = await __privateMethod$2(this, _getSchemaTables$1, getSchemaTables_fn$1).call(this);\n      const records = objects.map(\n        (record) => initObject(\n          __privateGet$4(this, _db),\n          schemaTables,\n          __privateGet$4(this, _table),\n          record,\n          data.columns ?? [\"*\"]\n        )\n      );\n      await __privateMethod$2(this, _setCacheQuery, setCacheQuery_fn).call(this, query, meta, records);\n      return new Page(query, meta, records);\n    });\n  }\n  async summarizeTable(query, summaries, summariesFilter) {\n    return __privateGet$4(this, _trace).call(this, \"summarize\", async () => {\n      const data = query.getQueryOptions();\n      const result = await summarizeTable({\n        pathParams: {\n          workspace: \"{workspaceId}\",\n          dbBranchName: \"{dbBranch}\",\n          region: \"{region}\",\n          tableName: __privateGet$4(this, _table)\n        },\n        body: {\n          filter: cleanFilter(data.filter),\n          sort: data.sort !== void 0 ? buildSortFilter(data.sort) : void 0,\n          columns: data.columns,\n          consistency: data.consistency,\n          page: data.pagination?.size !== void 0 ? { size: data.pagination?.size } : void 0,\n          summaries,\n          summariesFilter\n        },\n        ...__privateGet$4(this, _getFetchProps).call(this)\n      });\n      const schemaTables = await __privateMethod$2(this, _getSchemaTables$1, getSchemaTables_fn$1).call(this);\n      return {\n        ...result,\n        summaries: result.summaries.map(\n          (summary) => initObject(__privateGet$4(this, _db), schemaTables, __privateGet$4(this, _table), summary, data.columns ?? [])\n        )\n      };\n    });\n  }\n  ask(question, options) {\n    const questionParam = options?.sessionId ? { message: question } : { question };\n    const params = {\n      pathParams: {\n        workspace: \"{workspaceId}\",\n        dbBranchName: \"{dbBranch}\",\n        region: \"{region}\",\n        tableName: __privateGet$4(this, _table),\n        sessionId: options?.sessionId\n      },\n      body: {\n        ...questionParam,\n        rules: options?.rules,\n        searchType: options?.searchType,\n        search: options?.searchType === \"keyword\" ? options?.search : void 0,\n        vectorSearch: options?.searchType === \"vector\" ? options?.vectorSearch : void 0\n      },\n      ...__privateGet$4(this, _getFetchProps).call(this)\n    };\n    if (options?.onMessage) {\n      fetchSSERequest({\n        endpoint: \"dataPlane\",\n        url: \"/db/{dbBranchName}/tables/{tableName}/ask/{sessionId}\",\n        method: \"POST\",\n        onMessage: (message) => {\n          options.onMessage?.({ answer: message.text, records: message.records });\n        },\n        ...params\n      });\n    } else {\n      return askTableSession(params);\n    }\n  }\n}\n_table = new WeakMap();\n_getFetchProps = new WeakMap();\n_db = new WeakMap();\n_cache = new WeakMap();\n_schemaTables$2 = new WeakMap();\n_trace = new WeakMap();\n_insertRecordWithoutId = new WeakSet();\ninsertRecordWithoutId_fn = async function(object, columns = [\"*\"]) {\n  const record = await __privateMethod$2(this, _transformObjectToApi, transformObjectToApi_fn).call(this, object);\n  const response = await insertRecord({\n    pathParams: {\n      workspace: \"{workspaceId}\",\n      dbBranchName: \"{dbBranch}\",\n      region: \"{region}\",\n      tableName: __privateGet$4(this, _table)\n    },\n    queryParams: { columns },\n    body: record,\n    ...__privateGet$4(this, _getFetchProps).call(this)\n  });\n  const schemaTables = await __privateMethod$2(this, _getSchemaTables$1, getSchemaTables_fn$1).call(this);\n  return initObject(__privateGet$4(this, _db), schemaTables, __privateGet$4(this, _table), response, columns);\n};\n_insertRecordWithId = new WeakSet();\ninsertRecordWithId_fn = async function(recordId, object, columns = [\"*\"], { createOnly, ifVersion }) {\n  if (!recordId)\n    return null;\n  const record = await __privateMethod$2(this, _transformObjectToApi, transformObjectToApi_fn).call(this, object);\n  const response = await insertRecordWithID({\n    pathParams: {\n      workspace: \"{workspaceId}\",\n      dbBranchName: \"{dbBranch}\",\n      region: \"{region}\",\n      tableName: __privateGet$4(this, _table),\n      recordId\n    },\n    body: record,\n    queryParams: { createOnly, columns, ifVersion },\n    ...__privateGet$4(this, _getFetchProps).call(this)\n  });\n  const schemaTables = await __privateMethod$2(this, _getSchemaTables$1, getSchemaTables_fn$1).call(this);\n  return initObject(__privateGet$4(this, _db), schemaTables, __privateGet$4(this, _table), response, columns);\n};\n_insertRecords = new WeakSet();\ninsertRecords_fn = async function(objects, { createOnly, ifVersion }) {\n  const operations = await promiseMap(objects, async (object) => {\n    const record = await __privateMethod$2(this, _transformObjectToApi, transformObjectToApi_fn).call(this, object);\n    return { insert: { table: __privateGet$4(this, _table), record, createOnly, ifVersion } };\n  });\n  const chunkedOperations = chunk(operations, BULK_OPERATION_MAX_SIZE);\n  const ids = [];\n  for (const operations2 of chunkedOperations) {\n    const { results } = await branchTransaction({\n      pathParams: {\n        workspace: \"{workspaceId}\",\n        dbBranchName: \"{dbBranch}\",\n        region: \"{region}\"\n      },\n      body: { operations: operations2 },\n      ...__privateGet$4(this, _getFetchProps).call(this)\n    });\n    for (const result of results) {\n      if (result.operation === \"insert\") {\n        ids.push(result.id);\n      } else {\n        ids.push(null);\n      }\n    }\n  }\n  return ids;\n};\n_updateRecordWithID = new WeakSet();\nupdateRecordWithID_fn = async function(recordId, object, columns = [\"*\"], { ifVersion }) {\n  if (!recordId)\n    return null;\n  const { id: _id, ...record } = await __privateMethod$2(this, _transformObjectToApi, transformObjectToApi_fn).call(this, object);\n  try {\n    const response = await updateRecordWithID({\n      pathParams: {\n        workspace: \"{workspaceId}\",\n        dbBranchName: \"{dbBranch}\",\n        region: \"{region}\",\n        tableName: __privateGet$4(this, _table),\n        recordId\n      },\n      queryParams: { columns, ifVersion },\n      body: record,\n      ...__privateGet$4(this, _getFetchProps).call(this)\n    });\n    const schemaTables = await __privateMethod$2(this, _getSchemaTables$1, getSchemaTables_fn$1).call(this);\n    return initObject(__privateGet$4(this, _db), schemaTables, __privateGet$4(this, _table), response, columns);\n  } catch (e) {\n    if (isObject(e) && e.status === 404) {\n      return null;\n    }\n    throw e;\n  }\n};\n_updateRecords = new WeakSet();\nupdateRecords_fn = async function(objects, { ifVersion, upsert }) {\n  const operations = await promiseMap(objects, async ({ id, ...object }) => {\n    const fields = await __privateMethod$2(this, _transformObjectToApi, transformObjectToApi_fn).call(this, object);\n    return { update: { table: __privateGet$4(this, _table), id, ifVersion, upsert, fields } };\n  });\n  const chunkedOperations = chunk(operations, BULK_OPERATION_MAX_SIZE);\n  const ids = [];\n  for (const operations2 of chunkedOperations) {\n    const { results } = await branchTransaction({\n      pathParams: {\n        workspace: \"{workspaceId}\",\n        dbBranchName: \"{dbBranch}\",\n        region: \"{region}\"\n      },\n      body: { operations: operations2 },\n      ...__privateGet$4(this, _getFetchProps).call(this)\n    });\n    for (const result of results) {\n      if (result.operation === \"update\") {\n        ids.push(result.id);\n      } else {\n        ids.push(null);\n      }\n    }\n  }\n  return ids;\n};\n_upsertRecordWithID = new WeakSet();\nupsertRecordWithID_fn = async function(recordId, object, columns = [\"*\"], { ifVersion }) {\n  if (!recordId)\n    return null;\n  const response = await upsertRecordWithID({\n    pathParams: {\n      workspace: \"{workspaceId}\",\n      dbBranchName: \"{dbBranch}\",\n      region: \"{region}\",\n      tableName: __privateGet$4(this, _table),\n      recordId\n    },\n    queryParams: { columns, ifVersion },\n    body: object,\n    ...__privateGet$4(this, _getFetchProps).call(this)\n  });\n  const schemaTables = await __privateMethod$2(this, _getSchemaTables$1, getSchemaTables_fn$1).call(this);\n  return initObject(__privateGet$4(this, _db), schemaTables, __privateGet$4(this, _table), response, columns);\n};\n_deleteRecord = new WeakSet();\ndeleteRecord_fn = async function(recordId, columns = [\"*\"]) {\n  if (!recordId)\n    return null;\n  try {\n    const response = await deleteRecord({\n      pathParams: {\n        workspace: \"{workspaceId}\",\n        dbBranchName: \"{dbBranch}\",\n        region: \"{region}\",\n        tableName: __privateGet$4(this, _table),\n        recordId\n      },\n      queryParams: { columns },\n      ...__privateGet$4(this, _getFetchProps).call(this)\n    });\n    const schemaTables = await __privateMethod$2(this, _getSchemaTables$1, getSchemaTables_fn$1).call(this);\n    return initObject(__privateGet$4(this, _db), schemaTables, __privateGet$4(this, _table), response, columns);\n  } catch (e) {\n    if (isObject(e) && e.status === 404) {\n      return null;\n    }\n    throw e;\n  }\n};\n_deleteRecords = new WeakSet();\ndeleteRecords_fn = async function(recordIds) {\n  const chunkedOperations = chunk(\n    compact(recordIds).map((id) => ({ delete: { table: __privateGet$4(this, _table), id } })),\n    BULK_OPERATION_MAX_SIZE\n  );\n  for (const operations of chunkedOperations) {\n    await branchTransaction({\n      pathParams: {\n        workspace: \"{workspaceId}\",\n        dbBranchName: \"{dbBranch}\",\n        region: \"{region}\"\n      },\n      body: { operations },\n      ...__privateGet$4(this, _getFetchProps).call(this)\n    });\n  }\n};\n_setCacheQuery = new WeakSet();\nsetCacheQuery_fn = async function(query, meta, records) {\n  await __privateGet$4(this, _cache)?.set(`query_${__privateGet$4(this, _table)}:${query.key()}`, { date: /* @__PURE__ */ new Date(), meta, records });\n};\n_getCacheQuery = new WeakSet();\ngetCacheQuery_fn = async function(query) {\n  const key = `query_${__privateGet$4(this, _table)}:${query.key()}`;\n  const result = await __privateGet$4(this, _cache)?.get(key);\n  if (!result)\n    return null;\n  const defaultTTL = __privateGet$4(this, _cache)?.defaultQueryTTL ?? -1;\n  const { cache: ttl = defaultTTL } = query.getQueryOptions();\n  if (ttl < 0)\n    return null;\n  const hasExpired = result.date.getTime() + ttl < Date.now();\n  return hasExpired ? null : result;\n};\n_getSchemaTables$1 = new WeakSet();\ngetSchemaTables_fn$1 = async function() {\n  if (__privateGet$4(this, _schemaTables$2))\n    return __privateGet$4(this, _schemaTables$2);\n  const { schema } = await getBranchDetails({\n    pathParams: { workspace: \"{workspaceId}\", dbBranchName: \"{dbBranch}\", region: \"{region}\" },\n    ...__privateGet$4(this, _getFetchProps).call(this)\n  });\n  __privateSet$4(this, _schemaTables$2, schema.tables);\n  return schema.tables;\n};\n_transformObjectToApi = new WeakSet();\ntransformObjectToApi_fn = async function(object) {\n  const schemaTables = await __privateMethod$2(this, _getSchemaTables$1, getSchemaTables_fn$1).call(this);\n  const schema = schemaTables.find((table) => table.name === __privateGet$4(this, _table));\n  if (!schema)\n    throw new Error(`Table ${__privateGet$4(this, _table)} not found in schema`);\n  const result = {};\n  for (const [key, value] of Object.entries(object)) {\n    if (key === \"xata\")\n      continue;\n    const type = schema.columns.find((column) => column.name === key)?.type;\n    switch (type) {\n      case \"link\": {\n        result[key] = isIdentifiable(value) ? value.id : value;\n        break;\n      }\n      case \"datetime\": {\n        result[key] = value instanceof Date ? value.toISOString() : value;\n        break;\n      }\n      case `file`:\n        result[key] = await parseInputFileEntry(value);\n        break;\n      case \"file[]\":\n        result[key] = await promiseMap(value, (item) => parseInputFileEntry(item));\n        break;\n      case \"json\":\n        result[key] = stringifyJson(value);\n        break;\n      default:\n        result[key] = value;\n    }\n  }\n  return result;\n};\nconst initObject = (db, schemaTables, table, object, selectedColumns) => {\n  const data = {};\n  const { xata, ...rest } = object ?? {};\n  Object.assign(data, rest);\n  const { columns } = schemaTables.find(({ name }) => name === table) ?? {};\n  if (!columns)\n    console.error(`Table ${table} not found in schema`);\n  for (const column of columns ?? []) {\n    if (!isValidColumn(selectedColumns, column))\n      continue;\n    const value = data[column.name];\n    switch (column.type) {\n      case \"datetime\": {\n        const date = value !== void 0 ? new Date(value) : null;\n        if (date !== null && isNaN(date.getTime())) {\n          console.error(`Failed to parse date ${value} for field ${column.name}`);\n        } else {\n          data[column.name] = date;\n        }\n        break;\n      }\n      case \"link\": {\n        const linkTable = column.link?.table;\n        if (!linkTable) {\n          console.error(`Failed to parse link for field ${column.name}`);\n        } else if (isObject(value)) {\n          const selectedLinkColumns = selectedColumns.reduce((acc, item) => {\n            if (item === column.name) {\n              return [...acc, \"*\"];\n            }\n            if (isString(item) && item.startsWith(`${column.name}.`)) {\n              const [, ...path] = item.split(\".\");\n              return [...acc, path.join(\".\")];\n            }\n            return acc;\n          }, []);\n          data[column.name] = initObject(\n            db,\n            schemaTables,\n            linkTable,\n            value,\n            selectedLinkColumns\n          );\n        } else {\n          data[column.name] = null;\n        }\n        break;\n      }\n      case \"file\":\n        data[column.name] = isDefined(value) ? new XataFile(value) : null;\n        break;\n      case \"file[]\":\n        data[column.name] = value?.map((item) => new XataFile(item)) ?? null;\n        break;\n      case \"json\":\n        data[column.name] = parseJson(value);\n        break;\n      default:\n        data[column.name] = value ?? null;\n        if (column.notNull === true && value === null) {\n          console.error(`Parse error, column ${column.name} is non nullable and value resolves null`);\n        }\n        break;\n    }\n  }\n  const record = { ...data };\n  const metadata = xata !== void 0 ? { ...xata, createdAt: new Date(xata.createdAt), updatedAt: new Date(xata.updatedAt) } : void 0;\n  record.read = function(columns2) {\n    return db[table].read(record[\"id\"], columns2);\n  };\n  record.update = function(data2, b, c) {\n    const columns2 = isValidSelectableColumns(b) ? b : [\"*\"];\n    const ifVersion = parseIfVersion(b, c);\n    return db[table].update(record[\"id\"], data2, columns2, { ifVersion });\n  };\n  record.replace = function(data2, b, c) {\n    const columns2 = isValidSelectableColumns(b) ? b : [\"*\"];\n    const ifVersion = parseIfVersion(b, c);\n    return db[table].createOrReplace(record[\"id\"], data2, columns2, { ifVersion });\n  };\n  record.delete = function() {\n    return db[table].delete(record[\"id\"]);\n  };\n  if (metadata !== void 0) {\n    record.xata = Object.freeze(metadata);\n  }\n  record.getMetadata = function() {\n    return record.xata;\n  };\n  record.toSerializable = function() {\n    return JSON.parse(JSON.stringify(record));\n  };\n  record.toString = function() {\n    return JSON.stringify(record);\n  };\n  for (const prop of [\"read\", \"update\", \"replace\", \"delete\", \"getMetadata\", \"toSerializable\", \"toString\"]) {\n    Object.defineProperty(record, prop, { enumerable: false });\n  }\n  Object.freeze(record);\n  return record;\n};\nfunction extractId(value) {\n  if (isString(value))\n    return value;\n  if (isObject(value) && isString(value.id))\n    return value.id;\n  return void 0;\n}\nfunction isValidColumn(columns, column) {\n  if (columns.includes(\"*\"))\n    return true;\n  return columns.filter((item) => isString(item) && item.startsWith(column.name)).length > 0;\n}\nfunction parseIfVersion(...args) {\n  for (const arg of args) {\n    if (isObject(arg) && isNumber(arg.ifVersion)) {\n      return arg.ifVersion;\n    }\n  }\n  return void 0;\n}\n\nvar __accessCheck$3 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$3 = (obj, member, getter) => {\n  __accessCheck$3(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$3 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$3 = (obj, member, value, setter) => {\n  __accessCheck$3(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _map;\nclass SimpleCache {\n  constructor(options = {}) {\n    __privateAdd$3(this, _map, void 0);\n    __privateSet$3(this, _map, /* @__PURE__ */ new Map());\n    this.capacity = options.max ?? 500;\n    this.defaultQueryTTL = options.defaultQueryTTL ?? 60 * 1e3;\n  }\n  async getAll() {\n    return Object.fromEntries(__privateGet$3(this, _map));\n  }\n  async get(key) {\n    return __privateGet$3(this, _map).get(key) ?? null;\n  }\n  async set(key, value) {\n    await this.delete(key);\n    __privateGet$3(this, _map).set(key, value);\n    if (__privateGet$3(this, _map).size > this.capacity) {\n      const leastRecentlyUsed = __privateGet$3(this, _map).keys().next().value;\n      await this.delete(leastRecentlyUsed);\n    }\n  }\n  async delete(key) {\n    __privateGet$3(this, _map).delete(key);\n  }\n  async clear() {\n    return __privateGet$3(this, _map).clear();\n  }\n}\n_map = new WeakMap();\n\nconst greaterThan = (value) => ({ $gt: value });\nconst gt = greaterThan;\nconst greaterThanEquals = (value) => ({ $ge: value });\nconst greaterEquals = greaterThanEquals;\nconst gte = greaterThanEquals;\nconst ge = greaterThanEquals;\nconst lessThan = (value) => ({ $lt: value });\nconst lt = lessThan;\nconst lessThanEquals = (value) => ({ $le: value });\nconst lessEquals = lessThanEquals;\nconst lte = lessThanEquals;\nconst le = lessThanEquals;\nconst exists = (column) => ({ $exists: column });\nconst notExists = (column) => ({ $notExists: column });\nconst startsWith = (value) => ({ $startsWith: value });\nconst endsWith = (value) => ({ $endsWith: value });\nconst pattern = (value) => ({ $pattern: value });\nconst iPattern = (value) => ({ $iPattern: value });\nconst is = (value) => ({ $is: value });\nconst equals = is;\nconst isNot = (value) => ({ $isNot: value });\nconst contains = (value) => ({ $contains: value });\nconst iContains = (value) => ({ $iContains: value });\nconst includes = (value) => ({ $includes: value });\nconst includesAll = (value) => ({ $includesAll: value });\nconst includesNone = (value) => ({ $includesNone: value });\nconst includesAny = (value) => ({ $includesAny: value });\n\nvar __accessCheck$2 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$2 = (obj, member, getter) => {\n  __accessCheck$2(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$2 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$2 = (obj, member, value, setter) => {\n  __accessCheck$2(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _tables, _schemaTables$1;\nclass SchemaPlugin extends XataPlugin {\n  constructor(schemaTables) {\n    super();\n    __privateAdd$2(this, _tables, {});\n    __privateAdd$2(this, _schemaTables$1, void 0);\n    __privateSet$2(this, _schemaTables$1, schemaTables);\n  }\n  build(pluginOptions) {\n    const db = new Proxy(\n      {},\n      {\n        get: (_target, table) => {\n          if (!isString(table))\n            throw new Error(\"Invalid table name\");\n          if (__privateGet$2(this, _tables)[table] === void 0) {\n            __privateGet$2(this, _tables)[table] = new RestRepository({ db, pluginOptions, table, schemaTables: __privateGet$2(this, _schemaTables$1) });\n          }\n          return __privateGet$2(this, _tables)[table];\n        }\n      }\n    );\n    const tableNames = __privateGet$2(this, _schemaTables$1)?.map(({ name }) => name) ?? [];\n    for (const table of tableNames) {\n      db[table] = new RestRepository({ db, pluginOptions, table, schemaTables: __privateGet$2(this, _schemaTables$1) });\n    }\n    return db;\n  }\n}\n_tables = new WeakMap();\n_schemaTables$1 = new WeakMap();\n\nclass FilesPlugin extends XataPlugin {\n  build(pluginOptions) {\n    return {\n      download: async (location) => {\n        const { table, record, column, fileId = \"\" } = location ?? {};\n        return await getFileItem({\n          pathParams: {\n            workspace: \"{workspaceId}\",\n            dbBranchName: \"{dbBranch}\",\n            region: \"{region}\",\n            tableName: table ?? \"\",\n            recordId: record ?? \"\",\n            columnName: column ?? \"\",\n            fileId\n          },\n          ...pluginOptions,\n          rawResponse: true\n        });\n      },\n      upload: async (location, file, options) => {\n        const { table, record, column, fileId = \"\" } = location ?? {};\n        const resolvedFile = await file;\n        const contentType = options?.mediaType || getContentType(resolvedFile);\n        const body = resolvedFile instanceof XataFile ? resolvedFile.toBlob() : resolvedFile;\n        return await putFileItem({\n          ...pluginOptions,\n          pathParams: {\n            workspace: \"{workspaceId}\",\n            dbBranchName: \"{dbBranch}\",\n            region: \"{region}\",\n            tableName: table ?? \"\",\n            recordId: record ?? \"\",\n            columnName: column ?? \"\",\n            fileId\n          },\n          body,\n          headers: { \"Content-Type\": contentType }\n        });\n      },\n      delete: async (location) => {\n        const { table, record, column, fileId = \"\" } = location ?? {};\n        return await deleteFileItem({\n          pathParams: {\n            workspace: \"{workspaceId}\",\n            dbBranchName: \"{dbBranch}\",\n            region: \"{region}\",\n            tableName: table ?? \"\",\n            recordId: record ?? \"\",\n            columnName: column ?? \"\",\n            fileId\n          },\n          ...pluginOptions\n        });\n      }\n    };\n  }\n}\nfunction getContentType(file) {\n  if (typeof file === \"string\") {\n    return \"text/plain\";\n  }\n  if (\"mediaType\" in file) {\n    return file.mediaType;\n  }\n  if (isBlob(file)) {\n    return file.type;\n  }\n  try {\n    return file.type;\n  } catch (e) {\n  }\n  return \"application/octet-stream\";\n}\n\nvar __accessCheck$1 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$1 = (obj, member, getter) => {\n  __accessCheck$1(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$1 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$1 = (obj, member, value, setter) => {\n  __accessCheck$1(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod$1 = (obj, member, method) => {\n  __accessCheck$1(obj, member, \"access private method\");\n  return method;\n};\nvar _schemaTables, _search, search_fn, _getSchemaTables, getSchemaTables_fn;\nclass SearchPlugin extends XataPlugin {\n  constructor(db, schemaTables) {\n    super();\n    this.db = db;\n    __privateAdd$1(this, _search);\n    __privateAdd$1(this, _getSchemaTables);\n    __privateAdd$1(this, _schemaTables, void 0);\n    __privateSet$1(this, _schemaTables, schemaTables);\n  }\n  build(pluginOptions) {\n    return {\n      all: async (query, options = {}) => {\n        const records = await __privateMethod$1(this, _search, search_fn).call(this, query, options, pluginOptions);\n        const schemaTables = await __privateMethod$1(this, _getSchemaTables, getSchemaTables_fn).call(this, pluginOptions);\n        return records.map((record) => {\n          const { table = \"orphan\" } = record.xata;\n          return { table, record: initObject(this.db, schemaTables, table, record, [\"*\"]) };\n        });\n      },\n      byTable: async (query, options = {}) => {\n        const records = await __privateMethod$1(this, _search, search_fn).call(this, query, options, pluginOptions);\n        const schemaTables = await __privateMethod$1(this, _getSchemaTables, getSchemaTables_fn).call(this, pluginOptions);\n        return records.reduce((acc, record) => {\n          const { table = \"orphan\" } = record.xata;\n          const items = acc[table] ?? [];\n          const item = initObject(this.db, schemaTables, table, record, [\"*\"]);\n          return { ...acc, [table]: [...items, item] };\n        }, {});\n      }\n    };\n  }\n}\n_schemaTables = new WeakMap();\n_search = new WeakSet();\nsearch_fn = async function(query, options, pluginOptions) {\n  const { tables, fuzziness, highlight, prefix, page } = options ?? {};\n  const { records } = await searchBranch({\n    pathParams: { workspace: \"{workspaceId}\", dbBranchName: \"{dbBranch}\", region: \"{region}\" },\n    // @ts-ignore https://github.com/xataio/client-ts/issues/313\n    body: { tables, query, fuzziness, prefix, highlight, page },\n    ...pluginOptions\n  });\n  return records;\n};\n_getSchemaTables = new WeakSet();\ngetSchemaTables_fn = async function(pluginOptions) {\n  if (__privateGet$1(this, _schemaTables))\n    return __privateGet$1(this, _schemaTables);\n  const { schema } = await getBranchDetails({\n    pathParams: { workspace: \"{workspaceId}\", dbBranchName: \"{dbBranch}\", region: \"{region}\" },\n    ...pluginOptions\n  });\n  __privateSet$1(this, _schemaTables, schema.tables);\n  return schema.tables;\n};\n\nfunction escapeElement(elementRepresentation) {\n  const escaped = elementRepresentation.replace(/\\\\/g, \"\\\\\\\\\").replace(/\"/g, '\\\\\"');\n  return '\"' + escaped + '\"';\n}\nfunction arrayString(val) {\n  let result = \"{\";\n  for (let i = 0; i < val.length; i++) {\n    if (i > 0) {\n      result = result + \",\";\n    }\n    if (val[i] === null || typeof val[i] === \"undefined\") {\n      result = result + \"NULL\";\n    } else if (Array.isArray(val[i])) {\n      result = result + arrayString(val[i]);\n    } else if (val[i] instanceof Buffer) {\n      result += \"\\\\\\\\x\" + val[i].toString(\"hex\");\n    } else {\n      result += escapeElement(prepareValue(val[i]));\n    }\n  }\n  result = result + \"}\";\n  return result;\n}\nfunction prepareValue(value) {\n  if (!isDefined(value))\n    return null;\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n  if (Array.isArray(value)) {\n    return arrayString(value);\n  }\n  if (isObject(value)) {\n    return JSON.stringify(value);\n  }\n  try {\n    return value.toString();\n  } catch (e) {\n    return value;\n  }\n}\nfunction prepareParams(param1, param2) {\n  if (isString(param1)) {\n    return { statement: param1, params: param2?.map((value) => prepareValue(value)) };\n  }\n  if (isStringArray(param1)) {\n    const statement = param1.reduce((acc, curr, index) => {\n      return acc + curr + (index < (param2?.length ?? 0) ? \"$\" + (index + 1) : \"\");\n    }, \"\");\n    return { statement, params: param2?.map((value) => prepareValue(value)) };\n  }\n  if (isObject(param1)) {\n    const { statement, params, consistency } = param1;\n    return { statement, params: params?.map((value) => prepareValue(value)), consistency };\n  }\n  throw new Error(\"Invalid query\");\n}\n\nclass SQLPlugin extends XataPlugin {\n  build(pluginOptions) {\n    return async (param1, ...param2) => {\n      const { statement, params, consistency } = prepareParams(param1, param2);\n      const { records, warning } = await sqlQuery({\n        pathParams: { workspace: \"{workspaceId}\", dbBranchName: \"{dbBranch}\", region: \"{region}\" },\n        body: { statement, params, consistency },\n        ...pluginOptions\n      });\n      return { records, warning };\n    };\n  }\n}\n\nclass TransactionPlugin extends XataPlugin {\n  build(pluginOptions) {\n    return {\n      run: async (operations) => {\n        const response = await branchTransaction({\n          pathParams: { workspace: \"{workspaceId}\", dbBranchName: \"{dbBranch}\", region: \"{region}\" },\n          body: { operations },\n          ...pluginOptions\n        });\n        return response;\n      }\n    };\n  }\n}\n\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nconst buildClient = (plugins) => {\n  var _options, _parseOptions, parseOptions_fn, _getFetchProps, getFetchProps_fn, _a;\n  return _a = class {\n    constructor(options = {}, schemaTables) {\n      __privateAdd(this, _parseOptions);\n      __privateAdd(this, _getFetchProps);\n      __privateAdd(this, _options, void 0);\n      const safeOptions = __privateMethod(this, _parseOptions, parseOptions_fn).call(this, options);\n      __privateSet(this, _options, safeOptions);\n      const pluginOptions = {\n        ...__privateMethod(this, _getFetchProps, getFetchProps_fn).call(this, safeOptions),\n        cache: safeOptions.cache,\n        host: safeOptions.host\n      };\n      const db = new SchemaPlugin(schemaTables).build(pluginOptions);\n      const search = new SearchPlugin(db, schemaTables).build(pluginOptions);\n      const transactions = new TransactionPlugin().build(pluginOptions);\n      const sql = new SQLPlugin().build(pluginOptions);\n      const files = new FilesPlugin().build(pluginOptions);\n      this.db = db;\n      this.search = search;\n      this.transactions = transactions;\n      this.sql = sql;\n      this.files = files;\n      for (const [key, namespace] of Object.entries(plugins ?? {})) {\n        if (namespace === void 0)\n          continue;\n        this[key] = namespace.build(pluginOptions);\n      }\n    }\n    async getConfig() {\n      const databaseURL = __privateGet(this, _options).databaseURL;\n      const branch = __privateGet(this, _options).branch;\n      return { databaseURL, branch };\n    }\n  }, _options = new WeakMap(), _parseOptions = new WeakSet(), parseOptions_fn = function(options) {\n    const enableBrowser = options?.enableBrowser ?? getEnableBrowserVariable() ?? false;\n    const isBrowser = typeof window !== \"undefined\" && typeof Deno === \"undefined\";\n    if (isBrowser && !enableBrowser) {\n      throw new Error(\n        \"You are trying to use Xata from the browser, which is potentially a non-secure environment. If you understand the security concerns, such as leaking your credentials, pass `enableBrowser: true` to the client options to remove this error.\"\n      );\n    }\n    const fetch = getFetchImplementation(options?.fetch);\n    const databaseURL = options?.databaseURL || getDatabaseURL();\n    const apiKey = options?.apiKey || getAPIKey();\n    const cache = options?.cache ?? new SimpleCache({ defaultQueryTTL: 0 });\n    const trace = options?.trace ?? defaultTrace;\n    const clientName = options?.clientName;\n    const host = options?.host ?? \"production\";\n    const xataAgentExtra = options?.xataAgentExtra;\n    if (!apiKey) {\n      throw new Error(\"Option apiKey is required\");\n    }\n    if (!databaseURL) {\n      throw new Error(\"Option databaseURL is required\");\n    }\n    const envBranch = getBranch();\n    const previewBranch = getPreviewBranch();\n    const branch = options?.branch || previewBranch || envBranch || \"main\";\n    if (!!previewBranch && branch !== previewBranch) {\n      console.warn(\n        `Ignoring preview branch ${previewBranch} because branch option was passed to the client constructor with value ${branch}`\n      );\n    } else if (!!envBranch && branch !== envBranch) {\n      console.warn(\n        `Ignoring branch ${envBranch} because branch option was passed to the client constructor with value ${branch}`\n      );\n    } else if (!!previewBranch && !!envBranch && previewBranch !== envBranch) {\n      console.warn(\n        `Ignoring preview branch ${previewBranch} and branch ${envBranch} because branch option was passed to the client constructor with value ${branch}`\n      );\n    } else if (!previewBranch && !envBranch && options?.branch === void 0) {\n      console.warn(\n        `No branch was passed to the client constructor. Using default branch ${branch}. You can set the branch with the environment variable XATA_BRANCH or by passing the branch option to the client constructor.`\n      );\n    }\n    return {\n      fetch,\n      databaseURL,\n      apiKey,\n      branch,\n      cache,\n      trace,\n      host,\n      clientID: generateUUID(),\n      enableBrowser,\n      clientName,\n      xataAgentExtra\n    };\n  }, _getFetchProps = new WeakSet(), getFetchProps_fn = function({\n    fetch,\n    apiKey,\n    databaseURL,\n    branch,\n    trace,\n    clientID,\n    clientName,\n    xataAgentExtra\n  }) {\n    return {\n      fetch,\n      apiKey,\n      apiUrl: \"\",\n      // Instead of using workspace and dbBranch, we inject a probably CNAME'd URL\n      workspacesApiUrl: (path, params) => {\n        const hasBranch = params.dbBranchName ?? params.branch;\n        const newPath = path.replace(/^\\/db\\/[^/]+/, hasBranch !== void 0 ? `:${branch}` : \"\");\n        return databaseURL + newPath;\n      },\n      trace,\n      clientID,\n      clientName,\n      xataAgentExtra\n    };\n  }, _a;\n};\nclass BaseClient extends buildClient() {\n}\n\nconst META = \"__\";\nconst VALUE = \"___\";\nclass Serializer {\n  constructor() {\n    this.classes = {};\n  }\n  add(clazz) {\n    this.classes[clazz.name] = clazz;\n  }\n  toJSON(data) {\n    function visit(obj) {\n      if (Array.isArray(obj))\n        return obj.map(visit);\n      const type = typeof obj;\n      if (type === \"undefined\")\n        return { [META]: \"undefined\" };\n      if (type === \"bigint\")\n        return { [META]: \"bigint\", [VALUE]: obj.toString() };\n      if (obj === null || type !== \"object\")\n        return obj;\n      const constructor = obj.constructor;\n      const o = { [META]: constructor.name };\n      for (const [key, value] of Object.entries(obj)) {\n        o[key] = visit(value);\n      }\n      if (constructor === Date)\n        o[VALUE] = obj.toISOString();\n      if (constructor === Map)\n        o[VALUE] = Object.fromEntries(obj);\n      if (constructor === Set)\n        o[VALUE] = [...obj];\n      return o;\n    }\n    return JSON.stringify(visit(data));\n  }\n  fromJSON(json) {\n    return JSON.parse(json, (key, value) => {\n      if (value && typeof value === \"object\" && !Array.isArray(value)) {\n        const { [META]: clazz, [VALUE]: val, ...rest } = value;\n        const constructor = this.classes[clazz];\n        if (constructor) {\n          return Object.assign(Object.create(constructor.prototype), rest);\n        }\n        if (clazz === \"Date\")\n          return new Date(val);\n        if (clazz === \"Set\")\n          return new Set(val);\n        if (clazz === \"Map\")\n          return new Map(Object.entries(val));\n        if (clazz === \"bigint\")\n          return BigInt(val);\n        if (clazz === \"undefined\")\n          return void 0;\n        return rest;\n      }\n      return value;\n    });\n  }\n}\nconst defaultSerializer = new Serializer();\nconst serialize = (data) => {\n  return defaultSerializer.toJSON(data);\n};\nconst deserialize = (json) => {\n  return defaultSerializer.fromJSON(json);\n};\n\nfunction buildWorkerRunner(config) {\n  return function xataWorker(name, worker) {\n    return async (...args) => {\n      const url = process.env.NODE_ENV === \"development\" ? `http://localhost:64749/${name}` : `https://dispatcher.xata.workers.dev/${config.workspace}/${config.worker}/${name}`;\n      const result = await fetch(url, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: serialize({ args })\n      });\n      const text = await result.text();\n      return deserialize(text);\n    };\n  };\n}\n\nclass XataError extends Error {\n  constructor(message, status) {\n    super(message);\n    this.status = status;\n  }\n}\n\nexport { BaseClient, FetcherError, FilesPlugin, operationsByTag as Operations, PAGINATION_DEFAULT_OFFSET, PAGINATION_DEFAULT_SIZE, PAGINATION_MAX_OFFSET, PAGINATION_MAX_SIZE, Page, Query, RecordArray, RecordColumnTypes, Repository, RestRepository, SQLPlugin, SchemaPlugin, SearchPlugin, Serializer, SimpleCache, TransactionPlugin, XataApiClient, XataApiPlugin, XataError, XataFile, XataPlugin, acceptWorkspaceMemberInvite, addGitBranchesEntry, addTableColumn, aggregateTable, applyBranchSchemaEdit, askTable, askTableSession, branchTransaction, buildClient, buildPreviewBranchName, buildProviderString, buildWorkerRunner, bulkInsertTableRecords, cancelWorkspaceMemberInvite, compareBranchSchemas, compareBranchWithUserSchema, compareMigrationRequest, contains, copyBranch, createBranch, createCluster, createDatabase, createMigrationRequest, createTable, createUserAPIKey, createWorkspace, deleteBranch, deleteColumn, deleteDatabase, deleteDatabaseGithubSettings, deleteFile, deleteFileItem, deleteOAuthAccessToken, deleteRecord, deleteTable, deleteUser, deleteUserAPIKey, deleteUserOAuthClient, deleteWorkspace, deserialize, endsWith, equals, executeBranchMigrationPlan, exists, fileAccess, ge, getAPIKey, getAuthorizationCode, getBranch, getBranchDetails, getBranchList, getBranchMetadata, getBranchMigrationHistory, getBranchMigrationPlan, getBranchSchemaHistory, getBranchStats, getCluster, getColumn, getDatabaseGithubSettings, getDatabaseList, getDatabaseMetadata, getDatabaseURL, getFile, getFileItem, getGitBranchesMapping, getHostUrl, getMigrationRequest, getMigrationRequestIsMerged, getPreviewBranch, getRecord, getSchema, getTableColumns, getTableSchema, getUser, getUserAPIKeys, getUserOAuthAccessTokens, getUserOAuthClients, getWorkspace, getWorkspaceMembersList, getWorkspacesList, grantAuthorizationCode, greaterEquals, greaterThan, greaterThanEquals, gt, gte, iContains, iPattern, includes, includesAll, includesAny, includesNone, insertRecord, insertRecordWithID, inviteWorkspaceMember, is, isCursorPaginationOptions, isHostProviderAlias, isHostProviderBuilder, isIdentifiable, isNot, isValidExpandedColumn, isValidSelectableColumns, isXataRecord, le, lessEquals, lessThan, lessThanEquals, listClusters, listMigrationRequestsCommits, listRegions, lt, lte, mergeMigrationRequest, notExists, operationsByTag, parseProviderString, parseWorkspacesUrlParts, pattern, previewBranchSchemaEdit, pushBranchMigrations, putFile, putFileItem, queryMigrationRequests, queryTable, removeGitBranchesEntry, removeWorkspaceMember, renameDatabase, resendWorkspaceMemberInvite, resolveBranch, searchBranch, searchTable, serialize, setTableSchema, sqlQuery, startsWith, summarizeTable, transformImage, updateBranchMetadata, updateBranchSchema, updateCluster, updateColumn, updateDatabaseGithubSettings, updateDatabaseMetadata, updateMigrationRequest, updateOAuthAccessToken, updateRecordWithID, updateTable, updateUser, updateWorkspace, updateWorkspaceMemberInvite, updateWorkspaceMemberRole, upsertRecordWithID, vectorSearchTable };\n//# sourceMappingURL=index.mjs.map\n","// Generated by Xata Codegen 0.26.9. Please do not edit.\nimport { buildClient } from '@xata.io/client';\nimport type {\n    BaseClientOptions,\n    SchemaInference,\n    XataRecord,\n} from '@xata.io/client';\n\nconst tables = [\n    {\n        name: 'Languages',\n        columns: [\n            { name: 'Name', type: 'string' },\n            { name: 'Owner', type: 'string' },\n            { name: 'File', type: 'json' },\n        ],\n    },\n] as const;\n\nexport type SchemaTables = typeof tables;\nexport type InferredTypes = SchemaInference<SchemaTables>;\n\nexport type Languages = InferredTypes['Languages'];\nexport type LanguagesRecord = Languages & XataRecord;\n\nexport type DatabaseSchema = {\n    Languages: LanguagesRecord;\n};\n\nconst DatabaseClient = buildClient();\n\nconst defaultOptions = {\n    databaseURL:\n    'https://Saturnine-s-workspace-cvl2j3.us-east-1.xata.sh/db/Lexicanter',\n};\n\nexport class XataClient extends DatabaseClient<DatabaseSchema> {\n    constructor(options?: BaseClientOptions) {\n        super({ ...defaultOptions, ...options }, tables);\n    }\n}\n\nlet instance: XataClient | undefined = undefined;\n\nexport const getXataClient = () => {\n    if (instance) return instance;\n    \n    instance = new XataClient();\n    return instance;\n};\n","import { XataClient } from './xata.js';\nexport const xata = new XataClient({ \n    branch: 'main',\n    apiKey: 'xau_IXRLBDCqEyeSvgHvN5FmWsOvu26aWd1D2',\n    enableBrowser: true,\n});\n","/* eslint-disable @typescript-eslint/no-var-requires */\nconst { ipcRenderer } = require('electron');\n// import * as fs from 'fs'; // require doesn't give intellisense but import doesn't work and results in cryptic errors.\nconst fs = require('fs');\nconst path = require('path');\nconst vex = require('vex-js');\nimport { get } from 'svelte/store';\nimport type { OutputData } from '@editorjs/editorjs';\nimport type * as Lexc from '../types';\nimport { Language, autosave, docsEditor, defaultLanguage, dbid, dbkey } from '../stores';\nimport { writeRomans, get_pronunciation } from './phonetics';\nimport { initializeDocs } from './docs';\nimport * as diagnostics from './diagnostics';\nimport { alphabetize } from './alphabetize';\nimport { markdownToHtml } from './markdown';\nconst Lang = () => get(Language);\nconst Default = get(defaultLanguage);\nimport { xata } from '../../db/database';\nimport { ok } from 'assert';\n\n/**\n* This function is used to get the user's data path.\n* @param {function (user_path: string): void} callback\n*/\nexport async function userData (callback: (user_path: string) => void) {\n    let path : string = await ipcRenderer.invoke('getUserDataPath');\n    callback(path);\n}\n\n/**\n* This function is used to show the 'open' dialog at a specific \n* path, which can't be done with the default dialog API.\n* It calls back with the path to the file that the user selected.\n* @param {any} params\n* @param {function} callback\n*/\nexport async function showOpenDialog (params, callback: (path: string) => void) {\n    let path: string;\n    await ipcRenderer.invoke('showOpenDialog', params).then((result: string) => {\n        path = result;\n    });\n    callback(path);\n}\n\n/**\n* Collects all the data to be exported into one JSON string.\n* @returns {string} The data to be exported.\n*/\nasync function collectExportData (): Promise<string> {\n    if (typeof get(docsEditor).save === 'function') {\n        console.log('Save function found for docs editor.', get(docsEditor));\n        await get(docsEditor).save().then(data => {\n            Lang().Docs = data;\n        });\n    } else {\n        console.log('No save function found for docs editor.', get(docsEditor));\n    }\n    Lang().Version = await ipcRenderer.invoke('getVersion');\n    Lang().FileVersion = (parseInt(Lang().FileVersion, 36) + 1).toString(36);\n    return JSON.stringify(Lang());\n}\n\n/**\n* Converts the Editor.js JSON data to HTML and \n* appends it to the provided container element.\n* @param {OutputData} data The Editor.js JSON data\n* @param {HTMLElement} container The container element\n* @returns {HTMLElement} The container element with the HTML inserted\n*/\nfunction editorjsToHTML(data: OutputData, container: HTMLElement): HTMLElement {\n    for (const element of data.blocks) {\n        switch (element.type) {\n        case 'header': {\n            const header = document.createElement(\n                `h${element.data.level}`\n            );\n            header.innerHTML = element.data.text;\n            container.appendChild(header);\n            break; \n        }\n        case 'paragraph': {\n            const paragraph = document.createElement('p');\n            paragraph.innerHTML = element.data.text;\n            container.appendChild(paragraph);\n            break;\n        }\n        case 'table': {\n            const table = document.createElement('table');\n            const tbody = document.createElement('tbody');\n            element.data.content.forEach((row: string[]) => {\n                const tr = document.createElement('tr');\n                row.forEach(cell => {\n                    const td = document.createElement('td');\n                    td.innerHTML = cell;\n                    tr.appendChild(td);\n                });\n                tbody.appendChild(tr);\n            });\n            table.appendChild(tbody);\n            container.appendChild(table);\n            break;\n        }}\n    }\n    return container;\n}\n\n/**\n * Reads the SVG out file produced by the Graphemy CLI.\n * @returns {Promise<string>} The SVG data as a string.\n */\nexport async function readSVG(text: string, ortho_name: string): Promise<string> {\n    const cache_path : string = path.resolve(`${await ipcRenderer.invoke('getUserDataPath')}/GraphemyCache/`);\n    if (!fs.existsSync(cache_path)) fs.mkdirSync(cache_path);\n    \n    const file_path : string = path.resolve(cache_path, `${Lang().Name}-${ortho_name}-${text}.svg`)\n    return fs.existsSync(file_path)\n        ? fs.readFileSync(file_path, {encoding: 'utf8', flag: 'r'})\n        : (()=>{console.log(`No SVG found at ${file_path}`); return 'No SVG found.'})();\n}\n\n/**\n * @param {string} svg Output from {@link readSVG()}\n * @returns {string} The SVG string with the corrected sizes\n */\nexport function correctSVGSize (svg: string): string {\n    try {\n        ok(!(svg === 'No SVG found.'), svg);\n\n        //     i        0                   1               2              3\n        // returns [full match, height-width capture, height capture, width capture]\n        const pattern = /<svg (height=\"([0-9.]+)\".*width=\"([0-9.]+)\").*>/im;\n        // This finds the height and width values of the svg, and sets whichever of the two values is smaller\n        // to a target value and adjusts the other to maintain aspect ratio. \n        // The assumption is that the smaller of the two values represents the line height regardless of writing direction. \n        const [new_height, new_width] : string[] = (([h, w]: number[], target_size: number) => [\n            w < h? (h / w) * target_size : target_size, // height\n            w < h? target_size : (w / h) * target_size, // width\n        ])(svg.match(pattern).slice(2,).map(v => Number(v)), 50).map(v => `${v}`);\n        \n        // replace the heights and widths with the newly calculated ones and assign the adjusted string to SVGData\n        return svg.replace(pattern,\n            (match: string, _hw: string, h: string, w: string) => match.replace(h, new_height).replace(w, new_width)\n        );\n\n    } catch (err) {\n        if (err.message !== 'No SVG Found.') console.log('Error message:\\n', err);\n        return `<code>${err}</code>`;\n    }\n}\n\n/**\n* This function saves the language as a .lexc file\n* in the user's Lexicons folder. It also saves a timestamped backup copy.\n*/\nexport async function saveFile () {\n    const finish = async () => {\n        const exports = await collectExportData();\n        try {\n            userData(user_path => {\n                const lexiconFolder = `${user_path}${path.sep}Lexicons${path.sep}`;\n                const backupsFolder = `${user_path}${path.sep}Backups${path.sep}`;\n                const timestamp = new Date().toString().split(' GMT')[0].replaceAll(':', '');\n                if (!fs.existsSync(lexiconFolder)) {\n                    fs.mkdirSync(lexiconFolder);\n                }\n                if (!fs.existsSync(backupsFolder)) {\n                    fs.mkdirSync(backupsFolder);\n                }\n                fs.writeFileSync(\n                    `${lexiconFolder}${Lang().Name}.lexc`,\n                    exports,\n                    'utf8'\n                );\n                fs.writeFileSync(\n                    `${backupsFolder}${Lang().Name} @ ${timestamp}.lexc`,\n                    exports,\n                    'utf8'\n                );\n                if (Lang().SaveLocation !== '') {\n                    fs.writeFileSync(\n                        `${Lang().SaveLocation}${path.sep}${Lang().Name}.lexc`,\n                        exports,\n                        'utf8'\n                    );\n                }\n            });\n            if (!get(autosave)) {\n                vex.dialog.alert(`The ${Lang().Name} file has been saved.`);\n            } else {\n                new Notification(`The ${Lang().Name} file has been saved.`);\n            }\n        } catch (err) {\n            console.log(err);\n            vex.dialog.alert(\n                'There was a problem saving your file. The error has been printed to the console. Please contact the developer.'\n            );\n        }\n\n        // Save to database\n        if ( Lang().UploadToDatabase && get(dbid) !== '' && get(dbkey) !== '' ) {\n            const hits = await xata.db.Languages.filter({Name: Lang().Name, Owner: get(dbid)}).getAll();\n            if (hits.length > 0) { \n                await xata.db.Languages.update({id: hits[0].id, File: JSON.parse(exports)});\n            } else {\n                await xata.db.Languages.create({Name: Lang().Name, Owner: get(dbid), File: JSON.parse(exports)});\n            }\n        }\n    };\n                        \n    if (!Lang().Name.trim()) {\n        vex.dialog.prompt({\n            message: 'Please enter a file name before saving.',\n            callback: (response: string | false) => {\n                if (response) {\n                    Lang().Name = response.trim();\n                    finish();\n                }\n            }\n        });\n    } else {\n        finish();\n    }\n}\n                    \n/**\n* Contains the functions for exporting the language data\n* in various formats, asychronously.\n* @property {function} `lexc()` Exports the language as a .lexc file.\n* @property {function} `txt()` Saves the lexicon as a .txt file.\n* @property {function} `csv()` Saves the lexicon as a .csv file.\n* @property {function} `json()` Exports the raw JSON data.\n* @property {function} `html.all()` Exports the language as an interactive HTML file.\n* @property {function} `html.docs()` Exports the documentation alone as an HTML file.\n*/ \nexport const saveAs = {\n    lexc: async () => {\n        let exports: Blob;\n        collectExportData().then(jsonString => {exports = new Blob([jsonString]);});\n        const file_handle = await window.showSaveFilePicker({\n            suggestedName: `${Lang().Name}.lexc`,\n        });\n        await file_handle.requestPermission({ mode: 'readwrite' });\n        const file = await file_handle.createWritable();\n        try { await file.write(exports); } catch (err) {\n            window.alert('The file failed to save. Please contact the developer for assistance.');\n            console.log(err);\n            await file.close();\n            return;\n        }\n        await file.close();\n        window.alert('The file saved successfully.');\n    },\n    txt: async () => {\n        let export_data = '';\n        const $lexicon = Lang().Lexicon;\n        for (const word in $lexicon) {\n            export_data += `${word}\\n${$lexicon[word][0]}\\n${$lexicon[word][1]}\\n\\n`;\n        }\n        const exports = new Blob([export_data]);\n                            \n        const file_handle = await window.showSaveFilePicker({\n            suggestedName: `${Lang().Name}.txt`,\n        });\n        await file_handle.requestPermission({ mode: 'readwrite' });\n        const file = await file_handle.createWritable();\n        try {\n            await file.write(exports);\n        } catch (err) {\n            window.alert('The file failed to export.');\n        }\n        await file.close();\n        window.alert('The file exported successfully.');\n    },\n    csv: async () => {\n        const $lexicon = Lang().Lexicon;\n        const array_to_csv = (data) => {\n            return data.map(row => row\n                .map(String) // convert every value to String\n                .map((v: string) => v.replaceAll('\"', '\"\"')) // escape double colons\n                .map((v: string) => `\"${v}\"`) // quote it\n                .join(',') // comma-separated\n            ).join('\\r\\n'); // rows starting on new lines\n        };\n        const arr_data = [['Word', 'Pronunciations', 'Definitions']];\n        for (const key in $lexicon) {\n            arr_data.push([\n                key, \n                Object.entries($lexicon[key].pronunciations).map(([lect, {ipa}]) => lect + ': ' + ipa).join('  '), \n                $lexicon[key].Senses.map(sense => sense.definition).join('  ')\n            ]);\n        }\n        const export_data = array_to_csv(arr_data);\n        const exports = new Blob([export_data]);\n                                \n        const file_handle = await window.showSaveFilePicker({\n            suggestedName: `${Lang().Name}.csv`,\n        });\n        await file_handle.requestPermission({ mode: 'readwrite' });\n        const file = await file_handle.createWritable();\n        try {\n            await file.write(exports);\n        } catch (err) {\n            window.alert('The file failed to export. Please contact the developer for assistance.');\n            console.log(err);\n        }\n        await file.close();\n        window.alert('The file exported successfully.');\n    },\n    json: async () => {\n        let export_data: Blob;\n        collectExportData().then(jsonString => {export_data = new Blob([jsonString]);});\n                                \n        const file_handle = await window.showSaveFilePicker({\n            suggestedName: `${Lang().Name}.json`,\n        });\n        await file_handle.requestPermission({ mode: 'readwrite' });\n        const file = await file_handle.createWritable();\n        try {\n            await file.write(export_data);\n        } catch (err) {\n            window.alert('The file failed to export.');\n        }\n        await file.close();\n        window.alert('The file exported successfully.');\n    },\n    html: {\n        lexicon: async () => {\n            // Create HTML document object\n            const export_container = document.createElement('html');\n                                    \n            // Create HTML header info\n            const head = document.createElement('head');\n            head.innerHTML = `\n                <meta charset=\"UTF-8\" />\n                <title>${Lang().Name}</title>\n                <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n                <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n                <link href=\"https://fonts.googleapis.com/css2?family=Gentium+Book+Plus:ital,wght@0,400;0,700;1,400;1,700&display=swap\" rel=\"stylesheet\">\n            `;\n                                    \n            // Create export styles\n            const styles = document.createElement('style');\n            styles.innerHTML = indexCSS;\n                                    \n            const overrides = document.createElement('style');\n            overrides.innerHTML = overridesCSS;\n                                    \n            // Create export body\n            const body = document.createElement('body');\n            body.innerHTML += `<h1>${Lang().Name}</h1>`;\n            const alphabetical = alphabetize(Lang().Lexicon);\n            body.innerHTML += '<hr/><h2>Lexicon</h2>';\n            body.append(lexiconToHTML(alphabetical));\n                                    \n            head.append(styles, overrides);\n            export_container.append(head, body);\n                                    \n            const export_data = export_container.outerHTML;\n            const exports = new Blob(['\\ufeff', export_data], {\n                type: 'tex/html; charset=utf-8;',\n            });\n                                    \n            const file_handle = await window.showSaveFilePicker({\n                suggestedName: `${Lang().Name}_Lexicon.html`,\n            });\n            await file_handle.requestPermission({ mode: 'readwrite' });\n            const file = await file_handle.createWritable();\n            try {\n                await file.write(exports);\n            } catch (err) {\n                vex.dialog.alert('The file failed to export. Please contact the developer for assistance.');\n                console.log(err);\n                await file.close();\n                return;\n            }\n            await file.close();\n            vex.dialog.alert('The file exported successfully.');\n        },\n        all: async () => {\n            // Create HTML document object\n            const export_container = document.createElement('html');\n                                    \n            // Create HTML header info\n            const head = document.createElement('head');\n            head.innerHTML = `\n                <meta charset=\"UTF-8\" />\n                <title>${Lang().Name}</title>\n                <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n                <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n                <link href=\"https://fonts.googleapis.com/css2?family=Gentium+Book+Plus:ital,wght@0,400;0,700;1,400;1,700&display=swap\" rel=\"stylesheet\">\n            `;\n                                    \n            // Create export styles\n            const styles = document.createElement('style');\n            styles.innerHTML = indexCSS;\n                                    \n            const overrides = document.createElement('style');\n            overrides.innerHTML = overridesCSS;\n                                    \n            let documentation: HTMLElement = document.createElement('div');\n            // Convert EditorJS save data to HTML.\n            await get(docsEditor).save().then(data => {\n                documentation = editorjsToHTML(data, documentation);\n            });\n                                    \n            // Create export body\n            const body = document.createElement('body');\n            body.innerHTML += `<h1>${Lang().Name}</h1>`;\n            body.innerHTML += documentation.outerHTML;\n            const alphabetical = alphabetize(Lang().Lexicon);\n            body.innerHTML += '<hr/><h2>Lexicon</h2>';\n            body.append(lexiconToHTML(alphabetical));\n                                    \n            head.append(styles, overrides);\n            export_container.append(head, body);\n                                    \n            const export_data = export_container.outerHTML;\n            const exports = new Blob(['\\ufeff', export_data], {\n                type: 'tex/html; charset=utf-8;',\n            });\n                                    \n            const file_handle = await window.showSaveFilePicker({\n                suggestedName: `${Lang().Name}.html`,\n            });\n            await file_handle.requestPermission({ mode: 'readwrite' });\n            const file = await file_handle.createWritable();\n            try {\n                await file.write(exports);\n            } catch (err) {\n                vex.dialog.alert('The file failed to export. Please contact the developer for assistance.');\n                console.log(err);\n                await file.close();\n                return;\n            }\n            await file.close();\n            vex.dialog.alert('The file exported successfully.');\n        },\n        docs: async () => {\n            // Create HTML document object\n            const export_container = document.createElement('html');\n                                    \n            // Create HTML header info\n            const head = document.createElement('head');\n            head.innerHTML = `\n                <meta charset=\"UTF-8\" />\n                <title>${Lang().Name} Docs</title>\n                <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n                <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n                <link href=\"https://fonts.googleapis.com/css2?family=Gentium+Book+Plus:ital,wght@0,400;0,700;1,400;1,700&display=swap\" rel=\"stylesheet\">\n            `;\n            // Create export styles\n            const styles = document.createElement('style');\n            styles.innerHTML = indexCSS;\n                                    \n            const overrides = document.createElement('style');\n            overrides.innerHTML = overridesCSS;\n            head.append(styles, overrides);\n            export_container.appendChild(head);\n                                    \n            let body: HTMLElement = document.createElement('body');\n            await get(docsEditor).save().then(data => {\n                body = editorjsToHTML(data, body);\n            });\n            body.style.padding = '12em';\n            body.classList.add('container');\n            export_container.appendChild(body);\n                                    \n            const export_data = export_container.outerHTML;\n            const exports = new Blob(['\\ufeff', export_data], {\n                type: 'tex/html; charset=utf-8;',\n            });\n            const file_handle = await window.showSaveFilePicker({\n                suggestedName: `${Lang().Name}_Docs.html`,\n            });\n            await file_handle.requestPermission({ mode: 'readwrite' });\n            const file = await file_handle.createWritable();\n            try {\n                await file.write(exports);\n            } catch (err) {\n                vex.dialog.alert('The file failed to export. Please contact the developer.');\n                console.log(err);\n                await file.close();\n                return;\n            }\n            await file.close();\n            vex.dialog.alert('The file exported successfully.');\n        },\n    },\n};\nfunction lexiconToHTML(alphabetical: string[]) {\n    const row = document.createElement('div');\n    row.classList.add('row');\n    const col1 = document.createElement('div');\n    col1.classList.add('column');\n    const col2 = document.createElement('div');\n    col2.classList.add('column');\n    let current_column = false;\n    alphabetical.forEach(entry => {\n        let text = '';\n        const pronunciations = Lang().Lexicon[entry].pronunciations;\n        Object.entries(pronunciations).forEach(([lect, pronunciation]) => {\n            text += `<p class=\"lect\">${Lang().UseLects ? lect + ': ' : ''}<span class='pronunciation'>${pronunciation.ipa}</span></p>`;\n        });\n        const senses = Lang().Lexicon[entry].Senses;\n        senses.forEach(({ lects, definition, tags }, i) => {\n            if (Lang().UseLects) text += `<p class=\"lect\">${lects.join(', ')}</p>`;\n            text += `<div class='sense'>${i + 1}.</div>`;\n            tags.forEach(tag => {\n                text += `<div class='tag-item'>${tag}</div>`;\n            });\n            text += `<p>${markdownToHtml(definition)}</p>`;\n        });\n        if (current_column) {\n            col2.innerHTML += `<div class=\"lex-entry\"><p>${entry}</p>${text}</div>`;\n        } else {\n            col1.innerHTML += `<div class=\"lex-entry\"><p>${entry}</p>${text}</div>`;\n        }\n        current_column = !current_column;\n    });\n    row.append(col1, col2);\n    return row;\n}\n                        \n/**\n* Methods for opening files saved by previous versions of the app.\n* @param {Object} contents\n*/\nexport const openLegacy = {\n    /**\n    * This function can open 1.9 - 1.11 files.\n    */\n    1.9: (contents) => {\n        Language.set(Default);\n        try {\n            for (const key in contents.Lexicon) {\n                Lang().Lexicon[key] = <Lexc.Word> {\n                    pronunciations: <Lexc.EntryPronunciations> {\n                        General: {\n                            ipa: contents.Lexicon[key][0],\n                            irregular: contents.Lexicon[key][2],\n                        }\n                    },\n                    Senses: <Lexc.Sense[]> [{\n                        definition: contents.Lexicon[key][1],\n                        lects: ['General'],\n                        tags: contents.Lexicon[key][3],\n                    }],\n                };\n            }\n        } catch (err) {\n            window.alert('There was a problem loading the contents of the lexicon. Please contact the developer.');\n            diagnostics.logError('Attempted to load a version 1.9 lexicon.', err);\n        }\n        try { Lang().Alphabet = contents.Alphabet; } catch (err) {\n            window.alert('There was a problem loading the alphabetical order. Please contact the developer for assistance.');\n            diagnostics.logError('Attempted to load a version 1.9 alphabet.', err);\n        }\n        try {\n            Lang().Pronunciations.General = contents.Romanization;\n            writeRomans('General');\n        } catch (err) {\n            window.alert('There was a problem loading the romanizations. Please contact the developer for assistance.');\n            diagnostics.logError('Attempted to load version 1.9 romanizations.', err);\n        }\n        try { \n            for (const key in contents.Phrasebook) {\n                Lang().Phrasebook[key] = <Lexc.PhraseCategory> (() => {\n                    const phrases: Lexc.PhraseCategory = {};\n                    for (const phrase in contents.Phrasebook[key]) {\n                        phrases[phrase] = <Lexc.Phrase> {\n                            description: contents.Phrasebook[key][phrase].description,\n                            lects: ['General'],\n                            pronunciations: <Lexc.EntryPronunciations> {\n                                General: {\n                                    ipa: contents.Phrasebook[key][phrase].pronunciation,\n                                    irregular: false,\n                                },\n                            },\n                            variants: (() => { \n                                const variants: {[index:string]: Lexc.Variant} = {};\n                                for (const variant in contents.Phrasebook[key][phrase].variants) {\n                                    variants[variant] = {\n                                        description: contents.Phrasebook[key][phrase].variants[variant].description,\n                                        pronunciations: <Lexc.EntryPronunciations> {\n                                            General: {\n                                                ipa: contents.Phrasebook[key][phrase].variants[variant].pronunciation,\n                                                irregular: false,\n                                            }\n                                        },\n                                    };\n                                }\n                                return variants;\n                            })(),\n                            tags: [],\n                        };\n                    }\n                    return phrases;\n                })();\n            }\n        } catch (err) {\n            window.alert('There was a problem loading the phrasebook. Please contact the developer for assistance.');\n            diagnostics.logError('Attempted to load a version 1.9 phrasebook.', err);\n        }\n        try {\n            Lang().Phonotactics.General.Onsets = contents.Phonotactics.Initial.join(' ');\n            Lang().Phonotactics.General.Medials = contents.Phonotactics.Middle.join(' ');\n            Lang().Phonotactics.General.Codas = contents.Phonotactics.Final.join(' ');\n            Lang().Phonotactics.General.Vowels = contents.Phonotactics.Vowel.join(' ');\n            Lang().Phonotactics.General.Illegals = contents.Phonotactics.Illegal.join(' ');\n        } catch (err) {\n            window.alert('There was a problem loading the phonotactics data. Please contact the developer for assistance.');\n            diagnostics.logError('Attempted to load version 1.9 phonotactics.', err);\n        }\n        try { \n            get(docsEditor).destroy();\n            initializeDocs(contents.Docs); \n        } catch (err) {\n            window.alert('There was a problem loading the documentation data. Please contact the developer for assistance.');\n            diagnostics.logError('Attempted to load version 1.9 documentation.', err);\n        }\n        try { Lang().HeaderTags = contents.HeaderTags; } catch (err) {\n            window.alert('There was a problem loading the header tags.');\n            diagnostics.logError('Attempted to load version 1.9 header tags.', err);\n        }\n        Lang().IgnoreDiacritics = contents.IgnoreDiacritics;\n        Lang().CaseSensitive = contents.CaseSensitive;\n    },\n};\n                        \nconst csv = require('csv-parser');\n                        \n/**\n* Imports a CSV file to the lexicon.\n* @param {boolean} headers Whether or not the CSV file has headers.\n* @param {number} words The column number of the words.\n* @param {number} definitions The column number of the definitions.\n*/\nexport async function importCSV(headers: boolean, words: number, definitions: number, pronunciations: number|false, tags: number|false) {\n    const data = [];\n    let file_path: string;\n    words -= 1;\n    definitions -= 1;\n    if (pronunciations) pronunciations -= 1;\n    if (tags) tags -= 1;\n    showOpenDialog(\n        {\n            title: 'Open CSV File',\n            properties: ['openFile'],\n        },\n        path => {\n            if (path === undefined) return;\n            if (path[0].split('.').pop() !== 'csv') {\n                vex.dialog.alert('A CSV file was not selected.');\n                return;\n            }\n            file_path = path;\n            fs.createReadStream(path[0])\n                .pipe(csv({\n                    headers: false,\n                    skipLines: headers? 1 : 0,\n                }))\n                .on('data', (row) => {\n                    data.push(row);\n                })\n                .on('end', () => {\n                    console.log(data);\n                    const lexicon: Lexc.Lexicon = { };\n                    data.forEach(row => {\n                        lexicon[row[words]] = <Lexc.Word> {\n                            pronunciations: <Lexc.EntryPronunciations> {\n                                General: {\n                                    ipa: pronunciations? row[pronunciations] : get_pronunciation(row[words], Lang().Lects[0]),\n                                    irregular: false,\n                                }\n                            },\n                            Senses: <Lexc.Sense[]> [{\n                                definition: row[definitions],\n                                lects: [Lang().Lects[0]],\n                                tags: tags? row[tags].split(/\\s+/).map((tag: string) => tag.trim()) : [],\n                            }]\n                        };\n                    });\n                    console.log(lexicon);\n                    get(Language).Lexicon = lexicon;\n                    get(Language).Name = file_path[0].split('/')[file_path[0].split('/').length - 1].split('.')[0];\n                                        \n                    ipcRenderer.emit('update-lexicon-for-gods-sake-please');\n                });\n        }\n    );\n}\n    \nexport async function retrieveFromDatabase(name = Lang().Name): Promise<Lexc.Language|false> {\n    const hits = await xata.db.Languages.filter({Name: name, Owner: get(dbid)}).getAll();\n    if (hits.length > 0) {\n        return hits[0].File;\n    } else {\n        return false;\n    }\n}\n\nconst overridesCSS = `\n    @import url(\"https://fonts.googleapis.com/css2?family=Gentium+Book+Plus:ital,wght@0,4000,7001,4001,700&display=swap\");\n    body {\n        overflow-y: auto;\n        text-align: center;\n        margin-left: 15vw;\n        margin-right: 15vw;\n        background-color: #333;\n        color: #ccc;\n    }\n    \n    .container {\n        overflow-x: clip;\n        overflow-y: auto;\n    }\n    \n    .lex-body {\n        font-family: \"Gentium Book Plus\", serif;\n    }\n    \n    .tag-item {\n        font-family: serif;\n    }\n    \n    .search {\n        font-family: \"Gentium Book Plus\", serif;\n    }\n    \n    .phonology, .pronunciation {\n        font-family: \"Gentium Book Plus\", serif !important;\n    }\n    \n    [id=entry-counter] {\n        font-family: serif;\n    }\n    \n    td {\n        text-align: center;\n        border: 2px solid #ccc;\n    }\n    \n    tr {\n        background-color: transparent !important;\n    }\n    \n    table {\n        border-collapse: collapse;\n        margin: auto;\n    }\n    \n    .table-container, .table-title {\n        font-family: \"Gentium Book Plus\", serif;\n        align-items: center;\n    }\n    \n    button {\n        display: none;\n    }\n    \n    .info {\n        display: none;\n    }\n    \n    .search-row {\n        display: inline-flex;\n    }\n    \n    @media only screen and (min-device-width: 601px) {\n        .sidebar {\n            max-width: 18% !important;\n        }\n    }\n    @media only screen and (max-device-width: 600px) {\n        body {\n            width: 100vw !important;\n            font-size: 12pt;\n            padding: 2vw;\n        }\n        body > h1 {\n            font-size: 36pt;\n        }\n        div.container {\n            height: 60vh !important;\n        }\n        div.column {\n            display: block;\n        }\n        div.sidebar {\n            max-height: 18vh;\n        }\n        div.row {\n            display: block;\n            min-width: 96vw !important;\n            margin-bottom: 36vh;\n        }\n        div.variants {\n            margin-bottom: 4rem;\n        }\n        .lex-entry, .lex-body {\n            font-size: 16pt !important;\n        }\n        .capitalize {\n            font-size: 24pt !important;\n        }\n        .tag-item, [id=entry-counter] {\n            font-size: 16pt;\n        }\n        .search, .sidebar p {\n            font-size: 24pt;\n        }\n        td {\n            font-size: 18pt !important;\n        }\n    }\n    `;\n                            \nconst indexCSS = `\n    @charset \"UTF-8\";\n    html, body {\n        align-items: center;\n    }\n    \n    body {\n        font-family: serif;\n        font-size: 11pt;\n        min-width: 400px;\n        min-height: 400px;\n        margin: 0px;\n        overflow: hidden;\n        -webkit-app-region: drag;\n    }\n    \n    button {\n        font-family: serif;\n        font-size: 11pt;\n        transition-duration: 0.33s;\n        cursor: pointer;\n        -webkit-app-region: no-drag;\n        -webkit-user-select: none;\n    }\n    button[id=overwrite] {\n        font-weight: bold;\n    }\n    button.collapser {\n        max-width: 1em;\n        height: 100%;\n        border-color: transparent !important;\n        background-color: rgba(17, 17, 17, 0.0666666667);\n        display: flex;\n        float: right;\n        margin: 0px;\n        padding: 0px;\n    }\n    button.collapser:hover {\n        border-color: rgba(255, 255, 255, 0.2666666667) !important;\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n    button.collapser::after {\n        content: \"\";\n        margin: auto;\n    }\n    button.collapser-h {\n        max-height: 1.33em;\n        width: 100% !important;\n        border-color: transparent !important;\n        background-color: rgba(17, 17, 17, 0.0666666667);\n        display: flex;\n        margin: 0px;\n        padding: 0px;\n    }\n    button.collapser-h:hover {\n        border-color: rgba(255, 255, 255, 0.2666666667) !important;\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n    button.collapser-h::after {\n        content: \"\";\n        margin: auto;\n    }\n    \n    .tab-container {\n        width: 100vw;\n        height: 100vh;\n        -webkit-user-select: none;\n    }\n    .tab-container .button-container {\n        width: 100%;\n        text-align: center;\n    }\n    .tab-container .button-container button {\n        border: none;\n        outline: none;\n        padding: 4px;\n        height: 100%;\n        width: fit-content;\n    }\n    .tab-container .window-control {\n        text-align: left;\n        height: 0px;\n        overflow: visible;\n    }\n    .tab-container .window-control button {\n        border: none;\n        outline: none;\n        background-color: transparent;\n    }\n    .tab-container .window-control button.close:hover {\n        background-color: #9e0f0f;\n    }\n    .tab-container .window-control button.minimize:hover {\n        background-color: #c9c911;\n    }\n    .tab-container .window-control button.maximize:hover {\n        background-color: #4eb94e;\n    }\n    .tab-container .tab-pane {\n        height: 80%;\n        box-sizing: border-box;\n        -webkit-app-region: no-drag;\n        -webkit-user-select: text;\n    }\n    \n    .row {\n        display: flex;\n        margin: auto;\n    }\n    .row:has(~ .collapsible-row .collapsed) {\n        height: 90vh !important;\n    }\n    \n    .column {\n        width: 100%;\n    }\n    \n    .collapsible-column {\n        min-width: 2%;\n        width: fit-content;\n    }\n    \n    .collapsible-row:has(.collapsed) {\n        height: 3vh !important;\n    }\n    \n    .collapsed {\n        display: none;\n    }\n    \n    .text-left {\n        text-align: left;\n    }\n    .text-right {\n        text-align: right;\n    }\n    .text-center {\n        text-align: center;\n    }\n    \n    .prelined {\n        white-space: pre-line;\n        /* This is solely to make the \\n character work from the JS side */\n    }\n    \n    p {\n        margin: 0px;\n    }\n    \n    div[id=tables-pane] {\n        font-family: Gentium;\n        font-size: 11pt;\n    }\n    \n    h1, h2, h3, h4, h5, h6 {\n        font-style: italic;\n        padding-top: 1em !important;\n    }\n    \n    .info {\n        font-family: serif;\n        font-size: 11pt;\n        font-style: italic;\n        line-height: 1.5em;\n        -webkit-user-select: none;\n    }\n    \n    .phonology {\n        font-family: Gentium;\n        font-size: 11pt;\n        width: 95%;\n    }\n    \n    .version-info {\n        font-family: serif;\n        font-size: 7pt;\n        text-align: left;\n        display: inline;\n        float: right;\n        -webkit-user-select: none;\n    }\n    \n    .lex-body {\n        white-space: pre-line;\n    }\n    .lex-entry {\n        font-family: Gentium;\n        font-size: 11pt;\n        transition: 0.3s;\n        padding: 1em;\n    }\n    \n    .variants {\n        font-family: Gentium;\n        font-size: 11pt;\n    }\n    .variants div.column {\n        margin: 0.6em;\n    }\n    \n    .capitalize {\n        text-transform: capitalize;\n    }\n    \n    .tag-item {\n        font-family: serif;\n        font-size: 7pt;\n        border-radius: 7%;\n        width: fit-content;\n        padding: 0.2em;\n        margin: 0.2em;\n        text-transform: uppercase;\n        display: inline-block;\n    }\n    \n    .sense {\n        font-family: Gentium;\n        font-size: 9pt;\n        border-radius: 7%;\n        width: fit-content;\n        padding: 0.2em;\n        margin: 0.2em;\n        font-weight: bold;\n        font-style: italic;\n        display: inline-block;\n        background-color: transparent;\n        margin-top: 1em;\n    }\n    \n    .lect {\n        font-family: serif;\n        font-size: 9pt;\n        font-style: italic;\n        margin-top: 0.1em;\n    }\n    \n    [id=entry-counter] {\n        font-family: serif;\n        font-size: 7pt;\n        border-radius: 7%;\n        width: fit-content;\n        padding: 0.2em;\n        margin: 0.2em;\n        text-transform: uppercase;\n        font-weight: bold;\n        margin: auto;\n    }\n    \n    .scrolled {\n        overflow-y: auto;\n        overflow-x: wrap;\n    }\n    \n    .container {\n        border-radius: 6px;\n        text-align: center;\n        margin: 6px;\n        padding: 6px;\n    }\n    \n    .row button {\n        padding: 2px 10px 2px 10px;\n        margin: 4px auto 4px auto;\n        display: flex;\n        width: fit-content;\n        border: 1px solid black;\n        border-radius: 8px;\n    }\n    \n    label {\n        font-family: serif;\n        font-size: 11pt;\n        -webkit-user-select: none;\n    }\n    \n    .pronunciation {\n        font-family: Gentium;\n        font-size: 9pt;\n    }\n    \n    textarea, input {\n        font-family: Gentium;\n        font-size: 11pt;\n        display: flex;\n        text-align: center;\n        padding: 4px;\n        margin: 1px auto 1px auto;\n        border: none;\n        border-radius: 3px;\n        width: 80%;\n        resize: vertical;\n        transition: 0.2s;\n    }\n    textarea .pronunciation, input .pronunciation {\n        font-family: Gentium;\n        font-size: 9pt;\n    }\n    textarea[type=number], input[type=number] {\n        padding: 1px;\n        width: 4em;\n    }\n    textarea[type=checkbox], input[type=checkbox] {\n        appearance: none;\n        margin: auto;\n        font: inherit;\n        width: 1rem;\n        height: 1rem;\n        border-radius: 0.15em;\n        transform: translateY(-0.075em);\n        display: grid;\n        place-content: center;\n    }\n    textarea[type=checkbox]::before, input[type=checkbox]::before {\n        content: \"\";\n        width: 0.65em;\n        height: 0.65em;\n        transform: scale(0);\n        transition: 120ms transform ease-in-out;\n    }\n    textarea[type=checkbox]:checked::before, input[type=checkbox]:checked::before {\n        transform: scale(1);\n        clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);\n    }\n    \n    .header input {\n        width: 70%;\n    }\n    \n    .narrow {\n        width: 50%;\n        margin: auto;\n    }\n    .narrow-col {\n        width: 15%;\n    }\n    \n    .search {\n        text-align: left;\n        width: 100%;\n        margin: 2px auto 2px auto;\n    }\n    \n    .search-container {\n        padding: 0 0.5em 0 0.5em;\n        position: relative;\n    }\n    \n    table {\n        border-collapse: collapse;\n        width: 95%;\n    }\n    table-container {\n        font-family: Gentium;\n        font-size: 11pt;\n        margin: auto;\n        padding: 30px 5%;\n    }\n    table-title {\n        font-family: Gentium;\n        font-size: 14pt;\n        font-style: italic;\n    }\n    \n    td {\n        padding: 2px 6px 2px 6px;\n        text-align: center;\n        user-select: none;\n    }\n    \n    .inflection {\n        font-family: Gentium;\n        font-size: 7pt;\n    }\n    .inflection h1, .inflection h2, .inflection h3, .inflection h4, .inflection h5, .inflection h6 {\n        padding-top: 0.2em;\n    }\n    .inflection h1 {\n        font-size: 1.5em;\n    }\n    .inflection h2 {\n        font-size: 1.3em;\n    }\n    .inflection h3 {\n        font-size: 1.1em;\n    }\n    .inflection h4 {\n        font-size: 1em;\n    }\n    .inflection h5 {\n        font-size: 0.9em;\n    }\n    .inflection h6 {\n        font-size: 0.8em;\n    }\n    \n    ::-webkit-scrollbar {\n        width: 9px;\n    }\n    ::-webkit-scrollbar-thumb {\n        border-radius: 6px;\n        transition: 0.2s;\n    }\n    ::-webkit-scrollbar-button {\n        display: none;\n    }\n    ::-webkit-scrollbar-corner {\n        border-radius: 6px 0px 0px 0px;\n    }\n    ::-webkit-resizer {\n        border-radius: 6px 0px 0px 0px;\n    }\n    \n    hr {\n        margin-bottom: 0.2em;\n        margin-top: 0.2em;\n        max-width: 66.66%;\n        padding: 0px;\n    }\n    \n    .milkyWay {\n        width: 100px;\n        height: 100px;\n        background: transparent;\n        margin: auto;\n        position: relative;\n        border-radius: 50%;\n    }\n    .milkyWay .planet {\n        border: 1px solid white;\n        animation-name: orbit;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear;\n        animation-play-state: paused;\n    }\n    .milkyWay .planet::before, .milkyWay .planet::after {\n        position: absolute;\n        content: \"\";\n        display: block;\n        border-radius: 50%;\n    }\n    .milkyWay > div {\n        position: absolute;\n        border-radius: 50%;\n    }\n    \n    .sun {\n        background: #faca09;\n        width: 10%;\n        height: 10%;\n        top: 45%;\n        left: 45%;\n    }\n    \n    .mercury {\n        width: 20%;\n        height: 20%;\n        top: calc(40% - 1px);\n        left: calc(40% - 1px);\n        animation-duration: 2s;\n    }\n    .mercury::before {\n        background: #9fb5b6;\n        width: 16%;\n        height: 16%;\n        top: -8%;\n        left: 42%;\n    }\n    \n    .venus {\n        width: 30%;\n        height: 30%;\n        top: calc(35% - 1px);\n        left: calc(35% - 1px);\n        animation-duration: 3s;\n    }\n    .venus::before {\n        background: #ECC98E;\n        width: 10%;\n        height: 10%;\n        top: -5%;\n        left: 45%;\n    }\n    \n    .earth {\n        width: 40%;\n        height: 40%;\n        top: calc(30% - 1px);\n        left: calc(30% - 1px);\n        animation-duration: 4s;\n    }\n    .earth::before {\n        background: #208fd8;\n        width: 10%;\n        height: 10%;\n        top: -5%;\n        left: 45%;\n    }\n    .earth::after {\n        background: #33c470;\n        width: 10%;\n        height: 6%;\n        top: -3%;\n        left: 45%;\n        transform: rotate(45deg);\n    }\n    \n    .mars {\n        width: 50%;\n        height: 50%;\n        top: calc(25% - 1px);\n        left: calc(25% - 1px);\n        animation-duration: 5s;\n    }\n    .mars::before {\n        background: #d35400;\n        width: 6%;\n        height: 6%;\n        top: -3%;\n        left: 47%;\n    }\n    \n    .jupiter {\n        width: 60%;\n        height: 60%;\n        top: calc(20% - 1px);\n        left: calc(20% - 1px);\n        animation-duration: 6s;\n    }\n    .jupiter::before {\n        background: #d4975a;\n        width: 10%;\n        height: 10%;\n        top: -5%;\n        left: 45%;\n    }\n    \n    .saturn {\n        width: 70%;\n        height: 70%;\n        top: calc(15% - 1px);\n        left: calc(15% - 1px);\n        animation-duration: 7s;\n    }\n    .saturn::before {\n        background: #E4D191;\n        width: 7%;\n        height: 7%;\n        top: -4%;\n        left: 48%;\n    }\n    .saturn::after {\n        background: #F0E4C1;\n        width: 12%;\n        height: 1%;\n        top: -1%;\n        left: 45.5%;\n        transform: rotate(-15deg);\n    }\n    \n    .uranus {\n        width: 80%;\n        height: 80%;\n        top: calc(10% - 1px);\n        left: calc(10% - 1px);\n        animation-duration: 8s;\n    }\n    .uranus::before {\n        background: #3498db;\n        width: 5%;\n        height: 5%;\n        top: -2%;\n        left: 48%;\n    }\n    .uranus::after {\n        background: #b0d0e5;\n        width: 8%;\n        height: 0.5%;\n        top: 0%;\n        left: 46.25%;\n        transform: rotate(-15deg);\n    }\n    \n    .neptune {\n        width: 90%;\n        height: 90%;\n        top: calc(5% - 1px);\n        left: calc(5% - 1px);\n        animation-duration: 9s;\n    }\n    .neptune::before {\n        background: #1269a3;\n        width: 4%;\n        height: 4%;\n        top: -1%;\n        left: 49%;\n    }\n    .neptune::after {\n        background: #91cbf2;\n        width: 6%;\n        height: 0.5%;\n        top: 0.5%;\n        left: 48%;\n        transform: rotate(-15deg);\n    }\n    \n    .pluto {\n        width: 100%;\n        height: 100%;\n        top: calc(0% - 1px);\n        left: calc(0% - 1px);\n        animation-duration: 10s;\n    }\n    .pluto::before {\n        background: #b78c7a;\n        width: 1%;\n        height: 1%;\n        top: -0.5%;\n        left: 49.5%;\n    }\n    \n    @keyframes orbit {\n        0% {\n            transform: rotate(-180deg);\n        }\n        100% {\n            transform: rotate(180deg);\n        }\n    }\n    /* EditorJS Overrides */\n    .ce-toolbar__plus {\n        transition: 0.33s;\n    }\n    .ce-toolbar__content {\n        max-width: 90% !important;\n    }\n    .ce-block__content {\n        max-width: 80% !important;\n    }\n    .ce-block--selected .ce-block__content {\n        background-color: rgba(255, 255, 255, 0.3333333333) !important;\n    }\n    \n    ::selection {\n        background-color: rgba(255, 255, 255, 0.3333333333) !important;\n    }\n    \n    /*# sourceMappingURL=index.css.map */\n    \n    `;\n                            ","const { ipcRenderer } = require('electron');\nimport { get } from 'svelte/store';\nimport { Language } from '../../stores';\nimport path from 'path';\nconst Lang = () => get(Language);\n\n/**\n * @param {string} name The name of the function to be called.\n * @param  {...any} args The arguments that the function takes.\n * @description Wrapper for asynchronous IPC invocation of FFI.\n * ```\n */\nasync function ffi(name, ...args) {\n    return await ipcRenderer.invoke('ffi', name, ...args);\n}\n\n/**\n * @param {string} file The name of the Graphemy file to read from\n * @param {string} text The input text to process\n * @returns {Promise<string>} Output data from the Graphemy CLI\n */\nexport async function graphemify(file, text, ortho_name) {\n    const user_path = `${await ipcRenderer.invoke('getUserDataPath')}/GraphemyCache/${Lang().Name}-${ortho_name}-${text}.svg`;\n    const isDev = await ipcRenderer.invoke('isDev');\n    const bin_path = isDev\n        ? './src/app/utils/interop/library/src/graphemy'\n        : path.resolve(process.resourcesPath, 'graphemy');\n    return ffi('graphemify', file, text, user_path, bin_path);\n}\n","<svelte:options immutable/>\n<script lang='ts'>\n    import { Language } from '../stores';\n    import { parseRules, applyRules } from '../utils/sca';\n    import type { Word, Phrase, Variant } from '../types';\n    import { correctSVGSize, readSVG } from '../utils/files';\n    import { graphemify } from '../utils/interop/rust-interop';\n    export let word: string;\n    export let source: Word | Phrase | Variant;\n\n    async function getSVG(text:string, file_path: string, ortho_name: string): Promise<String> {\n        let svg = await readSVG(text, ortho_name);\n        if (svg === 'No SVG found.') {\n            let graphemy_output = await graphemify(file_path, text, ortho_name);\n            // console.log(\"Grapemy CLI Output:\\n\", graphemy_output);\n            svg = await readSVG(text, ortho_name);\n        }\n        return correctSVGSize(svg);\n    }\n</script>\n{#if $Language.Orthographies.find(o => o.name === 'Romanization').display}\n        <p style=\"font-style: italic\">{word}</p>\n{/if}\n{#each $Language.Orthographies as ortho}\n    {#if ortho.name !== 'Romanization' && ortho.display && (ortho.root === 'rom' || (ortho.lect in source.pronunciations))}\n        {#if ortho.typesetter === 'graphemy'}\n            {#await getSVG(word, ortho.font, ortho.name)}\n                <p class=info><i>generating...</i></p>\n            {:then svg} \n                <div>\n                    {@html svg}\n                </div>\n            {:catch err}\n                <p>An error occurred while generating the SVG. The error is printed below. Please contact the developer for assistance.</p>\n                <code>{err}</code>\n            {/await}\n        {:else}\n            <p style:font-family={ortho.font}>\n                {(()=>{\n                    const settings = parseRules(ortho.rules);\n                    return applyRules(\n                        settings.rules,\n                        ortho.root === 'rom'? word : source.pronunciations[ortho.lect].ipa,\n                        settings.categories\n                    );\n                })()}\n            </p>\n        {/if}\n    {/if}\n{/each}\n","<svelte:options immutable/>\n<script lang=\"ts\">\n    import { Language } from '../stores';\n    import type { Word } from '../types';\n    import { createEventDispatcher } from 'svelte';\n    import Pronunciations from './Pronunciations.svelte';\n    import Inflections from './Inflections.svelte';\n    import { markdownToHtml } from '../utils/markdown';\n    import { debug } from '../utils/diagnostics';\n    import { applyRules, parseRules } from '../utils/sca';\n    import EntryLabel from './EntryLabel.svelte';\n    const dispatch = createEventDispatcher();\n    const edit = () => dispatch('edit')\n    export let word: string;\n    export let source: Word;\n    export let showEtymology: boolean;\n    export let showInflections: boolean = false;\n\n    function getAncestors(): string {\n        const ancestors: string[][] = [];\n        let currents = [word]\n        let maxDepth = 6;\n        while (Object.keys($Language.Etymologies)\n            .some(\n                word => \n                $Language.Etymologies[word].descendants\n                    .some(descendant => currents.includes(descendant.name))\n            ) && maxDepth\n        ) {\n            maxDepth--;\n            ancestors\n            .push(Object.keys($Language.Etymologies)\n                .filter(candidateWord => {\n                    const isAncestor = $Language.Etymologies[candidateWord].descendants\n                        .some(descendant => currents.includes(descendant.name));\n                    if (ancestors.flat().includes(word) || (candidateWord === word && isAncestor)) maxDepth = 0\n                    return isAncestor;\n                })\n            );\n            currents = ancestors[ancestors.length - 1];\n        }\n        ancestors.reverse();\n\n        let ancestorString = '';\n        let lastGen = '';\n        ancestors.forEach(generation => {\n            let newGen = generation.join(', ');\n            if (newGen !== lastGen) ancestorString += newGen + '  ';\n            lastGen = newGen;\n        });\n        ancestorString = !!ancestorString? ancestorString + word : '';\n        /* debug.log(`\n        Ancestor String: ${ancestorString}\n        !!ancestorString: ${!!ancestorString}\n        $Language.ShowEtymology: ${$Language.ShowEtymology}\n        `, false); */\n        return ancestorString;\n    }\n\n    let entryAncestors: string = '';\n    $: { \n        $Language.Etymologies; $Language.Lexicon; word; source;\n        entryAncestors = getAncestors();\n    }\n</script>\n<div id='{word}' class=\"lex-entry prelined\" on:contextmenu={edit}>\n    <EntryLabel {word} {source} />\n    <Pronunciations pronunciations={ source.pronunciations }/>\n    {#each source.Senses as Sense, i}\n        {#if source.Senses.length > 1} \n            <div class='sense'>{i+1}.</div>\n        {/if}\n        {#each Sense.tags as tag}\n            {#if !!tag}\n                <div class='tag-item'>{tag}</div>\n            {/if}\n        {/each}\n        {#if $Language.UseLects}        \n            <p class=\"lect\">\n                {Sense.lects.join(', ')}\n            </p>\n        {/if}\n        <p style='margin-bottom: -1em'>{@html markdownToHtml(Sense.definition)}</p>\n        {#if $Language.ShowInflection || showInflections}\n            <Inflections {word} tags={Sense.tags} readFromReference={showInflections}/>\n        {/if}\n        {#if $Language.ShowEtymology && !!entryAncestors && showEtymology}\n            <div class='tag-item'>etymology</div>\n            <p class=\"lex-body\"><i>{entryAncestors}</i></p>\n        {/if}\n    {/each}\n</div>\n","<script lang=\"ts\">\n    import { Language } from '../stores';\n    import { createEventDispatcher } from 'svelte';\n    const dispatch = createEventDispatcher();\n    export let tagSelector = 'existing tags';\n    let tag: string = '';\n    const add = () => dispatch('select', tag);\n\n</script>\n<select bind:value={tagSelector} on:change={() => \n    {\n        tag = tagSelector === 'existing tags'? '' : `${tagSelector}`;\n        add();\n        tagSelector = 'existing tags';\n    }}\n>\n    <option value=\"existing tags\">Choose Tags</option>\n    {#each Array.from(\n        new Set( Object.keys($Language.Lexicon)\n            .map((key) =>\n                $Language.Lexicon[key].Senses\n                    .map(sense => sense.tags)\n            ).flat(Infinity)\n        )\n    ).sort() as tag}\n        <option value={tag}>{tag}</option>\n    {/each}\n</select>\n","<script lang=\"ts\">\n    import { Language, pronunciations, wordInput } from '../stores';\n    import { get_pronunciation } from '../utils/phonetics';\n    import { debug } from '../utils/diagnostics';\n    import { createEventDispatcher } from 'svelte';\n    import TagSelector from './TagSelector.svelte';\n    export let definition = '';\n    export let tags: string;\n    export let index: number | 'hide';\n    const dispatch = createEventDispatcher();\n    const remove = () => dispatch('remove');\n    const commit = () => dispatch('commit');\n    let tagSelector = 'existing tags';\n\n    $: tags;\n    export let lects: string[];\n    $: {\n        // debug.logObj(lects, `(SenseInput ${index}) lects`);\n\n        // When the $Language.Lects array changes, remove lects that no longer exist. \n        // New lects that are added are handled be the #each loop in the component.\n        if (lects.filter(name => !$Language.Lects.includes(name)).length > 0) {\n            lects.filter(name => !$Language.Lects.includes(name)).forEach(name => {\n                // debug.log(`(SenseInput ${index}) Removing ${name} from lects`);\n                lects = lects.filter((l) => l !== name);\n            });\n        }\n    }\n    function change (lect: string) {\n        if (lects.includes(lect)) {\n            lects = lects.filter((l) => l !== lect);\n        } else {\n            lects = [...lects, lect];\n            $pronunciations[lect] = get_pronunciation($wordInput, lect);\n        }\n    }\n</script>\n\n<label>\n    {#if index !== 'hide'}\n        <i>Sense {index + 1}</i> <br>\n    {/if}\n    <label>Definition\n        <textarea rows='4' bind:value={definition} on:keydown={e => {\n            if (e.key === 'Enter' && e.altKey) commit();\n        }}></textarea>\n    </label>\n    <br>\n    <label>Tags\n        <div>\n            <textarea \n                rows=\"1\"\n                bind:value={tags}\n            />  \n            <TagSelector on:select = {\n                e => tags += e.detail\n                    ? tags\n                        ? ' ' + e.detail\n                        : e.detail\n                    : '' \n            }/>\n        </div>\n    </label>\n    <br>\n    {#if $Language.UseLects}\n        <label>Lects<br>\n            {#each $Language.Lects as lect}\n                <label>\n                    <div style=\"display: inline-block\">\n                        <input id={lect} type=\"checkbox\" on:change={\n                            () => change(lect)\n                        } checked={lects.includes(lect)}/>\n                    </div>\n                    <span style=\"display: inline-block\">{lect}</span>\n                </label><br>\n            {/each}\n        </label>\n        <br>\n    {/if}\n    {#if !!index && index !== 'hide'}\n        <button class=\"hover-highlight hover-shadow\" on:click={remove}>Remove Sense {index+1}</button>\n    {/if}\n    <br>\n</label>\n","<script lang=\"ts\">\n    const { ipcRenderer } = require('electron');\n    import { Language, wordInput, pronunciations, selectedTab, hideDropdowns } from '../stores';\n    import type * as Lexc from '../types';\n    import { alphabetize, alphabetPrecheck } from '../utils/alphabetize';\n    import { get_pronunciation } from '../utils/phonetics';\n    import LexEntry from '../components/LexEntry.svelte';\n    import SenseInput from '../components/SenseInput.svelte';\n    import { debug } from '../utils/diagnostics';\n    const vex = require('vex-js');\n    import { tooltip } from '@svelte-plugins/tooltips';\n    import { join } from 'path';\n\n    ipcRenderer.on('update-lexicon-for-gods-sake-please', () => {\n        $Language.Lexicon = {...$Language.Lexicon};\n    });\n    let defInputs = [''];\n    let searchWords = ''; let searchDefinitions = ''; let searchTags = ''; let lectFilter = '';\n    $: searchWords, searchDefinitions, searchTags, lectFilter; // Update the search when these values change\n    let keys: string[] = [];\n\n    let filtered_lex: Lexc.Lexicon;\n    $: filtered_lex = keys.reduce((acc, key) => {\n        if (key in $Language.Lexicon) acc[key] = $Language.Lexicon[key];\n        return acc;\n    }, {});\n\n    let alphabetized: string[];\n    $: { // Update the alphabetized lexicon when conditions change\n        $Language; \n        $Language.Lexicon; $Language.Pronunciations;\n        $Language.ShowEtymology; $Language.Etymologies; \n        $Language.ShowInflection; $Language.Inflections; \n        $Language.Alphabet; $Language.Orthographies;\n        keys;\n        (() => {\n            alphabetized = alphabetize(!!keys.length? filtered_lex : $Language.Lexicon)\n        })();\n    } \n\n    let collapsedPanel: boolean = false;\n\n    type senseInput = {\n        definition: string;\n        tags: string;\n        lects: string[];\n    }\n    let senses: senseInput[] = [{\n        definition: '',\n        tags: '',\n        lects: [...$Language.Lects],\n    }];\n\n    let lectSet: string[]\n    $: { // Update the set of lects when the `senses` array changes\n        senses; $Language.Lects; $Language.UseLects;\n        lectSet = Array.from(new Set(senses.map(sense => [...sense.lects]).flat().filter(lect => $Language.Lects.includes(lect))))\n    }\n\n    function scrollIntoView(word: string) {\n        const entry = document.getElementById(word);\n        if (entry) {\n            if (!!$selectedTab) $selectedTab = 0;\n            searchDefinitions = ''; searchTags = ''; searchWords = ''; lectFilter = '';\n            entry.scrollIntoView({\n                behavior: 'smooth',\n                block: 'center',\n            })\n        };\n    }\n    ipcRenderer.on('lexicon link', (_, word) => {\n        console.log('link:', word);\n        scrollIntoView(word);\n    });\n\n    /**\n     * This function is used to delete an entry from the lexicon and\n     * move it into the input fields for editing or deletion. If there\n     * is text in the input fields, it asks the user for overwrite\n     * confirmation. \n     * @param {string} word\n     */\n    function editEntry (word: string): void {\n        let confirmation = true;\n        if (!!$wordInput || !!defInputs[0]) {\n            confirmation = confirm(\n                'There is text in the word entry fields. Are you sure you want to overwrite it?'\n            );\n        }\n        if (confirmation) {\n            $wordInput = word;\n            $pronunciations = {};\n            Object.keys($Language.Lexicon[word].pronunciations).forEach(lect => {\n                $pronunciations[lect] = $Language.Lexicon[word].pronunciations[lect].ipa;\n            });\n            senses = [...$Language.Lexicon[word].Senses].map(sense => ({\n                definition: sense.definition,\n                tags: sense.tags.join(' '),\n                lects: sense.lects,\n            }));\n            // debug.logObj(senses, 'senses');\n            $hideDropdowns = true;\n            // timeout is necessary to let the dropdowns close before the lexicon is updated\n            // hiding the inflections dropdowns is necessary to prevent a persistency bug that can lead to a soft crash\n            window.setTimeout(() => {\n                let { [word]: _, ...rest } = $Language.Lexicon;\n                $Language.Lexicon = rest;\n                $hideDropdowns = false;\n            }, 100);\n        }\n    }\n\n    /**\n     * Creates a new lexicon entry, or appends to an existing one.\n     * @param {string} word\n     * @param {bool} append\n     */\n    function commitWord(word: string, append: boolean): void {\n        const emptySensesFilter = (sense: senseInput) => <boolean> (senses[''] !== sense) && (!!sense.definition);\n        const senseRemapper = (sense: senseInput) => <Lexc.Sense> {\n            definition: sense.definition,\n            tags: sense.tags.split(/\\s+/g),\n            lects: sense.lects,\n        };\n        if (!append) {\n            $Language.Lexicon[word] = <Lexc.Word> {\n                pronunciations: <Lexc.EntryPronunciations> (() => {\n                    const obj: Lexc.EntryPronunciations = {};\n                    Object.keys($pronunciations).filter(key => senses.map(sense => sense.lects).flat().includes(key)).forEach(lect => {\n                        obj[lect] = {\n                            ipa: $pronunciations[lect].trim(),\n                            irregular: $pronunciations[lect].trim() !== get_pronunciation(word, lect),\n                        }\n                    });\n                    return obj;\n                })(), \n                Senses: senses.filter(emptySensesFilter).map(senseRemapper),\n                Timestamp: Date.now(),\n            };\n        } else {\n            $Language.Lexicon[word].Senses.push(...senses.filter(emptySensesFilter).map(senseRemapper));\n        }\n        $Language.Lexicon = {...$Language.Lexicon}; // assignment trigger\n\n        // follow_lex_link(word);\n        $wordInput = '';\n        $pronunciations = (()=>{\n            const obj = {};\n            $Language.Lects.forEach(lect => {\n                obj[lect] = ''\n            });\n            return obj;\n        })();\n        senses = [{\n            definition: '',\n            tags: '',\n            lects: [...$Language.Lects],\n        }];\n    }\n\n    /**\n     * This function is called when the user clicks the \"Add Word\" button.\n     * It checks for empty input fields and invalid characters, and then calls\n     * {@link commitWord} to add the word to the lexicon.\n     * @param {bool} append\n     */\n    function addWord(append: boolean): void {\n        let word = $wordInput.trim()\n        if (!word) return;\n        if (!senses[0].definition) return;\n        if (!senses.map(sense => sense.lects).flat().length) return;\n        if (!alphabetPrecheck(word)) {\n            vex.dialog.confirm({\n                message: `The word contains characters not present in the alphabet. Are you sure you want to add it?`,\n                callback: (value: boolean) => {\n                    if (value) {\n                        commitWord(word, append);\n                        window.setTimeout(() => scrollIntoView(word), 50);\n                    };\n                }\n            });\n        } else {\n            commitWord(word, append);\n            window.setTimeout(() => scrollIntoView(word), 50);\n        }\n    }\n\n    /**\n     * Searches the lexicon for a word, definition, or tag. \n     * The character '!' is used to require an exact match.\n     * The caret '^' can be used to represent the beginning\n     * or end of a word. Searches are combinative, and only\n     * results which match all search input fields will be\n     * selected as matches. \n     */\n    function search_lex(): void {\n        let words_search = $Language.CaseSensitive? searchWords.trim() : searchWords.toLowerCase().trim();\n        let definitions_search = searchDefinitions.toLowerCase().trim();\n        let tags_search = searchTags.toLowerCase().trim();\n        keys = [];\n        if (!!words_search || !!definitions_search || !!tags_search || !!lectFilter) { // if there is at least one search term\n            for (let word in $Language.Lexicon) {\n                let entry = $Language.Lexicon[word];\n                let match = true;\n\n                // check lect filter\n                if ( !!lectFilter ) {\n                    if ( !entry.Senses.some(sense => sense.lects.includes(lectFilter)) ) {\n                        match = false;\n                        continue;\n                    }\n                }\n\n                // check word\n                if ( !!words_search ) {\n                    let caseFixedWord = $Language.CaseSensitive? word : word.toLowerCase();\n                    if ( words_search[0] === '!') { // requires exact match\n                        if (caseFixedWord !== words_search.split('!')[1]) {\n                            match = false;\n                            continue;\n                        }\n                    } else if ( !('^' + caseFixedWord.replaceAll(/\\s+/g, '^') + '^').includes(words_search.replaceAll(/\\s+/g, '^')) ) {\n                        // searches for inexact match\n                        match = false;\n                        continue;\n                    }\n                }\n\n                // check definitions\n                if ( !!definitions_search ) {\n                    if ( definitions_search[0] === '!' ) { // requires exact match\n                        if (!entry.Senses.some(sense => {\n                            return sense.definition === definitions_search.split('!')[1]\n                        })) {\n                            match = false;\n                            continue;\n                        }\n                    } else if (!entry.Senses.some(sense =>\n                        [\"^\", sense.definition, \"^\"]\n                        .join()\n                        .replaceAll(/\\s+/g, '^')\n                        .toLowerCase()\n                        .includes(\n                            definitions_search\n                            .replaceAll(/\\s+/g, '^')\n                        )\n                    )) {\n                        // searches for inexact match\n                        match = false;\n                        continue;\n                    }\n                }\n\n                // check tags\n                if ( !!tags_search ) {\n                    let tag_search_array = tags_search.split(/\\s+/);\n                    for (let tag_search of tag_search_array) {\n                        if (tag_search[0] === '!') { // requires exact match (per tag basis)\n                            if (!entry.Senses.some(sense => sense.tags.some(tag => tag.toLowerCase() === tag_search.split('!')[1]))) {\n                                match = false;\n                                continue;\n                            }\n                        } else if ( !entry.Senses.some(sense => sense.tags.some(tag => `^${tag.toLowerCase()}^`.includes(tag_search))) ) { \n                            // searches for inexact match (per tag basis)\n                            match = false;\n                            continue;\n                        }\n                    }\n                }\n\n                if ( match ) {\n                    keys = [...keys, word];\n                }\n            }\n            if (!keys.length) {keys = [null]}; // Search was attempted, no results\n        }\n    }\n</script>\n<!-- Lexicon Tab -->\n<div class='tab-pane'>\n    <!-- Header -->\n    <div class='container row text-center header'>\n        <div class=\"narrow-col\">\n            <label for=\"case-sensitive\" style=\"margin: auto;\"\n                use:tooltip={{position: 'bottom'}} title=\"This setting determines whether or not alphabetization is case sensitive.\"\n            > Case Sensitivity </label>\n            <input type=\"checkbox\" style=\"width: 15px; margin: auto;\" id=\"case-sensitive\" bind:checked={$Language.CaseSensitive} />\n        </div>\n        <div class=\"narrow-col\">\n            <label for=\"ignore-diacritic\" style=\"margin: auto; text-align: right;\"\n                use:tooltip={{position: 'bottom'}} title=\"This setting determines whether or not diacritics are taken into account during alphabetization.\"\n            >Ignore Diacritics</label>\n            <input type=\"checkbox\" style=\"width: 15px; margin: auto;\" id=\"ignore-diacritic\" bind:checked={$Language.IgnoreDiacritics}/>\n        </div>\n        <input id=\"alph-input\" type=\"text\" bind:value={$Language.Alphabet}>\n    </div>\n    <!-- Body -->\n    <div class='row' style=\"height: 84vh\">\n        <!-- Word Entry Side -->\n        <div class='container collapsible-column' style='height: 100%'>\n            <button class=\"collapser\" on:click={ () => collapsedPanel = !collapsedPanel }></button>\n            <div class:collapsed={collapsedPanel} class='text-center scrolled' style=\"height: 100%; overflow-x: hidden\">\n                <label for=\"wrd-input\"\n                use:tooltip={{position: 'bottom'}} title=\"Write your new word here in its romanized form.\"\n                >New Word</label>\n                <input id=\"wrd-input\" type=\"text\"\n                    bind:value={$wordInput}\n                    on:input={() => {\n                        lectSet.forEach(lect => {\n                            $pronunciations[lect] = get_pronunciation($wordInput, lect);\n                        });\n                    }}\n                >\n                {#if $Language.UseLects}\n                    {#each lectSet as lect}\n                        <div class=\"row narrow\">\n                            <div class=\"column text-right\">\n                                <p class=\"lect\">{lect}</p>\n                            </div>\n                            <div class=\"column text-left\">\n                                <span use:tooltip={{position: 'bottom'}} title={`This field is for the pronunciation of your word in your ${lect} lect. It will auto-populate based on rules you set in the Phonology tab for this lect.`}>\n                                    <input type=\"text\" class=\"pronunciation text-left\" bind:value={$pronunciations[lect]}/>\n                                </span>\n                            </div>\n                        </div>\n                    {/each}\n                {:else}\n                    <span use:tooltip={{position: 'bottom'}} title=\"This field is for the pronunciation of your word. It will auto-populate based on rules you set in the Phonology tab.\">\n                        <input type=\"text\" class=\"pronunciation\" bind:value={$pronunciations.General}/>\n                    </span>\n                {/if}\n                \n                {#each senses as sense, i}\n                    <SenseInput\n                        index={i}\n                        bind:definition={sense.definition}\n                        bind:tags={sense.tags}\n                        bind:lects={sense.lects}\n                        on:remove={() => {\n                            senses = senses.filter((_, j) => j !== i);\n                        }}\n                        on:commit={() => { addWord(false); }}\n                    />\n                {/each}\n                <button class=\"hover-highlight hover-shadow\" id=\"add-sense-button\" \n                    use:tooltip={{position: 'right'}} title=\"If this word has unrelated definitions, adding multiple senses is a good way to separate them visually and give them separate sets of tags.\"\n                    on:click={() => {\n                        senses = [...senses, {definition: '', tags: '', lects: [...$Language.Lects]}];\n                }}>Add Sense</button>\n                {#if !($wordInput in $Language.Lexicon)}\n                    <button class=\"hover-highlight hover-shadow\" id=\"add-word-button\" on:click={() => addWord(false)}>Add Word</button>\n                {:else}\n                    <div class=\"row\" id=\"definition-exists\">\n                        <button id=\"overwrite\" class=\"hover-shadow\" \n                            use:tooltip={{position: 'bottom'}} title=\"If you want to replace an existing entry with a new one, you can use this button to overwrite it.\"\n                            on:click={() => addWord(false)}>Overwrite Entry</button>\n                        <button id=\"append\" class=\"hover-shadow hover-highlight\" \n                            use:tooltip={{position: 'bottom'}} title=\"If you want to add new sense(s) to an existing word, you can use this button to append your work to the existing entry.\"\n                            on:click={() => addWord(true)}>Append Definition</button>\n                    </div>\n                {/if}\n                <div style=\"width: 100vw\"></div>\n            </div>\n        </div>\n        \n        <!-- Lexicon -->\n        <div class='container column text-center' style=\"height: 100%\">\n            <div class='row'>\n                <div class=\"column search-container\">\n                    {#if !searchWords}\n                            <label for=\"search-wrd\" style=\"position: absolute; top: 0.5em; left: 1em\">Search by word</label>\n                    {/if}\n                    <input id=\"search-wrd\" type=\"text\" class=\"search\" bind:value={searchWords} on:input={search_lex}/>\n                </div>\n                <div class=\"column search-container\">\n                    {#if !searchTags}\n                            <label for=\"search-tag\" style=\"position: absolute; top: 0.5em; left: 1em\">Search by tags</label>\n                    {/if}\n                    <input id=\"search-tag\" type=\"text\" class=\"search\" bind:value={searchTags} on:input={search_lex}/>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"search-container column\">\n                    {#if !searchDefinitions}\n                        <label for=\"search-def\" style=\"position: absolute; top: 0.33em; left: 1em\">Search definitions</label>\n                    {/if}\n                    <input id=\"search-def\" type=\"text\" class=\"search\" bind:value={searchDefinitions} on:input={search_lex}/>\n                </div>\n                {#if $Language.UseLects}\n                    <div class=\"column\">\n                        <label>Filter by lect: \n                            <select bind:value={lectFilter}>\n                                <option value=''>All</option>\n                                {#each $Language.Lects as lect}\n                                    <option value={lect}>{lect}</option>\n                                {/each}\n                            </select>\n                        </label>\n                    </div>\n                {/if}\n            </div>\n            <div class='scrolled' style=\"height: 88%\">\n                {#each alphabetized as word}\n                    <LexEntry word={word} source={$Language.Lexicon[word]} showEtymology={true} on:edit={() => editEntry(word)}/>\n                {:else}\n                    <p class=\"info\" id=\"lex-body\">Add new words on the left</p>\n                {/each}\n            </div>\n            <p id=\"entry-counter\">\n                {#if !!keys[0]} <!-- if there is a search being attempted -->\n                    {!!keys[0]? keys.length : '0'} {(keys.length === 1 && !!keys[0])? 'Match' : 'Matches'}\n                {:else} <!-- if there is no search being attempted -->\n                    {Object.keys($Language.Lexicon).length} {Object.keys($Language.Lexicon).length === 1? 'Entry' : 'Entries'}\n                {/if}\n            </p>\n        </div>\n    </div>\n</div>\n","<svelte:options immutable/>\n<script lang='ts'>\n    import { createEventDispatcher } from \"svelte\";\n    import { draw, blur } from 'svelte/transition';\n    const dispatch = createEventDispatcher();\n    const select = (entry: string) => {\n        dispatch('select', entry);\n    }\n\n    interface Node {\n        name: string;\n        children: { name: string, source: string }[];\n        parents: { name: string, source: string }[];\n    }\n    export let width: number; export let height: number;\n    export let tree: Node;\n\n    function parabolicCurve(arr: any[]): number[] {\n        const n = arr.length; if (n === 0) return [];\n        const result: number[] = [];\n        for (let i = 0; i < n; i++) {\n            const x = (i + 0.5) / n;\n            const f_x = 1 - 4 * Math.pow(x - 0.5, 2);\n            result.push(Math.round(f_x * Math.pow(n, 2)));\n        }\n        return result;\n    }\n    let dYparents: number[];\n    let dYchildren: number[];\n    $: {\n        tree;\n        dYparents = parabolicCurve(tree.parents);\n        dYchildren = parabolicCurve(tree.children);\n    }\n</script>\n<svg {width} {height}>\n    <g>\n        {#each tree.parents as parent, i}\n            <g on:mousedown={() => {\n                select(parent.name)\n            }}>\n                <rect class=\"lex\"\n                    x={(width / (tree.parents.length + 1)) * (i + 1) - 60}\n                    y={(height)/9 - dYparents[i] - 15 + Math.max(...dYparents)}\n                    width=\"120\"\n                />\n                <text class=\"lex-entry\" transition:blur=\"{{amount: 10, duration: 999}}\"\n                    x={(width / (tree.parents.length + 1)) * (i + 1)}\n                    y={(height)/9 - dYparents[i] + Math.max(...dYparents)}\n                    text-anchor=\"middle\"\n                    dominant-baseline=\"middle\"\n                > { parent.name } </text>\n                <text class=\"tag-item\" transition:blur=\"{{amount: 10, duration: 999}}\"\n                    x={(width / (tree.parents.length + 1)) * (i + 1)}\n                    y={(height)/9 - dYparents[i] + 15 + Math.max(...dYparents)}\n                    text-anchor=\"middle\"\n                    dominant-baseline=\"middle\"\n                > { parent.source } </text>\n                <path transition:draw=\"{{duration: 999}}\"\n                    d = {\n                        `M ${(width / (tree.parents.length + 1)) * (i + 1)}, ${(height)/9 - dYparents[i] + 20 + Math.max(...dYparents)} `\n                        + `C ${(width / (tree.parents.length + 1)) * (i + 1)}, ${(height)/9 - dYparents[i] + 50 + Math.max(...dYparents)} `\n                        + ` ${width/2}, ${height/2 - 40} `\n                        + ` ${width/2}, ${height/2 - 10}`\n                    }\n                    fill=\"none\"\n                />\n            </g>\n        {/each}\n        <g>\n            <text class=\"lex-entry\"\n                x={width/2}\n                y={height/2}\n                text-anchor=\"middle\"\n                dominant-baseline=\"middle\"\n            > { tree.name } </text>\n        </g>\n        {#each tree.children as child, i}\n            <g on:mousedown={() => {\n                select(child.name)\n            }}>\n                <rect class=\"lex\"\n                    x={(width / (tree.children.length + 1)) * (i + 1) - 60}\n                    y={(height + dYchildren[i]) - height/9 - 15 - Math.max(...dYchildren)}\n                    width=\"120\"\n                />\n                <text class=\"lex-entry\" transition:blur=\"{{amount: 10, duration: 999}}\"\n                    x={(width / (tree.children.length + 1)) * (i + 1)}\n                    y={(height + dYchildren[i]) - height/9 - Math.max(...dYchildren)}\n                    text-anchor=\"middle\"\n                    dominant-baseline=\"middle\"\n                > { child.name } </text>\n                <text class=\"tag-item\" transition:blur=\"{{amount: 10, duration: 999}}\"\n                    x={(width / (tree.children.length + 1)) * (i + 1)}\n                    y={(height + dYchildren[i]) - height/9 + 15 - Math.max(...dYchildren)}\n                    text-anchor=\"middle\"\n                    dominant-baseline=\"middle\"\n                > { child.source } </text>\n                <path transition:draw=\"{{duration: 999}}\"\n                    d = {\n                        `M ${width/2}, ${height/2 + 10} `\n                        + `C ${width/2}, ${height/2 + 40} `\n                        + ` ${(width / (tree.children.length + 1)) * (i + 1)}, ${(height + dYchildren[i]) - height/9 - 40 - Math.max(...dYchildren)} `\n                        + ` ${(width / (tree.children.length + 1)) * (i + 1)}, ${(height + dYchildren[i]) - height/9 - 10 - Math.max(...dYchildren)}`\n                    }\n                    fill=\"none\"\n                />\n            </g>\n        {/each}\n    </g>\n</svg>\n","<script lang='ts'>\n    import { Language, referenceLanguage } from '../stores';\n    import { alphabetize } from '../utils/alphabetize';\n    import { debug } from '../utils/diagnostics';\n    import type * as Lexc from '../types';\n    import Tree from '../components/Tree.svelte';\n    import LexEntry from '../components/LexEntry.svelte';\n    let newParent: string[] = ['', '']; let newChild: string[] = ['', ''];\n    let manualParentEntry: boolean = false; let manualChildEntry: boolean = false;\n\n    let selectedEntry: string = '';\n    let keys: string[] = [];\n    let filtered_lex: Lexc.Lexicon;\n    $: filtered_lex = keys.reduce((acc, key) => {\n        if (key in $Language.Lexicon) acc[key] = $Language.Lexicon[key];\n        return acc;\n    }, {});\n    let alphabetized: string[];\n    $: { // Update the alphabetized lexicon when the alphabet or `keys` array changes\n        $Language.Alphabet;\n        keys;\n        (() => {\n            alphabetized = alphabetize(!!keys.length? filtered_lex : $Language.Lexicon)\n        })();\n    }\n    let externalAlphabetized: string[];\n    let filteredExternal: Lexc.Lexicon;\n    $: {\n        $Language.Alphabet; $Language.Relatives; $Language.Etymologies; keys;\n        (() => {\n            const lexicon: Lexc.Lexicon = {};\n            Object.keys($Language.Relatives).forEach(lexicon_name => {\n                Object.keys($Language.Relatives[lexicon_name]).forEach(entry => {\n                    if (!(entry in $Language.Lexicon)) lexicon[entry] = $Language.Relatives[lexicon_name][entry];\n                });\n            });\n            Object.keys($Language.Etymologies).forEach(entry => {\n                if (!(entry in $Language.Lexicon)) lexicon[entry] = { Senses: [], pronunciations: {}, Timestamp: Date.now() };\n            });\n            filteredExternal = keys.reduce((acc, key) => {\n                if (key in lexicon) acc[key] = lexicon[key];\n                return acc;\n            }, {})\n            externalAlphabetized = alphabetize(!!keys.length? filteredExternal : lexicon);\n        })();\n    }\n\n    let search: string = '';\n    function searchEntries() {\n        let mergedLexicons: Lexc.Lexicon = {};\n        for (const name in $Language.Relatives) {\n            mergedLexicons = { ...mergedLexicons, ...$Language.Relatives[name] };\n        }\n        mergedLexicons = { ...mergedLexicons, ...$Language.Lexicon };\n        keys = Object.keys(mergedLexicons).filter(entry => {\n            let term: string;\n            term = $Language.CaseSensitive? entry : entry.toLowerCase()\n            term = $Language.IgnoreDiacritics? entry.normalize('NFD') : entry;\n            let search_term: string;\n            search_term = $Language.CaseSensitive? search : search.toLowerCase();\n            search_term = $Language.IgnoreDiacritics? search_term.normalize('NFD') : search_term;\n            return `^${term.replaceAll(/\\s+/g, '^')}^`.includes(search_term);\n        });\n    }\n    \n    interface Node {\n        name: string;\n        children: { name: string, source: string }[];\n        parents: { name: string, source: string }[];\n    }\n    function createTreeData(): Node {\n        // find all the parents of selectedEntry\n        const parents: string[][] = [];\n        Object.keys($Language.Etymologies).forEach(entry => {\n            if (entry === selectedEntry) return;\n            if ($Language.Etymologies[entry].descendants.some(descendant => descendant.name === selectedEntry)) {\n                const source: string = $Language.Etymologies[entry].source === '<< THIS LANGUAGE >>'? $Language.Name : $Language.Etymologies[entry].source;\n                parents.push([\n                    entry,\n                    source\n                ]);\n            }\n        });\n        // find all the children of selectedEntry\n        const children: string[][] = [];\n        if (selectedEntry in $Language.Etymologies) \n            $Language.Etymologies[selectedEntry].descendants.forEach(descendant => {\n                children.push([\n                    descendant.name, \n                    descendant.source === '<< THIS LANGUAGE >>'? $Language.Name : descendant.source\n                ]);\n            });\n\n        // create the tree data\n        return {\n            name: selectedEntry,\n            children: children.map(child => { return {name: child[0], source: child[1]} }),\n            parents: parents.map(parent => { return {name: parent[0], source: parent[1]} })\n        };\n    }\n\n    let tree: Node;\n    let width: number; let height: number;\n    $: {\n        selectedEntry; $Language.Etymologies;\n        tree = createTreeData();\n        width = window.innerWidth * .82 * ($referenceLanguage? .66 : 1);\n        height = window.innerHeight * .47\n    };\n</script>\n\n<div class='tab-pane'>\n    <div class='row' style='height: 94vh'>\n\n        <!-- Entry Selection -->\n        <div class='container column' style='max-width: 18%'>\n            <p>Entries</p>\n            <hr />\n            <div class='search-container'>\n                {#if !search}\n                    <label for='search' style='position: absolute; top: 0.333em; left: 1.2em'>Search</label>\n                {/if}\n                <input id='search' type='text' class='search' style='margin: auto; width: 90%'\n                    bind:value={search}\n                    on:input={searchEntries}\n                />\n            </div>\n            <p> <i>Internal</i> </p>\n            <div class='column scrolled' style='max-height: 40%'>\n                {#each alphabetized as entry}\n                    <div class='lex-entry' class:selected={entry === selectedEntry}\n                        on:mousedown={() => {\n                            selectedEntry = entry;\n                            if (!(entry in $Language.Etymologies))\n                                $Language.Etymologies[entry] = {\n                                    descendants: [],\n                                    source: '<< THIS LANGUAGE >>'\n                                }\n                        }}\n                    > {entry}\n                    </div>\n                {:else}\n                    <p class='info'>Lexicon entries will appear here.</p>\n                {/each}\n            </div>\n            <br>\n            <p> <i>External</i> </p>\n            <div class='column scrolled' style='max-height: 40%'>\n                {#each externalAlphabetized as entry}\n                    <div class='lex-entry' class:selected={entry === selectedEntry} \n                        on:mousedown={() => { selectedEntry = entry; }}\n                    > {entry} </div>\n                {:else}\n                    <p class='info'>External-source etymology entries will appear here.</p>\n                {/each}\n            </div>\n        </div>\n\n        <!-- Etymology Editor -->\n        <div class='container column' style='height: 94vh'>\n            <div class='scrolled' style='max-height:100%'>\n                {#if !!selectedEntry}\n                     <Tree\n                         {tree}\n                         {width}\n                         {height}\n                         on:select={e => selectedEntry = e.detail}\n                     />\n                    {#if selectedEntry in $Language.Lexicon}\n                        <LexEntry word={selectedEntry} source={$Language.Lexicon[selectedEntry]} showEtymology={false}/>\n                    {:else if Object.entries($Language.Relatives).some(([_, lex]) => Object.keys(lex).includes(selectedEntry))}\n                        <LexEntry \n                            word={selectedEntry} \n                            source={$Language.Relatives[ Object.entries($Language.Relatives).find(([_, lex]) => Object.keys(lex).includes(selectedEntry))[0] ][selectedEntry]}\n                            showEtymology={false}\n                        />\n                    {/if}\n                {:else}\n                    <p class='info'>Select an entry from the left to view and edit its etymology.</p>\n                {/if}\n                <hr />\n                {#if !(tree?.parents? tree.parents[0] : false) && !(tree?.children? tree.children[0] : false) && !!selectedEntry}\n                    <button class=\"hover-highlight hover-shadow\" on:click={() => {\n                        const { [selectedEntry]: _, ...rest } = $Language.Etymologies;\n                        $Language.Etymologies = rest;\n                        selectedEntry = '';\n                    }}>Delete Empty Etymology</button>\n                {/if}\n                <div class='row'>\n                    <!-- Ancestors Column -->\n                    <div class='column'>\n                        <p>Ancestors</p>\n                        <label>Manual Entry\n                            <input type='checkbox' bind:checked={manualParentEntry} />\n                        </label>\n                        {#if !manualParentEntry}\n                            <select bind:value={newParent[0]}\n                                on:change={() => newParent[1] = $Language.Name}>\n                                <optgroup label='Internal'>\n                                    {#each alphabetized as entry}\n                                        <option value={entry}>{ entry }</option>\n                                    {/each}\n                                </optgroup>\n                                <optgroup label='External'>\n                                    {#each externalAlphabetized as entry}\n                                        <option value={entry}>{ entry }</option>\n                                    {/each}\n                                </optgroup>\n                            </select>\n                        {:else}\n                            <label>New Ancestor\n                                <input type='text' bind:value={newParent[0]} />\n                            </label>\n                            <label>Source Language\n                                <input type='text' bind:value={newParent[1]} />\n                            </label>\n                        {/if}\n                        <button class='hover-highlight hover-shadow' on:click={() => {\n                            if (!newParent[0]) return;\n                            if (!(newParent[0] in $Language.Etymologies))\n                                $Language.Etymologies[newParent[0]] = {\n                                    source: newParent[1] === $Language.Name? '<< THIS LANGUAGE >>' : newParent[1],\n                                    descendants: []\n                                };\n                            $Language.Etymologies[newParent[0]].descendants.push({\n                                name: selectedEntry,\n                                source: $Language.Etymologies[selectedEntry].source\n                            });\n                            $Language.Etymologies = {...$Language.Etymologies};\n                            newParent = ['', ''];\n                        }}>Link</button>\n                        <div class='column scrolled'>\n                            {#each tree.parents as parent}\n                                <div class='row'>\n                                    <div class='column'>\n                                        <p class='lex-body'>{parent.name}</p>\n                                        <p class='tag-item'>{parent.source}</p>\n                                    </div>\n                                    <div class='column'>\n                                        <button class='hover-highlight hover-shadow' on:click={() => {\n                                            $Language.Etymologies[parent.name].descendants\n                                                = $Language.Etymologies[parent.name].descendants.filter(descendant => descendant.name !== selectedEntry);\n                                            $Language.Etymologies = {...$Language.Etymologies};\n                                        }}>Sever</button>\n                                    </div>\n                                </div>\n                            {:else}\n                                <p class='info'>This entry has no ancestors.</p>\n                            {/each}\n                        </div>\n                    </div>\n\n                    <!-- Descendants Column -->\n                    <div class='column'>\n                        <p>Descendants</p>\n                        <label>Manual Entry\n                            <input type='checkbox' bind:checked={manualChildEntry} />\n                        </label>\n                        {#if !manualChildEntry}\n                            <select bind:value={newChild[0]} on:change={() => newChild[1] = $Language.Name}>\n                                <optgroup label=\"Internal\">\n                                    {#each alphabetized as entry}\n                                        <option value={entry}>{ entry }</option>\n                                    {/each}\n                                </optgroup>\n                                <optgroup label=\"External\">\n                                    {#each externalAlphabetized as entry}\n                                        <option value={entry}>{ entry }</option>\n                                    {/each}\n                                </optgroup>\n                            </select>\n                        {:else}\n                            <label>New Descendant\n                                <input type='text' bind:value={newChild[0]} />\n                            </label>\n                            <label>Source Language\n                                <input type='text' bind:value={newChild[1]} />\n                            </label>\n                        {/if}\n                        <button class='hover-highlight hover-shadow' on:click={() => {\n                            if (!newChild[0]) return;\n                            if (!(newChild[0] in $Language.Etymologies))\n                                $Language.Etymologies[newChild[0]] = {\n                                    source: newChild[1],\n                                    descendants: []\n                                };\n                            $Language.Etymologies[selectedEntry].descendants.push({\n                                name: newChild[0],\n                                source: newChild[1] === $Language.Name? '<< THIS LANGUAGE >>' : newChild[1]\n                            });\n                            $Language.Etymologies = {...$Language.Etymologies};\n                            newChild = ['', ''];\n                        }}>Link</button>\n                        <div class='column scrolled'>\n                            {#if tree}\n                                {#each tree.children as child}\n                                    <div class='row'>\n                                        <div class='column'>\n                                            <p class='lex-body'>{child.name}</p>\n                                            <p class='tag-item'>{child.source}</p>\n                                        </div>\n                                        <div class='column'>\n                                            <button class='hover-highlight hover-shadow' on:click={() => {\n                                                $Language.Etymologies[selectedEntry].descendants\n                                                    = $Language.Etymologies[selectedEntry].descendants.filter(descendant => descendant.name !== child.name);\n                                                $Language.Etymologies = {...$Language.Etymologies};\n                                            }}>Sever</button>\n                                        </div>\n                                    </div>\n                                {:else}\n                                    <p class='info'>This entry has no descendants.</p>\n                                {/each}\n                            {:else}\n                                {(()=>{\n                                    console.log(tree);\n                                    return ''\n                                })()}\n                            {/if}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</div>\n\n","<script lang=\"ts\">\n    import { Language, selectedCategory, referenceLanguage } from '../stores';\n    import { createEventDispatcher } from 'svelte';\n    import Pronunciations from './Pronunciations.svelte';\n    import EntryLabel from './EntryLabel.svelte';\n    import { markdownToHtml } from '../utils/markdown';\n    import type * as Lexc from '../types';\n    const dispatch = createEventDispatcher();\n    const edit = () => dispatch('edit')\n    export let phrase = '';\n    let refLanguage = $referenceLanguage as Lexc.Language;\n    $: refLanguage = $referenceLanguage as Lexc.Language;\n    export let reference = false;\n    export let refCat = '';\n    const language = () => reference? refLanguage : $Language;\n    const category = () => reference? refCat : $selectedCategory;\n\n</script>\n<div class=\"lex-entry\" id={phrase} on:contextmenu={edit}>\n    <EntryLabel word={phrase} source={language().Phrasebook[category()][phrase]}/>\n    <Pronunciations pronunciations={language().Phrasebook[category()][phrase].pronunciations} />\n    {#if !!language().Phrasebook[category()][phrase].tags[0]}\n        {#each language().Phrasebook[category()][phrase].tags as tag}\n            <div class=\"tag-item\">{tag}</div>\n        {/each}\n    {/if}\n    <p class=\"prelined\">\n        {@html markdownToHtml(\n            language().Phrasebook[category()][phrase].description\n        )}\n    </p>\n    {#if !!Object.keys(language().Phrasebook[category()][phrase].variants).length}\n        <p>  </p>\n        {#each Array(Math.ceil(Object.keys(language().Phrasebook[category()][phrase].variants).length / 3)) as _, i}\n            <div class=\"row\">\n                {#each Object.keys(language().Phrasebook[category()][phrase].variants).slice(i * 3, i * 3 + 3) as variant}\n                    <div class=\"column\">\n                        <EntryLabel word={variant} source={language().Phrasebook[category()][phrase].variants[variant]}/>\n                        <Pronunciations pronunciations={language().Phrasebook[category()][phrase].variants[variant].pronunciations} />\n                        <p class=\"prelined\" style='margin: 0 1rem 0.5rem 1rem'>\n                            {@html markdownToHtml(\n                                language().Phrasebook[category()][phrase].variants[variant].description\n                            )}\n                        </p>\n                    </div>\n                {/each}\n                <br>\n            </div>\n        {/each}\n    {/if}\n</div>\n","<script lang='ts'>\n    import { createEventDispatcher } from 'svelte';\n    import { Language } from '../stores';\n    import { get_pronunciation } from '../utils/phonetics';\n\n    export let phrase = '';\n    export let description = '';\n    export let lects: string[];\n    export let pronunciations = {};\n    $: {\n        lects.forEach(lect => {\n            pronunciations[lect] = get_pronunciation(phrase, lect);\n        })\n    }\n\n    const dispatch = createEventDispatcher();\n    const update = () => dispatch('update');\n</script>\n\n<div class=\"variant-div\">\n    <input type=\"text\" on:keyup={update} bind:value={phrase}/>\n    {#if $Language.UseLects}\n        {#each lects as lect}\n            <div class=\"row\">\n                <div class=\"column text-right lect\">{lect}</div>\n                <div class=\"column text-left\">\n                    <input type=\"text\" class=\"pronunciation text-left\" bind:value={pronunciations[lect]}>\n                </div>\n            </div>\n        {/each}\n    {:else}\n        <input type=\"text\" class=\"pronunciation\" bind:value={pronunciations['General']}>\n    {/if}\n    <textarea bind:value={description}></textarea>\n    <br>\n</div>\n","<script lang=\"ts\">\n    import { Language, phraseInput, phrasePronunciations, selectedCategory, categoryInput } from \"../stores\";\n    import { debug } from '../utils/diagnostics';\n    import type * as Lexc from '../types';\n    import { get_pronunciation } from '../utils/phonetics';\n    import PhraseEntry from '../components/PhraseEntry.svelte';\n    import VariantInput from '../components/VariantInput.svelte';\n    import SenseInput from '../components/SenseInput.svelte';\n    import { tooltip } from '@svelte-plugins/tooltips';\n    const vex = require('vex-js');\n    $categoryInput = $selectedCategory;\n    let searchPhrase = '';\n    let searchDescription = '';\n    let searchTags = '';\n    let lectFilter = '';\n    let phraseKeys: string[] = [];\n    let collapsedPanel = false;\n    let phraseDescription = ''\n    let variantInputs = [];\n    let lects = [...$Language.Lects];\n    let tags = '';\n\n    /**\n     * Searches the phrasebook within the currently selected category\n     * for entries matching the search terms. Phrases which contain only\n     * a match in one of their variants are also included.\n     * @returns {string[]} An array of keys matching the search terms.\n     */ \n    function searchBook(): string[] {\n        if (!$selectedCategory) return [];\n        const scope: Lexc.PhraseCategory = $Language.Phrasebook[$selectedCategory];\n        const phrase_search = searchPhrase.trim();\n        const descript_search = searchDescription.toLowerCase().trim();\n        const tags_search = searchTags.toLowerCase().trim();\n\n        let keys = [];\n        for (let entry in scope) {\n            let term = '^' + entry.replaceAll(/\\s+/g, '^') + '^';\n            if (!phrase_search || term.toLowerCase().includes(phrase_search)) {\n                if (!descript_search || scope[entry].description.toLowerCase().includes(descript_search)) {\n                    if (!tags_search || scope[entry].tags.join(' ').toLowerCase().includes(tags_search)) {\n                        if (!lectFilter || scope[entry].lects.includes(lectFilter)) {\n                            keys.push(entry);\n                        }\n                    }\n                }\n            }\n            for (let variant in scope[entry].variants) {\n                let variantEntry = scope[entry].variants[variant];\n                let term = '^' + variant.replaceAll(/\\s+/g, '^') + '^';\n                if (!phrase_search || term.toLowerCase().includes(phrase_search)) {\n                    if (!descript_search || variantEntry.description.toLowerCase().includes(descript_search)) {\n                        keys.push(entry);\n                    }\n                }\n            }\n        }\n        return [...new Set(keys)]; // spread set syntax = no duplicate keys\n    }\n    $: {\n        // any time $selectedCategory, searchPhrase, searchTags, lectFilter, or searchDescription changes, update phrase_keys\n        $Language.Phrasebook;\n        $selectedCategory; searchPhrase; searchDescription; searchTags; lectFilter;\n        (() => {phraseKeys = searchBook()})();\n    }\n\n    /**\n     * Changes the selected category and updates the category input field.\n     * @param {string} category\n     */\n    function select(category: string): void {\n        $selectedCategory = category;\n        $categoryInput = category;\n    }\n\n    /**\n     * Removes a phrase from the phrasebook and moves it to the input fields, including all variants.\n     * @param {string} phrase\n     */ \n    function editPhrase(phrase: string): void {\n        $phraseInput = phrase;\n        $categoryInput = $selectedCategory;\n        $phrasePronunciations = (() => {\n            let pronunciations = {};\n            Object.keys($Language.Phrasebook[$selectedCategory][phrase].pronunciations).forEach(lect => {\n                pronunciations[lect] = $Language.Phrasebook[$selectedCategory][phrase].pronunciations[lect].ipa;\n            });\n            return pronunciations;\n        })();\n        phraseDescription = $Language.Phrasebook[$selectedCategory][phrase].description;\n        variantInputs = [];\n        for (let variant in $Language.Phrasebook[$selectedCategory][phrase].variants) {\n            variantInputs = [...variantInputs, {\n                phrase: variant,\n                pronunciations: $Language.Phrasebook[$selectedCategory][phrase].variants[variant].pronunciations,\n                description: $Language.Phrasebook[$selectedCategory][phrase].variants[variant].description,\n            }];\n        }\n        delete $Language.Phrasebook[$selectedCategory][phrase];\n        if (Object.keys($Language.Phrasebook[$selectedCategory]).length === 0) {\n            delete $Language.Phrasebook[$selectedCategory];\n            $selectedCategory = '';\n        }\n        $Language = {...$Language};\n    }\n    \n    /**\n     * Adds a new blank variant to the variant_inputs array.\n     */ \n    function addVariant(): void {\n        variantInputs = [...variantInputs, {\n            phrase: '',\n            pronunciations: (()=>{\n                let pronunciations = {};\n                lects.forEach(lect => pronunciations[lect] = '');\n                return pronunciations;\n            })(),\n            description: '',\n        }];\n    }\n\n    /**\n     * Adds a phrase from the input fields to the phrasebook, including all variants,\n     * and clears the input fields.\n     */ \n    function addPhrase(): void {\n        let newPhrase = $phraseInput.trim();\n        if (!newPhrase) return;\n        let description = phraseDescription.trim();\n        if (!description) return;\n        let category = $categoryInput.trim();\n        if (!category) return\n        let pronunciations = {};\n        console.log($phrasePronunciations, lects);\n        Object.keys($phrasePronunciations).filter(lect => lects.includes(lect)).forEach(lect => {\n            console.log(lect)\n            pronunciations[lect] = {\n                ipa: $phrasePronunciations[lect].trim(),\n                irregular: $phrasePronunciations[lect].trim() !== get_pronunciation(newPhrase, lect),\n            };\n        });\n        \n        function commit () {\n            if (!$Language.Phrasebook.hasOwnProperty(category)) $Language.Phrasebook[category] = {};\n            $Language.Phrasebook[category][newPhrase]= {\n                pronunciations: pronunciations,\n                lects: Object.keys(pronunciations),\n                tags: tags.split(/\\s+/g),\n                description: description,\n                variants: (()=>{\n                    let variants = {};\n                    for (const variant of variantInputs) {\n                        const phrase = variant.phrase.trim();\n                        if (!phrase) continue;\n                        const description = variant.description.trim();\n                        if (!description) continue;\n                        let pronunciations: Lexc.EntryPronunciations = {};\n                        Object.keys(variant.pronunciations).forEach(lect => {\n                            pronunciations[lect] = {\n                                ipa: variant.pronunciations[lect].trim(),\n                                irregular: variant.pronunciations[lect].trim() !== get_pronunciation(phrase, lect),\n                            };\n                        });\n                        variants[phrase] = <Lexc.Variant> {\n                            pronunciations: pronunciations,\n                            description: description,\n                        };\n                    };\n                    return variants;\n                })(),\n            };\n            // debug.logObj($Language.Phrasebook, 'Phrasebook');\n\n            $Language = {...$Language};\n            $phraseInput = '';\n            $phrasePronunciations = (()=>{\n                let pronunciations = {};\n                Object.keys($Language.Pronunciations).forEach(lect => {\n                    pronunciations[lect] = '';\n                });\n                return pronunciations;\n            })();\n            phraseDescription = '';\n            variantInputs = [];\n            $selectedCategory = category;\n        }\n\n        if (!!$Language.Phrasebook.hasOwnProperty(category) && !!$Language.Phrasebook[category].hasOwnProperty(newPhrase)) {\n            vex.dialog.confirm({\n                message: 'This phrase already exists in this category. Are you sure you want to overwrite it?',\n                callback: (response: boolean) => {\n                    if (response) commit();\n                }\n            });\n        } else {\n            commit();\n        }\n    }\n</script>\n<!-- Phrasebook Tab -->\n<div class=\"tab-pane\">\n    <div class=\"row\" style=\"height: 58vh;\">\n        <!-- Categories -->\n        <div class=\"container column\" style=\"max-width: 18%;\">\n            <p use:tooltip={{position:'bottom'}} title=\"This panel will fill with category names as you assign phrases to new ones.\">\n                Categories</p>\n            <hr />\n            <div class=\"column scrolled\" style=\"max-height: 90%;\" id=\"category-body\">\n                {#each Object.keys($Language.Phrasebook) as category}\n                    <div class=\"lex-entry capitalize\" class:selected={category === $selectedCategory} on:mousedown={() => select(category)}>\n                            {category}\n                    </div>\n                {:else}\n                    <p class=\"info\">Categories will appear here.</p>\n                {/each}\n            </div>\n        </div>\n        <div class=\"container column\" style='overflow: hidden'>\n            <!-- Search Fields -->\n            <div class=\"row\">\n                <div class=\"column search-container\">\n                    {#if !searchPhrase}\n                        <label for=\"search-phrase\" style=\"position: absolute; top: .5em; left: 1em\">Search by phrase</label>\n                    {/if}\n                    <input id=\"search-phrase\" type=\"text\" class=\"search\" bind:value={searchPhrase}/>\n                </div>\n                <div class=\"column search-container\">\n                    {#if !searchTags}\n                        <label for=\"search-tags\" style=\"position: absolute; top: .5em; left: 1em\">Search by tags</label>\n                    {/if}\n                    <input id=\"search-tags\" type=\"text\" class=\"search\" bind:value={searchTags}/>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"column search-container\">\n                    {#if !searchDescription}\n                        <label for=\"search-description\" style=\"position: absolute; top: .5em; left: 1em\">Search descriptions</label>\n                    {/if}\n                    <input id=\"search-description\" type=\"text\" class=\"search\" bind:value={searchDescription}/>\n                </div>\n                {#if $Language.UseLects}\n                    <div class=\"column\">\n                        <label>Filter by lect:\n                            <select bind:value={lectFilter}>\n                                <option value=''>All</option>\n                                {#each $Language.Lects as lect}\n                                    <option value={lect}>{lect}</option>\n                                {/each}\n                            </select>\n                        </label>\n                    </div>\n                {/if}\n            </div>\n            <!-- Book -->\n            <div class=\"column scrolled\" id=\"phrasebook-body\" style=\"max-height: 88%;\">\n                {#if !!Object.keys($Language.Phrasebook).length}\n                    {#each phraseKeys as phrase}\n                        <PhraseEntry phrase={phrase} on:edit={() => editPhrase(phrase)} />\n                    {/each}\n                {:else}\n                    <p class=\"info\">Select a category from the left or add your first phrase entry.</p>\n                {/if}\n            </div>\n        </div>\n    </div>\n    <!-- Phrase Editor -->\n    <div class=\"container collapsible-row\" style=\"height: 34vh;\">\n        <div class=\"row\" style=\"width: 100vh\">\n            <button class=\"collapser-h\" on:click={() => collapsedPanel = !collapsedPanel}></button>\n        </div>\n        <div class=\"row\" class:collapsed={collapsedPanel} style=\"height: 92%\">\n            <div class=\"column scrolled\" style=\"max-height: 100%\">\n                \n                <label for=\"phrase\" use:tooltip={{position:'right'}} title=\"Write a new phrase in your language here. The pronunciation is updated the same as in the Lexicon tab.\">\n                    Phrase</label>\n                <input type=\"text\" bind:value={$phraseInput} on:input={() => {\n                    lects.forEach(lect => {\n                        $phrasePronunciations[lect] = get_pronunciation($phraseInput, lect);\n                    });\n                }}/>\n                \n                {#if $Language.UseLects}\n                    {#each lects as lect}\n                        <div class=\"row narrow\">\n                            <div class=\"column text-right\">\n                                <p class=\"lect\">{lect}</p>\n                            </div>\n                            <div class=\"column text-left\">\n                                <input type=\"text\" class=\"pronunciation text-left\" bind:value={$phrasePronunciations[lect]}/>\n                            </div>\n                        </div>\n                    {/each}\n                {:else}\n                    <input type=\"text\" class=\"pronunciation\" bind:value={$phrasePronunciations.General}/>\n                {/if}\n    \n                <SenseInput\n                    index={'hide'}\n                    bind:definition={phraseDescription}\n                    bind:tags={tags}\n                    bind:lects={lects}\n                />\n\n                <label><p use:tooltip={{position:'right'}} title=\"Use this field to assign this phrase to a category, or to create a new one with this phrase as its first member.\">Category</p>\n                    <input type=\"text\" bind:value={$categoryInput} />\n                </label>\n\n                <button on:click={addPhrase} class=\"hover-shadow hover-highlight\">Add Phrase</button>\n            </div>\n            <div class=\"column scrolled\" style=\"max-height: 100%\" id=\"variants-body\">\n                {#each variantInputs as _, i}\n                    <VariantInput\n                        lects={lects}\n                        bind:phrase={variantInputs[i].phrase} \n                        bind:pronunciations={variantInputs[i].pronunciations}\n                        bind:description={variantInputs[i].description}\n                        on:update={() => {\n                            lects.forEach(lect => {\n                                variantInputs[i].pronunciations[lect] = get_pronunciation(variantInputs[i].phrase, lect);\n                            });\n                        }}\n                    />\n                {:else}\n                    <p class=\"info\">Click the button below to add a variation for this phrase</p>\n                {/each}\n                <button on:click={addVariant} class=\"hover-shadow hover-highlight\"\n                    use:tooltip={{position:'bottom', autoPosition: true}} title=\"If there are multiple ways to say your phrase, you can add variant entries for it along with descriptions.\"\n                >+ Variant</button>\n            </div>\n        </div>\n    </div>\n</div>\n","<script lang=\"ts\">\n    import { Language, fileLoadIncrement } from \"../stores\";\n    import { get_pronunciation, writeRomans, complete_word, generate_word } from '../utils/phonetics';\n    import { tooltip } from '@svelte-plugins/tooltips';\n    import type { AdvancedPhonotactics } from \"../types\";\n    import { TransformStreamDefaultController } from \"node:stream/web\";\n    let trial = ''; let ortho_test = '';\n    function setInStone (event: Event) {\n        const target = event.target as HTMLInputElement;\n        const value = target.value.trim();\n        const {[selectedLect]: _, ...rest} = $Language.Pronunciations;\n        $Language.Pronunciations = {\n            ...rest,\n            [selectedLect]: value\n        }\n    }\n\n    let APCategories = '';\n    let APSyllables = '';\n    let APConstructs: {enabled:boolean; structures:string}[] = [{enabled:true, structures:''}];\n    let APIllegals = '';\n\n    //NOTE - this section checks when fileLoadIncrement changes, and updates the AP fields from the Language store when it does\n    function updateAPFields() {\n        APCategories = Object.keys($Language.AdvancedPhonotactics.Categories).map(symbol => {\n            return `${symbol} :: ${$Language.AdvancedPhonotactics.Categories[symbol].join(' ')}`\n        }).join('\\n');\n        APSyllables = $Language.AdvancedPhonotactics.Syllables.join('\\n');\n        APConstructs = $Language.AdvancedPhonotactics.Constructs;\n        APIllegals = $Language.AdvancedPhonotactics.Illegals.join(' ');\n    }\n    $: if ($fileLoadIncrement) updateAPFields();\n\n    function setAPCategories() {\n        $Language.AdvancedPhonotactics.Categories = {};\n        APCategories.split('\\n').forEach(line => {\n            let symbol = line.split('::')[0].trim();\n            if (!$Language.AdvancedPhonotactics.Categories[symbol]) {\n                $Language.AdvancedPhonotactics.Categories[symbol] = [];\n            }\n            line.split('::')[1].trim().split(/\\s+/g).forEach(token => {\n                $Language.AdvancedPhonotactics.Categories[symbol].push(token);\n            })\n        })\n    }\n    function setAPSyllables() {\n        $Language.AdvancedPhonotactics.Syllables = [];\n        APSyllables.split('\\n').forEach(line => {\n            $Language.AdvancedPhonotactics.Syllables.push(line.trim());\n        })\n    }\n    function setAPConstructs() {\n        $Language.AdvancedPhonotactics.Constructs = [];\n        for (let set of APConstructs) {\n            $Language.AdvancedPhonotactics.Constructs.push({\n                enabled: set.enabled,\n                structures: set.structures.trim(),\n            });\n        }\n    }\n    function setAPIllegals() {\n        $Language.AdvancedPhonotactics.Illegals = [];\n        // space-separated tokens\n        APIllegals.split(/\\s+/g).forEach(token => {\n            $Language.AdvancedPhonotactics.Illegals.push(token.trim());\n        })\n    }\n\n    function generate_word_AP(recursion = 1) {\n        let word = '';\n\n        // SECTION: Helper function\n        const checkForIllegals = (word: string) => {\n            for (let illegal of $Language.AdvancedPhonotactics.Illegals) {\n                if (word.includes(illegal) && illegal !== '') {\n                    if (recursion <= 20) {\n                        return generate_word_AP(recursion + 1);\n                    } else {\n                        return '[  ]';\n                    }\n                }\n            }\n            return word;\n        }\n\n        // SECTION: Freeform mode: No word structures\n        if ($Language.AdvancedPhonotactics.Constructs.every(construct => !construct.enabled || construct.structures.trim() === '')) {\n            for (let i = 0; i < Math.floor(Math.random() * 4) + 1; i++) {\n                let syllable = $Language.AdvancedPhonotactics.Syllables[Math.floor(Math.random() * $Language.AdvancedPhonotactics.Syllables.length)];\n                if (syllable.includes('::')) { // failsafe for when categories are written in the syllables field but structures are not defined or disabled\n                    syllable = syllable.split('::')[1].trim().split(/\\s+/g)[Math.floor(Math.random() * syllable.split('::')[1].trim().split(/\\s+/g).length)];\n                }\n                syllable.split('').forEach(symbol => {\n                    if ($Language.AdvancedPhonotactics.Categories[symbol]) {\n                        word += $Language.AdvancedPhonotactics.Categories[symbol][Math.floor(Math.random() * $Language.AdvancedPhonotactics.Categories[symbol].length)];\n                    } else {\n                        word += symbol;\n                    }\n                })\n            }\n            return checkForIllegals(word);\n        }\n\n        // SECTION: Structured mode\n        // create a list of enabled constructs\n        let enabled_constructs: string[] = [];\n        for (let construct of $Language.AdvancedPhonotactics.Constructs) {\n            if (construct.enabled) {\n                enabled_constructs = enabled_constructs.concat(construct.structures.split(/\\s+/g));\n            }\n        }\n\n        // select a random construct\n        const construct = enabled_constructs[Math.floor(Math.random() * enabled_constructs.length)];\n\n        // parse the construct\n        let symbols = construct.split('');\n        let syllables: string[][] = new Array(symbols.length).fill([]);\n        for (let i = 0; i < symbols.length; i++) {\n            let symbol = symbols[i];\n            // check for syllable categories\n            for (let j = 0; j < $Language.AdvancedPhonotactics.Syllables.length; j++) {\n                if ($Language.AdvancedPhonotactics.Syllables[j].replaceAll(/\\s+/g, '').slice(0, 3) === symbol + '::') {\n                    // add the syllables in the category to the list of syllables\n                    syllables[i] = syllables[i].concat($Language.AdvancedPhonotactics.Syllables[j].split('::')[1].trim().split(/\\s+/g));\n                }\n            }\n            if (syllables[i].length === 0) {\n                // if no syllables were found, add the symbol itself\n                syllables[i] = [symbol];\n            }\n        }\n\n        // generate the word\n        let expanded_construct = '';\n        for (let i = 0; i < syllables.length; i++) {\n            let syllable = syllables[i][Math.floor(Math.random() * syllables[i].length)];\n            expanded_construct += syllable;\n        }\n\n        // choose characters from the categories for each symbol\n        for (let i = 0; i < expanded_construct.length; i++) {\n            let symbol = expanded_construct[i];\n            if ($Language.AdvancedPhonotactics.Categories[symbol]) {\n                word += $Language.AdvancedPhonotactics.Categories[symbol][Math.floor(Math.random() * $Language.AdvancedPhonotactics.Categories[symbol].length)];\n            } else {\n                word += symbol;\n            }\n        }\n        return checkForIllegals(word);\n    }\n\n    function updatePhonologyInput () {\n        (document.getElementById('pronunciations-input') as HTMLInputElement).value = $Language.Pronunciations[selectedLect];\n    }\n    $: trial_completion = complete_word(trial);\n    let selectedLect: string = $Language.Lects[0];\n    $: {\n        $Language.Lects;\n        selectedLect = $Language.UseLects? selectedLect : $Language.Lects[0];\n        if (!$Language.Lects.includes(selectedLect)) {\n            selectedLect = $Language.Lects[0];\n        }\n    }\n    $: test_pronunciation = get_pronunciation(ortho_test, selectedLect);\n    let generated_words = Array(24).fill('');\n\n</script>\n<!-- Phonology Tab -->\n<div class=\"tab-pane\">\n    <div class=\"row\" style=\"height: 92vh\">\n        <!-- Phonotactics -->\n        <div class=\"container column scrolled\" style=\"height: 100%\">\n            <label use:tooltip={{position:'right'}} title=\"Turn this on to show a type of word generator better suited for complex structures.\">\n                <input type=\"checkbox\" bind:checked={$Language.UseAdvancedPhonotactics} />\n                Use Advanced Phonotactics\n            </label>\n            <br><br>\n            {#if $Language.UseAdvancedPhonotactics}\n                <div class=\"row\">\n                    <div class=\"column\">\n                        <label use:tooltip={{position:'right'}} title=\"This field is for defining categories of phonemes. See the Help tab for more information.\">Categories\n                            <textarea class=\"phonology text-left\" rows=8 bind:value={APCategories} on:blur={setAPCategories}/>\n                        </label>\n                    </div>\n                    <div class=\"column\">\n                        <label use:tooltip={{position:'left'}} title=\"This field is for defining syllable structures. See the Help tab for more information.\">Syllables\n                            <textarea class=\"phonology text-left\" rows=8 bind:value={APSyllables} on:blur={setAPSyllables}/>\n                        </label>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"column\">\n                        <label use:tooltip={{position:'right'}} title=\"This field is for defining word structures. See the Help tab for more information.\">Structures\n                            {#each APConstructs as set, i}\n                                <div class=\"row\">\n                                    <div class=\"column narrow\">\n                                        <div class=\"row\">\n                                            <input type='checkbox' bind:checked={set.enabled} on:change={setAPConstructs}/>\n                                        </div>\n                                        <div class=\"row\">\n                                            <button class=\"hover-highlight hover-shadow\" on:click={() => {\n                                                if (APConstructs.length > 1) {\n                                                    APConstructs.splice(i, 1);\n                                                    APConstructs[0].structures + ' '; // this is (a dumb, but working way) to force a re-render\n                                                    APConstructs[0].structures = APConstructs[0].structures.trim();\n                                                }\n                                            }}>-</button>\n                                        </div>\n                                    </div>\n                                    <div class=\"column\">\n                                        <textarea class=\"phonology text-left\" rows=3 bind:value={set.structures} on:blur={setAPConstructs}/>\n                                    </div>\n                                </div>\n                            {/each}\n                            <button class=\"hover-highlight hover-shadow\" on:click={() =>{\n                                APConstructs.push({\n                                    enabled: true,\n                                    structures: ' ',\n                                });\n                                APConstructs[0].structures + ' '; // this is (a dumb, but working way) to force a re-render\n                                APConstructs[0].structures = APConstructs[0].structures.trim();\n                            }}>Add Set</button>\n                        </label>\n                    </div>\n                    <div class=\"column\">\n                        <label use:tooltip={{position:'left'}} title='This field is for defining illegal combinations in words. See the Help tab for more information.'>Illegals\n                            <textarea class=\"phonology text-left\" rows=4 bind:value={APIllegals} on:blur={setAPIllegals}/>\n                        </label>\n                    </div>\n                </div>\n                <br>\n                <button class=\"hover-highlight hover-shadow\" on:click={\n                    () => generated_words = Array(24).fill(null).map(_ => generate_word_AP())\n                }>Generate Words</button>\n            {:else}\n                <label for=\"onsets\" use:tooltip={{position:'right'}} title=\"This field is for defining consonants and cluster that can occur word-initially.\">\n                    Onset Consonants</label>\n                <textarea id=\"onsets\" class=\"phonology\" bind:value={$Language.Phonotactics.General.Onsets}></textarea>\n                <br>\n                <label for=\"medials\" use:tooltip={{position:'right'}} title=\"This field is for defining consonants and clusters that can occur word-medially.\">\n                    Medial Consonants</label>\n                <textarea id=\"medials\" class=\"phonology\" bind:value={$Language.Phonotactics.General.Medials}></textarea>\n                <br>\n                <label for=\"codas\" use:tooltip={{position:'right'}} title=\"This field is for defining consonants and clusters that can occur word-finally.\">\n                    Coda Consonants</label>\n                <textarea id=\"codas\" class=\"phonology\" bind:value={$Language.Phonotactics.General.Codas}></textarea>\n                <br>\n                <label for=\"vowels\" use:tooltip={{position:'right'}} title=\"This field is for defining vowels or sounds which can occur as a syllables nucleus.\">\n                    Vowels</label>\n                <textarea id=\"vowels\" class=\"phonology\" bind:value={$Language.Phonotactics.General.Vowels}></textarea>\n                <br>\n                <label for=\"illegals\" use:tooltip={{position:'right'}} title=\"This field is for defining combinations of characters that should never occur.\">\n                    Illegal Combinations</label>\n                <textarea id=\"illegals\" class=\"phonology\" bind:value={$Language.Phonotactics.General.Illegals}></textarea>\n                <br><br>\n                <label for=\"trial\" use:tooltip={{position:'right'}} title=\"This field allows you to begin typing a word while being shown possible completions for it.\">\n                    Trial Words</label>\n                <input type=\"text\" id=\"trial\" bind:value={trial}/>\n                <p style=\"font-family: Gentium\">{trial_completion}</p>\n                <br>\n                <button class=\"hover-highlight hover-shadow\" on:click={\n                    () => generated_words = Array(24).fill(null).map(_ => generate_word())\n                }>Generate Words</button>\n            {/if}\n            {#each Array(generated_words.length/3).fill(null) as _, i}\n                <div class=\"row\">\n                    {#each generated_words.slice(i * 3, i * 3 + 3) as word}\n                        <div class=\"column\">\n                            <p class=\"prelined\" style=\"font-family: Gentium\">{word}</p>\n                        </div>\n                    {/each}\n                </div>\n            {/each}\n        </div>\n        <!-- Romanization -->\n        <div class=\"container column scrolled\" style=\"height: 100%\">\n            <label use:tooltip={{position:'bottom'}} title=\"This field is for writing pronunciation rules to convert your romanization to phonetic notation. See the Help tab for more information.\"\n                > Pronunciations\n                {#if $Language.UseLects}    \n                    <select bind:value={selectedLect} on:change={updatePhonologyInput}>\n                        {#each $Language.Lects as lect}\n                            <option value={lect}>{lect}</option>\n                        {/each}\n                    </select>\n                {/if}\n                <textarea class=\"prelined\" rows=\"24\" style=\"text-align: left\" id=\"pronunciations-input\"\n                    value={$Language.Pronunciations[selectedLect]}\n                    on:blur={e => {\n                        setInStone(e); // binding directly to the store is very slow when the language is large\n                        writeRomans(selectedLect);\n                    }}\n                />\n            </label>\n            <br><br>\n            <label use:tooltip={{position:'top'}} title=\"This field allows you to test that your rules are working as expected.\">\n                Rule Testing\n                <textarea \n                    class=\"prelined\" rows=\"2\" \n                    bind:value={ortho_test}\n                />\n            </label>\n            <textarea\n                class=\"pronunciation\" rows=\"2\"\n                bind:value={test_pronunciation}\n                readonly\n            />\n        </div>\n    </div>\n</div>\n","<script lang='ts'>\n    import { initializeDocs } from '../utils/docs';\n    initializeDocs(false);\n</script>\n<div class=\"tab-pane\" spellcheck=\"false\">\n    <div class=\"container row text-center\" style=\"height: 92vh; overflow-y: auto;\">\n        <div class=\"column\" style=\"font-family: Gentium\" id=\"docs-tab\"></div>\n    </div>\n</div>\n","<script lang='ts'>\n    import { Language, defaultLanguage, referenceLanguage, docsEditor } from '../stores';\n    import { parseRules, applyRules } from '../utils/sca';\n    import { saveFile } from '../utils/files';\n    import Etymology from '../layouts/Etymology.svelte';\n    import { initializeDocs } from '../utils/docs';\n    const vex = require('vex-js');\n    let soundChanges: string = ''; let testChanges: string = ''; let newName: string = '';\n    let usePronunciations: boolean = false; let baseLect: string = $Language.Lects[0];\n    function soundChange(text: string) {\n        const settings = parseRules(soundChanges);\n        return applyRules(settings.rules, text, settings.categories);\n    }\n</script>\n<div class=\"row narrow\">\n    <div class=column>\n        <label>Sound Changes\n            <br/>\n            <label>Base From Pronunciations\n                    <input type=checkbox bind:checked={usePronunciations}/>\n                {#if usePronunciations && $Language.UseLects}\n                    <br/>\n                    <label>Lect\n                        <select bind:value={baseLect}>\n                            {#each $Language.Lects as lect}\n                                <option value={lect}>{lect}</option>\n                            {/each}\n                        </select>\n                    </label>\n                {/if}\n            </label>\n            <textarea rows=5 class=text-left bind:value={soundChanges}/>\n        </label>\n        <label>Test Changes\n            <textarea rows=3 bind:value={testChanges}/>\n            <textarea rows=3 class=pronunciation value={soundChange(testChanges)} readonly/>\n        </label>\n    </div>\n    <div class=column>\n        <label>New Language Name\n            <input type=text bind:value={newName}/>\n        </label>\n        <button class='hover-highlight hover-shadow'\n            on:click={() => {\n                if (newName === $Language.Name) {\n                    vex.dialog.alert('The new language must have a different name.');\n                    return;\n                }\n                saveFile();\n                window.setTimeout(() =>{\n                    // Open the old language in the reference panel\n                    if ($referenceLanguage) $referenceLanguage = false;\n                    $referenceLanguage = structuredClone($Language);\n    \n                    const newLanguage = structuredClone($defaultLanguage);\n                    newLanguage.Name = newName;\n                    newLanguage.ShowEtymology = true;\n                    Object.keys($Language.Lexicon).forEach(word => {\n                        let baseWord = `${word}`;\n                        if (usePronunciations) {\n                            if (!$Language.Lexicon[word].pronunciations.hasOwnProperty(baseLect)) return;\n                            else baseWord = $Language.Lexicon[word].pronunciations[baseLect].ipa;\n                        }\n                        const newWord = soundChange(baseWord);\n                        newLanguage.Lexicon[newWord] = structuredClone($Language.Lexicon[word]);\n                        \n                        // Clean up the new entry\n                        newLanguage.Lexicon[newWord].pronunciations = {General: {ipa: newWord, irregular: false}};\n                        newLanguage.Lexicon[newWord].Senses.forEach(sense => {sense.lects = ['General']});\n    \n                        // SECTION Etymology\n    \n                        // Store the lexicon of the current language as a relative\n                        newLanguage.Relatives[$Language.Name] = structuredClone($Language.Lexicon);\n                        \n                        // Create entries for each lexicon entry and codify the language name for existing entries\n                        if ($Language.Etymologies[word]) {\n                            newLanguage.Etymologies[word] = $Language.Etymologies[word];\n                            newLanguage.Etymologies[word].source = $Language.Name;\n                            newLanguage.Etymologies[word].descendants.forEach(descendant => {\n                                if (descendant.source === '<< THIS LANGUAGE >>') \n                                    descendant.source = $Language.Name;\n                            });\n                        } else {\n                            newLanguage.Etymologies[word] = {\n                                descendants: [], \n                                source: $Language.Name\n                            };\n                        }\n    \n                        // Write an entry for the new word\n                        newLanguage.Etymologies[newWord] = {\n                            descendants: [ ],\n                            source: '<< THIS LANGUAGE >>'\n                        };\n    \n                        // Add the new word to the descendants of the old word\n                        newLanguage.Etymologies[word].descendants.push({\n                            name: newWord,\n                            source: '<< THIS LANGUAGE >>' \n                        });\n                    });\n    \n                    $docsEditor.destroy(); initializeDocs(false);\n                    $Language = newLanguage;\n    \n                    saveFile();\n                }, 333);\n            }}\n        >Save File and Evolve Lexicon</button>\n    </div>\n</div>\n","const crypto = require('node:crypto');\n\n// write a function that hashes a string with sha256\nfunction hashString(str: string): string {\n    str = str.trim() + ' -> salt, pewter, copper, tin, iron, lead, wolfram, quicksilver, and gold.';\n    const hash = crypto.createHash('sha256');\n    hash.update(str);\n    return hash.digest('hex');\n}\n\nexport function verifyHash(str: string, hash: string): boolean {\n    return hashString(str) === hash;\n}","<script lang=\"ts\">\n    const fs = require('fs');\n    const path = require('path');\n    import { docsEditor, Language, selectedCategory, fileLoadIncrement, referenceLanguage, defaultLanguage, dbid, dbkey } from '../stores';\n    import type { OutputData } from '@editorjs/editorjs';\n    import type * as Lexc from '../types';\n    import { userData, showOpenDialog, saveFile, openLegacy, saveAs, importCSV, retrieveFromDatabase } from '../utils/files';\n    import { get_pronunciation, writeRomans } from '../utils/phonetics';\n    import { initializeDocs } from '../utils/docs';\n    import * as diagnostics from '../utils/diagnostics';\n    import Evolver from '../components/Evolver.svelte';\n    import type { Sense } from '../types';\n    import {tooltip} from '@svelte-plugins/tooltips';\n    import { onMount } from 'svelte';\n    import { verifyHash } from '../utils/verification';\n    import { vectorSearchTable } from '@xata.io/client';\n    const vex = require('vex-js');\n\n    let locationSelector: HTMLInputElement;\n    onMount(() => {\n        locationSelector.webkitdirectory = true;\n    });\n    function selectSaveLocation () {\n        showOpenDialog({\n            properties: ['openDirectory'],\n        }, file_path => {\n            if (file_path === undefined) {\n                return;\n            }\n            $Language.SaveLocation = file_path[0];\n        });\n    }\n\n    $: loading_message = '';\n    let csv = {\n        headers: true,\n        words: 1,\n        pronunciations_bool: false,\n        pronunciations: 2,\n        definitions: 3,\n        tags_bool: false,\n        tags: 4,\n    }\n    $: csv;\n    let plainTextImport = '';\n    $: plainTextImport;\n\n    /**\n     * Parses the contents of an opened .lexc file and loads the data into the app.\n     * If the file is a legacy version, it is passed to the appropriate function.\n     * @param {Object} contents - The contents of the opened file.\n     */\n    async function read_contents (contents) {\n        if (typeof contents.Version === 'number' || contents.Version === '1.8.x') {\n            try { openLegacy[contents.Version](contents); }\n            catch (err) {\n                vex.dialog.alert(` \n                    The file you attempted to open was saved by an old version of Lexicanter (Version ~${contents.Version}), \n                    which is no longer supported. Please contact the developer for assistance; the file is likely recoverable.\n                `);\n            }\n            return;\n        }\n        let errorMessage: string;\n        try {\n            // clear language data\n            $Language = structuredClone($defaultLanguage);\n\n            errorMessage = 'There was a problem loading the settings of the file.'\n            $Language.CaseSensitive = contents.CaseSensitive;\n            $Language.IgnoreDiacritics = contents.IgnoreDiacritics;\n            $Language.HeaderTags = contents.HeaderTags;\n            $Language.UseLects = contents.UseLects;\n            $Language.ShowEtymology = contents.ShowEtymology;\n            $Language.ShowInflection = contents.ShowInflection;\n            // check for the existence of properties so that 'undefined' is not assigned\n            if (contents.hasOwnProperty('ShowPronunciation')) {\n                $Language.ShowPronunciation = contents.ShowPronunciation;\n            }\n            if (contents.hasOwnProperty('OrderByDate')) {\n                $Language.OrderByDate = contents.OrderByDate;\n            } else {\n                for (let word in contents.Lexicon) {\n                    contents.Lexicon[word].Timestamp = Date.now();\n                }\n            }\n            if (contents.hasOwnProperty('SaveLocation')) {\n                $Language.SaveLocation = contents.SaveLocation;\n            }\n            if (contents.hasOwnProperty('FileVersion')) {\n                $Language.FileVersion = contents.FileVersion\n            }\n\n            errorMessage = 'There was a problem loading the alphabet from the file.'\n            $Language.Alphabet = contents.Alphabet;\n\n            errorMessage = 'There was a problem loading the files lexicon data.'\n            $Language.Lexicon = contents.Lexicon;\n            $Language.Lects = contents.Lects;\n            \n            errorMessage = 'There was a problem loading the files phrasebook data.'\n            $Language.Phrasebook = contents.Phrasebook;\n            $selectedCategory = Object.keys($Language.Phrasebook)[0]; \n\n            errorMessage = 'There was a problem loading the files documentation data.'\n            let docs_data: OutputData = contents.Docs;\n            $Language.Docs = docs_data;\n            $docsEditor.destroy();\n            initializeDocs(docs_data);\n\n            errorMessage = 'There was a problem loading the pronunciations rules from the file.'\n            $Language.Pronunciations = contents.Pronunciations; \n            $Language.Lects.forEach(writeRomans);\n\n            errorMessage = 'There was a problem loading the orthography data from the file.'\n            if (contents.hasOwnProperty('Orthographies')) {\n                $Language.Orthographies = contents.Orthographies;\n                $Language.ShowOrthography = contents.ShowOrthography;\n            }\n            \n            errorMessage = 'There was a problem loading the phonotactics rules from the file.'\n            $Language.Phonotactics = contents.Phonotactics;\n\n            errorMessage = 'There was a problem loading the inflection rules from the file.'\n            let inflections = contents.Inflections;\n            if (!contents.Inflections.categories) inflections.categories = '';\n            $Language.Inflections = contents.Inflections;\n\n            errorMessage = 'There was a problem loading the etymology data from the file.'\n            $Language.Etymologies = contents.Etymologies;\n\n            errorMessage = 'There was a problem loading the advanced phonotactics.';\n            if (contents.hasOwnProperty('AdvancedPhonotactics')) {\n                $Language.UseAdvancedPhonotactics = contents.UseAdvancedPhonotactics;\n                // Constructs and Illegals fields were added at the same time in 2.1.13 - only need to check for one to know if both exist\n                // REVIEW - This could also be achieved by checking if the file version is 2.1.13 or higher, which would require a Semantic Versioning parser.\n                //          Could be worth finding a SemVer parser.\n                if (!contents.AdvancedPhonotactics.hasOwnProperty('Constructs')) {\n                    contents.AdvancedPhonotactics.Constructs = [{enabled:true, structures:''}];\n                    contents.AdvancedPhonotactics.Illegals = [];\n                }\n                $Language.AdvancedPhonotactics = contents.AdvancedPhonotactics;\n            }\n\n            errorMessage = 'There was a problem loading the files theme.'\n            if (contents.hasOwnProperty('FileTheme')) {\n                $Language.FileTheme = contents.FileTheme;\n            }\n\n            errorMessage = 'There was a problem syncing with the database.'\n            if (contents.hasOwnProperty('UploadToDatabase')) {\n                $Language.UploadToDatabase = contents.UploadToDatabase\n                if ($Language.UploadToDatabase) {\n                    if ($dbid === '' || $dbkey === '') {\n                        vex.dialog.alert('The file you opened has database syncing turned on, but your user ID or account key are blank.');\n                        return;\n                    }\n                    if (verifyHash($dbid, $dbkey)) {\n                        const queryResult = await retrieveFromDatabase(contents.Name);\n                        if (queryResult !== false) {\n                            if (queryResult.FileVersion === undefined) {\n                                vex.dialog.confirm({\n                                    message: `The file in the database has no FileVersion number. Would you like to overwrite it with your local version?`,\n                                    yesText: 'Upload Local Version',\n                                    callback: (proceed) => {\n                                        if (proceed) {\n                                            saveFile();\n                                            vex.dialog.alert('Saved and uploaded local file.')\n                                        }\n                                    }\n                                })\n                            } else if ( parseInt($Language.FileVersion, 36) < parseInt(queryResult.FileVersion, 36) ) {\n                                vex.dialog.confirm({\n                                    message: `Detected a newer version of the file in the database (local: ${$Language.FileVersion} | online: ${queryResult.FileVersion}). Would you like to download the changes?`,\n                                    yesText: 'Download Changes',\n                                    callback: (proceed, download = queryResult) => {\n                                        if (proceed) {\n                                            $Language = download;\n                                            initializeDocs(download.Docs);\n                                            saveFile();\n                                            vex.dialog.alert('Downloaded changes and saved.')\n                                        } else {\n                                            vex.dialog.alert('Did not download changes. If you change your mind, click the Sync From Database button in the Settings tab. This will overwrite local changes.')\n                                        }\n                                    }\n                                })\n                            }\n                        } else {\n                            vex.dialog.alert('No file of this name was found in your ownership in the database.');\n                        }\n                    } else {\n                        vex.dialog.alert('One or both of your User ID and Key is invalid.');\n                    }\n                }\n            }\n\n        } catch (err) {\n            vex.dialog.alert(errorMessage + ' Please contact the developer for assistance.');\n            diagnostics.logError(errorMessage, err);\n            diagnostics.debug.logObj(contents, 'File Contents');\n        } finally {\n            $fileLoadIncrement++;\n            diagnostics.logAction(`Opened and read the contents of '${$Language.Name}'.'`);\n        }\n    }\n    \n    /**\n     * Opens a .lexc file from the user app data folder.\n     */\n    async function openFile () {\n        let contents;\n        let dialog = (user_path: string) => {\n            showOpenDialog(\n                {\n                    title: 'Open Lexicon',\n                    defaultPath: `${user_path}${path.sep}Lexicons${path.sep}`,\n                    properties: ['openFile'],\n                },\n                file_path => {\n                    if (file_path === undefined) {\n                        // stop orbit animation\n                        document.querySelectorAll('.planet').forEach((planet: HTMLElement) => {\n                            planet.style.animationPlayState = 'paused';\n                        });\n                        loading_message = 'No file selected.';\n                        window.setTimeout(() => {\n                            loading_message = '';\n                        }, 5000);\n                        return;\n                    }\n                    fs.readFile(file_path[0], 'utf8', (err, data: string) => {\n                        if (err) {\n                            console.log(err);\n                            window.alert(\n                                'There was an issue loading your file. Please contact the developer.'\n                                );\n                            diagnostics.logError('Attempted to open a file.', err);\n                            document.querySelectorAll('.planet').forEach((planet: HTMLElement) => {\n                                // loading anim stop\n                                planet.style.animationPlayState = 'paused';\n                            });\n                            loading_message = 'Couldnt open file.';\n                            window.setTimeout(() => { loading_message = ''; }, 5000);\n                            return;\n                        }\n                        contents = JSON.parse(data);\n                        read_contents(contents);\n                        $Language.Name = path.basename(file_path[0], '.lexc');\n                        document.querySelectorAll('.planet').forEach((planet: HTMLElement) => {\n                            // loading anim stop\n                            planet.style.animationPlayState = 'paused';\n                        });\n                        loading_message = 'Done!';\n                        window.setTimeout(() => { loading_message = ''; }, 5000);\n                    });\n                }\n            );\n        };\n        document.querySelectorAll('.planet').forEach((planet: HTMLElement) => {\n            // loading anim start\n            planet.style.animationPlayState = 'running';\n        });\n        loading_message = 'Loading...';\n        await userData(user_path => {\n            if (!fs.existsSync(`${user_path}${path.sep}Lexicons${path.sep}`)) {\n                fs.mkdir(`${user_path}${path.sep}Lexicons${path.sep}`, () => {\n                    diagnostics.logAction(`Created the 'Lexicons' folder in the user data folder at '${user_path}'.`);\n                    dialog(user_path);\n                });\n            } else { dialog(user_path); }\n        });\n    }\n    \n    /**\n     * Allows the user to import a .lexc file from their computer.\n     */\n    async function importFile() {\n        document.querySelectorAll('.planet').forEach((planet: HTMLElement) => {\n            planet.style.animationPlayState = 'running';\n        });\n        loading_message = 'Loading...';\n\n        let [file_handle] = await window.showOpenFilePicker();\n        await file_handle.requestPermission({ mode: 'read' });\n        let file = await file_handle.getFile();\n        if (!file.name.includes('.lexc')) {\n            window.alert('The selected file was not a .lexc file.');\n            document.querySelectorAll('.planet').forEach((planet: HTMLElement) => {\n                planet.style.animationPlayState = 'paused';\n            });\n            loading_message = 'Incorrect file type.';\n            window.setTimeout(() => { loading_message = ''; }, 5000);\n            return;\n        }\n        let string_contents = await file.text();\n        let contents = JSON.parse(string_contents);\n        read_contents(contents);\n        $Language.Name = file.name.split('.')[0];\n\n        document.querySelectorAll('.planet').forEach((planet: HTMLElement) => {\n            planet.style.animationPlayState = 'paused';\n        });\n        loading_message = 'Done!';\n        window.setTimeout(() => { loading_message = ''; }, 5000);\n    }\n\n    function importPlainText(plainText: string) {\n        /**\n         * Format:\n         * word\n         * optional pronunciation\n         * 1. numbered definitions\n         * Tags: optional, space separated tags\n         * 2. numbered definitions\n         * Tags: optional, space separated tags\n         * \n         * etc.\n         */\n        let plainTextEntries = plainTextImport.split('\\n\\n');\n        for (let entry of plainTextEntries) {\n            let lines = entry.split('\\n');\n            let senses = []; let tags = [];\n            let word = lines[0].trim(); lines.shift();\n            let pronunciation = '';\n            if (!lines[0].match(/^[0-9]+\\./g)) {\n                pronunciation = lines[0].trim(); lines.shift();\n                if (pronunciation.match(/^[\\/\\[].+[\\/\\]]$/)) {\n                    pronunciation = pronunciation.slice(1, pronunciation.length - 1);\n                }\n            }\n            for (let line of lines) {\n                if (line.match(/^[0-9]+\\./g)) {\n                    senses.push(line);\n                    if (lines[lines.indexOf(line) + 1].startsWith('Tags: ')) {\n                        tags.push(lines[lines.indexOf(line) + 1].slice(6).split(/\\s+/g));\n                    } else {\n                        tags.push([]);\n                    }\n                }\n            }\n            let sensesEntry: Sense[] = [];\n            for (let sense of senses) {\n                sensesEntry.push({\n                    'definition': sense.slice(sense.indexOf('.') + 1).trim(),\n                    'tags': tags[senses.indexOf(sense)],\n                    'lects': $Language.Lects,\n                })\n            }\n            let pronunciations = {}\n            pronunciations[$Language.Lects[0]] = pronunciation? {\n                'ipa': pronunciation,\n                'irregular': true,\n            } : {\n                'ipa': get_pronunciation(word, $Language.Lects[0]),\n                'irregular': false,\n            }\n            let wordEntry = {\n                'pronunciations': pronunciations,\n                'Senses': sensesEntry,\n                'Timestamp': Date.now(),\n            }\n            \n            if (word in $Language.Lexicon) {\n                vex.dialog.alert(`The word ${word} is already in the lexicon.`);\n            } else {\n                $Language.Lexicon[word] = wordEntry;\n            }\n        }\n        plainTextImport = '';\n    }\n\n    async function openReferenceFile() {\n        let contents;\n        let dialog = (userPath: string) => {\n            showOpenDialog(\n                {\n                    title: 'Open Lexicon',\n                    defaultPath: `${userPath}${path.sep}Lexicons${path.sep}`,\n                    properties: ['openFile'],\n                },\n                file_path => {\n                    if (file_path === undefined) {\n                        // stop orbit animation\n                        document.querySelectorAll('.planet').forEach((planet: HTMLElement) => {\n                            planet.style.animationPlayState = 'paused';\n                        });\n                        loading_message = 'No file selected.';\n                        window.setTimeout(() => {\n                            loading_message = '';\n                        }, 5000);\n                        return;\n                    }\n                    fs.readFile(file_path[0], 'utf8', (err, data: string) => {\n                        if (err) {\n                            console.log(err);\n                            vex.dialog.alert(\n                                'There was an issue loading your file. Please contact the developer.'\n                                );\n                            diagnostics.logError('Attempted to open a file.', err);\n                            document.querySelectorAll('.planet').forEach((planet: HTMLElement) => {\n                                // loading anim stop\n                                planet.style.animationPlayState = 'paused';\n                            });\n                            loading_message = 'Couldnt open file.';\n                            window.setTimeout(() => { loading_message = ''; }, 5000);\n                            return;\n                        }\n                        contents = JSON.parse(data) as Lexc.Language;\n                        if (String(contents.Version).split('.')[0] !== '2') {\n                            vex.dialog.alert(\n                                `The file you are attempting to open as a reference was last saved in v${contents.Version} \\\n                                and is not compatible with the current version. Contact the developer for assistance.`\n                            );\n                            document.querySelectorAll('.planet').forEach((planet: HTMLElement) => {\n                                // loading anim stop\n                                planet.style.animationPlayState = 'paused';\n                            });\n                            loading_message = 'Incompatible file.';\n                            window.setTimeout(() => { loading_message = ''; }, 5000);\n                            return;\n                        }\n                        if (contents.Name === $Language.Name){\n                            vex.dialog.alert('You cannot open a reference to the same language.');\n                            document.querySelectorAll('.planet').forEach((planet: HTMLElement) => {\n                                // loading anim stop\n                                planet.style.animationPlayState = 'paused';\n                            });\n                            loading_message = 'Same language.';\n                            window.setTimeout(() => { loading_message = ''; }, 5000);\n                            return;\n                        }\n                        $referenceLanguage = false;\n                        window.setTimeout(() => {\n                            $referenceLanguage = contents;\n                        }, 100);\n                    });\n                }\n            );\n        }\n        await userData(userPath => {\n            dialog(userPath);\n        });\n    }\n\n</script>\n<!-- File Tab -->\n<div class=tab-pane>\n    <div class=row style=height:95vh>\n        <div class=\"column container\" style=overflow-y:auto>\n            <p>Document</p>\n            <label for=file-name use:tooltip={{position:'right'}} title={`Your file will be saved as: ${$Language.Name}.lexc`}>Name</label>\n            <input type=text id=file-name bind:value={$Language.Name}/>\n            <br>\n            <div class='narrow row'>\n                <div class=column>\n                    <button on:click={saveFile} class=\"hover-highlight hover-shadow\">Save</button>\n                    <button on:click={openFile} class=\"hover-highlight hover-shadow\">Open</button>\n                    <p class=\"info\">Save your lexicon or open a previously saved one.</p>\n                </div>\n                <div class=column> \n                    <div class=milkyWay>\n                        <!-- Loader -->\n                        <div class=sun></div>\n                        {#each ['mercury', 'venus', 'earth', 'mars', 'jupiter', 'saturn', 'uranus', 'neptune', 'pluto'] as planet}\n                            <div class=\"planet {planet}\"></div>\n                        {/each}\n                    </div>\n                    <p>{loading_message}</p>\n                </div>\n                <div class=column>\n                    <button on:click={saveAs.lexc} class='hover-highlight hover-shadow'\n                        use:tooltip={{position:'left'}} title='Allows you to save your file to a custom location.'>Export</button>\n                    <button on:click={importFile} class='hover-highlight hover-shadow'\n                        use:tooltip={{position:'left'}} title='Makes it easier to import files from a custom location.'>Import</button>\n                    <p class=info>Export and import your own copies of the lexicon file.</p>\n                </div>\n            </div>\n            <div class=narrow>\n                <label for=save-locations>Secondary Save Locations</label>\n                <button id=save-locations class='hover-highlight hover-shadow' on:click={selectSaveLocation}>Choose Location</button> \n                <p>Selected location: <u>{$Language.SaveLocation}<u></p>\n            </div>\n            <br>\n            <p use:tooltip={{position:'top'}} title='Here you can define Header Tags. Words in the lexicon with these tags will be sorted above the rest.'>\n                Lexicon Header Tags</p>\n            <div class=narrow>\n                <textarea bind:value={$Language.HeaderTags}></textarea>\n                <p class=info>\n                    Entries with these tags will be sorted separately at the top of the lexicon.\n                </p>\n            </div>\n            <br>\n            <button class=\"hover-highlight hover-shadow\" \n                use:tooltip={{position:'top'}} title=\"This allows you to open a second language file in read-only mode for referencing.\"\n                on:click={openReferenceFile}>Open Reference File</button>\n            {#if typeof $referenceLanguage === 'object'}\n                <p>Reference Language: {$referenceLanguage.Name}</p>\n                <button on:click={()=>$referenceLanguage = false} class=\"hover-highlight hover-shadow\">Close Reference File</button>\n                {#if $Language.ShowEtymology}\n                    <button \n                        use:tooltip={{position:'top'}} title=\"If you are using Etymology features, this allows you to import a lexicon from another language file as a relative you can which link words to and from.\"\n                        on:click={() => {\n                            if (typeof $referenceLanguage === 'object') { // redundant check is necessary for linter\n                                if ($referenceLanguage.Name in $Language.Relatives) {\n                                    vex.dialog.alert(`There is already a relative lexicon with the name ${$referenceLanguage.Name}.`);\n                                    return;\n                                }\n                                $Language.Relatives[$referenceLanguage.Name] = $referenceLanguage.Lexicon;\n                                vex.dialog.alert(`Successfully imported ${$referenceLanguage.Name} as a relative lexicon.`);\n                            }\n                    }}>Import Reference Lexicon as Related Lexicon</button>\n                {/if}\n            {/if}\n            <br>\n            <p use:tooltip={{position:'top'}} title=\"This feature allows you to apply sound change rules across your lexicon, and then save the result as a new language file.\">\n                Evolve Language</p>\n            <Evolver/>\n            <br>\n            <p>Export Lexicon</p>\n            <p>HTML</p>\n            <div class=\"row narrow\">\n                <div class=\"column\">\n                    <button on:click={saveAs.html.lexicon} class=\"hover-highlight hover-shadow\">Lexicon Only</button>\n                </div>\n                <div class=\"column\">\n                    <button on:click={saveAs.html.all} class=\"hover-highlight hover-shadow\">Lexicon & Docs</button>\n                </div>\n                <div class=\"column\">\n                    <button on:click={saveAs.html.docs} class=\"hover-highlight hover-shadow\">Documentation Only</button>\n                </div>\n            </div>\n            <button on:click={saveAs.txt} class=\"hover-highlight hover-shadow\">Text File</button>\n            <button on:click={saveAs.csv} class=\"hover-highlight hover-shadow\">CSV</button>\n            <button on:click={saveAs.json} class=\"hover-highlight hover-shadow\">JSON</button>\n            <br>\n            <p>Import Lexicon from CSV</p>\n            <div class=\"narrow\">\n                <div class=\"row\">\n                    <div class=\"column\">\n                        <label>Words Column\n                            <input type=\"number\" bind:value={csv.words}/>\n                        </label>\n                    </div>\n                    <div class=\"column\">\n                        <label>Pronunciations Column\n                            <input type=\"checkbox\" bind:value={csv.pronunciations_bool}/>\n                            {#if csv.pronunciations_bool}\n                                <input type=\"number\" bind:value={csv.pronunciations}/>\n                            {/if}\n                        </label>\n                    </div>\n                    <div class=\"column\">\n                        <label>Definitions Column\n                            <input type=\"number\" bind:value={csv.definitions}/>\n                        </label>\n                    </div>\n                    <div class=\"column\">\n                        <label>Tags Column\n                            <input type=\"checkbox\" bind:value={csv.tags_bool}/>\n                            {#if csv.tags_bool}\n                                <input type=\"number\" bind:value={csv.tags}/>\n                            {/if}\n                        </label>\n                    </div>\n\n                </div>\n            </div>\n            <label for=\"row-one-is-labels\">First Row Is Column Labels</label>\n            <input type=\"checkbox\" id=\"row-one-is-labels\" bind:checked={csv.headers}/>\n            <button on:click={() => \n                importCSV(\n                    csv.headers, \n                    csv.words, \n                    csv.definitions, \n                    csv.pronunciations_bool? csv.pronunciations : false,\n                    csv.tags_bool? csv.tags : false\n                )\n            } class=\"hover-highlight hover-shadow\">Import</button>\n            <br>\n            <p>Import Lexicon from Plain Text</p>\n            <p class=\"info\">Check the Help tab to read about the plain text format Lexicanter can convert into lexicon entries.</p>\n            <div class=\"narrow\">\n                <textarea bind:value={plainTextImport} class='text-left' rows=6></textarea>\n                <button class=\"hover-highlight hover-shadow\" on:click={()=>{\n                    importPlainText(plainTextImport);\n                    plainTextImport = '';\n                }}>Import</button>\n            </div>\n            <br><br>\n        </div>\n    </div>\n</div>\n","<script lang=\"ts\">\n    import { theme, autosave, pronunciations, wordInput, dbid, dbkey, fileLoadIncrement, docsEditor } from '../stores';\n    import { userData, saveFile, showOpenDialog, retrieveFromDatabase } from '../utils/files';\n    import { Language } from '../stores';\n    import type * as Lexc from '../types';\n    const fs = require('fs');\n    const path = require('path');\n    const vex = require('vex-js');\n    import { debug, logAction } from '../utils/diagnostics';\n    import { get_pronunciation } from '../utils/phonetics';\n    import TagSelector from '../components/TagSelector.svelte';\n    import { verifyHash } from '../utils/verification';\n    import { initializeDocs } from '../utils/docs';\n\n    let tag: string = '';\n    let onlineFileVersion: string = '';\n    let localFileVersion: string = $Language.FileVersion;\n    async function getOnlineFileVersion() {\n        if (verifyHash($dbid, $dbkey)) {\n            let file = await retrieveFromDatabase();\n            if (file) {\n                return file.FileVersion;\n            } else return null;\n        }\n    }\n    async function setFileVersions() {\n        onlineFileVersion = await getOnlineFileVersion();\n        localFileVersion = $Language.FileVersion;\n    }\n    $: $fileLoadIncrement, setFileVersions();\n\n    userData(user_path => {\n        let settings = {\n            autosave: true,\n            theme: 'styles/dark.css',\n            dbid: '',\n            dbkey: '',\n        }\n        \n        // This block of code is responsible for managing user settings. It first checks if a 'settings' file exists.\n        // If it doesn't, it creates one and sets up default settings, including 'autosave' and 'theme'.\n        // It also checks for 'autosave_pref.txt' and 'theme.txt' files to import settings from, if they exist.\n        // After setting up, it writes the settings to a 'settings' file in JSON format.\n        // If the 'settings' directory does exist, it reads the 'settings' file and imports the settings from there.\n        if (!fs.existsSync(user_path + path.sep + 'settings.json')) {\n            if (fs.existsSync(user_path + path.sep + 'autosave_pref.txt')) {\n                settings.autosave = fs.readFileSync(user_path + path.sep + 'autosave_pref.txt', 'utf8') === 'true';\n                $autosave = fs.readFileSync(user_path + path.sep + 'autosave_pref.txt', 'utf8') === 'true';\n                fs.unlinkSync(user_path + path.sep + 'autosave_pref.txt');\n            } else {\n                settings.autosave = true;\n            }\n            fs.writeFileSync(user_path + path.sep + 'settings.json', 'styles/dark.css');\n\n            if (fs.existsSync(user_path + path.sep + 'theme.txt')) {\n                settings.theme = fs.readFileSync(user_path + path.sep + 'theme.txt', 'utf8')\n                    .readFileSync(user_path + path.sep + 'theme.txt', 'utf8')\n                    .toString();\n                $theme = settings.theme;\n                fs.unlinkSync(user_path + path.sep + 'theme.txt');\n            } else {\n                settings.theme = 'styles/dark.css';\n            }\n            $dbid = ''; $dbkey = '';\n            fs.writeFileSync(user_path + path.sep + 'settings.json', JSON.stringify(settings, null, 4));\n        } else {\n            settings = JSON.parse(fs.readFileSync(user_path + path.sep + 'settings.json', 'utf8'));\n            $autosave = settings.autosave;\n            $theme = settings.theme;\n            $dbid = settings.dbid; inputID = settings.dbid;\n            $dbkey = settings.dbkey; inputKey = settings.dbkey;\n        }\n\n    });\n\n    let inputID: string = '';\n    let inputKey: string = '';\n    $: disabledDatabase = !$Language.UploadToDatabase;\n    function setDatabaseAccount () {\n        if (inputID === '' || inputKey === '') {\n            vex.dialog.alert('Please enter both your User ID and Key.');\n            return;\n        }\n        if (verifyHash(inputID, inputKey)) {\n            $dbid = inputID;\n            $dbkey = inputKey;\n            userData(user_path => {\n                let settings = {\n                    autosave: $autosave,\n                    theme: $theme,\n                    dbid: $dbid,\n                    dbkey: $dbkey,\n                }\n                fs.writeFileSync(user_path + path.sep + 'settings.json', JSON.stringify(settings, null, 4));\n            });\n            vex.dialog.alert('Successfully verified your User ID and Key.');\n        } else {\n            vex.dialog.alert('One or both of the User ID and Key you entered is invalid.');\n        }\n    }\n\n    async function syncFromDatabase () {\n        if ($dbid === '' || $dbkey === '') {\n            vex.dialog.alert('Please enter both your User ID and Key.');\n            return;\n        }\n        if (verifyHash($dbid, $dbkey)) {\n            const queryResult = await retrieveFromDatabase();\n            if (queryResult !== false) {\n                $Language = queryResult;\n                $docsEditor.destroy();\n                initializeDocs(queryResult.Docs);\n                vex.dialog.alert('Successfully synced from database.');\n            } else {\n                vex.dialog.alert('No file of this name was found in your ownership in the database.');\n            }\n        } else {\n            vex.dialog.alert('One or both of your User ID and Key is invalid.');\n        }\n    }\n\n    /**\n     * When the user changes selected theme from the dropdown in the Settings tab,\n     * this function updates the preferred theme setting stored in user app data.\n     */\n    function change_theme() {\n        userData(user_path => {\n            let settings = {\n                autosave: $autosave,\n                theme: $theme,\n                dbid: $dbid,\n                dbkey: $dbkey,\n            }\n            fs.writeFileSync(user_path + path.sep + 'settings.json', JSON.stringify(settings, null, 4));\n        });\n    }\n\n    /**\n     * When the user clicks the \"Choose Custom Theme\" button in the Settings tab,\n     * this function opens a file picker dialog and allows the user to select\n     * a .css file. The file is then copied to the user's app data folder and \n     * the theme is updated to use the new file.\n     */ \n    async function custom_theme() {\n        let [file_handle] = await window.showOpenFilePicker();\n        await file_handle.requestPermission({ mode: 'read' });\n        let file = await file_handle.getFile();\n        if (!file.name.includes('.css')) {\n            vex.dialog.alert('The selected file was not a .css file.');\n            return;\n        }\n        let contents = await file.text();\n        let theme_path;\n        await userData(user_path => {\n            let themes_dir = user_path + path.sep + 'user_themes' + path.sep;\n            if (!fs.existsSync(themes_dir)) {\n                fs.mkdirSync(themes_dir);\n            }\n            theme_path = user_path + path.sep + 'user_themes' + path.sep + file.name;\n            fs.writeFile(theme_path, contents, 'utf8', err => {\n                if (err) throw err;\n                $theme = theme_path;\n            });\n            fs.writeFile(user_path + path.sep + 'theme.txt', theme_path, err => {\n                if (err) throw err;\n            });\n        });\n    }\n\n    /**\n     * When the user changes the autosave setting in the Settings tab, this function\n     * updates the preferred autosave setting stored in user app data.\n     */ \n    function change_autosave_pref () {\n        let settings = {\n            autosave: $autosave,\n            theme: $theme,\n            dbid: $dbid,\n            dbkey: $dbkey,\n        }\n        userData(user_path => {\n            fs.writeFileSync(user_path + path.sep + 'settings.json', JSON.stringify(settings, null, 4));\n        });\n        if ($autosave) {\n            var autosave_tracker = window.setInterval(\n                saveFile,\n                600000 /* 10 minutes */,\n                false\n            );\n        } else {\n            window.clearInterval(autosave_tracker);\n        };\n    };\n\n    /**\n     * Changes the name of a lect in the $Language.Lects array and updates\n     * all instances of that lect in the file.\n     * @param lect The name of the lect to be changed\n     * @param name The new name of the lect\n     * @param index The index of the lect in the $Language.Lects array\n     */\n    function changeLectName(lect: string, name: string, index: number): void {\n        if (name === '') {\n            vex.dialog.alert('The lect name cannot be blank.');\n            return;\n        }\n        if (name === lect) {\n            vex.dialog.alert('The lect name is unchanged.');\n            return;\n        }\n        if ($Language.Lects.includes(name)) {\n            vex.dialog.alert('A lect with that name already exists.');\n            return;\n        }\n        $Language.Lects[index] = name;\n        $Language.Lects = [...$Language.Lects];\n        Object.keys($Language.Lexicon).forEach((word: string) => {\n            if ($Language.Lexicon[word].pronunciations.hasOwnProperty(lect)) {\n                $Language.Lexicon[word].pronunciations[name] = $Language.Lexicon[word].pronunciations[lect];\n                delete $Language.Lexicon[word].pronunciations[lect];\n            }\n            $Language.Lexicon[word].Senses.forEach((sense: Lexc.Sense) => {\n                if (sense.lects.includes(lect)) {\n                    sense.lects.splice(sense.lects.indexOf(lect), 1);\n                    sense.lects.push(name);\n                }\n            })\n        });\n        Object.keys($Language.Phrasebook).forEach(category => {\n            Object.keys($Language.Phrasebook[category]).forEach((p: string, i: number) => {\n                const phrase = $Language.Phrasebook[category][p];\n                if (phrase.pronunciations.hasOwnProperty(lect)) {\n                    phrase.pronunciations[name] = phrase.pronunciations[lect];\n                    delete phrase.pronunciations[lect];\n                }\n                if (phrase.lects.includes(lect)) {\n                    $Language.Phrasebook[category][p].lects.splice(phrase.lects.indexOf(lect), 1);\n                    $Language.Phrasebook[category][p].lects.push(name);\n                }\n            })\n        });\n\n        $Language.Orthographies.forEach(ortho => {\n            if (ortho.lect === lect) ortho.lect = name;\n        });\n        $Language.Pronunciations[name] = $Language.Pronunciations[lect];\n        if ($pronunciations.hasOwnProperty(lect)) {\n            $pronunciations[name] = $pronunciations[lect];\n            delete $pronunciations[lect];\n        }\n        delete $Language.Pronunciations[lect];\n    }\n\n    function deleteLect (lect: string, i: number) {\n        $Language.Lects.splice(i, 1);\n        $Language.Lects = [...$Language.Lects];\n        delete $Language.Pronunciations[lect];\n        delete $pronunciations[lect]\n        Object.keys($Language.Lexicon).forEach((word: string) => {\n            if ($Language.Lexicon[word].pronunciations[lect]) {\n                delete $Language.Lexicon[word].pronunciations[lect];\n            }\n            $Language.Lexicon[word].Senses.forEach((sense: Lexc.Sense, i: number) => {\n                if (sense.lects.includes(lect)) {\n                    sense.lects.splice(sense.lects.indexOf(lect), 1);\n                }\n                if (!sense.lects) {\n                    $Language.Lexicon[word].Senses.splice(i, 1);\n                }\n            })\n        });\n        Object.keys($Language.Phrasebook).forEach(category => {\n            Object.keys($Language.Phrasebook[category]).forEach((p: string, i: number) => {\n                const phrase = $Language.Phrasebook[category][p];\n                if (phrase.pronunciations[lect]) {\n                    delete phrase.pronunciations[lect];\n                }\n                if (phrase.lects.includes(lect)) {\n                    $Language.Phrasebook[category][p].lects.splice(phrase.lects.indexOf(lect), 1);\n                }\n                if (!phrase.lects) {\n                    const {[p]: _, ...rest} = $Language.Phrasebook[category];\n                    $Language.Phrasebook[category] = rest;\n                }\n            })\n        });\n\n        $Language.Orthographies.forEach(ortho => {\n            if (ortho.lect === lect) ortho.lect = $Language.Lects[0];\n        });\n        $Language.Lexicon = {...$Language.Lexicon};\n    }\n\n    function confirmUseLectsChange () {\n        if (!$Language.UseLects) {\n            vex.dialog.confirm({\n                message: `Are you sure you want to disable lect features? Only the data for the lect \"${$Language.Lects[0]}\" will be kept.`,\n                callback: ((response: boolean) => {\n                    if (response) {\n                        let keep = $Language.Lects[0];\n                        $Language.Lects = ['General'];\n\n                        Object.keys($Language.Lexicon).forEach((word: string) => {\n                            $Language.Lexicon[word].Senses = $Language.Lexicon[word].Senses.filter((sense: Lexc.Sense) => {\n                                return sense.lects.includes(keep);\n                            })\n                            $Language.Lexicon[word].Senses.forEach((sense: Lexc.Sense) => {\n                                sense.lects = ['General'];\n                            })\n                            if (!$Language.Lexicon[word].Senses) {\n                                delete $Language.Lexicon[word];\n                            }\n                            $Language.Lexicon[word].pronunciations = {\n                                General: $Language.Lexicon[word].pronunciations[keep]\n                            }\n                        });\n                        $Language.Pronunciations = {\n                            General: $Language.Pronunciations[keep]\n                        }\n                        $pronunciations = {\n                            General: $pronunciations[keep]\n                        }\n                    } else { $Language.UseLects = true; }\n                })\n            });\n        }\n    }\n\n    function importRelative() {\n        let contents: Lexc.Language;\n        const dialog = (user_path: string) => {\n            showOpenDialog(\n                {\n                    title: 'Import Related Lexicon',\n                    defaultPath: `${user_path}${path.sep}Lexicons${path.sep}`,\n                    properties: ['openFile'],\n                },\n                file_path => {\n                    if (!file_path) return;\n                    fs.readFile(file_path[0], 'utf8', (err, data: string) => {\n                        if (err) {\n                            console.log(err);\n                            vex.dialog.alert('There was an issue loading your file. Please contact the developer.');\n                        }\n                        try {\n                            contents = JSON.parse(data);\n                            if (!String(contents.Version).match(/^2\\.[0-9]*\\.[0-9]*$/)) {\n                                vex.dialog.alert(`\n                                    This file was saved with an old version of the app (~${contents.Version})\n                                    and is not compatible with the current version of Lexicanter. Please contact\n                                    the developer; the file may be recoverable.\n                                `);\n                                return;\n                            }\n                            const commit = (overwrite: boolean) => {                  \n                                // add an etymology entry for each word in the relative lexicon\n                                for (const word in contents.Lexicon) {\n                                    if (!$Language.Lexicon[word] && (!$Language.Etymologies[word] || overwrite)) {\n                                        $Language.Etymologies[word] = {\n                                            descendants: [],\n                                            source: contents.Name,\n                                        };\n                                    }\n                                }\n                            }\n                            if (contents.Name in $Language.Relatives) {\n                                vex.dialog.confirm({\n                                    message: `A relative lexicon with the name \"${contents.Name}\" already exists. Would you like to overwrite it?`,\n                                    callback: (response: boolean) => {\n                                        if (response) {\n                                            $Language.Relatives[contents.Name] = contents.Lexicon;\n                                            commit(true);\n                                        }\n                                    }\n                                })\n                            } else {\n                                $Language.Relatives = {\n                                    ...$Language.Relatives,\n                                    [contents.Name]: contents.Lexicon\n                                };\n                                commit(false);\n                            }\n                        } catch (err) {\n                            vex.dialog.alert('There was an issue loading the file. Please contact the developer.');\n                            return;\n                        }\n                    });\n                }\n            );\n        };\n        userData(user_path => {\n            if (!fs.existsSync(`${user_path}${path.sep}Lexicons${path.sep}`)) {\n                fs.mkdir(`${user_path}${path.sep}Lexicons${path.sep}`, () => {\n                    logAction(`Created the 'Lexicons' folder in the user data folder at '${user_path}'.`);\n                    dialog(user_path);\n                });\n            } else { dialog(user_path); }\n        });\n    }\n</script>\n<!-- App Settings -->\n<div class=\"tab-pane\">\n    <div class=\"row\" style=\"height: 95vh\">\n        <div class=\"container column scrolled\" style=\"height: 90vh;\">\n            <br><br>\n            <p>Appearance Settings</p> <br>\n            <label>Color Theme\n                <select \n                    name=\"theme-select\" id=\"theme-select\" \n                    bind:value={$theme} \n                    on:change={change_theme}\n                >\n                    <optgroup label=\"Simple Themes\">\n                        <option value=\"styles/dark.css\"> Dark</option>\n                        <option value=\"styles/light.css\"> Light</option>\n                    </optgroup>\n                    <optgroup label=\"The Saturnine Collection\">\n                        <option value=\"styles/marine.css\"> Marine</option>\n                        <option value=\"styles/glade.css\"> Glade</option>\n                        <option value=\"styles/pomegranate.css\"> Pomegranate</option>\n                        <option value=\"styles/magnolia.css\"> Magnolia</option>\n                        <option value=\"styles/juniper.css\"> Juniper</option>\n                        <option value=\"styles/leatherbound.css\"> Leatherbound</option>\n                        <option value=\"styles/wisteria.css\"> Wisteria</option>\n                    </optgroup>\n                    <optgroup label=\"The Maarz Collection\">\n                        <option value=\"styles/purple_maar.css\"> Purple Maar</option>\n                        <option value=\"styles/terminal_green.css\"> Terminal</option>\n                        <option value=\"styles/midnight.css\"> Midnight</option>\n                        <option value=\"styles/crabapple.css\"> Crabapple</option>\n                        <option value=\"styles/bone.css\"> Bone</option>\n                    </optgroup>\n                    <optgroup label=\"The Holiday Collection\">\n                        <option value=\"styles/eostre2023.css\"> ostre 2023</option>\n                        <option value=\"styles/hallowseve2023.css\"> All Hallow's Eve 2023</option>\n                    </optgroup>\n                </select>\n            </label>\n            <br>\n            <button class=\"hover-highlight hover-shadow\" on:click={()=>{$Language.FileTheme = $theme}}> Set Current Theme as Default for This File </button>\n            <button class=\"hover-highlight hover-shadow\" on:click={()=>{$Language.FileTheme = 'default'}}> Clear File Theme </button>\n            <br>\n            <button class=\"hover-highlight hover-shadow\" on:click={custom_theme}> Load Custom Theme </button>\n\n            <br><hr/><br>\n\n            <p>Save Settings</p> <br>\n            <label>Auto-Save\n                <input type=\"checkbox\" bind:checked={$autosave} on:change={change_autosave_pref}/>\n            </label>\n\n            <div class=narrow>\n                <label>Database Uploading\n                    <p class=info>If you wish, your files can be saved to an online database so that you can sync your files across multiple \n                        devices and the discord bot. To get your User ID and Key, please go to the Saturn's Sojourn discord server and use \n                        the command <code>/account</code>.\n                    </p>\n                    <span>Uploading is {$Language.UploadToDatabase? 'On' : 'Off'} for this file.\n                        <input type=checkbox bind:checked={$Language.UploadToDatabase}/>\n                    </span>\n                    {#if $Language.UploadToDatabase && verifyHash($dbid, $dbkey)}\n                        Local File Version: {localFileVersion} <br>\n                        Online File Version: {onlineFileVersion} <br>\n                        <button class='hover-highlight hover-shadow' on:click={setFileVersions}>Refresh</button>\n                    {/if}\n                    <span>User ID: <input class:pronunciation={disabledDatabase} type=text bind:value={inputID} disabled={disabledDatabase}/></span>\n                    <br>\n                    <span>Key: <input class:pronunciation={disabledDatabase} type=text bind:value={inputKey} disabled={disabledDatabase}/></span>\n                    <button on:click={setDatabaseAccount}>Authenticate</button>\n                    <p class=info>Your ID and Key are saved to the app's internal settings, not to your file, but turning on uploading is saved per-file.</p>\n                    <br>\n                    <button class='hover-highlight hover-shadow' on:click={syncFromDatabase}>Sync From Database</button>\n                    <p class=info>This will overwrite the current file with the latest version of the file with the same name and User ID in the database.</p>\n                </label>\n            </div>\n\n            <br><hr/><br>\n\n            <p>Lexicon Settings</p> <br>\n            <label>Manage Tags<br>\n                <TagSelector on:select={e => tag = e.detail? e.detail.trim() : ''}/>\n                <p>Selected: {tag}</p>\n                {#if !!tag}\n                    <button class=\"hover-highlight hover-shadow\" on:click={()=>{\n                        Object.keys($Language.Lexicon).forEach(word => {\n                            $Language.Lexicon[word].Senses.forEach((sense, i) => {\n                                if (sense.tags.includes(tag)) {\n                                    $Language.Lexicon[word].Senses[i].tags.splice(sense.tags.indexOf(tag), 1);\n                                }\n                            });\n                        });\n                        tag = '';\n                    }}>Delete Tag</button>\n                    <button class=\"hover-highlight hover-shadow\" on:click={()=>{\n                        vex.dialog.prompt({\n                            message: 'New tag name:',\n                            callback: (newName) => {\n                                if (newName) {\n                                    Object.keys($Language.Lexicon).forEach(word => {\n                                        $Language.Lexicon[word].Senses.forEach((sense, i) => {\n                                            if (sense.tags.includes(tag)) {\n                                                $Language.Lexicon[word].Senses[i].tags.splice(sense.tags.indexOf(tag), 1);\n                                                $Language.Lexicon[word].Senses[i].tags.push(newName);\n                                            }\n                                        });\n                                    });\n                                    tag = newName;\n                                }\n                            }\n                        });\n                    }}>Edit Tag</button>\n                {/if}\n            </label>\n\n            <br><hr/><br>\n\n            <p>Advanced Settings</p> <br>\n            <label>Show Multi-Lect Features\n                <input type=\"checkbox\" bind:checked={$Language.UseLects} on:change={confirmUseLectsChange}/>\n                {#if $Language.UseLects}\n                    {#each $Language.Lects as lect, lectIndex}\n                        <div class=\"narrow\">\n                            <p style=\"display: inline-block\" id={`${lectIndex}`}>{lect}</p>\n                            <button class=\"hover-highlight hover-shadow\" style=\"display: inline-block\" on:click={() => {\n                                if ($Language.Lects.length === 1) {\n                                    vex.dialog.alert('You cannot delete the last lect.');\n                                    return;\n                                };\n                                vex.dialog.confirm({\n                                    message: `Are you sure you want to delete the lect \"${lect}\"? This action cannot be undone.`,\n                                    callback: function (response) {\n                                        if (response) {\n                                            deleteLect(lect, lectIndex);\n                                            debug.log(`Deleted lect: ${lect}`);\n                                        }\n                                    }\n                                });\n                            }}>  </button>\n                            <button class=\"hover-highlight hover-shadow\" style=\"display: inline-block\" on:click={() => {\n                                vex.dialog.prompt({\n                                    message: 'Edit Lect Name',\n                                    placeholder: `${lect}`,\n                                    callback: function (response) {\n                                        if (response === false) {\n                                            return debug.log('User cancelled the Edit Lect Name dialog.');\n                                        }\n                                        changeLectName(lect, response, lectIndex);\n                                        debug.log(`Edited lect name: ${lect} to ${response}`);\n                                    }\n                                })\n                            }}>  </button>\n                            <button class=\"hover-highlight hover-shadow\" style=\"display: inline-block;\" on:click={() => {\n                                vex.dialog.confirm({\n                                    message: `Add all words in the lexicon to the lect ${lect}?`,\n                                    callback: function (response) {\n                                        if (response) {\n                                            for (let word in $Language.Lexicon) {\n                                                $Language.Lexicon[word].Senses.forEach(sense => {\n                                                    if (!sense.lects.includes(lect)) {\n                                                        sense.lects.push(lect);\n                                                    }\n                                                });\n                                            };\n                                            debug.log(`Added all words to lect: ${lect}`);\n                                            vex.dialog.alert(`Added all senses of all words to the lect ${lect}.`);\n                                        }\n                                    }\n                                });\n                            }}>  </button>\n                        </div>\n                    {/each}\n                    <button class=\"hover-highlight hover-shadow\" on:click={() => { \n                        vex.dialog.prompt({\n                            message: 'Add a New Lect',\n                            placeholder: `New ${$Language.Name} Lect`,\n                            callback: function (response) {\n                                if (response === false) {\n                                    return debug.log('User cancelled the Add Lect dialog.');\n                                }\n                                $Language.Lects = [...$Language.Lects, response];\n                                $Language.Pronunciations[response] = 'place > holder';\n                                $pronunciations[response] = get_pronunciation($wordInput, response);\n                                logAction(`Added a new lect: ${response}`);\n                                // debug.log(`Added a new lect: ${response}`)\n                            }\n                        })\n                    }}> + Lect </button>\n                {/if}\n            </label>\n            <label>Show Pronunciations\n                <input type=\"checkbox\" bind:checked={$Language.ShowPronunciation}/>\n            </label>\n            <br><br>\n            <label>Show Etymology Features\n                <input type=\"checkbox\" bind:checked={$Language.ShowEtymology}/>\n                {#if $Language.ShowEtymology}\n                    <button class=\"hover-highlight hover-shadow\" \n                        on:click={() => {\n                            importRelative();\n                        }}\n                    > Import Related Lexicon </button>\n                    {#each Object.keys($Language.Relatives) as relative}\n                        <div class=\"narrow\">\n                            <p style=\"display: inline-block;\">{relative}</p>\n                            <button class=\"hover-highlight hover-shadow\" style=\"display: inline-block;\" on:click={() => {\n                                vex.dialog.confirm({\n                                    message: `Are you sure you want to delete \"${relative}\"? This will remove any etymology connections its entries may have.`,\n                                    callback: function (response) {\n                                        if (response) {\n                                            $Language.Etymologies = Object.fromEntries(Object.entries($Language.Etymologies).filter(([_, value]) => value.source !== relative));\n                                            delete $Language.Relatives[relative];\n                                            logAction(`Deleted relative: ${relative}`);\n                                        }\n                                    }\n                                });\n                            }}>  </button>\n                        </div>\n                    {/each}\n                {/if}\n            </label>\n            <br><br>\n            <label>Show Automatic Inflection Features\n                <input type=\"checkbox\" bind:checked={$Language.ShowInflection}/>\n            </label>\n            <br><br>\n            <label>Show Alternate Orthography Features\n                <input type=checkbox bind:checked={$Language.ShowOrthography}/>\n                {#if $Language.ShowOrthography}\n                    <label>Display Orthographies\n                        {#each $Language.Orthographies as orthography}\n                            <div class=\"row narrow\">\n                                <div class=column style:align=right>\n                                    <input type=checkbox bind:checked={orthography.display}/>\n                                </div>\n                                <div class=\"column text-left\">\n                                    <p>{orthography.name}</p>\n                                </div>\n                            </div>\n                        {/each}\n                    </label>\n                {/if}\n            </label>\n        </div>\n    </div>\n</div>\n","<script lang='ts'>\n    const [MAJOR, MINOR, PATCH] = [0, 1, 2];\n    const changelog = {\n        '2.1.19': {\n            type: PATCH,\n            notes: [\n                'Fixed a bug with the lexicon description search which caused the exact match <code>!</code> and begins-word <code>^</code> functions not to work.',\n                'Fixed a bug causing the alphabetizer to soft crash the app if you used parentheses in your alphabet. Other RegEx-reserved characters will work now as well.'\n            ]\n        },\n        '2.1.18': {\n            type: PATCH,\n            notes: [\n                'Fixed problems with the search bars in the Phrasebook tab which made them virtually useless.',\n                'Fixed another case where documentations would not be initialized when loading a database synced file on multiple devices.',\n                'Changes to how the changelog in managed under the hood (yes, really).'\n            ]\n        },\n        '2.1.17': {\n            'type': PATCH,\n            'notes': [\n                'Fixed a bug with downloading lexicons on multiple devices and the documentation being left out.'\n            ]\n        },\n        '2.1.16': {\n            'type': PATCH,\n            'notes': [\n                'Fixed a bug that occurred with lexicon searching in some files, related to case-sensitivity.'\n            ]\n        },\n        '2.1.15': {\n            'type': PATCH,\n            'notes': [\n                'Fixed a reported bug which caused the search fields in the lexicon and phrasebook to find no matches in certain cases.',\n                'Changed the way that the app recognizes when changes have been made to the version of your file in the database.',\n                'A few quality of life features related to the previous change, including the ability to see the local and online file version numbers in Settings.'\n            ]\n        },\n        '2.1.14': {\n            'type': PATCH,\n            'notes': [\n                'Fixed a bug with the orthography pattern replacement features which caused it to only replace the first instance of a pattern in each word.',\n                'Added the ability to use ^ or # as word-end characters in the orthography pattern replacement fields.',\n                'Fixed a reported bug with the Illegals field of the Advanced Phonotactics word generator which caused that field not to save its contents.',\n                'Fixed a bug with database syncing which caused the setting to not save for files.',\n                'Files should now automatically detect when you have changes in the database on loading, and will prompt you to download the changes.'\n            ]\n        },\n        '2.1.13': {\n            'type': PATCH,\n            'notes': [\n                'Added an Illegals field to the Advanced Phonotactics word generator options.',\n                'Added the Structures inputs to the Advanced Phonotactics word generator options and the corresponding syllable category syntax for this feature.',\n                '(Finally) wrote the documentation on the word generator, which can be found in the Help tab.'\n            ]\n        },\n        '2.1.12': {\n            'type': PATCH,\n            'notes': [\n                'Added a new default text to the Pronunciations field in the Phonology tab to better guide beginners.',\n                'Added an indicator on entries in the lexicon tab to show if their pronunciation was manually edited and thus not automatically updated by pronunciation rules.'\n            ]\n        },\n        '2.1.11': {\n            'type': PATCH,\n            'notes': [\n                'Added secondary location file saving, for those of you who want your lexicon files to save to another location on your computer every time you save.',\n                'Added database syncing! Get your account credentials from the Lexicanter Discord bot, and then you can sync your files to the bot and between devices.',\n                'A minor change to how app settings are saved. The old app settings files are now deprecated and will eventually no longer be supported.'\n            ]\n        },\n        '2.1.10': {\n            'type': PATCH,\n            'notes': [\n                'New tooltips have been added throughout the app.',\n                'New All Hallow\\'s Eve 2023 theme in the Holiday collection!'\n            ]\n        },\n        '2.1.9': {\n            'type': PATCH,\n            'notes': [\n                'Hot fix for a bug which caused data saved by the advanced word generator not to be loaded open re-opening a file.',\n                'A new feature will be coming in 2.2 which requires a change to the way lexicon entries are formatted internally, which this update prepares for.'\n            ]\n        },\n        '2.1': {\n            'type': MINOR,\n            'notes': [\n                'Introduced a plain text import feature for convenient clonging on the move.',\n                'Added a reference window for loading secondary files in read-only mode.',\n                'Support for custom fonts via new Orthographies feature.',\n                'Under-the-hood file structure adjustments and read logic improvements.',\n                'New phonological evolution tools!',\n                'An alternative type of word generator for more advanced syllable structures.',\n                'The option to save theme preferences on a file-by-file basis.',\n                'New themes: Magnolia by Saturnine, Crabapple by Maarz, and Eostre 2023 (a holiday theme released for beta users earlier this year).',\n                'A number of bugs removed; probably some bugs added. Please report them if you find them!'\n            ]\n        },\n        '2.0.18': {\n            'type': PATCH,\n            'notes': [\n                'By request, added a new dropdown to Tag inputs which allows you to select from pre-existing tags in your lexicon.',\n                'By request, added a new Help tab. It hosts the same information as the wiki, but is accessible offline.',\n                'The Settings, Changelog, and Help tabs, as well as the window control buttons, now use Material Icons.'\n            ]\n        },\n        '2.0.17': {\n            'type': PATCH,\n            'notes': [\n                'Fixed a reported bug with the inflections generation.',\n                'Fixed an issue with tag searching.',\n                'The font weight has been changed to an appropriate Book weight to improve readability on some systems and to many eyes.'\n            ]\n        },\n        '2.0.16': {\n            'type': PATCH,\n            'notes': [\n                'Fixed a small bug with the new sound change engine.'\n            ]\n        },\n        '2.0.15': {\n            'type': PATCH,\n            'notes': [\n                'Fixed a reported bug with HTML export.',\n                'Related to the above fix, technical limitations now prevent your theme from being exported with your HTML. Solutions are being investigated.'\n            ]\n        },\n        '2.0.14': {\n            'type': PATCH,\n            'notes': [\n                'Fixed CSV export.',\n                'Fixed a reported bug with HTML export.',\n                'Fixed some reported and unreported issues with the sound change engine.',\n                'There is now a text input designated for specifying categories for sound changes in an inflection group, to make everyone\\'s life easier.',\n                'Minor optimizations and performance improvements.'\n            ]\n        },\n        '2.0.13': {\n            'type': PATCH,\n            'notes': [\n                'Linux support!'\n            ]\n        },\n        '2.0.12': {\n            'type': PATCH,\n            'notes': [\n                'Fixed a reported bug which caused HTML export to fail. Expect expanded HTML export options in the future.',\n                'Minor optimizations.'\n            ]\n        },\n        '2.0.11': {\n            'type': PATCH,\n            'notes': [\n                'Fixed a reported bug which caused a semi-rare soft-crash in certain cases when dealing with multiple lects. Again.'\n            ]\n        },\n        '2.0.10': {\n            'type': PATCH,\n            'notes': [\n                'Fixed a reported bug which caused a semi-rare soft-crash in certain cases when dealing with multiple lects.',\n                'Fixed a reported bug which caused CSV import to fail, and improved CSV import options.'\n            ]\n        },\n        '2.0.9': {\n            'type': PATCH,\n            'notes': [\n                'You can now write multiple rules separated by a semicolon, which allows for multiple rules per table cell in the inflection tables.',\n                'Fixed a reported bug which caused a soft crash when attempting to edit the last word in the lexicon if it had an inflections dropdown open.'\n            ]\n        },\n        '2.0': {\n            'type': MAJOR,\n            'notes': [\n                'There is now a new sound change engine under the hood. Your old rules may no longer work; for assistance, you can contact the developer.',\n                'Lexicon entries can now be separated into multiple Senses, each of which can have their own tags.',\n                'There are new features accessible via new Advanced Settings. These include:',\n                'New Lect features allow you to denote the ways your language may vary, particularly in semantics and pronunciation.',\n                'New Inflection features, which include a new tab, which allows you to create inflectional paradigms for your language.',\n                'New Etymology features, which include a new tab, allows you to create etymologies trees and view them in the lexicon.',\n                'Check out the new wiki page or tutorial video for more in-depth information!',\n                'New app icons by Lyiusa!',\n                'New themes: Juniper by Saturnine, and Midnight and Bone by Maarz!'\n            ]\n        },\n        '1.11.4': {\n            'type': PATCH,\n            'notes': [\n                'Fixed a reported bug causing markdown not to work in variant descriptions of phrases.'\n            ]\n        },\n        '1.11.3': {\n            'type': PATCH,\n            'notes': [\n                'Fixed a reported bug causing the alphabetizer pre-check to send false alerts when certain combining diacritics on certain characters were in the alphabet in certain orders.'\n            ]\n        },\n        '1.11.2': {\n            'type': PATCH,\n            'notes': [\n                'The app now saves backup versions of your files in case things go wrong.',\n                'Fixed a reported bug that caused the app to sometimes exit too quickly and not save when autosave was enabled.'\n            ]\n        },\n        '1.11.1': {\n            'type': PATCH,\n            'notes': [\n                'Fixed a reported bug causing the Ignore Diacritics setting to be ignored during alphabet checks when adding words to the lexicon.'\n            ]\n        },\n        '1.11': {\n            'type': MINOR,\n            'notes': [\n                'When you attempt to add a word to the lexicon, there is now an alert if the word contains characters (or polygraphs) not present in your alphabet.',\n                'Fixed a reported bug causing external links to not display correctly in the Lexicon tab specifically.',\n                'Fixed a reported bug preventing the app from warning you that it will not save if there is no file name given.',\n                'Fixed a minor bug with the Terminal theme when exported for HTML.'\n            ]\n        },\n        '1.10': {\n            'type': MINOR,\n            'notes': [\n                'Added three new themes: Pomegranate, Wisteria, and Terminal.',\n                'The word entry panel in the Lexicon tab is now collapsible.',\n                'The Phrasebook now has active overwrite protection to prevent you from deleting your work by mistake.',\n                'You can now search for an exact whole-word match in definitions and tags fields by using ! as a prefix.',\n                'For HTML exports, the appearance on mobile devices has been improved.',\n                'Minor bug fixes for opening new windows from the File tab.',\n                'Lots of under-the-hood changes for the app\\'s appearance in preparation for future features.'\n            ]\n        },\n        '1.9.5': {\n            'type': PATCH,\n            'notes': [\n                'Fixed a bug causing app-quit to be impossible sometimes.',\n                'Fixed some minor bugs with the styles.',\n                'Fixed a bug causing monospace toggle in the docs tab to be undoable.',\n                'Fixed a bug causing external hyperlinks not to use the preferred browser, and in some cases not open at all.'\n            ]\n        },\n        '1.9.4': {\n            'type': PATCH,\n            'notes': [\n                'You can now hyperlink to entries in the lexicon. The link format is lex::word.',\n                'The documentation tab would previously not adjust to the width of the window. That has been fixed.'\n            ]\n        },\n        '1.9': {\n            'type': MINOR,\n            'notes': [\n                'Overhauled the Documentation tab, which now uses integrated EditorJS technology. Markdown is no longer supported in this tab, in favor of the new WYSIWYG style with a toolbar visible when you highlight text.',\n                'Note: The first time you load a file from an older version, there may be some formatting quirks. Most of these should sort themselves out after saving in the new version and re-loading. Please contact the developer if you run into persistent issues.',\n                'Fixed a bug with the Open New Window button which caused it to fail to open new windows.',\n                'The button to edit phrasebook entries has been changed to right-click instead of left-click to make it more difficult to accidentally overwrite work in progress, and to allow for highlighting text.',\n                'An HTML Docs-Only export option has been added.'\n            ]\n        },\n        '1.8.14': {\n            'type': PATCH,\n            'notes': [\n                'Fixed a few minor bugs with markdown parsing.',\n                'Added monospace markdown with ``this`` syntax.',\n                'Fixed a reported bug which affected the orthography testing area.'\n            ]\n        },\n        '1.8': {\n            'type': MINOR,\n            'notes': [\n                'File storage has been migrated to make auto-save possible.',\n                'Categories can now be defined and used in your Pronunciations rules. See the docs page for more info.',\n                'Five new color themes: Light, Marine, Glade, Leatherbound, and Purple Maar (contributed by Maarz).',\n                'You can now load in your own custom CSS color themes.',\n                'Definitions, descriptions, and documentation sections now support simple markdown.',\n                'There\\'s a new space in the Phonology tab to test your pronunciation rules.',\n                'Tag searches no longer require an exact match.',\n                'Several minor bug fixes, including one reported about tables being editable in the HTML export.'\n            ]\n        }\n    }\n</script>\n<div class='tab-pane'>\n    <div class='row' style='height: 95vh'>\n        <div class='container column scrolled' style='height: 90vh;'>\n            <p class='info'>\n                Interested in testing the beta versions, talking about languages, or worldbuilding? <br>\n                Join <a rel='noreferrer' target='_blank' href='https://discord.gg/uDk2XDhh8K'>Saturn's Sojourn</a>, \n                the home of Lexicanter on <a rel='noreferrer' target='_blank' href='https://discord.gg/uDk2XDhh8K'>Discord</a>!\n            </p>\n            <br>\n            <p class='info'>\n                Support the continued developement of the app as a <a rel='noreferrer' target='_blank' href='https://patreon.com/saturnine_softworks'>patron</a>,\n            </p>\n            <p class='info'>\n                or by buying me a <a rel='noreferrer' target='_blank' href='https://ko-fi.com/saturnine_softworks'>coffee</a>!\n            </p>\n\n            <br><br>\n\n            Below is a list of all changes made to the app since version 1.8, which is when the changelog was first added.<br>\n            If you're looking for more information about how to use the app, check the Help tab or visit the \n            <a rel='noreferrer' target='_blank' href='https://github.com/Saturnine-Softworks/Lexicanter/wiki'>Wiki</a>.<br> There is also\n            an overview <a rel='noreferrer' target='_blank' href='https://www.youtube.com/watch?v=6_AwCC4XlvU&t=151s'>tutorial video</a> for release 2.0.\n            <br> If you're still having trouble, or need to contact the developer, visit us in the \n            <a rel='noreferrer' target='_blank' href='https://discord.gg/uDk2XDhh8K'>Discord server</a>. \n            \n            <br><hr/><br>\n            {#each Object.keys(changelog) as version}\n                <p><u>{['Overhaul', 'Update', 'Patch'][changelog[version].type]} {version}</u></p>\n                <p style='width: 70%; margin: auto; text-align: left; line-height: 1.6'>\n                    {#each changelog[version].notes as note}\n                         {@html note} <br>\n                    {/each}\n                </p>\n                <br>\n            {/each}\n\n        </div>\n    </div>\n</div>\n","<script lang='ts'>\n    import { Language, fileLoadIncrement } from '../stores';\n    import EditorJS from '@editorjs/editorjs';\n    import Table from '@editorjs/table';\n    import Header from '@editorjs/header';\n    import Underline from '@editorjs/underline';\n    import { Monospace } from '../utils/docs';\n    import * as diagnostics from '../utils/diagnostics';\n    const vex = require('vex-js');\n    enum LogLevels { // REVIEW - monkeypatch gets around type check error, can't import this from @editorjs/editorjs/types for ...reasons.\n        VERBOSE = 'VERBOSE',\n        INFO = 'INFO',\n        WARN = 'WARN',\n        ERROR = 'ERROR',\n    }\n    function changeTags(e: Event, i: number) {\n        const element = e.currentTarget as HTMLInputElement;\n        $Language.Inflections[i].tags = element.value.split(/\\s+/g);\n    }\n\n    function remakeEditors(exclude: number) {\n        for (let i = editors.length; i > 0; i--) {\n            editors[i-1].destroy();\n            editors.pop();\n        }\n        $Language.Inflections.filter((_, j) => j !== exclude).forEach((inflection, i) => {\n            const config = {\n                holder: `inflection ${i}`,\n                data: inflection.tables,\n                tools: {\n                    underline: Underline,\n                    monospace: Monospace,\n                    table: {\n                        class: Table,\n                        inlineToolbar: true,\n                        config: {\n                            rows: 3,\n                            cols: 3,\n                            withHeadings: true,\n                        },\n                    },\n                    header: {\n                        class: Header,\n                        inlineToolbar: true,\n                    }\n                },\n                minHeight: 30,\n                logLevel: LogLevels.ERROR,\n            }\n            const editor = new EditorJS(config);\n            editors.push(editor);\n        });\n    }\n    $: {\n        $fileLoadIncrement;\n        remakeEditors(Infinity);\n    }\n\n    function addEditor() {\n        const config = {\n            holder: `inflection ${$Language.Inflections.length - 1}`,\n            data: {\n                blocks: [\n                    {\n                        type: 'header',\n                        data: {\n                            text: 'New Inflections Group',\n                            level: 1\n                        }\n                    },\n                    {\n                        type: 'table',\n                        data: {\n                            withHeadings: false,\n                            content: [\n                                ['', '', ''],\n                                ['', '', ''],\n                                ['', '', '']\n                            ]\n                        }\n                    },\n                    {\n                        type: 'paragraph',\n                        data: {\n                            text: 'Table cells containing sound change rules will be used to generate inflected forms. \\\n                            Apply them to your words in your lexicon by providing the lexicon tags they apply to and an \\\n                            optional Regular Expression filter.'\n                        }\n                    }\n                ]\n            },\n            tools: {\n                underline: Underline,\n                monospace: Monospace,\n                table: {\n                    class: Table,\n                    inlineToolbar: true,\n                    config: {\n                        rows: 3,\n                        cols: 3,\n                        withHeadings: true,\n                    },\n                },\n                header: {\n                    class: Header,\n                    inlineToolbar: true,\n                }\n            },\n            minHeight: 30,\n            logLevel: LogLevels.ERROR,\n        }\n        const editor = new EditorJS(config);\n        editors.push(editor);\n    }\n    async function saveEditors(): Promise<string> {\n        for (let i = 0; i < editors.length; i++) {\n            editors[i].save().then((outputData) => {\n                $Language.Inflections[i].tables = outputData;\n            }).catch((error) => {\n                diagnostics.debug.error(`Error while saving editor.\\nindex: ${i}\\nobject at i: ${editors[i]}\\neditors.length: ${editors.length}\\nmessage:\\n ${String(error)}`);\n            });\n            await editors[i].isReady;\n        }\n        $Language.Inflections = $Language.Inflections; // assignment update trigger\n        return 'done';\n    }\n\n    let editors: EditorJS[] = [];\n    /* $: {\n        $Language.Inflections;\n        window.setTimeout(() => diagnostics.debug.log(`${editors.length} editors`, false), 1000);\n    } */\n</script>\n<div class='tab-pane' spellcheck=\"false\">\n    <div class='row' style='height: 92vh'>\n        <div class='container column scrolled' on:mouseleave={saveEditors}>\n            {#each $Language.Inflections as inflection, i}\n                <div class=\"row\" style=\"width:66%\">\n                    <div class=\"column\">\n                        <label>Tags\n                            <div>\n                                <textarea rows=\"1\" on:change={ (e) => changeTags(e, i) } value={inflection.tags.join(' ')} />\n                            </div>\n                        </label>\n                        <label>RegEx Filter\n                            <div>\n                                <p style='display: inline'>/</p>\n                                <input style='display: inline' type='text' bind:value={inflection.filter} />\n                                <p style='display: inline'>/</p>\n                            </div>\n                        </label>\n                    </div>\n                    <div class=\"column\">\n                        <label>Rule Categories\n                            <div>\n                                <textarea class=\"text-left\" rows=\"3\" bind:value={inflection.categories}></textarea>\n                            </div>\n                        </label>\n                    </div>\n                </div>\n                <div class='codex-editor' id={`inflection ${i}`} style='font-family: Gentium'></div>\n                <div class=\"narrow\">\n                    <button class='hover-highlight hover-shadow' style='display: inline' on:click={()=>{\n                        vex.dialog.confirm({\n                            message: 'Are you sure you want to delete this inflection group? This action is irreversible.',\n                            callback: (response) => {\n                                if (response) {\n                                    saveEditors();\n                                    window.setTimeout(() => {\n                                        remakeEditors(i);\n                                        $Language.Inflections = $Language.Inflections.filter((_, index) => index !== i);\n                                    }, 500);\n                                }\n                            }\n                        })\n                    }}>Delete</button>\n                </div>\n                <br><br>\n            {/each}\n            <button style='hover-highlight hover-shadow' on:click={() => {\n                saveEditors().then(() => {\n                    $Language.Inflections = [\n                        ...$Language.Inflections,\n                        {\n                            tags: [],\n                            filter: '.+',\n                            categories: '',\n                            tables: {\n                                blocks: [\n                                    {\n                                        type: 'header',\n                                        data: {\n                                            text: 'New Inflections Group',\n                                            level: 1\n                                        }\n                                    },\n                                    {\n                                        type: 'table',\n                                        data: {\n                                            withHeadings: false,\n                                            content: [\n                                                ['', '', ''],\n                                                ['', '', ''],\n                                                ['', '', '']\n                                            ]\n                                        }\n                                    },\n                                    {\n                                        type: 'paragraph',\n                                        data: {\n                                            text: 'Table cells containing sound change rules will be used to generate inflected forms. \\\n                                            Apply them to your words in your lexicon by providing the lexicon tags they apply to and an \\\n                                            optional Regular Expression filter.'\n                                        }\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                    addEditor();\n                });\n            }}>Add Inflections Group</button>\n        </div>\n    </div>\n</div>\n","<script lang='ts'>\n    import { Language } from \"../stores\";\n    import { parseRules, applyRules } from \"../utils/sca\";\n    let selectedOrtho = '';\n    let testInput = '';\n    const vex = require('vex-js');\n    import { graphemify } from \"../utils/interop/rust-interop\";\n    import { showOpenDialog, readSVG, correctSVGSize } from \"../utils/files\";\n\n    let orthographyReplacement = {\n        pattern: '',\n        replacement: ''\n    };\n    let orthographyChangeEndMessage = '';\n\n    let SVGData: string = '';\n    let graphemyOutput: string = '';\n\n    // IIFE here re-reads SVG data on load and every time `graphemyOutput` is updated.\n    $: graphemyOutput, (async () => {\n        SVGData = correctSVGSize(await readSVG(\n            testInput,\n            $Language.Orthographies.find(o => o.name === selectedOrtho)?.name,\n        ))\n    })();\n\n    /**\n     * Binding directly to the Language store seems to be very slow, so this function is used to\n     * update the store when the user clicks out of an input field.\n     * @param event_or_element\n     * @param attribute\n     * @param index\n     */\n    function setAttribute(event: Event, attribute: string, index: number) {\n        const target = event.target as HTMLInputElement;\n        const value = target.value.trim();\n\n        if (attribute === 'name') {\n            if ([value, ...$Language.Orthographies.filter(o => o.name === value)].length-1 > 1) {\n                vex.dialog.alert('The name must be unique.');\n                target.value = `New Orthography ${index}`;\n                return;\n            }\n            if (value === '') {\n                vex.dialog.alert('The name cannot be blank.');\n                target.value = `New Orthography ${index}`;\n                return;\n            }\n        }\n\n        $Language.Orthographies[index][attribute] = value;\n    }\n</script>\n<div class=tab-pane>\n    <div class=row style:height=100%>\n        <div class=\"column container scrolled\" style:height=92vh>\n\n            {#each $Language.Orthographies as orthography, i}\n                <label>Name\n                    <input type=text \n                        on:blur={(e) => {\n                            setAttribute(e, 'name', i);\n                        }}\n                        style:background-color={orthography.name === 'Romanization' ? 'transparent' : ''}\n                        value={orthography.name}\n                        readonly={orthography.name==='Romanization'}\n                    />\n                </label>\n                <!-- svelte-ignore a11y-label-has-associated-control -->\n                <label>Typesetter\n                    {#if orthography.name === 'Romanization'}\n                        <span>: Packaged Font</span>\n                    {:else}\n                        <select bind:value={$Language.Orthographies[i].typesetter}>\n                            <option value=font>Use an installed font</option>\n                            <option value=graphemy>Use a Graphemy file</option>\n                        </select>\n                    {/if}\n                </label>\n                {#if orthography.typesetter === \"font\"}\n                    <input type=text \n                        on:blur={e => setAttribute(e, 'font', i)}\n                        style:background-color={orthography.name === 'Romanization' ? 'transparent' : ''}\n                        value={orthography.font}\n                        readonly={orthography.name==='Romanization'}\n                    />\n                {:else if orthography.typesetter === \"graphemy\"}\n                    <button on:click={() => {\n                        showOpenDialog({\n                            title: 'Select Graphemy File',\n                            properties: ['openFile'],\n                        },\n                        file_path => {\n                            $Language.Orthographies[i].font  = file_path[0]\n                        });\n                    }}>Locate File</button>\n                    <input type=text id={`graphemy-file-input${i}`}\n                        bind:value={ orthography.font } \n                        readonly\n                    />\n                {/if}\n                <!-- svelte-ignore a11y-label-has-associated-control -->\n                <label>Root\n                    {#if orthography.name === 'Romanization'}\n                        <span>: Base input</span>\n                    {:else}\n                        <select bind:value={orthography.root}>\n                            <option value=ipa>Base from pronunciation</option>\n                            <option value=rom>Base from romanization</option>\n                        </select>\n                    {/if}\n                </label>\n                {#if $Language.UseLects && orthography.root === 'ipa'}\n                    <label>Lect\n                        <select bind:value={orthography.lect}>\n                            {#each $Language.Lects as lect}\n                                <option value={lect}>{lect}</option>\n                            {/each}\n                        </select>\n                    </label>\n                {/if}\n                <br>\n                <label>Conversion Rules\n                    <textarea\n                        rows=3\n                        class={orthography.name === 'Romanization'? 'text-center' : 'text-left'}\n                        on:blur={(e) => {\n                            setAttribute(e, 'rules', i);\n                        }}\n                        style:background-color={orthography.name === 'Romanization' ? 'transparent' : ''}\n                        value={orthography.rules}\n                        readonly={orthography.name === 'Romanization'}\n                    />\n                </label>\n                {#if orthography.name !== 'Romanization'}\n                    <button\n                        class=\"hover-highlight hover-shadow\"\n                        on:click={() => {\n                            $Language.Orthographies = [\n                                ...$Language.Orthographies.slice(0, i),\n                                ...$Language.Orthographies.slice(i + 1)\n                            ];\n                        }}\n                    >Delete</button>\n                {/if}\n            {/each}\n\n            <button\n                class=\"hover-highlight hover-shadow\"\n                on:click={() => {\n                    $Language.Orthographies = [\n                        ...$Language.Orthographies,\n                        {\n                            name: `New Orthography ${$Language.Orthographies.length}`,\n                            font: 'Gentium',\n                            root: 'ipa',\n                            lect: $Language.Lects[0],\n                            rules: '',\n                            display: true,\n                            typesetter: 'font'\n                        }\n                    ];\n                }}\n            >New Orthography</button>\n        </div>\n        <div class=\"column container scrolled\" style:height=92vh>\n            <select bind:value={selectedOrtho}>\n                {#each $Language.Orthographies as orthography}\n                    <option value={orthography.name}>{orthography.name}</option>\n                {/each}\n            </select>\n            <label>Test Input\n                <textarea bind:value={testInput} rows=6/>\n                {#if $Language.Orthographies.find(o => o.name === selectedOrtho)?.typesetter === 'graphemy'}\n                    <button on:click={async () => {\n                        graphemyOutput = await graphemify(\n                            $Language.Orthographies.find(o => o.name === selectedOrtho)?.font,\n                            (() => {\n                                const settings = parseRules($Language.Orthographies.find(o => o.name === selectedOrtho)?.rules || '');\n                                return applyRules(settings.rules, testInput, settings.categories);\n                            })(),\n                            $Language.Orthographies.find(o => o.name === selectedOrtho)?.name,\n                        );\n                    }}>Generate SVG</button>\n                    <br>\n                    <div>\n                        {@html SVGData}\n                    </div>\n                {:else}\n                    <textarea\n                        rows=6\n                        style:background-color=transparent\n                        style:font-family={$Language.Orthographies.find(o => o.name === selectedOrtho)?.font || 'Gentium'}\n                        value={(() => {\n                            const settings = parseRules($Language.Orthographies.find(o => o.name === selectedOrtho)?.rules || '');\n                            return applyRules(settings.rules, testInput, settings.categories);\n                        })()}\n                        readonly\n                    />\n                {/if}\n            </label>\n            <br>\n            <br>\n            <label>Change Orthography\n                <div class=\"narrow\">\n                    Pattern: <input type='text' bind:value={orthographyReplacement.pattern}/>\n                    Replacement: <input type='text' bind:value={orthographyReplacement.replacement}/>\n                    <button on:click={\n                        () => {\n                            for (let word in $Language.Lexicon) {\n                                if (word.includes(orthographyReplacement.pattern)) {\n                                    try {\n                                        let newWord = '#' + word + '#'\n                                        let pattern = orthographyReplacement.pattern.replaceAll('^', '#')\n                                        newWord = newWord.replaceAll(pattern, orthographyReplacement.replacement)\n                                        $Language.Lexicon[newWord] = $Language.Lexicon[word];\n                                        delete $Language.Lexicon[word];\n                                        orthographyChangeEndMessage = 'Change applied successfully.';\n                                    } catch (e) {\n                                        console.log(e);\n                                        orthographyChangeEndMessage = 'An error occurred while applying the change. Please contact the developer for assistance and check the console.';\n                                    }\n                                }\n                            }\n                        }\n                    }>Apply</button>\n                    <span style:color=red>{orthographyChangeEndMessage}</span>\n                </div>\n            </label>\n\n        </div>\n    </div>\n</div>\n","<script lang='ts'>\n    import { markdownToHtml } from \"../utils/markdown\"\n    const wikiInfo = {\n        \"Lexicon\": \"# The Lexicon Tab\\nWhen you first open Lexicanter, youll find yourself on the Lexicon tab. This is the place where you will be adding words to your lexicon. This tab is composed of three panels: the alphabet panel, the editor panel, and the lexicon panel itself.\\n\\n## The Alphabet Panel\\nUnder the tab navigation at the top of the app, youll see two checkboxes and the alphabet text input.\\n### Alphabet Settings\\n- Case Sensitivity will make letters case sensitive making the app alphabetize A differently for a, for example.\\n- Ignore Diacritics is on by default and turning it off will make the app alphabetize a separately from .\\n### The Alphabet\\nThe alphabet field is where you organize the alphabet of your conlang. This will determine the order of your words in the lexicon. Any letters or symbols you use in your words can be added here and will alphabetize the lexicon according to the order you write here. Each alphabetization token should be separated by a space: this way, it is possible to alphabetize multi-character tokens (ie 'sh') separately from single-character tokens and other multi-character tokens (ie 's', 'sz'). \\n\\n## Editor Panel\\nBelow the Alphabet panel we have the Editor panel on the left, where you can add new words and edit existing words.\\nIn the Editor panel, youll see three text boxes when using the default settings. There are some advanced settings which alter the appearance of this tab, which you can read about on other pages in this wiki. \\n### New Word & Pronunciation\\nThe text box under New Word is where you type your new words. The intention is that you use your romanized orthography here, although technically this is not necessary. Under this text box is where the pronunciation will automatically fill in. Lexicanter automatically updates pronunciations in your lexicon based on rules you can specify in the Phonology tab. See [Pronunciation Rules](https://github.com/Saturnine-Softworks/Lexicanter/wiki/Pronunciation-Rules) to read up on how to write these. \\n### Irregular Pronunciations\\nIf the pronunciation is manually altered, it will not automatically update unless the word itself is edited, so keep this in mind when making manual changes.\\n\\n### Definitions and Senses\\nThe next text field is for the definition of the word. If the word has multiple definitions, you may write all of them in this first text box if you wish; however, Lexicanter offers a way you can format multiple definitions separately. By clicking the Add Sense button, you can create another set of text boxes for another definition and its tags. \\n\\n### Tags\\nTags are a useful way to organize and filter through the words in your lexicon, and they can also be utilized by advanced users for setting up automatic inflection tables. Each sense of a word is allowed to have its own set of tags. Tags are arbitrary space-separated terms which will appear above the sense definition in the lexicon, and can be searched by. One advantage to using multiple senses for separate definitions is that they can each have their own tags. \\n\\n## Lexicon Panel\\n### Adding and Editing Words\\nClicking the Add Word button will add your new word to the lexicon on the right.\\nIf you attempt to add a word that already exists, you will be given the option to overwrite or append the definition to the existing word. To edit the word, right-click on it in the lexicon panel. \\n\\n### Searching\\nIn the lexicon panel, there are three text boxes along the top. These are the lexicons search functions. You can search the lexicon for specific words, definitions, and tags. \\n\\nThere are some special functions which can be applied to help find specific entries. The character `^` means *word boundary*. \\nSearching for `^an` will only show results which *start* with 'an', and searching `an^` will only show results that *end* with 'an'. Just searching 'an' will show results which have 'an' anywhere in the word. \\nIn both the tags and definition searches, you can prefix your search with `!` to only show results which have your search term as a whole word. For example, searching for the tag `culture` will also show words tagged 'agriculture' and 'horticulture', but searching for `!culture` will only show words tagged 'culture'. \\n\",\n        \"Phrasebook\": \"# Phrasebook Tab\\nLexicanters Phrasebook feature allows you to add phrases with all the features of the main Lexicon. When opening the Phrasebook tab, youll see three panels. At the left are the Categories where you can organize your phrases; to the right is where your phrases will be displayed depending on what category is selected; and at the bottom is where you can add and edit phrases.\\n\\nWhen adding new phrases, it functions the same as the Lexicon tab. On the bottom left, when the phrase is added it will have pronunciation rules applied automatically. You can add the definition and tags to organize it even further. Under that is a fourth textbox to enter the category of the phrase. This can be a single or multi-word phrase. If you are already viewing the phrases in a category, this text box will be filled in for you.\\n\\nOn the right side of the phrase editor panel, you can add variants - or other versions - of the new phrase. You can add as many variants as needed.\\nThe Add Phrase button will add the new phrase, as well as the category if it is not already present.\\nOn the top right panel, there are search functions just like in the Lexicon tab and can be used to search the Phrasebook.\\n\",\n        \"Documenting\": \"# The Documentation Tab\\nWhen you first open the Documentation tab, youll notice that it is empty save for a single line of text and a `+` on the far right. This tab can be used to add details about your conlang using text and tables. When you click on the `+`, youll see three options: Text, Heading, and Table. Clicking any of these will create the corresponding block section.\\n\\n## Tools for Documenting Your Language\\n### Headings\\nA heading will place your cursor and all you need to do is type. A large, bold font will be used by default. To the left of that new text, youll see a `+` and a new button with 6 dots. Clicking this will give you the option to fine tune that section of text. You can change the heading type, move it up or down and delete it entirely.\\n\\n### Paragraphs and Formatting\\nClicking the `+` again will give you the options for other sections to add, such as a paragraph section. Additionally, in any type of block, you can highlight text to apply a range of styles to it, such as italics, bolding, underlining, and hyperlinking. If you wish to have linebreaks within the same paragraph block, you can press Shift+Enter. Pressing Enter alone will make a create a new paragraph block.\\n\\n### Tables\\nThe last type of section to add is the table. When you first add it, there will be three rows and three columns. You can click the `+`s just right and to the bottom of the table to add new rows or columns. Hovering over a specific table cell will bring up a button with 4 dots, which can be used to add rows above/below, columns to the left/right or to delete an entire row or column. For fine tuning the table, you have two different options along with the standard move up/down and delete: 'With headings' and 'Without headings'. By default, the table is set to 'Without headings'. Selecting 'With headings' will make the text in the top row of cells bold, and add a slightly thicker border to the bottom of that row.\\nTo navigate rows and columns within the table, you can use the arrow keys to go left and right, the Enter key to go directly down, or simply click in the cell you want to edit.\\n\",\n        \"Pronunciation Rules\": \"# The Sound Change Engine\\nLexicanter uses a custom-built sound change engine to allow you to configure automatic orthography to phonetic notation conversion.\\n\\nIf you're not familiar with sound change appliers, you might be lost here, and if you *are* familiar with sound change appliers, you might be wondering how such a thing is supposed to be used to convert your romanization to IPA. In any case, let's start from the beginning. \\n\\n## The Basics\\n### Defining Rules\\nLet's say you write the phoneme // as th. To convert your *orthograph* th to *phonetic notation* //, we can use a rule. \\n```\\nth > \\n```\\n### Using Contexts\\nThis is straightforward enough. th becomes //. But what if // only occurs before front-vowels, and everywhere else it's /t/. How would we write a rule to accomodate for this? One way is to use a *context*. \\n```\\nth >  / _e\\nth >  / _i\\nth > t\\n```\\n### Anonymous Categories\\nNow we're telling it only to turn th into // if it comes before /e/ or /i/. But this is a little bulky; we can condense these rules. \\n```\\nth >  / _{e, i}\\nth > t\\n```\\nThese two rules do the exact same thing as the last set, but now we're using an *anonymous category* `{e, i}` to mean 'either e or i'. \\n### Named Categories\\nBut let's say we have several rules which make use of the same anonymous category:\\n```\\nth >  / _{e, i}\\nth > t\\nc > s / _{e, i}\\nc > k\\ng >  / _{e, i}\\n```\\nWe can avoid writing `{e, i}` a bunch of times by defining a *named category*. \\n```\\nE :: e, i\\nth >  / _E\\nth > t\\nc > s / _E\\nc > k\\ng >  / _E\\n```\\nThat's a little better. \\n### Category Conversion\\nBut several of these rules are very similar. There's something we can do about that:\\n```\\nE :: e, i\\n{th, c, g} > {, s, } / _E\\n{th, c} > {t, k}\\n```\\nWe can create anonymous categories of equal length on both sides of the conversion in order to convert between them. We can also do this with named categories, if we prefer:\\n```\\nP :: th, c, g\\nF :: , s, \\nK :: t, k, g\\nE :: e, i\\nP > F / _E\\nP > K\\n```\\nThis takes up a few more lines, but now we can re-use these named categories in further rules should we need to. \\n\\n## Advanced Usage\\nNow that we understand the basics, let's look at how Lexicanter's sound change engine can deal with common and important edge cases.\\n\\n### Alternate Rule Formats\\nBefore we get into those, though, let's briefly talk about the rule format. On this page, I've been using the formats\\n```\\npattern > substitution\\npattern > substitution / context\\n```\\nIn the first case, the implicit context is just `_`, or 'always'. \\nBut many of you may be familiar with another standard sound change notation format:\\n```\\npattern/substitution/context\\n```\\nLexicanter accepts rules written this way as well. In fact, all of the following are valid and will be accepted:\\n```\\npattern>substitution\\npattern / substitution\\npattern/substitution / context\\npattern  > substitution/context\\n```\\nThe rule parser ignores all spaces, and the implicit 'always' context shorthand can be done with either `>` or `/` rules.\\n\\n### Word Boundaries\\nOften times, the pronunciation of a grapheme changes depending on whether or not it's at the beginning or end of a word. Lexicanter reserves two symbols for this purpose: `^` and `#`. Both of them have the exact same purpose, and which one you use is a matter of personal preference. I'll be using `^`. \\n\\nTurn e into // at the end of words:\\n```\\ne >  / _^\\n```\\nTurn y to // at the beginning of words:\\n```\\ny >  / ^_\\n```\\n\\n### Exceptions\\nSometimes a grapheme has a pronunciation in all except a specific case. \\nFor example, this rule turns all x into /ks/ as long as they are preceded by anything except /e/ or /i/:\\n```\\nx > ks / {!e, i}_\\n```\\nNote that this does assume `{!e}` must be *some* character, just not the ones in the group. If you would like to make this rule also apply at word boundaries, you can write it as so:\\n```\\nx > ks / {^, {!e, i}}_\\n```\\nor write it as two rules:\\n```\\nx > ks / {e, i}_\\nx > ks / ^_\\n```\\nThere are usually multiple ways to get things to happen. \\n\\n### Wildcards\\nSometimes, you just need to specify *any character at all* must be in a certain position. For that, another character is reserved: `.`.\\nThe following rules turns h to // when it comes before /u/ and two other character:\\n```\\nh >  / _u..\\n```\\nOther times, you may need to specify that any number of certain characters can appear. Two more symbols are reserved: `*` for 0 or more and `+` for 1 or more. \\nThe following rule turns y to /i/ when it comes before any number of optional /d/ and at least one /o/ before the end of a word:\\n```\\ny > i / _ d* o+ ^\\n```\\nThese two symbols can also be used with categories. Note that the spaces here will be ignored and are just for readability; the parser ignores all spaces.\\n\\n### Optional Members\\nThere is also a way to specify that something is optional without necessarily being allowed to repeat indefinitely. The character `?` is reserved for this.\\nThe following rule changes n to // before a single optional /g/ or /k/ followed by the end of the word. \\n```\\nn >  / _ {g, k}? ^\\n```\\nAs you can see, this works with categories as well. \\n\\n### Reduplication\\nIn rare cases, a grapheme or sequence of graphemes may always be pronounced multiple times. For these cases, we can use `_` in the substitution to represent the entire captured pattern.\\nThis is also useful in some cases for auto-inflection rules. \\nThe following rule turns /er/ into /erer/ wherever it comes in the middle of a word:\\n```\\ner > __ / ._.\\n```\\n\\n### Prefixes & Suffixes\\nWhen writing rules for auto-inflections, you may need to add prefixes and suffixes to a word. You can write such rules using an insertion format. (For these, `#` typically looks better than `^`). \\nAdds a suffix:\\n```\\n/ate/._#\\n```\\nAdds a prefix:\\n```\\n/eta/#_.\\n```\\nAlternatively, you can replace the word boundary itself. Equivalent to the rules above:\\n```\\n# > ate / ._\\n# > eta / _.\\n```\",\n        \"Word Generator\": \"# Generator Modes\\nThe word generator in this app has two modes. The first is designed to be as straightforward as possible, while the second mode is more complex, but also much more powerful.\\n\\n## Basic Phonotactics\\nThere are fields for what consonants and clusters can go word-initially, medially, finally, as well as vowels and polyphthongs are available, and what sounds should never appear next to one another. The Trial Words field will try to autocomplete a word as you type based on those simple rules, and the Generate Words button will make around 24 fresh words. \\n\\n## Advanced Phonotactics\\nAt the top of the word generator, there is a checkbox labelled Use Advanced Phonotactics. Checking it will switch the UI below it to an entirely different set-up (this does *not* delete any information you have in the default fields).\\n\\n### Categories\\nThe first of these new fields is the Categories field. Here, you can define groups of sounds as you wish. The format is as follows in this example:\\n```\\nC:: m n p b t d k g f v l r th sh\\nV:: a e i o u ai au ei eu oi ou\\n```\\nNote that each token is space-separated, unlike categories in the pronunciation rules (which are comma-separated). You can have multiple-character length tokens here. It's up to you whether to use IPA or your romanization/other orthography here.\\n\\n### Syllables\\nThe next field is for defining, as you might guess, syllables. There are two ways you can do this. The first way is to simply write out all the allowed syllables line by line, such as\\n```\\nV\\nCV\\nClV\\nCVC\\nClVC\\n```\\nNote that non-category symbols used here are interpreted literally (the `l`'s in the above example will actually just be `l`'s).\\n\\nThe second way is to define categories of syllables: this will be useful for the next step, so we'll try that out. \\n```\\nS:: V CV ClV\\n1:: o Co a Ca\\n2:: ete Cete Clete\\n```\\n\\n### Structures\\nWords in your language usually aren't actually allowed to freely follow generic phonotactic rules. You usually have some sort of morphological rules as well, such as all verbs having specific endings, nouns genders being marked, et cetera. Structures allow you to fully control how syllables are put together to form words. Let's start with a set for nouns that all end in `o` or `a`. \\n```\\nS1 SS1 SSS1\\n```\\nThat's it, for this simple example. All of the generated words will be 2 to 4 syllables and end in `o` or `a`. Let's now add a new set of structures by clicking the Add Set button and create a set for our verbs. \\n```\\n1S2 1SS2 1SSS2\\n```\\nIn this hypothetical language, all verbs start with a gendered prefix and end with `-ete`. Now we can generate that.\\n\\nLet's say we only want to have one of these sets active at a time. You can click on the checkboxes next to each set to toggle them, and when you click the Generate Words button, only the structures in enabled sets will be selected from. If you create too many sets, the `-` button next to each one will delete it. You can't delete your last set, but if all of your structure sets are empty or disabled, the word generator will just construct 1-4 syllable words composed of random syllable types from your syllables field. \\n\\n### Illegals\\nIf there are specific sounds that should never appear next to each other, this is the place to specify those.\\n```\\nji wu mn ou ao\\n```\\nAgain, space-separated tokens. \\n\\nBecause it's possible to accidentally (or perhaps intentionally) ban *all* of your syllables this way, the app will only try to come up with a word that doesn't have any illegals in it 20 times. If it fails, it will show `[  ]`. If you see this show up when you try to generate words, it means that it tried and failed to generate a legal word 20 times.\",\n        \"Lects\": \"# What is a 'Lect'? \\nThe term 'lect' refers agnostically to any kind of variation of a language that may be classified as a dialect, ethnolect, regiolect, cryptolect, idiolect, et cetera. Lexicanter offers a suite of features which make it easier to document your language's various lects, should you have any. \\n\\n## Adding, Removing, and Renaming\\n### Adding\\nAdding new lects can always be done safely, as adding a new lect does not change the contents of the lexicon. When you add a lect, you will be prompted to name it. Then its name will appear in a list under the other lect-related settings, with three buttons. One of these is for deleting the lect, one of these is for renaming the lect, and one of these has a special purpose: adding all words in your lexicon to this lect. This is a useful features if you create a new lect midway through developing your language which should have all or most of the existing words. \\n\\n### Renaming\\nRenaming lects can also always be done safely, as this does not actually change the contents of the lexicon aside from the name which appears next to options and information related to the changed lect.\\n\\n### Removing\\nRemoving lects *does not* delete the words which were assigned to that lect, but it *does* delete any pronunciations and the pronunciation rule set associated with that lect. You cannot delete the last remaining lect; there must always be at least one. Even when lect features are disabled, the app uses a lect named 'General' under the hood. \\n\\n## Phonetics & Semantics\\n### Lect-Specific Pronunciation Rules\\nThis is likely the main reason you would want to use the lect features. Each lect can have it own set of pronunciation rules, which you can write by selecting the lect from the dropdown which appears over the Pronunciations text field in the Phonology tab. To learn more about writing pronunciation rules, see the [Pronunciation Rules](https://github.com/Saturnine-Softworks/Lexicanter/wiki/Pronunciation-Rules) page. \\n\\n### Lexicon and Phrasebook\\nIn both of these tabs, a new set of checkboxes will appear in the entry editor panel. In the Lexicon, this set of checkboxes appears for every *sense* of a word; in the phrasebook, you have this option for each *phrase*.\\nChecking these boxes assigns that sense/phrase to that lect. A new pronunciation field will appear for each lect which is selected, and will be auto-filled using the pronunciation rules assigned to that lect. All of a word or phrase's pronunciations will appear beneath it in the lexicon/book. This way, you can include words and phrases which only appear in specific lects. \\n\",\n        \"Etymology\": \"# Creating Etymology Trees\\nWhen you enable Etymology Features under Advanced Settings, Lexicanter will reveal to you a new tab called *Etymology* and slightly change the appearance of entries in the lexicon. These features are a powerful and convenient way to document the lineages of your language's words. \\n\\n## The Etymology Tab\\nYou'll be greeted by a small panel on the left with a search bar and two lists, labelled *Internal* and *External*. If this is your first time opening this tab, *External* is probably empty. We'll get back to that. \\n\\n*Internal* will be populated by a list of all of the words in your lexicon. If you click on one of these, you'll see the large panel on the left is updated. The word you clicked on will appear floating in the upper-middle of the panel, and its lexicon entry will appear slightly below. Further below, there are two columns, labelled *Ancestors* and *Descendants*, each with a checkbox labelled *Manual Entry*, unticked by default, and below that, a blank dropdown.\\n\\n### Editing Ancestor and Descendant Tethers\\nWhen you click on either of those dropdowns, you'll be greeted with, once again, your entire lexicon. You should be able to use the keyboard to navigate this list, but since some lexicons can be massive and overwhelming, the search field at the top of the left-hand panel narrows down not only the list in that column, but also the lists you see in the dropdowns on this tab. \\nAfter selecting a word from your lexicon, pressing the *Link* button will link the currently selected word to the ancestor/descendant word. As you add more ancestors and descendants, you'll see how the tree graph is drawn in this panel. \\nTo remove a word from another words ancestors/descendants, find it in the list which appears in the respective column and click the *Sever* button to sever the tie. \\n\\n### Manual Entry\\nIn many cases, you'll need to link to a word which is not in your lexicon. It may be from an ancestor language, or even from an unrelated language. For these cases, you can enable *Manual Entry*. \\nWhen Manual Entry is enabled, you will see two text fields instead of a dropdown. The first of these text fields is for the related word itself, and the other text field is for specifying the *source* that is, what language the word comes from. \\nWhen you create entries this way, they will appear in the *External* list in the left-hand panel. External words also appear in the drop-downs after they are created. \\n\\n### Removing Etymology Entries\\nWhen a word is selected, but it has no ancestor or descendant tethers, a button will appear that allows you to delete the entry altogether. \\nFor words in your lexicon, this will *not delete the word from your lexicon* - it will simply clear the space for its etymology data out of the file data. This has no permanent effect, as you can select the word from the list to create its etymology entry again, but it may help to put at ease those of you who are particularly conscious about your file sizes. \\nFor external entries, this *will delete* the entry altogether. This is how you can remove words from the *External* list in the left-hand panel. \\n\\n## Importing Related Lexicons\\nWhen Etymology features are enabled, another option will appear in the Advanced Settings section: a button which allows you to import related lexicons. Using this button, you can select another Lexicanter file to import a lexicon from. The entirety of the lexicon will be saved to your *External* etymology entries. You can manage the external lexicons in your file under Advanced Settings.\\n\\n## Lexicon Appearance Changes\\nOn every lexical entry which is part of an etymology tree, a short, simplified version of that word's ancestry will appear beneath its senses. This makes it easy to see a word's history at a glance when viewing your lexicon. \\n\",\n        \"Inflections\": \"# Inflection Features\\nLexicanter offers a way to expand your lexical entries with inflection information automatically generated from sound change rules.\\nIt's a useful feature for generating verb conjugation tables, noun declension tables, and the like. This feature must be enabled under\\nAdvanced Settings.\\n\\n## The Inflection Tab\\nWhen you first open this tab, there will be a single button which reads 'Add Inflection Group'.\\nWhen you click on this, an inflection group editor will be created. It has two text fields: the first is labelled 'Tags',\\nand the second is labelled 'RegEx Filter' and should be pre-populated with `.+`. Below that, there will be a block-based\\neditor similar to what is used in the Documentation tab.\\n\\n### Tags\\nThe tags you assign to an inflection group should correspond to tags that you use in the lexicon. For example, if this inflection\\ngroup is for verbs and you've marked verbs in the lexicon with the tag `verb`, you should put that tag here. The inflection group \\nwill only be applied to lexical entries with tags that match the inflection group's own tags. You can use multiple tags if you wish, \\nand the inflection group will be applied to any entry that has at least one of those tags. \\n\\n### RegEx Filter\\nYou can write a regular expression to filter which words the inflection group is applied to even further. If you're unfamiliar with regular \\nexpressions, you can read up on them [here](https://www.regular-expressions.info). Some basic patterns will be described here. \\nAs an example, let's say that, like in Spanish, your verbs end in -ar, -er, and -ir, and there is a different set of conjugations depending \\non which ending the verb has, but in the lexicon, each kind of verb has the same 'verb' tag. You can target your inflection group toward only \\n-ar verbs by writing the following RegEx filter:\\n```regex\\n^.+ar$\\n```\\nNow this inflection group will only apply to words which have the 'verb' tag *and* end in -ar.\\n\\n### Editor\\nYou can write whatever you want in the editor. You have headings, paragraphs, tables, and document markup at your disposal. However, \\nthere is a key difference between this and the Documentation tab editor: the app will check through the table cells of all tables in your \\ninflection group when it applies the inflection group to a word, and if the table cell has a sound change rule in it, it will replace the\\ncontents of that cell with the word and apply the rule to it. So for example, if a table has a cell in it with the rule\\n```\\nar > o / _^\\n```\\nThen in the lexicon tab, on the word *hablar*, that cell will be replaced with 'hablo'. Cells which do not have `/` or `>` in them are ignored. \\nTo learn more about writing sound change rules in Lexicanter, read the \\n[Pronunciation Rules](https://github.com/Saturnine-Softworks/Lexicanter/wiki/Pronunciation-Rules) page. \\n\\n## In the Lexicon\\nAfter creating inflection groups, a dropdown labelled 'Inflections' will appear in the lexical entries underneath the senses to \\nwhich that inflection group applies. \\n\\n## Agenda\\nSeveral improvements are planned for the Inflections features, including a way to specify irregulars and a UI-based way to filter \\nwords instead of requiring the user to manually write RegEx filters (although that will remain an option for advanced users). \\n        \",\n    }\n    const pages = Object.keys(wikiInfo)\n    let page = pages[0]\n</script>\n<div class=\"tab-pane container\" style:height=92vh>\n    <div class=\"row\" style:height=100%>\n        <div class=\"column\" style:max-width=9vw>\n            {#each pages as p}\n                <div class=\"lex-entry\"\n                    class:selected={p === page}\n                    on:mousedown={() => page = p}\n                > {p} </div>\n            {/each}\n        </div>\n\n        <div class=\"column scrolled\" style:height=100% style:text-align=left style:margin=3em style:margin-top=0em>\n            {@html markdownToHtml(wikiInfo[page])}\n        </div>\n    </div>\n</div>\n","<script lang='ts'>\n    import type * as Lexc from '../../types';\n    import { referenceLanguage } from '../../stores';\n    import { alphabetize } from '../../utils/alphabetize';\n    import LexEntry from '../LexEntry.svelte';\n    let Language: Lexc.Language;\n    let alphabetized: string[];\n    $: {\n        Language = $referenceLanguage as Lexc.Language;\n        alphabetized = alphabetize(Language.Lexicon);\n    };\n\n    let searchWords: string = '';\n    let searchTags: string = '';\n    let searchDefinitions: string = '';\n    let lectFilter: string = '';\n    let filtered_lex: Lexc.Lexicon = {};\n\n    function search_lex() {\n        filtered_lex = {};\n        for (let word in Language.Lexicon) {\n            if (`^${word}^`.toLowerCase().includes(searchWords.toLowerCase())\n                && Language.Lexicon[word].Senses.some(sense => sense.tags.join('^').toLowerCase().includes(searchTags.toLowerCase()))\n                && Language.Lexicon[word].Senses.some(sense => sense.definition.toLowerCase().match(new RegExp(searchDefinitions.replaceAll('^', '\\\\b'), 'gi')))\n                && (lectFilter === '' || Language.Lexicon[word].Senses.some(sense => sense.lects.includes(lectFilter)))\n            ) {\n                filtered_lex[word] = Language.Lexicon[word];\n            }\n        }\n        alphabetized = alphabetize(filtered_lex);\n    }\n\n</script>\n\n<div class='row'>\n    <div class=\"column search-container\">\n        {#if !searchWords}\n                <label for=\"ref-search-wrd\" style=\"position: absolute; top: 0.5em; left: 1em\">Search by word</label>\n        {/if}\n        <input id=\"ref-search-wrd\" type=\"text\" class=\"search\" bind:value={searchWords} on:input={search_lex}/>\n    </div>\n    <div class=\"column search-container\">\n        {#if !searchTags}\n                <label for=\"ref-search-tag\" style=\"position: absolute; top: 0.5em; left: 1em\">Search by tags</label>\n        {/if}\n        <input id=\"ref-search-tag\" type=\"text\" class=\"search\" bind:value={searchTags} on:input={search_lex}/>\n    </div>\n</div>\n<div class=\"row\">\n    <div class=\"search-container column\">\n        {#if !searchDefinitions}\n            <label for=\"ref-search-def\" style=\"position: absolute; top: 0.33em; left: 1em\">Search definitions</label>\n        {/if}\n        <input id=\"ref-search-def\" type=\"text\" class=\"search\" bind:value={searchDefinitions} on:input={search_lex}/>\n    </div>\n    {#if Language.UseLects}\n        <div class=\"column\">\n            <label>Filter by lect: \n                <select bind:value={lectFilter}>\n                    <option value=''>All</option>\n                    {#each Language.Lects as lect}\n                        <option value={lect}>{lect}</option>\n                    {/each}\n                </select>\n            </label>\n        </div>\n    {/if}\n</div>\n\n<div class=\"scrolled\" style=\"height: 88%\">\n    {#each alphabetized as word}\n        <LexEntry {word} \n            source={Language.Lexicon[word]} \n            showInflections={Language.ShowInflection}\n            showEtymology \n        />\n    {:else}\n        <p class=\"info\" id=\"ref-lex-body\">The lexicon of {Language.Name} is empty.</p>\n    {/each}\n</div>\n\n","<script lang='ts'>\n    import { referenceLanguage } from '../../stores';\n    import type { Language, Lexicon } from '../../types';\n    import Tree from '../Tree.svelte';\n    import LexEntry from '../LexEntry.svelte';\n    import { alphabetize } from '../../utils/alphabetize';\n    let Language = $referenceLanguage as Language;\n    $: Language = $referenceLanguage as Language;\n\n    let selectedEntry: string = '';\n\n    interface Node {\n        name: string;\n        children: { name: string, source: string }[];\n        parents: { name: string, source: string }[];\n    }\n    function createTreeData(): Node {\n        // find all the parents of selectedEntry\n        const parents: string[][] = [];\n        Object.keys(Language.Etymologies).forEach(entry => {\n            if (entry === selectedEntry) return;\n            if (Language.Etymologies[entry].descendants.some(descendant => descendant.name === selectedEntry)) {\n                const source: string = Language.Etymologies[entry].source === '<< THIS LANGUAGE >>'? Language.Name : Language.Etymologies[entry].source;\n                parents.push([\n                    entry,\n                    source\n                ]);\n            }\n        });\n        // find all the children of selectedEntry\n        const children: string[][] = [];\n        if (selectedEntry in Language.Etymologies) \n            Language.Etymologies[selectedEntry].descendants.forEach(descendant => {\n                children.push([\n                    descendant.name, \n                    descendant.source === '<< THIS LANGUAGE >>'? Language.Name : descendant.source\n                ]);\n            });\n\n        // create the tree data\n        return {\n            name: selectedEntry,\n            children: children.map(child => { return {name: child[0], source: child[1]} }),\n            parents: parents.map(parent => { return {name: parent[0], source: parent[1]} })\n        };\n    }\n\n    let tree: Node;\n    let width: number; let height: number;\n    $: {\n        Language; selectedEntry;\n        tree = createTreeData();\n        width = window.innerWidth * .82 * .33;\n        height = window.innerHeight * .5\n    }; \n    let externalAlphabetized: string[];\n    let alphabetized: string[];\n    $: {\n        Language;\n        (() => {\n            const lexicon: Lexicon = {};\n            Object.keys(Language.Relatives).forEach(lexicon_name => {\n                Object.keys(Language.Relatives[lexicon_name]).forEach(entry => {\n                    if (!(entry in Language.Lexicon)) lexicon[entry] = Language.Relatives[lexicon_name][entry];\n                });\n            });\n            Object.keys(Language.Etymologies).forEach(entry => {\n                if (!(entry in Language.Lexicon)) lexicon[entry] = { Senses: [], pronunciations: {} };\n            });\n            externalAlphabetized = alphabetize(lexicon);\n            alphabetized = alphabetize(Language.Lexicon);\n        })();\n    }\n</script>\n\n<select bind:value={selectedEntry}>\n    <optgroup label='Internal'>\n        {#each alphabetized as entry}\n            <option value={entry}>{ entry }</option>\n        {/each}\n    </optgroup>\n    <optgroup label='External'>\n        {#each externalAlphabetized as entry}\n            <option value={entry}>{ entry }</option>\n        {/each}\n    </optgroup>\n</select>\n\n<Tree\n    {tree}\n    {width}\n    {height}\n    on:select={e => selectedEntry = e.detail}\n/>\n{#if selectedEntry in Language.Lexicon}\n    <LexEntry \n        word={selectedEntry} \n        source={Language.Lexicon[selectedEntry]} \n        showInflections={Language.ShowInflection}\n        showEtymology\n    />\n{/if}\n","<script lang='ts'>\n    import { referenceLanguage } from '../../stores';\n    import { initializeDocs } from '../../utils/docs';\n    import type { Language } from '../../types';\n    let Language = $referenceLanguage as Language;\n    $: Language = $referenceLanguage as Language;\n    initializeDocs(Language.Docs, 'ref-docs');\n</script>\n<div id=\"ref-docs\" \n    class=\"row text-center\" \n    style=\"\n        height: 92vh; \n        overflow-y: auto; \n        font-family: Gentium\n    \"\n></div>\n","<script lang='ts'>\n    import { referenceLanguage } from '../../stores';\n    import type { Language } from '../../types';\n    import { get_pronunciation } from '../../utils/phonetics';\n    let Language = $referenceLanguage as Language;\n    $: Language = $referenceLanguage as Language;\n    let selectedLect = Language.Lects[0];\n    let testString = '';\n</script>\n<div class='scrolled' style='height: 100%'>\n    <label>Pronunciations\n        <select bind:value={selectedLect}>\n            {#each Language.Lects as lect}\n                <option value={lect}>{lect}</option>\n            {/each}\n        </select>\n    </label>\n    <textarea rows='12' class='pronunciation text-left' value={Language.Pronunciations[selectedLect]} readonly/>\n    <textarea rows='2' bind:value={testString} />\n    <textarea rows='3' class='pronunciation' value={get_pronunciation(testString, selectedLect, Language)} readonly/>\n\n    <br><hr/><br>\n    <!-- svelte-ignore a11y-label-has-associated-control -->\n    {#each Object.entries(Language.Phonotactics.General) as [pos, phones]}\n        <label>{pos}\n            <p class='pronunciation'>{phones}</p>\n        </label><br>\n    {/each}\n</div>\n","<script lang='ts'>\n    import { referenceLanguage } from \"../../stores\";\n    import type { Language } from \"../../types\";\n    import PhraseEntry from \"../PhraseEntry.svelte\";\n    let Language = $referenceLanguage as Language;\n    $: Language = $referenceLanguage as Language;\n    let selectedCat = '';\n    $: selectedCat = Object.keys(Language.Phrasebook)[0];\n</script>\n\n{#if selectedCat !== undefined && selectedCat in Language.Phrasebook}\n    <div class=\"scrolled\" style=\"height: 100%\">\n        <label>Phrasebook\n            <select bind:value={selectedCat}>\n                {#each Object.keys(Language.Phrasebook) as cat}\n                    <option value={cat}>{cat}</option>\n                {/each}\n            </select>\n        </label>\n        {#each Object.keys(Language.Phrasebook[selectedCat]) as phrase}\n            <PhraseEntry {phrase} reference refCat={selectedCat}/>\n        {/each}\n    </div>\n{/if}\n","<script lang='ts'>\n    import { referenceLanguage } from '../../stores';\n    import type { Language } from '../../types';\n    let Language = $referenceLanguage as Language;\n    $: Language = $referenceLanguage as Language;\n    import EditorJS from '@editorjs/editorjs';\n    import Table from '@editorjs/table';\n    import Header from '@editorjs/header';\n    import Underline from '@editorjs/underline';\n    import { Monospace } from '../../utils/docs';\n    enum LogLevels { // REVIEW - monkeypatch gets around type check error, can't import this from @editorjs/editorjs/types for ...reasons.\n        VERBOSE = 'VERBOSE',\n        INFO = 'INFO',\n        WARN = 'WARN',\n        ERROR = 'ERROR',\n    }\n    let editors: EditorJS[] = [];\n\n    function writeEditors(exclude: number) {\n        for (let i = editors.length; i > 0; i--) {\n            editors[i-1].destroy();\n            editors.pop();\n        }\n        Language.Inflections.filter((_, j) => j !== exclude).forEach((inflection, i) => {\n            const config = {\n                holder: `ref inflection ${i}`,\n                data: inflection.tables,\n                tools: {\n                    underline: Underline,\n                    monospace: Monospace,\n                    table: {\n                        class: Table,\n                        inlineToolbar: true,\n                        config: {\n                            rows: 3,\n                            cols: 3,\n                            withHeadings: true,\n                        },\n                    },\n                    header: {\n                        class: Header,\n                        inlineToolbar: true,\n                    }\n                },\n                minHeight: 30,\n                logLevel: LogLevels.ERROR,\n                readOnly: true\n            }\n            const editor = new EditorJS(config);\n            editors.push(editor);\n        });\n    }\n\n    import { onMount } from 'svelte';\n    onMount(() => {\n        writeEditors(Infinity);\n    });\n</script>\n<div class=\"scrolled\" style=\"height: 100%\">\n    {#each Language.Inflections as inflection, i}\n        <div class=\"row\" style=\"width:66%\">\n            <div class=\"column\">\n                <!-- svelte-ignore a11y-label-has-associated-control -->\n                <label>Tags\n                    <div> <p class='lex-body'>{inflection.tags.join(' ')}</p> </div>\n                </label>\n                <!-- svelte-ignore a11y-label-has-associated-control -->\n                <label>RegEx Filter\n                    <div> <p class='lex-body'>/{inflection.filter}/</p> </div>\n                </label>\n            </div>\n            <div class=\"column\">\n                <label>Rule Categories\n                    <div>\n                        <textarea class=\"text-left pronunciation\" rows=\"3\" value={inflection.categories} readonly/>\n                    </div>\n                </label>\n            </div>\n        </div>\n        <div class='codex-editor' id={`ref inflection ${i}`} style='font-family: Gentium'></div>\n        <br><br>\n    {/each}\n</div>\n","<script lang='ts'>\n    const { ipcRenderer } = require('electron');\n    import { referenceLanguage } from '../stores';\n    import ReferenceLex from '../components/reffile/ReferenceLex.svelte';\n    import ReferenceTrees from '../components/reffile/ReferenceTrees.svelte';\n    import ReferenceDocs from '../components/reffile/ReferenceDocs.svelte';\n    import ReferencePhono from '../components/reffile/ReferencePhono.svelte';\n    import ReferenceBook from '../components/reffile/ReferenceBook.svelte';\n    import ReferenceInflect from '../components/reffile/ReferenceInflect.svelte';\n\n    const tab_btns = ['Lex', 'Etym.', 'Phrases', 'Inflect.', 'Phono.', 'Docs'];\n    const tabs = [ReferenceLex, ReferenceTrees, ReferenceBook, ReferenceInflect, ReferencePhono, ReferenceDocs];\n    let selectedTab = 0;\n\n    let version: string;\n    ipcRenderer.invoke('getVersion').then((v: string) => version = v);\n\n    let platform: string;\n    ipcRenderer.invoke('platform').then((p: string) => platform = p);\n</script>\n{#if typeof $referenceLanguage === 'object'}\n    <div class=\"button-container\">\n        <p class=\"version-info\">{version}-{platform} </p>\n        {#each tab_btns as tab, i}\n            {#if (tab !== 'Etym.' && tab !== 'Inflect.')\n                || (tab === 'Etym.' && $referenceLanguage.ShowEtymology)\n                || (tab === 'Inflect.' && $referenceLanguage.ShowInflection)\n            }\n                <button class:selected={selectedTab === i} class='hover-highlight tab-button'\n                    on:click={() => selectedTab = i}\n                > {tab}\n                </button>\n            {/if}\n        {/each}\n    </div>\n\n    {#each tabs as tab, i}\n        <div class:collapsed={selectedTab !== i}>\n            <div class=\"container\" style=\"height:92vh\">\n                <svelte:component this={tab}/>\n            </div>\n        </div>\n    {/each}\n{/if}\n","<script lang=\"ts\">\n    const { ipcRenderer } = require('electron');\n    const vex = require('vex-js');\n    vex.registerPlugin(require('vex-dialog'));\n    vex.defaultOptions.className = 'vex-theme-os';\n\timport Lexicon from './layouts/Lexicon.svelte';\n    import Etymology from './layouts/Etymology.svelte';\n\timport Phrasebook from './layouts/Phrasebook.svelte';\n\timport Phonology from './layouts/Phonology.svelte';\n    import Documentation from './layouts/Documentation.svelte';\n\timport File from './layouts/File.svelte';\n\timport Settings from './layouts/Settings.svelte';\n    import Changelog from './layouts/Changelog.svelte';\n    import { theme, autosave, selectedTab, Language, referenceLanguage } from './stores';\n    import { saveFile } from './utils/files'\n    import * as diagnostics from './utils/diagnostics'\n    import Inflection from './layouts/Inflection.svelte';\n    import Orthography from './layouts/Orthography.svelte';\n    import Wiki from './layouts/Wiki.svelte';\n    import Reference from './layouts/Reference.svelte';\n\n    // Debug block\n    $: {\n        // diagnostics.debug.logObj($Language, 'An update was made to the Language store', false);\n    }\n\n    const tabs     = [ Lexicon,   Etymology,   Phrasebook,   Inflection,   Phonology,   Orthography,   Documentation,   File,   Settings,   Changelog, Wiki]\n    const tab_btns = ['Lexicon', 'Etymology', 'Phrasebook', 'Inflection', 'Phonology', 'Orthography', 'Documentation', 'File', 'settings', 'history', 'help'];\n\n    /**\n     * This block listens for the 'app-close' event, which is sent by the main\n     * process, and if the user has autosave enabled, saves the file before\n     * closing the app. If the user does not have autosave enabled, it prompts\n     * the user to confirm that they want to exit. The 'close' event is sent\n     * to the main process when app exit is confirmed.\n     */\n    ipcRenderer.on('app-close', _ => {\n        if ($autosave) {\n                diagnostics.logAction('Autosaving before exit.');\n            saveFile().then(_ => {\n                window.setTimeout(() => ipcRenderer.send('close'), 1000); // Give time for the notification to show\n            });\n        } else {\n            if ( window.confirm('You may have unsaved changes. Are you sure you want to exit?') )\n                ipcRenderer.send('close');\n        }\n    });\n    let version: string;\n    ipcRenderer.invoke('getVersion').then((v: string) => version = v);\n\n    let platform: string;\n    ipcRenderer.invoke('platform').then((p: string) => platform = p);\n</script>\n\n<link rel=\"stylesheet\" href=\"{$Language.FileTheme === 'default'? $theme : $Language.FileTheme}\" />\n<link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\n\n<body id=\"body\" spellcheck=\"false\">\n    <div class='tab-container'>\n        <div class=\"row\">\n            <div class=\"column\" style={$referenceLanguage? 'width: 66%' : 'width: 100%'}>\n                <p class=\"window-control\">\n                    <button class=\"hover-highlight close material-icons\" on:click={() => ipcRenderer.send('buttonclose')}>close</button>\n                    <button class=\"hover-highlight minimize material-icons\" on:click={() => ipcRenderer.send('minimize')}>remove</button>\n                    <button class=\"hover-highlight maximize material-icons\" on:click={() => ipcRenderer.send('maximize')}>fullscreen</button>\n                </p>\n                <div class=\"button-container\">\n                    {#if !$referenceLanguage}\n                        <p class=\"version-info\">{version}-{platform} </p>\n                    {/if}\n                    {#each tab_btns as tab, i}\n                        {#if (tab !== 'Etymology' && tab !== 'Inflection' && tab !== 'Orthography')\n                            || (tab === 'Etymology' && $Language.ShowEtymology)\n                            || (tab === 'Inflection' && $Language.ShowInflection)\n                            || (tab === 'Orthography' && $Language.ShowOrthography)\n                        }\n                            <button \n                                class:selected={$selectedTab === i} \n                                class='hover-highlight tab-button'\n                                style={\n                                    ['settings', 'history', 'help'].includes(tab)\n                                        ? 'font-family: \"Material Icons\"; font-size: 1em; vertical-align: bottom; height: 1.8em;'\n                                        : ''\n                                }\n                                on:click={() => $selectedTab = i}\n                            > {tab} </button>\n                        {/if}\n                    {/each}\n                </div>\n                {#each tabs as tab, i}\n                    <div class:collapsed={$selectedTab !== i}>\n                        <svelte:component this={tab}/>\n                    </div>\n                {/each}\n            </div>\n\n            {#if $referenceLanguage}\n                <div class=\"column tab-pane reference\" style=\"width: 33%\">\n                    <Reference/>\n                </div>\n            {/if}\n\n        </div>\n    </div>\n</body>\n","import App from './app/App.svelte';\n\nconst app = new App({\n    target: document.body,\n});\n\nexport default app;\n"],"names":["noop","identity","x","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","not_equal","subscribe","store","callbacks","unsub","unsubscribe","get_store_value","value","_","component_subscribe","component","callback","$$","on_destroy","push","set_store_value","ret","set","action_destroyer","action_result","destroy","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","run_tasks","task","c","delete","f","size","append","target","node","appendChild","get_root_for_style","document","root","getRootNode","ownerDocument","host","append_empty_stylesheet","style_element","element","style","head","sheet","append_stylesheet","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","length","d","name","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","removeAttribute","getAttribute","setAttribute","to_number","set_data","set_input_value","input","set_style","key","important","removeProperty","setProperty","select_option","select","mounting","option","__value","selected","undefined","selectedIndex","select_value","selected_option","querySelector","toggle_class","toggle","classList","custom_event","type","detail","bubbles","cancelable","e","createEvent","initCustomEvent","HtmlTag","constructor","is_svg","this","n","html","h","m","nodeName","nodeType","t","tagName","content","innerHTML","Array","from","childNodes","p","construct_svelte_component","props","managed_styles","Map","current_component","active","create_rule","duration","delay","ease","uid","step","keyframes","rule","str","hash","charCodeAt","doc","stylesheet","rules","get","info","create_style_information","insertRule","cssRules","animation","delete_rule","previous","split","next","filter","anim","indexOf","deleted","join","ownerNode","clear","set_current_component","get_current_component","Error","onMount","on_mount","createEventDispatcher","slice","call","defaultPrevented","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","add_flush_callback","seen_callbacks","promise","flushidx","flush","saved_component","update","pop","has","add","fragment","before_update","dirty","ctx","after_update","dispatch","direction","kind","dispatchEvent","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","o","null_transition","create_bidirectional_transition","params","intro","config","running_program","pending_program","animation_name","clear_animation","init","program","Math","abs","start","end","group","go","easing","tick","css","fulfill","loop","then","handle_promise","token","index","resolved","child_ctx","current","needs_flush","blocks","mount","error","catch","hasCatch","pending","bind","bound","create_component","mount_component","customElement","new_on_destroy","map","destroy_component","filtered","targets","flush_render_callbacks","make_dirty","fill","instance","create_fragment","append_styles","parent_component","on_disconnect","context","skip_bound","ready","rest","hydrate","nodes","children","l","SvelteComponent","$destroy","$on","splice","$set","$$props","obj","$$set","keys","subscriber_queue","writable","stop","subscribers","new_value","run_queue","subscriber","invalidate","console","globalThis","global","self","Re","__esModule","prototype","hasOwnProperty","default","ze","assign","register","revert","Element","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","querySelectorAll","item","closest","documentElement","contains","parentElement","prepend","createDocumentFragment","isArray","Node","firstChild","scrollIntoViewIfNeeded","arguments","getComputedStyle","parseInt","getPropertyValue","s","offsetTop","scrollTop","clientHeight","offsetLeft","scrollLeft","clientWidth","scrollIntoView","requestIdleCallback","setTimeout","didTimeout","timeRemaining","max","cancelIdleCallback","clearTimeout","St","VERBOSE","INFO","WARN","ERROR","w","wo","Ee","includes","logLevel","unshift","I","X","ne","toString","match","toLowerCase","A","R","Q","mt","bt","V","It","async","Eo","reduce","function","Mt","Oe","apply","kt","Ve","leading","u","trailing","Ae","toUpperCase","qe","shift","et","win","mac","x11","linux","find","navigator","appVersion","Co","replace","Io","crypto","getRandomValues","Uint8Array","vo","Ze","he","ue","matchMedia","Ge","platform","test","maxTouchPoints","isSingleTag","isLineBreakTag","make","reverse","swap","getElementById","findAll","allInputsSelector","findAllInputs","isNativeInput","containsOnlyInlineElements","getDeepestBlockElements","getDeepestNode","ELEMENT_NODE","isElement","isFragment","DOCUMENT_FRAGMENT_NODE","isContentEditable","contentEditable","canSetCaret","isNodeEmpty","textContent","RegExp","trim","isLeaf","isEmpty","normalize","isHTMLString","childElementCount","getContentLength","TEXT_NODE","blockElements","every","getHolder","isAnchor","offset","getBoundingClientRect","pageXOffset","pageYOffset","top","left","bottom","height","right","width","At","dataset","Lt","ui","blockTunes","toggler","inlineToolbar","converter","toolbar","toolbox","Add","popover","Filter","toolNames","Text","Link","Bold","Italic","tools","link","stub","Delete","moveUp","moveDown","_t","le","setDictionary","currentDictionary","getNamespace","z","Nt","Be","on","once","emit","off","warn","G","setPrototypeOf","id","holder","stretched","focusable","save","validate","dispatchChange","getActiveToolboxEntry","Te","allListeners","floor","random","Oo","eventType","findOne","offById","findById","findByEventTarget","removeAll","findByType","findByHandler","y","eventsDispatcher","listeners","readOnlyMutableListeners","mutableListenerIds","clearAll","TypeError","state","Editor","removeAllNodes","HTMLElement","remove","isRtl","i18n","selection","savedSelectionRange","isFakeBackgroundEnabled","commandBackground","commandRemoveFormat","CSS","editorWrapper","editorZone","anchorNode","getSelection","anchorElement","anchorOffset","isCollapsed","isAtEditor","isSelectionAtEditor","focusNode","isRangeAtEditor","startContainer","isSelectionExists","range","getRangeFromSelection","rangeCount","getRangeAt","rect","createRange","boundingLeft","boundingTop","boundingWidth","boundingHeight","isNaN","cloneRange","insertNode","setCursor","focus","selectionStart","selectionEnd","setStart","setEnd","removeAllRanges","addRange","isRangeInsideContainer","addFakeCursor","mutationFree","collapse","isFakeCursorInsideContainer","removeFakeCursor","body","removeFakeBackground","execCommand","setFakeBackground","restore","clearSaved","collapseToEnd","selectNodeContents","findParentTag","expandToTag","Je","Pt","Dt","Rt","xe","Ft","conversionConfig","Le","tool","Ht","entries","some","JSON","stringify","Ao","zt","icon","vt","mergeable","wt","import","Ut","ke","cursor","items","focusedCssClass","currentItem","dropCursor","setItems","leafNodesAndReturnIndex","directions","RIGHT","LEFT","ge","re","iterator","activated","flipCallbacks","onKeyDown","isEventReadyForHandling","usedKeys","keyCode","preventDefault","handleTabPress","flipLeft","flipRight","handleEnterPress","focusedItemClass","activateCallback","allowedKeys","isActivated","activate","deactivate","focusFirst","flipCallback","hasFocus","onFlip","removeOnFlip","shiftKey","stopPropagation","click","xt","jt","$t","exports","defineProperty","enumerable","Symbol","toStringTag","wrapper","showed","offsetRight","hidingDelay","handleWindowScroll","hide","loadStyles","prepare","passive","tooltip","tooltipContent","tooltipShown","placement","show","hidingTimeout","marginTop","marginLeft","marginRight","marginBottom","values","placeTop","placeLeft","placeRight","placeBottom","showingTimeout","onHover","offsetWidth","applyPlacement","offsetHeight","ei","U","tt","_e","Ne","te","me","be","alignedStart","alignedCenter","title","description","ni","alignment","getElement","ot","onChildrenOpen","onOpen","onChildrenClose","onClose","handleClick","onActivate","addHint","position","hasChildren","isChildrenOpen","isOpen","isChildrenFlippable","isFlippable","isChildrenSearchable","searchable","closeOnActivate","isActive","W","L","container","disabled","focused","hidden","confirmationState","noHover","noFocus","secondaryTitle","iconTool","iconChevronRight","wobbleAnimation","se","super","removeSpecialFocusBehavior","removeSpecialHoverBehavior","onErrorAnimationEnd","isDisabled","isConfirmationStateEnabled","isFocused","activateOrEnableConfirmationMode","toggleActive","toggleHidden","reset","disableConfirmationMode","onFocus","disableSpecialHoverAndFocusBehavior","wrapperTag","itemName","secondaryLabel","hint","enabled","enableConfirmationMode","confirmation","enableSpecialHoverAndFocusBehavior","animateError","Ue","je","line","Yt","O","Default","Separator","Html","Z","Closed","ClosedOnActivate","H","N","popoverContainer","popoverOpenTop","popoverOpenLeft","popoverOpened","search","nothingFoundMessage","nothingFoundMessageDisplayed","overlay","overlayHidden","popoverNested","getPopoverNestedClass","popoverInline","popoverHeader","ce","NestingLevel","PopoverHeight","InlinePopoverWidth","TriggerItemLeft","TriggerItemTop","yt","Et","ye","getControls","Wt","itemsRenderParams","messages","nothingFound","buildItems","class","itemsDefault","activateItemByName","handleItemClick","getTargetItem","composedPath","showNestedItems","toggleItemActivenessIfNeeded","Pe","Search","$e","Ye","ri","placeholder","tabIndex","searchQuery","query","foundItems","checkItem","li","ai","getOwnPropertyDescriptor","Kt","Xt","nestingLevel","nestedPopoverTriggerItem","previouslyHoveredItem","scopeElement","destroyNestedPopoverIfExists","flipper","onSearch","toggleNothingFoundMessage","flippableElements","handleHover","addSearch","flippable","shouldOpenBottom","shouldOpenRight","nestedPopover","showNestedPopoverForItem","setTriggerItemPosition","min","innerHeight","innerWidth","cloneNode","visibility","flat","ci","it","di","Vt","ve","scrollPosition","lock","lockHard","scrollLocked","unlock","unlockHard","scrollLockedHard","scrollTo","hi","We","Ke","backButton","onBackButtonClick","innerText","pi","history","currentTitle","currentItems","qt","scrollLocker","isHidden","updateItemsAndHeader","header","J","APPEND_CALLBACK","RENDERED","MOVED","UPDATED","REMOVED","ON_PASTE","D","readOnly","tunesData","cachedInputs","toolRenderedElement","tunesInstances","defaultTunesInstances","unavailableTunesData","inputIndex","editorEventBus","handleFocus","dropInputsCache","updateCurrentInput","didMutated","InputEvent","detectToolRootChange","addedNodes","g","removedNodes","k","S","toggleInputsEmptyMark","settings","blockAPI","toolInstance","tunes","composeTunes","compose","watchBlockMutations","addInputEvents","wrapperStretched","dropTarget","inputs","currentInput","findIndex","firstInput","lastInput","nextInput","previousInput","sanitize","sanitizeConfig","merge","pluginsContent","hasMedia","message","mergeWith","time","Function","getTunes","renderSettings","render","toolTunes","commonTunes","activeElement","unwatchBlockMutations","removeInputEvents","exportDataAsString","export","Ho","wrap","isInternal","redactorDomChangedCallback","mutations","attributeName","Fo","st","methods","getMethodsForTool","Zt","getWrapper","confirm","prompt","alert","hmr","transform","insertInto","locals","btoa","unescape","encodeURIComponent","sources","sourceRoot","concat","all","atob","E","M","HTMLIFrameElement","contentDocument","v","refs","T","parts","j","P","base","B","media","sourceMap","C","insertAt","nextSibling","before","attrs","ee","Y","singleton","pe","URL","createObjectURL","revokeObjectURL","Blob","rel","fe","ie","He","mo","convertToAbsoluteUrls","bo","gt","href","styleSheet","cssText","DEBUG","$","oe","Boolean","location","protocol","pathname","cancelHandler","okHandler","okText","cancelText","inputType","yi","Ei","Gt","tags","createTreeWalker","NodeFilter","SHOW_TEXT","SHOW_ELEMENT","SHOW_COMMENT","clean","implementation","createHTMLDocument","_sanitize","COMMENT_NODE","keepNestedBlockElements","attributes","previousElementSibling","nextElementSibling","Si","nt","rt","q","Ii","Ai","Mi","Oi","yo","K","Jt","Qt","configurable","commands","parseShortcutName","executeShortcut","execute","SHIFT","CMD","ALT","F","BACKSPACE","ENTER","ESCAPE","UP","DOWN","INSERT","DELETE","supportedCommands","ctrlKey","metaKey","altKey","keyCodes","$i","de","registeredShortcuts","findShortcut","Wi","Ki","eo","Ce","Opened","BlockAdded","lt","to","api","i18nLabels","opened","handleMobileLayoutToggle","destroyPopover","initPopover","onPopoverClose","enableShortcuts","events","toolsToBeDisplayed","removeAllShortcuts","toolButtonActivated","insertNewBlock","open","close","redactor","toolboxItemsToBeDisplayed","shortcut","enableShortcutForTool","getCurrentBlockIndex","getBlockByIndex","convert","caret","setToBlock","composeBlockData","Xi","oo","Fe","Block","Inline","Tune","Se","Shortcut","Toolbox","EnabledInlineTools","EnabledBlockTunes","Config","io","SanitizeConfig","ae","IsEnabledLineBreaks","ConversionConfig","IsReadOnlySupported","PasteConfig","at","IsInline","Title","Qe","IsTune","ct","constructable","isDefault","defaultPlaceholder","toolName","isInline","isBlock","isTune","so","focusOffset","no","cloneContents","Lo","Ie","Me","Xe","workingArea","array","Number","Reflect","insertToDOM","move","composeBlockEvent","fromIndex","toIndex","replaceWith","insertMany","DocumentFragment","after","insertAfter","insertAdjacentElement","CustomEvent","Bt","Tt","Ct","Qi","completed","De","positions","START","END","DEFAULT","shadowCaret","BlockManager","BlockSelection","clearSelection","selectBlock","currentBlock","setCurrentBlockByChildNode","setToInput","scrollBy","setToTheLastBlock","lastBlock","insertAtEnd","extractFragmentFromCaretPosition","deleteContents","substring","endContainer","endOffset","extractContents","navigateNext","nextBlock","navigatePrevious","previousBlock","createShadow","restoreCaret","selectNode","insertContentAtCaretPosition","lastChild","ro","lo","MIME_TYPE","toolsTags","tagsByTool","toolsPatterns","toolsFiles","exceptionList","processTool","pasteConfig","onPaste","getTagsConfig","getFilesConfig","getPatternsConfig","handlePasteEvent","Toolbar","isNativeBehaviour","clipboardData","types","processDataTransfer","processTools","toggleReadOnly","unsetCallback","setCallback","Tools","processFiles","files","getData","insertEditorJSData","parse","sanitizationConfig","getAllInlineToolsSanitizeConfig","br","processText","Caret","processHTML","processPlain","processSingleBlock","processInlinePaste","insertBlock","UI","blockTools","collectTagNames","extensions","mimeTypes","To","patterns","pattern","processFile","paste","Bo","composePasteEvent","file","getNodes","defaultTool","baseSanitizeConfig","outerHTML","defaultBlock","PATTERN_PROCESSING_MAX_LENGTH","processPattern","exec","processElementNode","ls","we","isRectSelectionActivated","SCROLL_SPEED","HEIGHT_OF_SCROLL_ZONE","BOTTOM_SCROLL_ZONE","TOP_SCROLL_ZONE","MAIN_MOUSE_BUTTON","mousedown","isScrolling","inScrollZone","startX","startY","mouseX","mouseY","stackOfSelected","listenerIds","overlayContainer","topScrollZone","bottomScrollZone","enableModuleBindings","startSelection","elementFromPoint","allBlocksSelected","InlineToolbar","endSelection","overlayRectangle","display","isRectActivated","genHTML","processMouseDown","processMouseMove","processMouseLeave","processScroll","processMouseUp","button","pageX","pageY","changingRectangle","scrollByZones","clientY","scrollVertical","rightPos","leftPos","genInfoForMouseSelection","rectCrossesBlocks","shrinkRectangleToPoint","updateRectangleSize","trySelectNextBlock","inverseSelection","selectBlockByIndex","unSelectBlockByIndex","getBlockByChildNode","addBlockInSelection","dt","DEFAULT_PLACEHOLDER","_CSS","styles","onKeyUp","_placeholder","_data","_element","_preserveBlank","preserveBlank","code","drawView","placeholderActive","us","isReadOnlySupported","ht","commandName","queryCommandState","ut","buttonActive","buttonModifier","surround","checkState","pt","commandLink","commandUnlink","ENTER_KEY","buttonUnlink","inputShowed","inputOpened","notifier","renderActions","enterKeyHint","enterPressed","unlink","closeActions","toggleActions","openActions","validateURL","prepareLink","insertLink","stopImmediatePropagation","addProtocol","ao","i18nAPI","blocksAPI","selectionAPI","toolsAPI","caretAPI","getBlockByElement","getBlockTools","co","subtitle","savedData","ps","fs","inlineTools","internalTools","externalTools","gs","ms","ho","ft","isLineBreaksEnabled","enabledInlineTools","enabledBlockTunes","bs","editorConfig","getConstructor","uo","scrollY","toggleBlockSettings","po","fo","ks","vs","stubTool","toolsAvailable","toolsUnavailable","available","unavailable","internal","validateTools","prepareConfig","factory","API","getListOfPrepareFunctions","toolPrepareMethodSuccess","toolPrepareMethodFallback","prepareBlockTools","convertTo","bold","italic","paragraph","assignInlineToolsToBlockTool","assignBlockTunesToBlockTool","ws","xs","Es","BlocksAPI","needToFocus","getBlockById","validateIndex","composeBlock","renderFromHTML","getById","getBlockIndex","getBlocksCount","stretchBlock","currentBlockIndex","getBlock","removeBlock","ModificationsObserver","disable","Renderer","enable","Paste","CaretAPI","setToFirstBlock","firstBlock","setToLastBlock","setToPreviousBlock","setToNextBlock","gi","EventsAPI","I18nAPI","ToolsAPI","ListenersAPI","NotifierAPI","sanitizer","SanitizerAPI","saver","SaverAPI","SelectionAPI","StylesAPI","classes","ToolbarAPI","InlineToolbarAPI","TooltipAPI","ReadOnlyAPI","UiAPI","tryToShow","isEnabled","ReadOnly","reject","Saver","selectionUtils","inlineToolButton","inlineToolButtonActive","loader","settingsButton","settingsButtonActive","toggleToolbox","moveAndOpen","BlockSettings","ti","editorNodes","CrossBlockSelection","isCrossBlockSelectionStarted","unselectBlock","closed","clearCache","getTunesItems","resolveTuneAliases","zi","label","toolboxInstance","actions","actionsOpened","toolbarOpened","openedToolboxHolderModifier","plusButton","plusButtonShortcut","settingsToggler","settingsTogglerHidden","hoveredBlock","blockActions","blockTunesToggler","disableModuleBindings","drawUI","timeout","isMobile","paddingTop","parseFloat","fontSize","lineHeight","borderTopWidth","_o","plusButtonClicked","keyboard","getLayoutMap","Vi","makeToolbox","settingsTogglerClicked","toolbarVerticalMargin","toolsInstances","allowedToShow","getToolShortcut","containsNode","editorRtlFix","getInlineTools","contentRect","toolClicked","checkToolsState","BlockEvents","keydown","beforeKeydownProcessing","backspace","enter","arrowRightAndDown","arrowLeftAndUp","tabPressed","slashPressed","commandSlashPressed","needToolbarClosing","keyup","checkEmptiness","dragOver","dragLeave","handleCommandC","anyBlockSelected","copySelectedBlocks","handleCommandX","removeSelectedBlocks","insertDefaultBlockAtIndex","selectedBlocks","activateBlockSettings","activateToolbox","someToolbarOpened","someFlipperButtonFocused","mergeBlocks","toggleBlockSelectedState","closeAllToolbars","_currentBlockIndex","_blocks","nextContentfulBlock","previousContentfulBlock","isEditorEmpty","Proxy","bindBlockEvents","blockDidMutated","unsetCurrentBlock","removeAllBlocks","isEqualNode","anyBlockSelectedCache","needToSelectAll","nativeInputSelected","readyToBlockSelection","sanitizerConfig","h1","h2","h3","h4","h5","h6","ol","ul","img","src","selectAllBlocks","handleCommandA","RectangleSelection","KeyboardEvent","setData","onMouseUp","onMouseOver","relatedTarget","lastSelectedBlock","firstSelectedBlock","toggleBlocksSelectedState","enableCrossBlockSelection","watchSelection","DragNDrop","isStartedAtEditor","processDrop","processDragStart","processDragOver","dataTransfer","batchingTimeout","batchingOnChangeQueue","batchTime","mutationObserver","MutationObserver","redactorChanged","particularBlockChanged","observe","childList","subtree","characterData","disconnect","onChange","toolsDontSupportReadOnly","readOnlyEnabled","throwCriticalError","composeStubDataForTool","getSavedData","makeOutput","isValid","version","contentRectCache","resizeDebouncer","windowResize","editorWrapperNarrow","editorZoneHidden","editorEmpty","setIsMobile","paddingBottom","minHeight","nonce","redactorClicked","documentTouched","capture","documentKeydown","documentClicked","selectionChanged","watchBlockHoveredEvents","enableInputsEmptyMark","backspacePressed","escapePressed","defaultBehaviour","isTrusted","MouseEvent","clientX","touches","origin","So","Mo","processBottomZoneClick","Bs","moduleInstances","isReady","configuration","autofocus","holderId","xo","initialBlock","hideToolbar","onReady","constructModules","configureModules","getModulesDiff","Ts","exportAPI","Version","FileVersion","Name","CaseSensitive","IgnoreDiacritics","ShowEtymology","ShowInflection","Inflections","UseLects","HeaderTags","Alphabet","Lexicon","Etymologies","Relatives","Pronunciations","General","Orthographies","font","lect","ShowOrthography","ShowPronunciation","Phonotactics","Onsets","Medials","Codas","Vowels","Illegals","UseAdvancedPhonotactics","AdvancedPhonotactics","Categories","Syllables","Constructs","structures","Lects","Phrasebook","Docs","Diagnostics","FileTheme","OrderByDate","SaveLocation","UploadToDatabase","defaultLanguage","Language","structuredClone","selectedTab","wordInput","pronunciations","phraseInput","phrasePronunciations","categoryInput","selectedCategory","docsEditor","EditorJS","theme","autosave","fileLoadIncrement","hideDropdowns","referenceLanguage","dbid","dbkey","ipcRenderer","require","path","logError","action","Time","OS","Action","stack","debug","logAction","logToFile","report","invoke","result","userData","userPath","logsPath","sep","existsSync","mkdirSync","timestamp","logFile","log","appendFile","err","String","writeFile","formatted","logObj","logAndReturn","object","Lang","alphabetize","lexicon","priority_tags","$alphabet","$ignore_diacritics","$case_sensitive","all_words","tag_ordered_lexes","tag","word","Senses","sense","remaining_words","order","find_in_order","sort","final_sort","lex","list","sorted","vex","indialog","applyRules","categories","flags","sub","unionRule","boundaryRule","negativeRule","commaUnionRule","spaceRule","Symbols","_a","_b","_c","replaceAll","regString","symbol","patternCatMap","char","subCatMap","contextCatMap","getSlice","expandedContext","matchContext","matchMatches","optional","testContext","testRegString","indexOfPattern","patternLength","candidate","catMap","applyRule","diagnostics.logError","dialog","parseRules","part","fromEntries","get_pronunciation","reference","writeRomans","irregular","ipa","phrasebook","category","entry","variant","variants","inverse","create_if_block_1","div","create_if_block","align","maxWidth","arrow","autoPosition","tooltipRef","minWidth","animationEffect","visible","isComponent","$$invalidate","elementWidth","elementStyle","contentWidth","round","getMinWidth","prop","isInViewport","$$value","onClick","onHide","onShow","Tooltip","removeListeners","show_if","create_if_block_3","t0","t0_value","span","dispose","create_if_block_2","t2","t2_value","if_block","cubicInOut","pow","blur","amount","opacity","target_opacity","od","unit","split_css_unit","draw","speed","len","getTotalLength","strokeLinecap","strokeWidth","t1","t1_value","each_value","div_transition","level","create_dynamic_element","svelte_element","raw_value","table","td","tr","create_if_block_4","readFromReference","$Language","$referenceLanguage","inflection","diagnostics.debug","tables","row","cell","sca.parseRules","temp","htmlToText","cats","sca.applyRules","getDefaults","baseUrl","breaks","gfm","headerIds","headerPrefix","highlight","hooks","langPrefix","mangle","pedantic","renderer","silent","smartypants","tokenizer","walkTokens","xhtml","defaults","escapeTest","escapeReplace","source","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","getEscapeReplacement","ch","escape","encode","unescapeTest","charAt","fromCharCode","edit","regex","opt","val","getRegex","nonWordAndColonTest","originIndependentUrl","cleanUrl","prot","decodeURIComponent","baseUrls","justDomain","rtrim","relativeBase","domain","resolveUrl","encodeURI","noopTest","splitCells","tableRow","count","cells","escaped","curr","invert","suffLen","currChar","repeatString","outputLink","cap","raw","lexer","inLink","tokens","inlineTokens","Tokenizer","newline","codeBlockStyle","fences","matchIndentToCode","indentToCode","matchIndentInNode","indentInNode","indentCodeCompensation","lang","inline","_escapes","heading","trimmed","depth","hr","blockquote","blockTokens","istask","ischecked","indent","blankLine","endsWithBlankLine","nextLine","rawLine","itemContents","endEarly","bull","isordered","ordered","loose","itemRegex","repeat","trimLeft","nextBulletRegex","hrRegex","fencesBeginRegex","headingBeginRegex","checked","trimRight","spacers","hasMultipleLineBreaks","pre","def","rows","lheading","inRawBlock","trimmedUrl","rtrimSlash","lastParenIndex","findClosingBracket","linkLen","reflink","links","nolink","emStrong","maskedSrc","prevChar","lDelim","nextChar","punctuation","lLength","rDelim","rLength","delimTotal","midDelimTotal","endReg","rDelimAst","rDelimUnd","lastIndex","codespan","hasNonSpaceChars","hasSpaceCharsOnBothEnds","del","autolink","url","prevCapZero","_backpedal","inlineText","_paragraph","_label","_title","bullet","listItemStart","_tag","_comment","normal","reflinkSearch","out","_punctuation","blockSkip","escapedEmSt","_scheme","_email","_attribute","_href","strong","middle","endAst","endUnd","em","_extended_email","Lexer","inlineQueue","lexInline","lastToken","cutSrc","lastParagraphClipped","tabs","extTokenizer","startBlock","startIndex","Infinity","tempSrc","tempStart","getStartIndex","errMsg","keepPrevChar","lastIndexOf","startInline","infostring","quote","slugger","slug","listitem","checkbox","tablerow","tablecell","image","TextRenderer","Slugger","seen","serialize","getNextSafeSlug","originalSlug","isDryRun","occurenceAccumulator","dryrun","Parser","textRenderer","parseInline","l2","l3","itemBody","renderers","parser","Hooks","static","preprocess","markdown","postprocess","parseMarkdown","origOpt","throwError","msg","onError","marked","checkSanitizeDeprecation","done","markdownToHtml","setOptions","newDefaults","use","args","childTokens","pack","opts","ext","prevRenderer","prevTokenizer","prevHook","passThroughHooks","arg","_settings","normalizeData","getTag","isHeaderData","defaultLevel","number","levels","svg","setLevel","currentLevel","replaceChild","y1","x1","x2","y2","fromTopBorder","fromLeftBorder","fromRightBorder","fromBottomBorder","itemEls","itemHidden","itemConfirmState","itemIcon","itemLabel","popoverClicked","confirmationRequired","hasConfirmationState","setConfirmationState","clearConfirmationState","hideIf","cssModifier","createToolbox","toolboxShowed","createPopover","createToggler","togglerClicked","toolboxColumn","createColumnToolbox","toolboxRow","createRowToolbox","createTableWrapper","hoveredRow","hoveredColumn","selectedRow","selectedColumn","withHeadings","resize","focusedCell","column","hideToolboxes","addRow","addColumn","bindEvents","getTime","onMouseMoveInTable","onkeypress","onKeyPressListener","onKeyDownListener","focusInTableListener","numberOfColumns","deleteColumn","selectColumn","hideRowToolbox","unselectColumn","numberOfRows","deleteRow","selectRow","hideColumnToolbox","unselectRow","moveCursorToNextRow","focusCell","updateToolboxesPosition","getCell","getRow","getRowByCell","getRowFirstCell","setCellContent","createCell","addHeadingAttrToFirstRow","removeHeadingAttrFromFirstRow","fillRow","computeInitialSize","cols","isColumnMenuShowing","isRowMenuShowing","getHoveredCell","focusedCellElem","ceil","setHeadingsSetting","binSearch","enableLineBreaks","getConfig","identifier","references","updater","nc","toPrimitive","iconClasses","toolboxIcon","unwrap","LogLevels","Monospace","termWrapper","sel","unwrappedContent","termTag","initializeDocs","underline","Underline","monospace","Header","Paragraph","Table","editor","defaultTrace","_options","setAttributes","TraceAttributes","notEmpty","compact","arr","compactObject","isBlob","isObject","isDefined","isString","isStringArray","isNumber","chunk","chunkSize","promiseMap","inputValues","mapper","acc$","inputValue","acc","getEnvironment","process","env","apiKey","XATA_API_KEY","getGlobalApiKey","databaseURL","XATA_DATABASE_URL","getGlobalDatabaseURL","branch","XATA_BRANCH","getGlobalBranch","deployPreview","XATA_PREVIEW","deployPreviewBranch","XATA_PREVIEW_BRANCH","vercelGitCommitRef","VERCEL_GIT_COMMIT_REF","vercelGitRepoOwner","VERCEL_GIT_REPO_OWNER","Deno","_fetch","_queue","_concurrency","_enqueue","enqueue_fn","__accessCheck$8","member","__privateGet$8","getter","__privateAdd$8","WeakSet","__privateSet$8","setter","getFetchImplementation","userFetch","globalFetch","fetch","globalThisFetch","fetchImpl","generateUUID","getLines","onLine","buffer","fieldLength","discardTrailingNewline","res","bufLength","lineStart","lineEnd","subarray","WeakMap","finally","started","running","EventStreamContentType","LastEventId","fetchEventSource","signal","inputSignal","headers","inputHeaders","onopen","inputOnOpen","onmessage","onclose","onerror","inputFetch","curRequestController","abort","accept","defaultOnOpen","AbortController","response","stream","onChunk","reader","getReader","read","getBytes","onId","onRetry","onMessage","retry","decoder","TextDecoder","field","decode","valueOffset","getMessages","_retry","contentType","startsWith","VERSION","ErrorWithCause","FetcherError","status","requestId","getMessage","errors","isBulkError","cause","pool","concurrency","setFetch","fetch2","getFetch","request","runRequest","stalled","cancel","timeoutId","timeoutWithCancel","race","rateLimitReset","parsed","parseNumber","stalledTime","method","queryParams","pathParams","cleanQueryParams","URLSearchParams","queryString","cleanPathParams","buildBaseUrl","endpoint","workspacesApiUrl","apiUrl","urlWithWorkspace","workspace","region","hostHeader","groups","Host","parseBody","defaultClientID","fetch$1","customHeaders","trace","clientID","sessionID","clientName","xataAgentExtra","fetchOptions","rawResponse","fullUrl","TraceAttributes_HTTP_URL","TraceAttributes_HTTP_TARGET","xataAgent","Authorization","parseUrl","TraceAttributes_KIND","TraceAttributes_HTTP_REQUEST_ID","TraceAttributes_HTTP_STATUS_CODE","TraceAttributes_HTTP_HOST","TraceAttributes_HTTP_SCHEME","TraceAttributes_CLOUDFLARE_RAY_ID","jsonResponse","blob","json","ok","TraceAttributes_HTTP_METHOD","TraceAttributes_HTTP_ROUTE","dataPlaneFetch","getBranchDetails","variables","branchTransaction","insertRecord","getFileItem","putFileItem","deleteFileItem","getRecord","insertRecordWithID","updateRecordWithID","upsertRecordWithID","deleteRecord","queryTable","searchBranch","searchTable","vectorSearchTable","askTableSession","summarizeTable","aggregateTable","sqlQuery","controlPlaneFetch","deepMerge","getBranchList","createBranch","deleteBranch","copyBranch","updateBranchMetadata","getBranchMetadata","getBranchStats","getGitBranchesMapping","addGitBranchesEntry","removeGitBranchesEntry","resolveBranch","migrations","getSchema","getBranchMigrationHistory","getBranchMigrationPlan","executeBranchMigrationPlan","getBranchSchemaHistory","compareBranchWithUserSchema","compareBranchSchemas","updateBranchSchema","previewBranchSchemaEdit","applyBranchSchemaEdit","pushBranchMigrations","migrationRequests","queryMigrationRequests","createMigrationRequest","getMigrationRequest","updateMigrationRequest","listMigrationRequestsCommits","compareMigrationRequest","getMigrationRequestIsMerged","mergeMigrationRequest","createTable","deleteTable","updateTable","getTableSchema","setTableSchema","getTableColumns","addTableColumn","getColumn","updateColumn","records","bulkInsertTableRecords","getFile","putFile","deleteFile","fileAccess","searchAndFilter","askTable","sql","oAuth","getAuthorizationCode","grantAuthorizationCode","getUserOAuthClients","deleteUserOAuthClient","getUserOAuthAccessTokens","deleteOAuthAccessToken","updateOAuthAccessToken","users","getUser","updateUser","deleteUser","authentication","getUserAPIKeys","createUserAPIKey","deleteUserAPIKey","workspaces","getWorkspacesList","createWorkspace","getWorkspace","updateWorkspace","deleteWorkspace","getWorkspaceMembersList","updateWorkspaceMemberRole","removeWorkspaceMember","invites","inviteWorkspaceMember","updateWorkspaceMemberInvite","cancelWorkspaceMemberInvite","acceptWorkspaceMemberInvite","resendWorkspaceMemberInvite","xbcontrolOther","listClusters","createCluster","getCluster","updateCluster","databases","getDatabaseList","createDatabase","deleteDatabase","getDatabaseMetadata","updateDatabaseMetadata","renameDatabase","getDatabaseGithubSettings","updateDatabaseGithubSettings","deleteDatabaseGithubSettings","listRegions","XataPlugin","transformImage","transformations","newTransformations","flatMap","buildTransformString","hostname","pathParts","transformIndex","XataFile","mediaType","base64Content","enablePublicUrl","signedUrlTimeout","signedUrl","fromBuffer","toBuffer","Buffer","fromArrayBuffer","arrayBuffer","uint8Array","fromUint8Array","toArrayBuffer","binary","ArrayBuffer","byteLength","toUint8Array","fromBlob","toBlob","fromString","string","fromBase64","toBase64","metadataUrl","format","metadataSignedUrl","parseInputFileEntry","cleanFilter","stringifyJson","parseJson","_query","_page","__accessCheck$6","__privateGet$6","__privateAdd$6","__privateSet$6","Page","meta","RecordArray","nextPage","getPaginated","pagination","page","previousPage","startPage","endPage","hasNextPage","more","PAGINATION_MAX_SIZE","PAGINATION_DEFAULT_SIZE","_RecordArray","parseConstructorParams","toArray","toSerializable","callbackfn","thisArg","newPage","_table$1","_repository","_cleanFilterConstraint","cleanFilterConstraint_fn","__accessCheck$5","__privateGet$5","__privateAdd$5","__privateSet$5","__privateMethod$3","_Query","repository","rawParent","parent","cleanParent","$any","$all","$not","$none","columns","consistency","cache","any","not","none","getQueryOptions","queries","constraints","constraint","asyncIterator","record","getIterator","batchSize","getMany","results","getAll","getFirst","getFirstOrThrow","summarize","summaries","summariesFilter","ttl","columnType","schema","$includes","Query","isIdentifiable","isValidSelectableColumns","isValidExpandedColumn","isSortFilterBase","buildSortFilter","isSortFilterObject","_table","_getFetchProps","_db","_cache","_schemaTables$2","_trace","_insertRecordWithoutId","insertRecordWithoutId_fn","_insertRecordWithId","insertRecordWithId_fn","_insertRecords","insertRecords_fn","_updateRecordWithID","updateRecordWithID_fn","_updateRecords","updateRecords_fn","_upsertRecordWithID","upsertRecordWithID_fn","_deleteRecord","deleteRecord_fn","_deleteRecords","deleteRecords_fn","_setCacheQuery","setCacheQuery_fn","_getCacheQuery","getCacheQuery_fn","_getSchemaTables$1","getSchemaTables_fn$1","_transformObjectToApi","transformObjectToApi_fn","__accessCheck$4","__privateGet$4","__privateAdd$4","__privateSet$4","__privateMethod$2","BULK_OPERATION_MAX_SIZE","RestRepository","schemaTables","db","pluginOptions","options2","TraceAttributes_TABLE","TraceAttributes_VERSION","ifVersion","parseIfVersion","ids","createOnly","extractId","dictionary","id2","dbBranchName","tableName","recordId","initObject","readOrThrow","missingIds","_item","existing","updates","upsert","updateOrThrow","createOrUpdate","createOrReplace","deleteOrThrow","fuzziness","prefix","boosters","vectorSearch","queryVector","similarityFunction","aggregate","aggs","cacheQuery","objects","summary","ask","question","questionParam","sessionId","searchType","ev","fetchSSERequest","answer","chunkedOperations","operations2","operations","operation","_id","fields","recordIds","date","defaultTTL","defaultQueryTTL","toISOString","selectedColumns","xata","isValidColumn","linkTable","selectedLinkColumns","notNull","metadata","createdAt","updatedAt","columns2","data2","freeze","getMetadata","_map","__accessCheck$3","__privateGet$3","SimpleCache","__privateAdd$3","capacity","leastRecentlyUsed","_tables","_schemaTables$1","__accessCheck$2","__privateGet$2","__privateAdd$2","SchemaPlugin","build","_target","tableNames","FilesPlugin","download","fileId","columnName","upload","resolvedFile","getContentType","_schemaTables","_search","search_fn","_getSchemaTables","getSchemaTables_fn","__accessCheck$1","__privateGet$1","__privateAdd$1","__privateSet$1","__privateMethod$1","SearchPlugin","byTable","arrayString","prepareValue","SQLPlugin","param1","param2","statement","prepareParams","warning","TransactionPlugin","__accessCheck","__privateGet","__privateAdd","__privateMethod","buildClient","plugins","_parseOptions","parseOptions_fn","getFetchProps_fn","safeOptions","transactions","namespace","enableBrowser","XATA_ENABLE_BROWSER","getEnableBrowserVariable","getDatabaseURL","getAPIKey","envBranch","getBranch","previewBranch","org","buildPreviewBranchName","getPreviewBranch","hasBranch","newPath","DatabaseClient","defaultOptions","showOpenDialog","collectExportData","editorjsToHTML","tbody","readSVG","ortho_name","cache_path","file_path","readFileSync","encoding","flag","correctSVGSize","new_height","new_width","target_size","_hw","saveFile","finish","user_path","lexiconFolder","backupsFolder","writeFileSync","Notification","hits","Languages","Owner","File","saveAs","jsonString","file_handle","showSaveFilePicker","suggestedName","requestPermission","mode","createWritable","write","export_data","$lexicon","arr_data","definition","export_container","indexCSS","overrides","overridesCSS","alphabetical","lexiconToHTML","documentation","docs","padding","col1","col2","current_column","pronunciation","lects","openLegacy","contents","Romanization","phrases","phrase","Initial","Middle","Final","Vowel","Illegal","csv","importCSV","words","definitions","properties","createReadStream","pipe","skipLines","retrieveFromDatabase","graphemify","ffi","resourcesPath","typesetter","func","ortho","t_value","inflections_changes","if_block0","each_value_1","if_block1","if_block3","pronunciations_changes","each_blocks","showEtymology","showInflections","entryAncestors","ancestors","currents","maxDepth","descendants","descendant","candidateWord","isAncestor","ancestorString","lastGen","generation","newGen","getAncestors","tagSelector","br0","br1","label2","label0","textarea0","label1","textarea1","br2","commit","change","$pronunciations","$wordInput","div2","div0","div1","senseinput_props","senseinput_changes","button0","button1","create_if_block_6","create_if_block_5","if_block5","div14","input0","input1","input2","div13","div5","div4","input3","div3","div12","div8","div6","input4","div7","input5","div10","div9","input6","div11","each_blocks_1","each1_else","__rest","filtered_lex","alphabetized","lectSet","defInputs","searchWords","searchDefinitions","searchTags","lectFilter","collapsedPanel","senses","$selectedTab","behavior","editEntry","$hideDropdowns","commitWord","emptySensesFilter","senseRemapper","Timestamp","addWord","alphabet","alphabetPrecheck","words_search","definitions_search","tags_search","caseFixedWord","tag_search_array","tag_search","$$self","rect_x_value","parents","rect_y_value","text1","text1_y_value","path_d_value","text0","text0_transition","text1_transition","path_transition","text0_y_value","text_1","text_1_x_value","text_1_y_value","g1","g0","parabolicCurve","f_x","dYparents","dYchildren","tree","child","lexentry_changes","optgroup0","optgroup1","p0","p1","each_1_else","create_if_block_7","if_block2","each_value_3","hr0","p2","hr1","p3","p4","each0_else","each2_else","externalAlphabetized","filteredExternal","newParent","newChild","manualParentEntry","manualChildEntry","selectedEntry","lexicon_name","createTreeData","mergedLexicons","term","search_term","each_value_2","entrylabel_changes","refLanguage","refCat","$selectedCategory","textarea","select_1","each_value_4","div15","button2","$categoryInput","searchPhrase","searchDescription","phraseKeys","phraseDescription","variantInputs","editPhrase","$phraseInput","$phrasePronunciations","scope","phrase_search","descript_search","variantEntry","searchBook","newPhrase","textarea2","label3","textarea3","br3","label4","textarea4","br4","br5","label5","br6","trial","ortho_test","setInStone","selectedLect","APCategories","APSyllables","APConstructs","APIllegals","generate_word_AP","recursion","checkForIllegals","illegal","construct","syllable","enabled_constructs","symbols","syllables","expanded_construct","generated_words","$fileLoadIncrement","trial_completion","random_boolean","choice","inventory","finalize","ends_in_vowel","complete_word","test_pronunciation","attempt","generate_word","textarea2_value_value","soundChanges","testChanges","newName","usePronunciations","baseLect","soundChange","newLanguage","$defaultLanguage","baseWord","newWord","$docsEditor","verifyHash","createHash","digest","hashString","t27_value","pronunciations_bool","tags_bool","label0_title_value","div21","div20","div19","button3","button4","u1","u0","p5","p6","button5","p7","p8","p9","button6","button7","button8","button9","button10","button11","p10","div17","div16","label6","button12","p11","p12","div18","button13","br7","br8","t27","locationSelector","webkitdirectory","plainTextImport","read_contents","errorMessage","docs_data","inflections","$dbid","$dbkey","queryResult","yesText","proceed","diagnostics.logAction","importPlainText","plainText","plainTextEntries","lines","sensesEntry","wordEntry","loading_message","defaultPath","planet","animationPlayState","readFile","basename","mkdir","showOpenFilePicker","string_contents","t42_value","if_block4","option0","option1","option2","option3","option4","option5","option6","option7","option8","optgroup2","option9","option10","option11","option12","option13","optgroup3","option14","option15","span0","span1","span2","br9","br10","br11","br12","br13","br14","hr2","br15","br16","br17","br18","br19","br20","label7","input7","br21","br22","label8","input8","t42","onlineFileVersion","localFileVersion","setFileVersions","getOnlineFileVersion","$autosave","$theme","inputID","inputKey","unlinkSync","changeLectName","deleteLect","importRelative","overwrite","disabledDatabase","theme_path","themes_dir","autosave_tracker","setInterval","clearInterval","keep","lectIndex","relative","notes","a4","a5","a6","MAJOR","MINOR","PATCH","textarea0_value_value","changeTags","currentTarget","remakeEditors","exclude","editors","addEditor","saveEditors","outputData","select_change_handler","input_value_value","select_change_handler_1","select_change_handler_2","textarea_value_value","option_value_value","replacement","selectedOrtho","testInput","orthographyReplacement","orthographyChangeEndMessage","SVGData","graphemyOutput","wikiInfo","Documenting","Etymology","pages","testString","selectedCat","t5_value","t5","writeEditors","ReferenceLex","ReferenceTrees","ReferenceBook","ReferenceInflect","ReferencePhono","ReferenceDocs","link0","link1","registerPlugin","className","Inflection","Phonology","Orthography","Documentation","Settings","Changelog","Wiki","send"],"mappings":"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,6FAGR,SAAQ,CACJnmG,KAAQymG,EACRN,MAAO,CACH,oHACA,0GACA,2GAGR,SAAQ,CACJnmG,KAAQymG,EACRN,MAAO,CACH,wDACA,qCACA,4HAGR,SAAQ,CACJnmG,KAAQymG,EACRN,OACI,wDAGR,SAAQ,CACJnmG,KAAQymG,EACRN,MAAO,CACH,yCACA,iJAGR,SAAQ,CACJnmG,KAAQymG,EACRN,MAAO,CACH,oBACA,yCACA,0EACA,2IACA,sDAGR,SAAQ,CACJnmG,KAAQymG,EACRN,OACI,mBAGR,SAAQ,CACJnmG,KAAQymG,EACRN,MAAO,CACH,4GACA,yBAGR,SAAQ,CACJnmG,KAAQymG,EACRN,MAAO,CACH,uHAGR,SAAQ,CACJnmG,KAAQymG,EACRN,MAAO,CACH,8GACA,2FAGR,QAAO,CACHnmG,KAAQymG,EACRN,MAAO,CACH,sIACA,gJAGR,MAAK,CACDnmG,KAAQumG,EACRJ,MAAO,CACH,2IACA,oGACA,8EACA,sHACA,yHACA,wHACA,+EACA,2BACA,sEAGR,SAAQ,CACJnmG,KAAQymG,EACRN,MAAO,CACH,0FAGR,SAAQ,CACJnmG,KAAQymG,EACRN,MAAO,CACH,iLAGR,SAAQ,CACJnmG,KAAQymG,EACRN,MAAO,CACH,2EACA,mHAGR,SAAQ,CACJnmG,KAAQymG,EACRN,MAAO,CACH,sIAGR,KAAM,CACFnmG,KAAQwmG,EACRL,MAAO,CACH,qJACA,wGACA,iHACA,sEAGR,OAAM,CACFnmG,KAAQwmG,EACRL,MAAO,CACH,+DACA,8DACA,wGACA,0GACA,wEACA,6DACA,gGAGR,QAAO,CACHnmG,KAAQymG,EACRN,MAAO,CACH,2DACA,yCACA,uEACA,iHAGR,QAAO,CACHnmG,KAAQymG,EACRN,MAAO,CACH,iFACA,uGAGR,IAAK,CACDnmG,KAAQwmG,EACRL,MAAO,CACH,kNACA,4PACA,2FACA,wMACA,oDAGR,SAAQ,CACJnmG,KAAQymG,EACRN,MAAO,CACH,gDACA,iDACA,sEAGR,IAAK,CACDnmG,KAAQwmG,EACRL,MAAO,CACH,6DACA,wGACA,qGACA,wDACA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"}