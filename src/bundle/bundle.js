var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function o(e){return e()}function r(){return Object.create(null)}function i(e){e.forEach(o)}function a(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function c(e){let t;return l(e,(e=>t=e))(),t}function u(e,t,n){e.$$.on_destroy.push(l(t,n))}function d(e,t,n){return e.set(n),t}const f="undefined"!=typeof window;let h=f?()=>window.performance.now():()=>Date.now(),p=f?e=>requestAnimationFrame(e):e;const g=new Set;function v(e){g.forEach((t=>{t.c(e)||(g.delete(t),t.f())})),0!==g.size&&p(v)}function m(e,t){e.appendChild(t)}function y(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function b(e){const t=C("style");return function(e,t){m(e.head||e,t),t.sheet}(y(e),t),t.sheet}function w(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode&&e.parentNode.removeChild(e)}function x(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function S(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function _(e){return document.createTextNode(e)}function E(){return _(" ")}function T(){return _("")}function O(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function M(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function L(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const o in t)null==t[o]?e.removeAttribute(o):"style"===o?e.style.cssText=t[o]:"__value"===o?e.value=e[o]=t[o]:n[o]&&n[o].set?e[o]=t[o]:M(e,o,t[o])}function B(e,t){Object.keys(t).forEach((n=>{!function(e,t,n){t in e?e[t]="boolean"==typeof e[t]&&""===n||n:M(e,t,n)}(e,n,t[n])}))}function I(e){return""===e?null:+e}function P(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function R(e,t){e.value=null==t?"":t}function A(e,t,n,o){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function j(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}e.selectedIndex=-1}function N(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function $(e,t,n){e.classList[n?"add":"remove"](t)}function D(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,o,t),r}function F(e,t){return new e(t)}const H=new Map;let z,U=0;function W(e,t,n,o,r,i,a,s=0){const l=16.666/o;let c="{\n";for(let e=0;e<=1;e+=l){const o=t+(n-t)*i(e);c+=100*e+`%{${a(o,1-o)}}\n`}const u=c+`100% {${a(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${s}`,f=y(e),{stylesheet:h,rules:p}=H.get(f)||function(e,t){const n={stylesheet:b(t),rules:{}};return H.set(e,n),n}(f,e);p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${d} ${o}ms linear ${r}ms 1 both`,U+=1,d}function V(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-o.length;r&&(e.style.animation=o.join(", "),U-=r,U||p((()=>{U||(H.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&k(t)})),H.clear())})))}function G(e){z=e}function q(){if(!z)throw new Error("Function called outside component initialization");return z}function Y(){const e=q();return(t,n,{cancelable:o=!1}={})=>{const r=e.$$.callbacks[t];if(r){const i=D(t,n,{cancelable:o});return r.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}const X=[],K=[],Z=[],J=[],Q=Promise.resolve();let ee=!1;function te(e){Z.push(e)}function ne(e){J.push(e)}const oe=new Set;let re,ie=0;function ae(){if(0!==ie)return;const e=z;do{try{for(;ie<X.length;){const e=X[ie];ie++,G(e),se(e.$$)}}catch(e){throw X.length=0,ie=0,e}for(G(null),X.length=0,ie=0;K.length;)K.pop()();for(let e=0;e<Z.length;e+=1){const t=Z[e];oe.has(t)||(oe.add(t),t())}Z.length=0}while(X.length);for(;J.length;)J.pop()();ee=!1,oe.clear(),G(e)}function se(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(te)}}function le(e,t,n){e.dispatchEvent(D(`${t?"intro":"outro"}${n}`))}const ce=new Set;let ue;function de(){ue={r:0,c:[],p:ue}}function fe(){ue.r||i(ue.c),ue=ue.p}function he(e,t){e&&e.i&&(ce.delete(e),e.i(t))}function pe(e,t,n,o){if(e&&e.o){if(ce.has(e))return;ce.add(e),ue.c.push((()=>{ce.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const ge={duration:0};function ve(n,o,r,s){const l={direction:"both"};let c=o(n,r,l),u=s?0:1,d=null,f=null,m=null;function y(){m&&V(n,m)}function b(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function w(o){const{delay:r=0,duration:a=300,easing:s=t,tick:l=e,css:w}=c||ge,k={start:h()+r,b:o};o||(k.group=ue,ue.r+=1),d||f?f=k:(w&&(y(),m=W(n,u,o,a,r,s,w)),o&&l(0,1),d=b(k,a),te((()=>le(n,o,"start"))),function(e){let t;0===g.size&&p(v),new Promise((n=>{g.add(t={c:e,f:n})}))}((e=>{if(f&&e>f.start&&(d=b(f,a),f=null,le(n,d.b,"start"),w&&(y(),m=W(n,u,d.b,d.duration,0,s,c.css))),d)if(e>=d.end)l(u=d.b,1-u),le(n,d.b,"end"),f||(d.b?y():--d.group.r||i(d.group.c)),d=null;else if(e>=d.start){const t=e-d.start;u=d.a+d.d*s(t/d.duration),l(u,1-u)}return!(!d&&!f)})))}return{run(e){a(c)?(re||(re=Promise.resolve(),re.then((()=>{re=null}))),re).then((()=>{c=c(l),w(e)})):w(e)},end(){y(),d=f=null}}}function me(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function ye(e){e&&e.c()}function be(e,t,n,r){const{fragment:s,after_update:l}=e.$$;s&&s.m(t,n),r||te((()=>{const t=e.$$.on_mount.map(o).filter(a);e.$$.on_destroy?e.$$.on_destroy.push(...t):i(t),e.$$.on_mount=[]})),l.forEach(te)}function we(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ke(e,t){-1===e.$$.dirty[0]&&(X.push(e),ee||(ee=!0,Q.then(ae)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function xe(t,n,o,a,s,l,c,u=[-1]){const d=z;G(t);const f=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:s,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let h=!1;if(f.ctx=o?o(t,n.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&s(f.ctx[e],f.ctx[e]=r)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](r),h&&ke(t,e)),n})):[],f.update(),h=!0,i(f.before_update),f.fragment=!!a&&a(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(k)}else f.fragment&&f.fragment.c();n.intro&&he(t.$$.fragment),be(t,n.target,n.anchor,n.customElement),ae()}G(d)}class Ce{$destroy(){we(this,1),this.$destroy=e}$on(t,n){if(!a(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Se=[];function _e(t,n=e){let o;const r=new Set;function i(e){if(s(t,e)&&(t=e,o)){const e=!Se.length;for(const e of r)e[1](),Se.push(e,t);if(e){for(let e=0;e<Se.length;e+=2)Se[e][0](Se[e+1]);Se.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(a,s=e){const l=[a,s];return r.add(l),1===r.size&&(o=n(i)||e),a(t),()=>{r.delete(l),0===r.size&&(o(),o=null)}}}}function Ee(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Te={};window,{get exports(){return Te},set exports(e){Te=e}}.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=187)}([function(e,t,n){var o=n(10),r=n(16),i=n(27),a=n(23),s=n(31),l=function(e,t,n){var c,u,d,f,h=e&l.F,p=e&l.G,g=e&l.S,v=e&l.P,m=e&l.B,y=p?o:g?o[t]||(o[t]={}):(o[t]||{}).prototype,b=p?r:r[t]||(r[t]={}),w=b.prototype||(b.prototype={});for(c in p&&(n=t),n)d=((u=!h&&y&&void 0!==y[c])?y:n)[c],f=m&&u?s(d,o):v&&"function"==typeof d?s(Function.call,d):d,y&&a(y,c,d,e&l.U),b[c]!=d&&i(b,c,f),v&&w[c]!=d&&(w[c]=d)};o.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o=n(111);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o=n(7).default,r=n(152);e.exports=function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o,r,i;r=[t,n(20),n(372),n(21),n(403),n(19)],void 0===(i="function"==typeof(o=function(e,t,o,r,i,a){var s,l=n(1);function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"log",o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"color: inherit";if("console"in window&&window.console[n]){var i=["info","log","warn","error"].includes(n),a=[];switch(c.logLevel){case s.ERROR:if("error"!==n)return;break;case s.WARN:if(!["error","warn"].includes(n))return;break;case s.INFO:if(!i||e)return}o&&a.push(o);var l="Editor.js ".concat("2.26.5"),u="line-height: 1em;\n            color: #006FEA;\n            display: inline-block;\n            font-size: 11px;\n            line-height: 1em;\n            background-color: #fff;\n            padding: 4px 9px;\n            border-radius: 30px;\n            border: 1px solid rgba(56, 138, 229, 0.16);\n            margin: 4px 5px 4px 0;";e&&(i?(a.unshift(u,r),t="%c".concat(l,"%c ").concat(t)):t="( ".concat(l," )").concat(t));try{if(i)if(o){var d;(d=console)[n].apply(d,["".concat(t," %o")].concat(a))}else{var f;(f=console)[n].apply(f,[t].concat(a))}else console[n](t)}catch(e){}}}Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevels=void 0,e.array=function(e){return Array.prototype.slice.call(e)},e.beautifyShortcut=function(e){var t=m();return e=e.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),t.mac?e.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):e.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")},e.cacheable=function(e,t,n){var o=n.value?"value":"get",r=n[o],i="#".concat(t,"Cache");if(n[o]=function(){if(void 0===this[i]){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this[i]=r.apply.apply(r,[this].concat(t))}return this[i]},"get"===o&&n.set){var a=n.set;n.set=function(t){delete e[i],a.apply(this,t)}}return n},e.capitalize=function(e){return e[0].toUpperCase()+e.slice(1)},e.copyTextToClipboard=function(e){var t=a.default.make("div","codex-editor-clipboard",{innerHTML:e});document.body.appendChild(t);var n=window.getSelection(),o=document.createRange();o.selectNode(t),window.getSelection().removeAllRanges(),n.addRange(o),document.execCommand("copy"),document.body.removeChild(t)},e.debounce=function(e,t,n){var o,r=this;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var l=r,c=function(){o=null,n||e.apply(l,a)},u=n&&!o;window.clearTimeout(o),o=window.setTimeout(c,t),u&&e.apply(l,a)}},e.deepMerge=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(!r.length)return t;var a=r.shift();if(p(t)&&p(a))for(var s in a)p(a[s])?(t[s]||Object.assign(t,(0,o.default)({},s,{})),e(t[s],a[s])):Object.assign(t,(0,o.default)({},s,a[s]));return e.apply(void 0,[t].concat(r))},e.delay=function(e,t){return function(){var n=this,o=arguments;window.setTimeout((function(){return e.apply(n,o)}),t)}},e.deprecationAssert=function(e,t,n){var o="«".concat(t,"» is deprecated and will be removed in the next major release. Please use the «").concat(n,"» instead.");e&&d(o,"warn")},e.equals=function(e,t){var n=Array.isArray(e)||p(e),o=Array.isArray(t)||p(t);return n||o?JSON.stringify(e)===JSON.stringify(t):e===t},e.generateBlockId=function(){return(0,i.nanoid)(10)},e.generateId=function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").concat(Math.floor(1e8*Math.random()).toString(16))},e.getFileExtension=function(e){return e.name.split(".").pop()},e.getUserOS=m,e.getValidUrl=function(e){try{return new URL(e).href}catch(e){}return"//"===e.substring(0,2)?window.location.protocol+e:window.location.origin+e},e.isBoolean=function(e){return"boolean"===f(e)},e.isClass=function(e){return h(e)&&/^\s*class\s+/.test(e.toString())},e.isEmpty=function(e){return!e||0===Object.keys(e).length&&e.constructor===Object},e.isFunction=h,e.isIosDevice=void 0,e.isMobileScreen=function(){return window.matchMedia("(max-width: ".concat(650,"px)")).matches},e.isNumber=function(e){return"number"===f(e)},e.isObject=p,e.isPrintableKey=function(e){return e>47&&e<58||32===e||13===e||229===e||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223},e.isPromise=function(e){return Promise.resolve(e)===e},e.isString=function(e){return"string"===f(e)},e.isTouchSupported=void 0,e.isUndefined=g,e.isValidMimeType=function(e){return/^[-\w]+\/([-+\w]+|\*)$/.test(e)},e.mouseButtons=e.mobileScreenBreakpoint=e.logLabeled=e.log=e.keyCodes=void 0,e.openTab=function(e){window.open(e,"_blank")},e.sequence=function(e){return v.apply(this,arguments)},e.setLogLevel=function(e){c.logLevel=e},e.throttle=function(e,t){var n,o,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=null,s=0;i||(i={});var l=function(){s=!1===i.leading?0:Date.now(),a=null,r=e.apply(n,o),a||(n=o=null)};return function(){var c=Date.now();s||!1!==i.leading||(s=c);var u=t-(c-s);return n=this,o=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),s=c,r=e.apply(n,o),a||(n=o=null)):a||!1===i.trailing||(a=setTimeout(l,u)),r}},e.typeOf=f,t=l(t),o=l(o),r=l(r),a=l(a),e.LogLevels=s,function(e){e.VERBOSE="VERBOSE",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR"}(s||(e.LogLevels=s={})),e.keyCodes={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},e.mouseButtons={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4},c.logLevel=s.VERBOSE;var u=c.bind(window,!1);e.log=u;var d=c.bind(window,!0);function f(e){return Object.prototype.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function h(e){return"function"===f(e)||"asyncfunction"===f(e)}function p(e){return"object"===f(e)}function g(e){return"undefined"===f(e)}function v(){return(v=(0,r.default)(t.default.mark((function e(n){var o,i,a,s,l=arguments;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(){return(s=(0,r.default)(t.default.mark((function e(n,o,r){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.function(n.data);case 3:return e.next=5,o(g(n.data)?{}:n.data);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r(g(n.data)?{}:n.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)},a=function(e,t,n){return s.apply(this,arguments)},o=l.length>1&&void 0!==l[1]?l[1]:function(){},i=l.length>2&&void 0!==l[2]?l[2]:function(){},e.abrupt("return",n.reduce(function(){var e=(0,r.default)(t.default.mark((function e(n,r){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return e.abrupt("return",a(r,o,i));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Promise.resolve()));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){var e={win:!1,mac:!1,x11:!1,linux:!1},t=Object.keys(e).find((function(e){return-1!==window.navigator.appVersion.toLowerCase().indexOf(e)}));return t?(e[t]=!0,e):e}e.logLabeled=d;var y="ontouchstart"in document.documentElement;e.isTouchSupported=y,e.mobileScreenBreakpoint=650;var b="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1);e.isIosDevice=b})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(112)],void 0===(i="function"==typeof(o=function(o,r,i,a){var s=n(1);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=s(r),i=s(i),a=s(a);var u=function(){function e(t){var n=this,o=t.config,i=t.eventsDispatcher;if((0,r.default)(this,e),this.nodes={},this.listeners=new a.default,this.readOnlyMutableListeners={on:function(e,t,o){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n.mutableListenerIds.push(n.listeners.on(e,t,o,r))},clearAll:function(){var e,t=l(n.mutableListenerIds);try{for(t.s();!(e=t.n()).done;){var o=e.value;n.listeners.offById(o)}}catch(e){t.e(e)}finally{t.f()}n.mutableListenerIds=[]}},this.mutableListenerIds=[],(this instanceof e?this.constructor:void 0)===e)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=o,this.eventsDispatcher=i}return(0,i.default)(e,[{key:"state",set:function(e){this.Editor=e}},{key:"removeAllNodes",value:function(){for(var e in this.nodes){var t=this.nodes[e];t instanceof HTMLElement&&t.remove()}}},{key:"isRtl",get:function(){return"rtl"===this.config.i18n.direction}}]),e}();o.default=u,u.displayName="Module",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var o=n(13);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var o=n(70)("wks"),r=n(45),i=n(10).Symbol,a="function"==typeof i;(e.exports=function(e){return o[e]||(o[e]=a&&i[e]||(a?i:r)("Symbol."+e))}).store=o},function(e,t,n){var o=n(33),r=Math.min;e.exports=function(e){return e>0?r(o(e),9007199254740991):0}},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(11)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var o=n(12),r=n(117),i=n(42),a=Object.defineProperty;t.f=n(17)?Object.defineProperty:function(e,t,n){if(o(e),t=i(t,!0),o(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var o,r,i,a=n(7);r=[t,n(41),n(2),n(3),n(8)],void 0===(i="function"==typeof(o=function(o,r,i,s,l){var c=n(1);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=c(r),i=c(i),s=c(s),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(l);var d=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"isSingleTag",value:function(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}},{key:"isLineBreakTag",value:function(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}},{key:"make",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=document.createElement(e);for(var a in Array.isArray(n)?(t=i.classList).add.apply(t,(0,r.default)(n)):n&&i.classList.add(n),o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a]);return i}},{key:"text",value:function(e){return document.createTextNode(e)}},{key:"append",value:function(e,t){Array.isArray(t)?t.forEach((function(t){return e.appendChild(t)})):e.appendChild(t)}},{key:"prepend",value:function(e,t){Array.isArray(t)?(t=t.reverse()).forEach((function(t){return e.prepend(t)})):e.prepend(t)}},{key:"swap",value:function(e,t){var n=document.createElement("div"),o=e.parentNode;o.insertBefore(n,e),o.insertBefore(e,t),o.insertBefore(t,n),o.removeChild(n)}},{key:"find",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1?arguments[1]:void 0;return e.querySelector(t)}},{key:"get",value:function(e){return document.getElementById(e)}},{key:"findAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1?arguments[1]:void 0;return e.querySelectorAll(t)}},{key:"allInputsSelector",get:function(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map((function(e){return'input[type="'.concat(e,'"]')})).join(", ")}},{key:"findAllInputs",value:function(t){return l.array(t.querySelectorAll(e.allInputsSelector)).reduce((function(t,n){return e.isNativeInput(n)||e.containsOnlyInlineElements(n)?[].concat((0,r.default)(t),[n]):[].concat((0,r.default)(t),(0,r.default)(e.getDeepestBlockElements(n)))}),[])}},{key:"getDeepestNode",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=n?"lastChild":"firstChild",r=n?"previousSibling":"nextSibling";if(t&&t.nodeType===Node.ELEMENT_NODE&&t[o]){var i=t[o];if(e.isSingleTag(i)&&!e.isNativeInput(i)&&!e.isLineBreakTag(i))if(i[r])i=i[r];else{if(!i.parentNode[r])return i.parentNode;i=i.parentNode[r]}return this.getDeepestNode(i,n)}return t}},{key:"isElement",value:function(e){return!l.isNumber(e)&&e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}},{key:"isFragment",value:function(e){return!l.isNumber(e)&&e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}},{key:"isContentEditable",value:function(e){return"true"===e.contentEditable}},{key:"isNativeInput",value:function(e){return!(!e||!e.tagName)&&["INPUT","TEXTAREA"].includes(e.tagName)}},{key:"canSetCaret",value:function(t){var n=!0;if(e.isNativeInput(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1}else n=e.isContentEditable(t);return n}},{key:"isNodeEmpty",value:function(e){return!(this.isSingleTag(e)&&!this.isLineBreakTag(e))&&0===(this.isElement(e)&&this.isNativeInput(e)?e.value:e.textContent.replace("​","")).trim().length}},{key:"isLeaf",value:function(e){return!!e&&0===e.childNodes.length}},{key:"isEmpty",value:function(e){e.normalize();for(var t=[e];t.length>0;)if(e=t.shift()){if(this.isLeaf(e)&&!this.isNodeEmpty(e))return!1;e.childNodes&&t.push.apply(t,(0,r.default)(Array.from(e.childNodes)))}return!0}},{key:"isHTMLString",value:function(t){var n=e.make("div");return n.innerHTML=t,n.childElementCount>0}},{key:"getContentLength",value:function(t){return e.isNativeInput(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:t.textContent.length}},{key:"blockElements",get:function(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}},{key:"containsOnlyInlineElements",value:function(t){var n;return l.isString(t)?(n=document.createElement("div")).innerHTML=t:n=t,Array.from(n.children).every((function t(n){return!e.blockElements.includes(n.tagName.toLowerCase())&&Array.from(n.children).every(t)}))}},{key:"getDeepestBlockElements",value:function(t){return e.containsOnlyInlineElements(t)?[t]:Array.from(t.children).reduce((function(t,n){return[].concat((0,r.default)(t),(0,r.default)(e.getDeepestBlockElements(n)))}),[])}},{key:"getHolder",value:function(e){return l.isString(e)?document.getElementById(e):e}},{key:"isExtensionNode",value:function(e){return e&&["GRAMMARLY-EXTENSION"].includes(e.nodeName)}},{key:"isAnchor",value:function(e){return"a"===e.tagName.toLowerCase()}},{key:"offset",value:function(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,r=t.top+o,i=t.left+n;return{top:r,left:i,bottom:r+t.height,right:i+t.width}}}]),e}();o.default=d,d.displayName="Dom",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o=n(368)();e.exports=o;try{regeneratorRuntime=o}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},function(e,t){function n(e,t,n,o,r,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}e.exports=function(e){return function(){var t=this,o=arguments;return new Promise((function(r,i){var a=e.apply(t,o);function s(e){n(a,r,i,s,l,"next",e)}function l(e){n(a,r,i,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o=n(39);e.exports=function(e){return Object(o(e))}},function(e,t,n){var o=n(10),r=n(27),i=n(26),a=n(45)("src"),s=n(192),l=(""+s).split("toString");n(16).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(i(n,"name")||r(n,"name",t)),e[t]!==n&&(c&&(i(n,a)||r(n,a,e[t]?""+e[t]:l.join(String(t)))),e===o?e[t]=n:s?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t,n){var o=n(0),r=n(11),i=n(39),a=/"/g,s=function(e,t,n,o){var r=String(i(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(o).replace(a,"&quot;")+'"'),s+">"+r+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),o(o.P+o.F*r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},function(e,t,n){var o,r,i,a=n(7);r=[t,n(2),n(3),n(8),n(19)],void 0===(i="function"==typeof(o=function(o,r,i,s,l){var c=n(1);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=c(r),i=c(i),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(s),l=c(l);var d=function(){function e(){(0,r.default)(this,e),this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}return(0,i.default)(e,[{key:"removeFakeBackground",value:function(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}},{key:"setFakeBackground",value:function(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}},{key:"save",value:function(){this.savedSelectionRange=e.range}},{key:"restore",value:function(){if(this.savedSelectionRange){var e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}}},{key:"clearSaved",value:function(){this.savedSelectionRange=null}},{key:"collapseToEnd",value:function(){var e=window.getSelection(),t=document.createRange();t.selectNodeContents(e.focusNode),t.collapse(!1),e.removeAllRanges(),e.addRange(t)}},{key:"findParentTag",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=window.getSelection(),r=null;return o&&o.anchorNode&&o.focusNode?([o.anchorNode,o.focusNode].forEach((function(o){for(var i=n;i>0&&o.parentNode&&(o.tagName!==e||(r=o,t&&o.classList&&!o.classList.contains(t)&&(r=null),!r));)o=o.parentNode,i--})),r):null}},{key:"expandToTag",value:function(e){var t=window.getSelection();t.removeAllRanges();var n=document.createRange();n.selectNodeContents(e),t.addRange(n)}}],[{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}},{key:"anchorNode",get:function(){var e=window.getSelection();return e?e.anchorNode:null}},{key:"anchorElement",get:function(){var e=window.getSelection();if(!e)return null;var t=e.anchorNode;return t?l.default.isElement(t)?t:t.parentElement:null}},{key:"anchorOffset",get:function(){var e=window.getSelection();return e?e.anchorOffset:null}},{key:"isCollapsed",get:function(){var e=window.getSelection();return e?e.isCollapsed:null}},{key:"isAtEditor",get:function(){return this.isSelectionAtEditor(e.get())}},{key:"isSelectionAtEditor",value:function(t){if(!t)return!1;var n=t.anchorNode||t.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);var o=null;return n&&n instanceof Element&&(o=n.closest(".".concat(e.CSS.editorZone))),!!o&&o.nodeType===Node.ELEMENT_NODE}},{key:"isRangeAtEditor",value:function(t){if(t){var n=t.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);var o=null;return n&&n instanceof Element&&(o=n.closest(".".concat(e.CSS.editorZone))),!!o&&o.nodeType===Node.ELEMENT_NODE}}},{key:"isSelectionExists",get:function(){return!!e.get().anchorNode}},{key:"range",get:function(){return this.getRangeFromSelection(this.get())}},{key:"getRangeFromSelection",value:function(e){return e&&e.rangeCount?e.getRangeAt(0):null}},{key:"rect",get:function(){var e,t=document.selection,n={x:0,y:0,width:0,height:0};if(t&&"Control"!==t.type)return e=t.createRange(),n.x=e.boundingLeft,n.y=e.boundingTop,n.width=e.boundingWidth,n.height=e.boundingHeight,n;if(!window.getSelection)return s.log("Method window.getSelection is not supported","warn"),n;if(null===(t=window.getSelection()).rangeCount||isNaN(t.rangeCount))return s.log("Method SelectionUtils.rangeCount is not supported","warn"),n;if(0===t.rangeCount)return n;if((e=t.getRangeAt(0).cloneRange()).getBoundingClientRect&&(n=e.getBoundingClientRect()),0===n.x&&0===n.y){var o=document.createElement("span");if(o.getBoundingClientRect){o.appendChild(document.createTextNode("​")),e.insertNode(o),n=o.getBoundingClientRect();var r=o.parentNode;r.removeChild(o),r.normalize()}}return n}},{key:"text",get:function(){return window.getSelection?window.getSelection().toString():""}},{key:"get",value:function(){return window.getSelection()}},{key:"setCursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=document.createRange(),o=window.getSelection();if(l.default.isNativeInput(e)){if(!l.default.canSetCaret(e))return;return e.focus(),e.selectionStart=e.selectionEnd=t,e.getBoundingClientRect()}return n.setStart(e,t),n.setEnd(e,t),o.removeAllRanges(),o.addRange(n),n.getBoundingClientRect()}},{key:"addFakeCursor",value:function(t){var n=e.range,o=l.default.make("span","codex-editor__fake-cursor");o.dataset.mutationFree="true",!n||t&&!t.contains(n.startContainer)||(n.collapse(),n.insertNode(o))}},{key:"removeFakeCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,t=l.default.find(e,".codex-editor__fake-cursor");t&&t.remove()}}]),e}();o.default=d,d.displayName="SelectionUtils",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var o=n(18),r=n(44);e.exports=n(17)?function(e,t,n){return o.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var o=n(62),r=n(39);e.exports=function(e){return o(r(e))}},function(e,t,n){var o=n(11);e.exports=function(e,t){return!!e&&o((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){var o=n(362),r=n(363),i=n(148),a=n(364);e.exports=function(e,t){return o(e)||r(e,t)||i(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o=n(32);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,r){return e.call(t,n,o,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},function(e,t,n){var o=n(63),r=n(44),i=n(28),a=n(42),s=n(26),l=n(117),c=Object.getOwnPropertyDescriptor;t.f=n(17)?c:function(e,t){if(e=i(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return r(!o.f.call(e,t),e[t])}},function(e,t,n){var o=n(0),r=n(16),i=n(11);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],a={};a[e]=t(n),o(o.S+o.F*i((function(){n(1)})),"Object",a)}},function(e,t,n){var o=n(31),r=n(62),i=n(22),a=n(15),s=n(133);e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,d=6==e,f=5==e||d,h=t||s;return function(t,s,p){for(var g,v,m=i(t),y=r(m),b=o(s,p,3),w=a(y.length),k=0,x=n?h(t,w):l?h(t,0):void 0;w>k;k++)if((f||k in y)&&(v=b(g=y[k],k,m),e))if(n)x[k]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return k;case 2:x.push(g)}else if(u)return!1;return d?-1:c||u?u:x}}},function(e,t,n){n.r(t),n.d(t,"IconAddBackground",(function(){return c})),n.d(t,"IconAddBorder",(function(){return u})),n.d(t,"IconAlignCenter",(function(){return d})),n.d(t,"IconAlignJustify",(function(){return f})),n.d(t,"IconAlignLeft",(function(){return h})),n.d(t,"IconAlignRight",(function(){return p})),n.d(t,"IconBold",(function(){return g})),n.d(t,"IconBrackets",(function(){return v})),n.d(t,"IconChecklist",(function(){return m})),n.d(t,"IconChevronDown",(function(){return y})),n.d(t,"IconChevronLeft",(function(){return b})),n.d(t,"IconChevronRight",(function(){return w})),n.d(t,"IconChevronUp",(function(){return k})),n.d(t,"IconClipboard",(function(){return x})),n.d(t,"IconCollapse",(function(){return C})),n.d(t,"IconColor",(function(){return S})),n.d(t,"IconCopy",(function(){return _})),n.d(t,"IconCross",(function(){return E})),n.d(t,"IconCurlyBrackets",(function(){return T})),n.d(t,"IconDelimiter",(function(){return O})),n.d(t,"IconDirectionDownRight",(function(){return M})),n.d(t,"IconDirectionLeftDown",(function(){return L})),n.d(t,"IconDirectionRightDown",(function(){return B})),n.d(t,"IconDirectionUpRight",(function(){return I})),n.d(t,"IconDotCircle",(function(){return P})),n.d(t,"IconEtcHorisontal",(function(){return R})),n.d(t,"IconEtcVertical",(function(){return A})),n.d(t,"IconFile",(function(){return j})),n.d(t,"IconGift",(function(){return N})),n.d(t,"IconGlobe",(function(){return $})),n.d(t,"IconH1",(function(){return o})),n.d(t,"IconH2",(function(){return r})),n.d(t,"IconH3",(function(){return i})),n.d(t,"IconH4",(function(){return a})),n.d(t,"IconH5",(function(){return s})),n.d(t,"IconH6",(function(){return l})),n.d(t,"IconHeading",(function(){return D})),n.d(t,"IconHeart",(function(){return F})),n.d(t,"IconHidden",(function(){return H})),n.d(t,"IconHtml",(function(){return z})),n.d(t,"IconInstagram",(function(){return U})),n.d(t,"IconItalic",(function(){return W})),n.d(t,"IconLink",(function(){return V})),n.d(t,"IconLinkedin",(function(){return G})),n.d(t,"IconListBulleted",(function(){return q})),n.d(t,"IconListNumbered",(function(){return Y})),n.d(t,"IconMarker",(function(){return X})),n.d(t,"IconMenu",(function(){return Z})),n.d(t,"IconMenuSmall",(function(){return K})),n.d(t,"IconPicture",(function(){return J})),n.d(t,"IconPlay",(function(){return Q})),n.d(t,"IconPlus",(function(){return ee})),n.d(t,"IconQuestion",(function(){return te})),n.d(t,"IconQuote",(function(){return ne})),n.d(t,"IconRedo",(function(){return oe})),n.d(t,"IconRemoveBackground",(function(){return re})),n.d(t,"IconReplace",(function(){return ie})),n.d(t,"IconSave",(function(){return ae})),n.d(t,"IconSearch",(function(){return se})),n.d(t,"IconStar",(function(){return le})),n.d(t,"IconStretch",(function(){return ce})),n.d(t,"IconStrikethrough",(function(){return ue})),n.d(t,"IconTable",(function(){return he})),n.d(t,"IconTableWithHeadings",(function(){return de})),n.d(t,"IconTableWithoutHeadings",(function(){return fe})),n.d(t,"IconText",(function(){return pe})),n.d(t,"IconTranslate",(function(){return ge})),n.d(t,"IconTrash",(function(){return ve})),n.d(t,"IconTwitter",(function(){return me})),n.d(t,"IconUnderline",(function(){return ye})),n.d(t,"IconUndo",(function(){return be})),n.d(t,"IconUnlink",(function(){return we})),n.d(t,"IconUser",(function(){return ke})),n.d(t,"IconUsersGroup",(function(){return xe})),n.d(t,"IconWarning",(function(){return Ce}));const o='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',r='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',i='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',a='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',s='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',l='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',c='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',u='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',d='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>',f='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 12L6 12"/></svg>',h='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>',p='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 7L7 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17H7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 12L11 12"/></svg>',g='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',v='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>',m='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',y='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',b='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',w='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>',k='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',x='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.42857 7H7.71429C7.25963 7 6.82359 7.15804 6.5021 7.43934C6.18061 7.72064 6 8.10218 6 8.5V17.5C6 17.8978 6.18061 18.2794 6.5021 18.5607C6.82359 18.842 7.25963 19 7.71429 19H16.2857C16.7404 19 17.1764 18.842 17.4979 18.5607C17.8194 18.2794 18 17.8978 18 17.5V8.5C18 8.10218 17.8194 7.72064 17.4979 7.43934C17.1764 7.15804 16.7404 7 16.2857 7H14.5714"/><rect width="5.15789" height="3.36842" x="9.42105" y="5" stroke="currentColor" stroke-width="2" rx="1.5"/></svg>',C='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L10 12M10 12L7 15M10 12H4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L14 12M14 12L17 15M14 12H20"/></svg>',S='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5.24296 11.4075C5.23167 10.6253 5.52446 9.8395 6.12132 9.24264L9.65686 5.70711C10.0474 5.31658 10.6809 5.31693 11.0714 5.70745L16.0205 10.6565C16.2268 10.8629 16.3243 11.1371 16.3126 11.4075M5.24296 11.4075C5.25382 12.1607 5.54661 12.9106 6.12132 13.4853L8 15.364M5.24296 11.4075H11.9565M16.3126 11.4075C16.3022 11.6487 16.205 11.8869 16.0208 12.0711L12.4853 15.6066C11.3137 16.7782 9.41421 16.7782 8.24264 15.6066L8 15.364M16.3126 11.4075H11.9565M8 15.364L11.9565 11.4075"/><path stroke="currentColor" stroke-width="2" d="M20 17.4615C20 18.3112 19.3284 19 18.5 19C17.6716 19 17 18.3112 17 17.4615C17 16.6119 17.9 15.6154 18.5 15C19.1 15.6154 20 16.6119 20 17.4615Z"/></svg>',_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.25 8.5H10.25C9.2835 8.5 8.5 9.2835 8.5 10.25V17.25C8.5 18.2165 9.2835 19 10.25 19H17.25C18.2165 19 19 18.2165 19 17.25V10.25C19 9.2835 18.2165 8.5 17.25 8.5Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.5 8.5V6.75C15.5 6.28587 15.3156 5.84075 14.9874 5.51256C14.6592 5.18437 14.2141 5 13.75 5H6.75C6.28587 5 5.84075 5.18437 5.51256 5.51256C5.18437 5.84075 5 6.28587 5 6.75V13.75C5 14.2141 5.18437 14.6592 5.51256 14.9874C5.84075 15.3156 6.28587 15.5 6.75 15.5H8.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 12L15.5 12"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15.5L15.5 15.5"/></svg>',E='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',T='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17C7 17 7 15.2536 7 13.5L5.5 12L7 10.5C7 8.74644 7 7 9 7"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17C17 17 17 15.2536 17 13.5L18.5 12L17 10.5C17 8.74644 17 7 15 7"/></svg>',O='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="6" x2="10" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="14" x2="18" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',M='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>',L='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>',B='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>',I='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>',P='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',R='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M7.30499 11.995L7.30499 12.005M12.005 11.995V12.005M16.705 11.995L16.705 12.005"/></svg>',A='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M12.01 7.29999H12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M12.01 12H12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M12.01 16.7H12"/></svg>',j='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.3236 8.43554L9.49533 12.1908C9.13119 12.5505 8.93118 13.043 8.9393 13.5598C8.94741 14.0767 9.163 14.5757 9.53862 14.947C9.91424 15.3182 10.4191 15.5314 10.9422 15.5397C11.4653 15.5479 11.9637 15.3504 12.3279 14.9908L16.1562 11.2355C16.8845 10.5161 17.2845 9.53123 17.2682 8.4975C17.252 7.46376 16.8208 6.46583 16.0696 5.72324C15.3184 4.98066 14.3086 4.55425 13.2624 4.53782C12.2162 4.52138 11.2193 4.91627 10.4911 5.63562L6.66277 9.39093C5.57035 10.4699 4.97032 11.9473 4.99467 13.4979C5.01903 15.0485 5.66578 16.5454 6.79264 17.6592C7.9195 18.7731 9.43417 19.4127 11.0034 19.4374C12.5727 19.462 14.068 18.8697 15.1604 17.7907L18.9887 14.0354"/></svg>',N='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="12" height="6" x="6" y="13" stroke="currentColor" stroke-width="2" rx="2"/><line x1="12" x2="12" y1="9" y2="19" stroke="currentColor" stroke-width="2"/><path stroke="currentColor" stroke-width="2" d="M5 11C5 9.89543 5.89543 9 7 9H17C18.1046 9 19 9.89543 19 11V11C19 12.1046 18.1046 13 17 13H7C5.89543 13 5 12.1046 5 11V11Z"/><path stroke="currentColor" stroke-width="2" d="M16 9C16 7.89543 16 6 14 6C12 6 12 7.89543 12 9C12 7.89543 12 6 10 6C8 6 8 7.89543 8 9"/></svg>',$='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M18 12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12M18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12M18 12H6M11.7 6C11.7 6 9.7 7.63811 9.7 12C9.7 16.9 11.7 18 11.7 18M12.3 6C12.3 6 14.3 7.63811 14.3 12C14.3 16.9 12.3 18 12.3 18"/></svg>',D='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',F='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M6.6 7.50001C5.27451 8.82549 5.19999 10.6 6.59999 12.3C8 14 12.2 17.9 12.2 17.9C12.2 17.9 16.5 14 17.8 12.3C19.1 10.6 19.1255 8.82549 17.8 7.5C16.4745 6.17452 14.3255 6.17452 13 7.5L12.2 8.30001L11.4 7.50001C10.0745 6.17453 7.92548 6.17453 6.6 7.50001Z"/></svg>',H='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.77778 6L18.5 17.7222"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.687 10C10.2473 10.4392 10.0002 11.035 10 11.6564C9.99978 12.2777 10.2465 12.8737 10.6858 13.3132C11.1251 13.7527 11.7211 13.9998 12.3427 14C12.9642 14.0002 13.5604 13.7536 14 13.3144"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7C17 11.1666 20 11.17 20 11.67C20 12.17 19 13.17 19 13.17M8.2424 8.80936C7.59317 9.22876 6.97961 9.76732 6.4017 10.4251C5.70398 11.2193 5.35512 11.6164 5.35513 12.3702C5.35514 13.124 5.70406 13.5211 6.40191 14.3154C7.99587 16.1297 9.8618 17.0367 12 17.0367C13.1102 17.0367 14.1466 16.7917 15.1111 16.3024"/></svg>',z='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.6954 5C17.912 5 18.8468 6.07716 18.6755 7.28165L17.426 16.0659C17.3183 16.8229 16.7885 17.4522 16.061 17.6873L12.6151 18.8012C12.2152 18.9304 11.7848 18.9304 11.3849 18.8012L7.93898 17.6873C7.21148 17.4522 6.6817 16.8229 6.57403 16.0659L5.32454 7.28165C5.15322 6.07716 6.088 5 7.30461 5H16.6954Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8.4H9L9.42857 11.7939H14.5714L14.3571 13.2788L14.1429 14.7636L12 15.4L9.85714 14.7636L9.77143 14.3394"/></svg>',U='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.9 8.1V8.11"/><circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/></svg>',W='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',V='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',G='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="9" x2="9" y1="11.4" y2="15.4" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 8.7V8.71"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 11.4V12M12 15.4V12M12 12C14 11.5 15 11.3611 15 12.5C15 13.5 15 15.4 15 15.4"/></svg>',q='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',Y='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',X='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3535 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3535 9.31802L7.96729 12.7043C7.40889 13.2627 7.02826 13.9739 6.87339 14.7482L6.69798 15.6253C6.55803 16.325 7.17495 16.942 7.87467 16.802L8.75175 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3535 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',K='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.41 9.66H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 9.66H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.31 14.36H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 14.36H14.59"/></svg>',Z='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',J='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>',Q='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 10.5606V13.4394C10 14.4777 11.1572 15.0971 12.0211 14.5211L14.1803 13.0817C14.9536 12.5661 14.9503 11.4317 14.18 10.9181L12.0214 9.47907C11.1591 8.9042 10 9.5203 10 10.5606Z"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',ee='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',te='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.52V15.51"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M10.0024 9.97655C10.1567 9.01858 11 8.5 12 8.5C13 8.5 13.6857 9.17188 13.8693 9.70703C14.0529 10.2422 14.0135 11.0514 13.5067 11.5159C13 11.9805 12.7344 11.832 12.2784 12.3168C12.1134 12.4923 12 12.7476 12 12.7476"/></svg>',ne='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',oe='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.6667 13.6667L18 10.3333L14.6667 7M18 10.3333H8.83333C7.94928 10.3333 7.10143 10.6845 6.47631 11.3096C5.85119 11.9348 5.5 12.7826 5.5 13.6667C5.5 14.5507 5.85119 15.3986 6.47631 16.0237C7.10143 16.6488 7.94928 17 8.83333 17H9.66667"/></svg>',re='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.1187 14.8787L16.9974 17M14.876 19.1213L16.9974 17M19.1187 19.1213L16.9974 17M16.9974 17L14.876 14.8787"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',ie='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>',ae='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M15.078 5.62637L15.6153 4.78296L15.078 5.62637C15.4261 5.84808 15.7393 6.15354 16.5711 6.98528L17.2782 6.27817L16.5711 6.98528L17.5251 7.93934C17.8347 8.2489 17.9496 8.36494 18.0489 8.48177C18.5907 9.11982 18.9188 9.91178 18.9868 10.7461C18.9992 10.8989 19 11.0622 19 11.5V12C19 13.4166 18.9992 14.419 18.9352 15.2026C18.8721 15.9745 18.7527 16.4457 18.564 16.816C18.1805 17.5686 17.5686 18.1805 16.816 18.564C16.4457 18.7527 15.9745 18.8721 15.2026 18.9352C14.419 18.9992 13.4166 19 12 19C10.5834 19 9.58104 18.9992 8.79744 18.9352C8.02552 18.8721 7.55435 18.7527 7.18404 18.564C6.43139 18.1805 5.81947 17.5686 5.43597 16.816C5.24729 16.4457 5.12787 15.9745 5.0648 15.2026C5.00078 14.419 5 13.4166 5 12V11.7782C5 10.4673 5.00067 9.53987 5.05572 8.81299C5.10998 8.09655 5.21284 7.65673 5.37487 7.3093C5.77229 6.45718 6.45718 5.77229 7.3093 5.37487C7.65673 5.21284 8.09655 5.10998 8.81299 5.05572C9.53986 5.00067 10.4673 5 11.7782 5C12.9544 5 13.3919 5.00552 13.7948 5.09484C14.2503 5.19583 14.6846 5.37572 15.078 5.62637Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15C13.1046 15 14 14.1046 14 13C14 11.8954 13.1046 11 12 11C10.8954 11 10 11.8954 10 13C10 14.1046 10.8954 15 12 15Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5.5V7C14 7.55228 13.5523 8 13 8H11C10.4477 8 10 7.55228 10 7V5.2"/></svg>',se='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',le='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.8197 6.04369C11.8924 5.8925 12.1076 5.8925 12.1803 6.04369L13.9776 9.78496C14.0068 9.84564 14.0645 9.88759 14.1312 9.89657L18.2448 10.4498C18.411 10.4722 18.4776 10.6769 18.3562 10.7927L15.3535 13.6582C15.3048 13.7047 15.2827 13.7726 15.2948 13.8388L16.0398 17.922C16.0699 18.087 15.8957 18.2136 15.7481 18.1339L12 16.1124L8.25192 18.1339C8.10429 18.2136 7.93012 18.087 7.96022 17.922L8.7052 13.8388C8.71728 13.7726 8.69523 13.7047 8.64652 13.6582L5.64378 10.7927C5.52244 10.6769 5.58896 10.4722 5.7552 10.4498L9.86876 9.89657C9.93549 9.88759 9.99322 9.84564 10.0224 9.78496L11.8197 6.04369Z"/></svg>',ce='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',ue='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 8.50001C13.5 7 10.935 6.66476 9.75315 7.79706C9.27092 8.25909 9 8.88574 9 9.53915C9 10.1926 9.27092 10.8192 9.75315 11.2812C10.9835 12.46 13.0165 11.5457 14.2468 12.7244C14.7291 13.1865 15 13.8131 15 14.4665C15 15.1199 14.7291 15.7466 14.2468 16.2086C12.8659 17.5317 10 17.5 9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 12H18"/></svg>',de='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',fe='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',he='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',pe='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',ge='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 17C8 14.5 12 12 13 9"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.5 11C8.5 11 10 14 12.5 15"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7.7H16M11 7.7V5.7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 18L15.2143 16M15.2143 16L16.9159 11.2354C16.9663 11.0942 17.1001 11 17.25 11C17.3999 11 17.5337 11.0942 17.5841 11.2354L19.2857 16M15.2143 16H19.2857M20 18L19.2857 16"/></svg>',ve='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.1328 7.7234C18.423 7.7634 18.7115 7.80571 19 7.85109M18.1328 7.7234L17.2267 17.4023C17.1897 17.8371 16.973 18.2432 16.62 18.5394C16.267 18.8356 15.8037 19.0001 15.3227 19H8.67733C8.19632 19.0001 7.73299 18.8356 7.37998 18.5394C7.02698 18.2432 6.81032 17.8371 6.77333 17.4023L5.86715 7.7234M18.1328 7.7234C17.1536 7.58919 16.1693 7.48733 15.1818 7.41803M5.86715 7.7234C5.57697 7.76263 5.28848 7.80494 5 7.85032M5.86715 7.7234C6.84642 7.58919 7.83074 7.48733 8.81818 7.41803M15.1818 7.41803C13.0638 7.26963 10.9362 7.26963 8.81818 7.41803M15.1818 7.41803C15.1818 5.30368 13.7266 4.34834 12 4.34834C10.2734 4.34834 8.81818 5.43945 8.81818 7.41803"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.5 15.5L10 11"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 11L13.5 15.5"/></svg>',me='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linejoin="round" stroke-width="2" d="M16.7893 7.87697C17.5 8 18.5 8 18.5 8C18.5 8 17.5 9.5 17.5 10C18.5 18.5 11.5 20.5 5.5 16.5C6.99996 16.6712 8.04617 16.5163 9.25234 15.6024C7.99546 15.58 5.36548 13.6033 5 12.5C6.5 13 8 12 8 12C6.52134 11.0446 4.93005 9.24114 5.97461 7.50832C7.39125 9.18838 9.50766 10.2939 11.8948 10.4097C11.2198 7.60755 14.9218 5.95341 16.7893 7.87697Z"/></svg>',ye='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7.5V11.5C9 12.2956 9.31607 13.0587 9.87868 13.6213C10.4413 14.1839 11.2044 14.5 12 14.5C12.7956 14.5 13.5587 14.1839 14.1213 13.6213C14.6839 13.0587 15 12.2956 15 11.5V7.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.71429 18H16.2857"/></svg>',be='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.33333 13.6667L6 10.3333L9.33333 7M6 10.3333H15.1667C16.0507 10.3333 16.8986 10.6845 17.5237 11.3096C18.1488 11.9348 18.5 12.7826 18.5 13.6667C18.5 14.5507 18.1488 15.3986 17.5237 16.0237C16.8986 16.6488 16.0507 17 15.1667 17H14.3333"/></svg>',we='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',ke='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M12 10C12.7145 10 13.239 9.56559 13.5392 9.11536C13.844 8.65814 14 8.0841 14 7.5C14 6.9159 13.844 6.34186 13.5392 5.88464C13.239 5.43441 12.7145 5 12 5C11.2855 5 10.761 5.43441 10.4608 5.88464C10.156 6.34186 10 6.9159 10 7.5C10 8.0841 10.156 8.65814 10.4608 9.11536C10.761 9.56559 11.2855 10 12 10Z"/><ellipse cx="12" cy="16" stroke="currentColor" stroke-width="2" rx="3" ry="5" transform="rotate(-90 12 16)"/></svg>',xe='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 10C10.7145 10 11.239 9.56559 11.5392 9.11536C11.844 8.65814 12 8.0841 12 7.5C12 6.9159 11.844 6.34186 11.5392 5.88464C11.239 5.43441 10.7145 5 10 5C9.28547 5 8.761 5.43441 8.46084 5.88464C8.15603 6.34186 8 6.9159 8 7.5C8 8.0841 8.15603 8.65814 8.46084 9.11536C8.761 9.56559 9.28547 10 10 10Z"/><ellipse cx="10" cy="16" stroke="currentColor" stroke-width="2" rx="3" ry="5" transform="rotate(-90 10 16)"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.5555 10.2222C16.5374 10.2222 17.3333 9.42629 17.3333 8.44445C17.3333 7.46261 16.5374 6.66667 15.5555 6.66667"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.5 13C21 14.5 20.5 18 18 18.5"/></svg>',Ce='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>'},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){if(n(17)){var o=n(46),r=n(10),i=n(11),a=n(0),s=n(81),l=n(110),c=n(31),u=n(59),d=n(44),f=n(27),h=n(60),p=n(33),g=n(15),v=n(144),m=n(48),y=n(42),b=n(26),w=n(64),k=n(13),x=n(22),C=n(102),S=n(49),_=n(51),E=n(50).f,T=n(104),O=n(45),M=n(14),L=n(36),B=n(71),I=n(65),P=n(106),R=n(57),A=n(74),j=n(58),N=n(105),$=n(135),D=n(18),F=n(34),H=D.f,z=F.f,U=r.RangeError,W=r.TypeError,V=r.Uint8Array,G=Array.prototype,q=l.ArrayBuffer,Y=l.DataView,X=L(0),K=L(2),Z=L(3),J=L(4),Q=L(5),ee=L(6),te=B(!0),ne=B(!1),oe=P.values,re=P.keys,ie=P.entries,ae=G.lastIndexOf,se=G.reduce,le=G.reduceRight,ce=G.join,ue=G.sort,de=G.slice,fe=G.toString,he=G.toLocaleString,pe=M("iterator"),ge=M("toStringTag"),ve=O("typed_constructor"),me=O("def_constructor"),ye=s.CONSTR,be=s.TYPED,we=s.VIEW,ke=L(1,(function(e,t){return Ee(I(e,e[me]),t)})),xe=i((function(){return 1===new V(new Uint16Array([1]).buffer)[0]})),Ce=!!V&&!!V.prototype.set&&i((function(){new V(1).set({})})),Se=function(e,t){var n=p(e);if(n<0||n%t)throw U("Wrong offset!");return n},_e=function(e){if(k(e)&&be in e)return e;throw W(e+" is not a typed array!")},Ee=function(e,t){if(!k(e)||!(ve in e))throw W("It is not a typed array constructor!");return new e(t)},Te=function(e,t){return Oe(I(e,e[me]),t)},Oe=function(e,t){for(var n=0,o=t.length,r=Ee(e,o);o>n;)r[n]=t[n++];return r},Me=function(e,t,n){H(e,t,{get:function(){return this._d[n]}})},Le=function(e){var t,n,o,r,i,a,s=x(e),l=arguments.length,u=l>1?arguments[1]:void 0,d=void 0!==u,f=T(s);if(null!=f&&!C(f)){for(a=f.call(s),o=[],t=0;!(i=a.next()).done;t++)o.push(i.value);s=o}for(d&&l>2&&(u=c(u,arguments[2],2)),t=0,n=g(s.length),r=Ee(this,n);n>t;t++)r[t]=d?u(s[t],t):s[t];return r},Be=function(){for(var e=0,t=arguments.length,n=Ee(this,t);t>e;)n[e]=arguments[e++];return n},Ie=!!V&&i((function(){he.call(new V(1))})),Pe=function(){return he.apply(Ie?de.call(_e(this)):_e(this),arguments)},Re={copyWithin:function(e,t){return $.call(_e(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return J(_e(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return N.apply(_e(this),arguments)},filter:function(e){return Te(this,K(_e(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Q(_e(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(_e(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){X(_e(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(_e(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(_e(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(_e(this),arguments)},lastIndexOf:function(e){return ae.apply(_e(this),arguments)},map:function(e){return ke(_e(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(_e(this),arguments)},reduceRight:function(e){return le.apply(_e(this),arguments)},reverse:function(){for(var e,t=_e(this).length,n=Math.floor(t/2),o=0;o<n;)e=this[o],this[o++]=this[--t],this[t]=e;return this},some:function(e){return Z(_e(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ue.call(_e(this),e)},subarray:function(e,t){var n=_e(this),o=n.length,r=m(e,o);return new(I(n,n[me]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,g((void 0===t?o:m(t,o))-r))}},Ae=function(e,t){return Te(this,de.call(_e(this),e,t))},je=function(e){_e(this);var t=Se(arguments[1],1),n=this.length,o=x(e),r=g(o.length),i=0;if(r+t>n)throw U("Wrong length!");for(;i<r;)this[t+i]=o[i++]},Ne={entries:function(){return ie.call(_e(this))},keys:function(){return re.call(_e(this))},values:function(){return oe.call(_e(this))}},$e=function(e,t){return k(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},De=function(e,t){return $e(e,t=y(t,!0))?d(2,e[t]):z(e,t)},Fe=function(e,t,n){return!($e(e,t=y(t,!0))&&k(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?H(e,t,n):(e[t]=n.value,e)};ye||(F.f=De,D.f=Fe),a(a.S+a.F*!ye,"Object",{getOwnPropertyDescriptor:De,defineProperty:Fe}),i((function(){fe.call({})}))&&(fe=he=function(){return ce.call(this)});var He=h({},Re);h(He,Ne),f(He,pe,Ne.values),h(He,{slice:Ae,set:je,constructor:function(){},toString:fe,toLocaleString:Pe}),Me(He,"buffer","b"),Me(He,"byteOffset","o"),Me(He,"byteLength","l"),Me(He,"length","e"),H(He,ge,{get:function(){return this[be]}}),e.exports=function(e,t,n,l){var c=e+((l=!!l)?"Clamped":"")+"Array",d="get"+e,h="set"+e,p=r[c],m=p||{},y=p&&_(p),b=!p||!s.ABV,x={},C=p&&p.prototype,T=function(e,n){H(e,n,{get:function(){return function(e,n){var o=e._d;return o.v[d](n*t+o.o,xe)}(this,n)},set:function(e){return function(e,n,o){var r=e._d;l&&(o=(o=Math.round(o))<0?0:o>255?255:255&o),r.v[h](n*t+r.o,o,xe)}(this,n,e)},enumerable:!0})};b?(p=n((function(e,n,o,r){u(e,p,c,"_d");var i,a,s,l,d=0,h=0;if(k(n)){if(!(n instanceof q||"ArrayBuffer"==(l=w(n))||"SharedArrayBuffer"==l))return be in n?Oe(p,n):Le.call(p,n);i=n,h=Se(o,t);var m=n.byteLength;if(void 0===r){if(m%t)throw U("Wrong length!");if((a=m-h)<0)throw U("Wrong length!")}else if((a=g(r)*t)+h>m)throw U("Wrong length!");s=a/t}else s=v(n),i=new q(a=s*t);for(f(e,"_d",{b:i,o:h,l:a,e:s,v:new Y(i)});d<s;)T(e,d++)})),C=p.prototype=S(He),f(C,"constructor",p)):i((function(){p(1)}))&&i((function(){new p(-1)}))&&A((function(e){new p,new p(null),new p(1.5),new p(e)}),!0)||(p=n((function(e,n,o,r){var i;return u(e,p,c),k(n)?n instanceof q||"ArrayBuffer"==(i=w(n))||"SharedArrayBuffer"==i?void 0!==r?new m(n,Se(o,t),r):void 0!==o?new m(n,Se(o,t)):new m(n):be in n?Oe(p,n):Le.call(p,n):new m(v(n))})),X(y!==Function.prototype?E(m).concat(E(y)):E(m),(function(e){e in p||f(p,e,m[e])})),p.prototype=C,o||(C.constructor=p));var O=C[pe],M=!!O&&("values"==O.name||null==O.name),L=Ne.values;f(p,ve,!0),f(C,be,c),f(C,we,!0),f(C,me,p),(l?new p(1)[ge]==c:ge in C)||H(C,ge,{get:function(){return c}}),x[c]=p,a(a.G+a.W+a.F*(p!=m),x),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*i((function(){m.of.call(p,1)})),c,{from:Le,of:Be}),"BYTES_PER_ELEMENT"in C||f(C,"BYTES_PER_ELEMENT",t),a(a.P,c,Re),j(c),a(a.P+a.F*Ce,c,{set:je}),a(a.P+a.F*!M,c,Ne),o||C.toString==fe||(C.toString=fe),a(a.P+a.F*i((function(){new p(1).slice()})),c,{slice:Ae}),a(a.P+a.F*(i((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!i((function(){C.toLocaleString.call([1,2])}))),c,{toLocaleString:Pe}),R[c]=M?O:L,o||M||f(C,pe,L)}}else e.exports=function(){}},function(e,t,n){var o=n(369),r=n(370),i=n(148),a=n(371);e.exports=function(e){return o(e)||r(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o=n(13);e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var o=n(45)("meta"),r=n(13),i=n(26),a=n(18).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(11)((function(){return l(Object.preventExtensions({}))})),u=function(e){a(e,o,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,o)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[o].i},getWeak:function(e,t){if(!i(e,o)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[o].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!i(e,o)&&u(e),e}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},function(e,t){e.exports=!1},function(e,t,n){var o=n(119),r=n(89);e.exports=Object.keys||function(e){return o(e,r)}},function(e,t,n){var o=n(33),r=Math.max,i=Math.min;e.exports=function(e,t){return(e=o(e))<0?r(e+t,0):i(e,t)}},function(e,t,n){var o=n(12),r=n(120),i=n(89),a=n(88)("IE_PROTO"),s=function(){},l=function(){var e,t=n(86)("iframe"),o=i.length;for(t.style.display="none",n(90).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;o--;)delete l.prototype[i[o]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=o(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:r(n,t)}},function(e,t,n){var o=n(119),r=n(89).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,r)}},function(e,t,n){var o=n(26),r=n(22),i=n(88)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),o(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var o=n(14)("unscopables"),r=Array.prototype;null==r[o]&&n(27)(r,o,{}),e.exports=function(e){r[o][e]=!0}},function(e,t,n){var o=n(13);e.exports=function(e,t){if(!o(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(150)],void 0===(i="function"==typeof(o=function(o,r,i,a){var s=n(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=s(r),i=s(i),a=s(a);var l=function(){function e(){(0,r.default)(this,e)}return(0,i.default)(e,null,[{key:"ui",value:function(t,n){return e._t(t,n)}},{key:"t",value:function(t,n){return e._t(t,n)}},{key:"setDictionary",value:function(t){e.currentDictionary=t}},{key:"_t",value:function(t,n){var o=e.getNamespace(t);return o&&o[n]?o[n]:n}},{key:"getNamespace",value:function(t){return t.split(".").reduce((function(e,t){return e&&Object.keys(e).length?e[t]:{}}),e.currentDictionary)}}]),e}();o.default=l,l.displayName="I18n",l.currentDictionary=a.default,e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o=n(18).f,r=n(26),i=n(14)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,i)&&o(e,i,{configurable:!0,value:t})}},function(e,t,n){var o=n(0),r=n(39),i=n(11),a=n(92),s="["+a+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(e,t,n){var r={},s=i((function(){return!!a[e]()||"​"!="​"[e]()})),l=r[e]=s?t(d):a[e];n&&(r[n]=l),o(o.P+o.F*s,"String",r)},d=u.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=u},function(e,t){e.exports={}},function(e,t,n){var o=n(10),r=n(18),i=n(17),a=n(14)("species");e.exports=function(e){var t=o[e];i&&t&&!t[a]&&r.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,o){if(!(e instanceof t)||void 0!==o&&o in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var o=n(23);e.exports=function(e,t,n){for(var r in t)o(e,r,t[r],n);return e}},function(e,t,n){var o,r,i,a=n(7);r=[t,n(20),n(30),n(21),n(41),n(2),n(3),n(152),n(114),n(5),n(6),n(4),n(19),n(8),n(113),n(25),n(82)],void 0===(i="function"==typeof(o=function(e,t,o,r,i,s,l,c,u,d,f,h,p,g,v,m,y){var b,w=n(1);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,h.default)(e);if(t){var r=(0,h.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,f.default)(this,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockToolAPI=void 0,t=w(t),o=w(o),r=w(r),i=w(i),s=w(s),l=w(l),c=w(c),u=w(u),d=w(d),f=w(f),h=w(h),p=w(p),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(g),v=w(v),m=w(m),y=w(y),e.BlockToolAPI=b,function(e){e.APPEND_CALLBACK="appendCallback",e.RENDERED="rendered",e.MOVED="moved",e.UPDATED="updated",e.REMOVED="removed",e.ON_PASTE="onPaste"}(b||(e.BlockToolAPI=b={}));var C=function(e){(0,d.default)(k,e);var n,a,f,y,w=x(k);function k(e){var t,n=e.id,o=void 0===n?g.generateBlockId():n,r=e.data,a=e.tool,l=e.api,u=e.readOnly,d=e.tunesData;return(0,s.default)(this,k),(t=w.call(this)).cachedInputs=[],t.tunesInstances=new Map,t.defaultTunesInstances=new Map,t.unavailableTunesData={},t.inputIndex=0,t.modificationDebounceTimer=450,t.didMutated=g.debounce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e instanceof InputEvent||!e.some((function(e){var t=e.addedNodes,n=void 0===t?[]:t,o=e.removedNodes;return[].concat((0,i.default)(Array.from(n)),(0,i.default)(Array.from(o))).some((function(e){return p.default.isElement(e)&&"true"===e.dataset.mutationFree}))}));n&&(t.cachedInputs=[],t.updateCurrentInput(),t.call(b.UPDATED),t.emit("didMutated",(0,c.default)(t)))}),t.modificationDebounceTimer),t.handleFocus=function(){t.cachedInputs=[],t.updateCurrentInput()},t.name=a.name,t.id=o,t.settings=a.settings,t.config=a.settings.config||{},t.api=l,t.blockAPI=new v.default((0,c.default)(t)),t.mutationObserver=new MutationObserver(t.didMutated),t.tool=a,t.toolInstance=a.create(r,t.blockAPI,u),t.tunes=a.tunes,t.composeTunes(d),t.holder=t.compose(),t}return(0,l.default)(k,[{key:"inputs",get:function(){if(0!==this.cachedInputs.length)return this.cachedInputs;var e=p.default.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}},{key:"currentInput",get:function(){return this.inputs[this.inputIndex]},set:function(e){var t=this.inputs.findIndex((function(t){return t===e||t.contains(e)}));-1!==t&&(this.inputIndex=t)}},{key:"firstInput",get:function(){return this.inputs[0]}},{key:"lastInput",get:function(){var e=this.inputs;return e[e.length-1]}},{key:"nextInput",get:function(){return this.inputs[this.inputIndex+1]}},{key:"previousInput",get:function(){return this.inputs[this.inputIndex-1]}},{key:"data",get:function(){return this.save().then((function(e){return e&&!g.isEmpty(e.data)?e.data:{}}))}},{key:"sanitize",get:function(){return this.tool.sanitizeConfig}},{key:"mergeable",get:function(){return g.isFunction(this.toolInstance.merge)}},{key:"isEmpty",get:function(){var e=p.default.isEmpty(this.pluginsContent),t=!this.hasMedia;return e&&t}},{key:"hasMedia",get:function(){return!!this.holder.querySelector(["img","iframe","video","audio","source","input","textarea","twitterwidget"].join(","))}},{key:"focused",get:function(){return this.holder.classList.contains(k.CSS.focused)},set:function(e){this.holder.classList.toggle(k.CSS.focused,e)}},{key:"selected",get:function(){return this.holder.classList.contains(k.CSS.selected)},set:function(e){e?(this.holder.classList.add(k.CSS.selected),m.default.addFakeCursor(this.holder)):(this.holder.classList.remove(k.CSS.selected),m.default.removeFakeCursor(this.holder))}},{key:"stretched",get:function(){return this.holder.classList.contains(k.CSS.wrapperStretched)},set:function(e){this.holder.classList.toggle(k.CSS.wrapperStretched,e)}},{key:"dropTarget",set:function(e){this.holder.classList.toggle(k.CSS.dropTarget,e)}},{key:"pluginsContent",get:function(){var e=this.holder.querySelector(".".concat(k.CSS.content));if(e&&e.childNodes.length)for(var t=e.childNodes.length-1;t>=0;t--){var n=e.childNodes[t];if(!p.default.isExtensionNode(n))return n}return null}},{key:"call",value:function(e,t){if(g.isFunction(this.toolInstance[e])){e===b.APPEND_CALLBACK&&g.log("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,t)}catch(t){g.log("Error during '".concat(e,"' call: ").concat(t.message),"error")}}}},{key:"mergeWith",value:(y=(0,r.default)(t.default.mark((function e(n){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toolInstance.merge(n);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"save",value:(f=(0,r.default)(t.default.mark((function e(){var n,r,a,s,l=this;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toolInstance.save(this.pluginsContent);case 2:return n=e.sent,r=this.unavailableTunesData,[].concat((0,i.default)(this.tunesInstances.entries()),(0,i.default)(this.defaultTunesInstances.entries())).forEach((function(e){var t=(0,o.default)(e,2),n=t[0],i=t[1];if(g.isFunction(i.save))try{r[n]=i.save()}catch(e){g.log("Tune ".concat(i.constructor.name," save method throws an Error %o"),"warn",e)}})),a=window.performance.now(),e.abrupt("return",Promise.resolve(n).then((function(e){return s=window.performance.now(),{id:l.id,tool:l.name,data:e,tunes:r,time:s-a}})).catch((function(e){g.log("Saving process for ".concat(l.name," tool failed due to the ").concat(e),"log","red")})));case 7:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"validate",value:(a=(0,r.default)(t.default.mark((function e(n){var o;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!0,!(this.toolInstance.validate instanceof Function)){e.next=5;break}return e.next=4,this.toolInstance.validate(n);case 4:o=e.sent;case 5:return e.abrupt("return",o);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"getTunes",value:function(){var e=document.createElement("div"),t=[];return["function"==typeof this.toolInstance.renderSettings?this.toolInstance.renderSettings():[],[].concat((0,i.default)(this.tunesInstances.values()),(0,i.default)(this.defaultTunesInstances.values())).map((function(e){return e.render()}))].flat().forEach((function(n){p.default.isElement(n)?e.appendChild(n):Array.isArray(n)?t.push.apply(t,(0,i.default)(n)):t.push(n)})),[t,e]}},{key:"updateCurrentInput",value:function(){this.currentInput=p.default.isNativeInput(document.activeElement)||!m.default.anchorNode?document.activeElement:m.default.anchorNode}},{key:"willSelect",value:function(){this.mutationObserver.observe(this.holder.firstElementChild,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.addInputEvents()}},{key:"willUnselect",value:function(){this.mutationObserver.disconnect(),this.removeInputEvents()}},{key:"dispatchChange",value:function(){this.didMutated()}},{key:"destroy",value:function(){(0,u.default)((0,h.default)(k.prototype),"destroy",this).call(this),g.isFunction(this.toolInstance.destroy)&&this.toolInstance.destroy()}},{key:"getActiveToolboxEntry",value:(n=(0,r.default)(t.default.mark((function e(){var n,r,i;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==(n=this.tool.toolbox).length){e.next=3;break}return e.abrupt("return",Promise.resolve(this.tool.toolbox[0]));case 3:return e.next=5,this.data;case 5:return r=e.sent,i=n,e.abrupt("return",i.find((function(e){return Object.entries(e.data).some((function(e){var t=(0,o.default)(e,2),n=t[0],i=t[1];return r[n]&&g.equals(r[n],i)}))})));case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"compose",value:function(){var e=p.default.make("div",k.CSS.wrapper),t=p.default.make("div",k.CSS.content),n=this.toolInstance.render();t.appendChild(n);var o=t;return[].concat((0,i.default)(this.tunesInstances.values()),(0,i.default)(this.defaultTunesInstances.values())).forEach((function(e){if(g.isFunction(e.wrap))try{o=e.wrap(o)}catch(t){g.log("Tune ".concat(e.constructor.name," wrap method throws an Error %o"),"warn",t)}})),e.appendChild(o),e}},{key:"composeTunes",value:function(e){var t=this;Array.from(this.tunes.values()).forEach((function(n){(n.isInternal?t.defaultTunesInstances:t.tunesInstances).set(n.name,n.create(e[n.name],t.blockAPI))})),Object.entries(e).forEach((function(e){var n=(0,o.default)(e,2),r=n[0],i=n[1];t.tunesInstances.has(r)||(t.unavailableTunesData[r]=i)}))}},{key:"addInputEvents",value:function(){var e=this;this.inputs.forEach((function(t){t.addEventListener("focus",e.handleFocus),p.default.isNativeInput(t)&&t.addEventListener("input",e.didMutated)}))}},{key:"removeInputEvents",value:function(){var e=this;this.inputs.forEach((function(t){t.removeEventListener("focus",e.handleFocus),p.default.isNativeInput(t)&&t.removeEventListener("input",e.didMutated)}))}}],[{key:"CSS",get:function(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}}]),k}(y.default);e.default=C,C.displayName="Block"})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o=n(38);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var o=n(38),r=n(14)("toStringTag"),i="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:i?o(t):"Object"==(a=o(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var o=n(12),r=n(32),i=n(14)("species");e.exports=function(e,t){var n,a=o(e).constructor;return void 0===a||null==(n=o(a)[i])?t:r(n)}},function(e,t,n){var o,r,i,a=n(7);r=[t,n(8),n(380)],void 0===(i="function"==typeof(o=function(e,t,o){var r=n(1);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e){var t={tags:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};return new o.default(t).clean(e)}function l(e,n){return Array.isArray(e)?(i=n,e.map((function(e){return l(e,i)}))):t.isObject(e)?function(e,n){var o,r={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=e[i],s=(o=n[i],t.isObject(o)||t.isBoolean(o)||t.isFunction(o)?n[i]:n);r[i]=l(a,s)}return r}(e,n):t.isString(e)?(o=e,r=n,t.isObject(r)?s(o,r):!1===r?s(o,{}):o):e;var o,r,i}Object.defineProperty(e,"__esModule",{value:!0}),e.clean=s,e.sanitizeBlocks=function(e,n){return e.map((function(e){var o=t.isFunction(n)?n(e.tool):n;return t.isEmpty(o)||(e.data=l(e.data,o)),e}))},t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=r?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}return o.default=e,n&&n.set(e,o),o}(t),o=r(o)})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(2),n(3),n(382),n(8)],void 0===(i="function"==typeof(o=function(o,r,i,s,l){var c=n(1);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=c(r),i=c(i),s=c(s),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(l);var d=function(){function e(t){var n=this;(0,r.default)(this,e),this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=function(t){if(n.isEventReadyForHandling(t))switch(e.usedKeys.includes(t.keyCode)&&t.preventDefault(),t.keyCode){case l.keyCodes.TAB:n.handleTabPress(t);break;case l.keyCodes.LEFT:case l.keyCodes.UP:n.flipLeft();break;case l.keyCodes.RIGHT:case l.keyCodes.DOWN:n.flipRight();break;case l.keyCodes.ENTER:n.handleEnterPress(t)}},this.iterator=new s.default(t.items,t.focusedItemClass),this.activateCallback=t.activateCallback,this.allowedKeys=t.allowedKeys||e.usedKeys}return(0,i.default)(e,[{key:"isActivated",get:function(){return this.activated}},{key:"activate",value:function(e,t){this.activated=!0,e&&this.iterator.setItems(e),void 0!==t&&this.iterator.setCursor(t),document.addEventListener("keydown",this.onKeyDown,!0)}},{key:"deactivate",value:function(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}},{key:"focusFirst",value:function(){this.dropCursor(),this.flipRight()}},{key:"flipLeft",value:function(){this.iterator.previous(),this.flipCallback()}},{key:"flipRight",value:function(){this.iterator.next(),this.flipCallback()}},{key:"hasFocus",value:function(){return!!this.iterator.currentItem}},{key:"onFlip",value:function(e){this.flipCallbacks.push(e)}},{key:"removeOnFlip",value:function(e){this.flipCallbacks=this.flipCallbacks.filter((function(t){return t!==e}))}},{key:"dropCursor",value:function(){this.iterator.dropCursor()}},{key:"isEventReadyForHandling",value:function(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}},{key:"handleTabPress",value:function(e){switch(e.shiftKey?s.default.directions.LEFT:s.default.directions.RIGHT){case s.default.directions.RIGHT:this.flipRight();break;case s.default.directions.LEFT:this.flipLeft()}}},{key:"handleEnterPress",value:function(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),l.isFunction(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}},{key:"flipCallback",value:function(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach((function(e){return e()}))}}],[{key:"usedKeys",get:function(){return[l.keyCodes.TAB,l.keyCodes.LEFT,l.keyCodes.RIGHT,l.keyCodes.ENTER,l.keyCodes.UP,l.keyCodes.DOWN]}}]),e}();o.default=d,d.displayName="Flipper",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(30),n(150),n(8)],void 0===(i="function"==typeof(o=function(e,t,o,r){var i=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.I18nInternalNS=void 0,t=i(t);var a=function e(n,o){var i={};return Object.entries(n).forEach((function(n){var a=(0,t.default)(n,2),s=a[0],l=a[1];if((0,r.isObject)(l)){var c=o?"".concat(o,".").concat(s):s,u=Object.values(l).every((function(e){return(0,r.isString)(e)}));i[s]=u?c:e(l,c)}else i[s]=l})),i}((o=i(o)).default);e.I18nInternalNS=a})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(2),n(3),n(8)],void 0===(i="function"==typeof(o=function(e,t,o,r){var i,s,l,c,u,d,f=n(1);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.UserSettings=e.ToolType=e.InternalTuneSettings=e.InternalInlineToolSettings=e.InternalBlockToolSettings=e.CommonInternalSettings=void 0,t=f(t),o=f(o),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(r),e.ToolType=i,function(e){e[e.Block=0]="Block",e[e.Inline=1]="Inline",e[e.Tune=2]="Tune"}(i||(e.ToolType=i={})),e.UserSettings=s,function(e){e.Shortcut="shortcut",e.Toolbox="toolbox",e.EnabledInlineTools="inlineToolbar",e.EnabledBlockTunes="tunes",e.Config="config"}(s||(e.UserSettings=s={})),e.CommonInternalSettings=l,function(e){e.Shortcut="shortcut",e.SanitizeConfig="sanitize"}(l||(e.CommonInternalSettings=l={})),e.InternalBlockToolSettings=c,function(e){e.IsEnabledLineBreaks="enableLineBreaks",e.Toolbox="toolbox",e.ConversionConfig="conversionConfig",e.IsReadOnlySupported="isReadOnlySupported",e.PasteConfig="pasteConfig"}(c||(e.InternalBlockToolSettings=c={})),e.InternalInlineToolSettings=u,function(e){e.IsInline="isInline",e.Title="title"}(u||(e.InternalInlineToolSettings=u={})),e.InternalTuneSettings=d,function(e){e.IsTune="isTune"}(d||(e.InternalTuneSettings=d={}));var p=function(){function e(n){var o=n.name,r=n.constructable,i=n.config,a=n.api,s=n.isDefault,l=n.isInternal,c=void 0!==l&&l,u=n.defaultPlaceholder;(0,t.default)(this,e),this.api=a,this.name=o,this.constructable=r,this.config=i,this.isDefault=s,this.isInternal=c,this.defaultPlaceholder=u}return(0,o.default)(e,[{key:"settings",get:function(){var e=this.config[s.Config]||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}},{key:"reset",value:function(){if(r.isFunction(this.constructable.reset))return this.constructable.reset()}},{key:"prepare",value:function(){if(r.isFunction(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}},{key:"shortcut",get:function(){var e=this.constructable[l.Shortcut];return this.config[s.Shortcut]||e}},{key:"sanitizeConfig",get:function(){return this.constructable[l.SanitizeConfig]||{}}},{key:"isInline",value:function(){return this.type===i.Inline}},{key:"isBlock",value:function(){return this.type===i.Block}},{key:"isTune",value:function(){return this.type===i.Tune}}]),e}();e.default=p,p.displayName="BaseTool"})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o=n(16),r=n(10),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:o.version,mode:n(46)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var o=n(28),r=n(15),i=n(48);e.exports=function(e){return function(t,n,a){var s,l=o(t),c=r(l.length),u=i(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var o=n(38);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,t,n){var o=n(14)("iterator"),r=!1;try{var i=[7][o]();i.return=function(){r=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var i=[7],a=i[o]();a.next=function(){return{done:n=!0}},i[o]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){var o=n(12);e.exports=function(){var e=o(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var o=n(64),r=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==o(e))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},function(e,t,n){n(137);var o=n(23),r=n(27),i=n(11),a=n(39),s=n(14),l=n(107),c=s("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var f=s(e),h=!i((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),p=h?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[f](""),!t})):void 0;if(!h||!p||"replace"===e&&!u||"split"===e&&!d){var g=/./[f],v=n(a,f,""[e],(function(e,t,n,o,r){return t.exec===l?h&&!r?{done:!0,value:g.call(t,n,o)}:{done:!0,value:e.call(n,t,o)}:{done:!1}})),m=v[0],y=v[1];o(String.prototype,e,m),r(RegExp.prototype,f,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},function(e,t,n){var o=n(31),r=n(132),i=n(102),a=n(12),s=n(15),l=n(104),c={},u={};(t=e.exports=function(e,t,n,d,f){var h,p,g,v,m=f?function(){return e}:l(e),y=o(n,d,t?2:1),b=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(i(m)){for(h=s(e.length);h>b;b++)if((v=t?y(a(p=e[b])[0],p[1]):y(e[b]))===c||v===u)return v}else for(g=m.call(e);!(p=g.next()).done;)if((v=r(g,y,p.value,t))===c||v===u)return v}).BREAK=c,t.RETURN=u},function(e,t,n){var o=n(10).navigator;e.exports=o&&o.userAgent||""},function(e,t,n){var o=n(10),r=n(0),i=n(23),a=n(60),s=n(43),l=n(78),c=n(59),u=n(13),d=n(11),f=n(74),h=n(55),p=n(93);e.exports=function(e,t,n,g,v,m){var y=o[e],b=y,w=v?"set":"add",k=b&&b.prototype,x={},C=function(e){var t=k[e];i(k,e,"delete"==e||"has"==e?function(e){return!(m&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(m||k.forEach&&!d((function(){(new b).entries().next()})))){var S=new b,_=S[w](m?{}:-0,1)!=S,E=d((function(){S.has(1)})),T=f((function(e){new b(e)})),O=!m&&d((function(){for(var e=new b,t=5;t--;)e[w](t,t);return!e.has(-0)}));T||((b=t((function(t,n){c(t,b,e);var o=p(new y,t,b);return null!=n&&l(n,v,o[w],o),o}))).prototype=k,k.constructor=b),(E||O)&&(C("delete"),C("has"),v&&C("get")),(O||_)&&C(w),m&&k.clear&&delete k.clear}else b=g.getConstructor(t,e,v,w),a(b.prototype,n),s.NEED=!0;return h(b,e),x[e]=b,r(r.G+r.W+r.F*(b!=y),x),m||g.setStrong(b,e,v),b}},function(e,t,n){for(var o,r=n(10),i=n(27),a=n(45),s=a("typed_array"),l=a("view"),c=!(!r.ArrayBuffer||!r.DataView),u=c,d=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(o=r[f[d++]])?(i(o.prototype,s,!0),i(o.prototype,l,!0)):u=!1;e.exports={ABV:c,CONSTR:u,TYPED:s,VIEW:l}},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(8)],void 0===(i="function"==typeof(o=function(o,r,i,a){var s=n(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=s(r),i=s(i);var l=function(){function e(){(0,r.default)(this,e),this.subscribers={}}return(0,i.default)(e,[{key:"on",value:function(e,t){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(t)}},{key:"once",value:function(e,t){var n=this;e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push((function o(r){var i=t(r),a=n.subscribers[e].indexOf(o);return-1!==a&&n.subscribers[e].splice(a,1),i}))}},{key:"emit",value:function(e,t){!(0,a.isEmpty)(this.subscribers)&&this.subscribers[e]&&this.subscribers[e].reduce((function(e,t){return t(e)||e}),t)}},{key:"off",value:function(e,t){for(var n=0;n<this.subscribers[e].length;n++)if(this.subscribers[e][n]===t){delete this.subscribers[e][n];break}}},{key:"destroy",value:function(){this.subscribers=null}}]),e}();o.default=l,l.displayName="EventsDispatcher",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(5),n(6),n(4),n(9)],void 0===(i="function"==typeof(o=function(o,r,i,a,s,l,c){var u=n(1);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=u(r),i=u(i),a=u(a),s=u(s),l=u(l);var f=function(e){(0,a.default)(n,e);var t=d(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"methods",get:function(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}},{key:"getMethodsForTool",value:function(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}}]),n}((c=u(c)).default);o.default=f,f.displayName="API",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(2),n(3),n(5),n(6),n(4),n(9),n(19),n(8),n(54),n(68),n(115),n(386),n(37)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d,f,h,p,g,v,m){var y=n(1);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=y(r),i=y(i),s=y(s),l=y(l),c=y(c),u=y(u),d=y(d),f=w(f),h=y(h),g=y(g),v=w(v);var x=function(e){(0,s.default)(n,e);var t=k(n);function n(e){var o,i=e.config,a=e.eventsDispatcher;return(0,r.default)(this,n),(o=t.call(this,{config:i,eventsDispatcher:a})).tooltip=new g.default,o}return(0,i.default)(n,[{key:"CSS",get:function(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}},{key:"toolbox",get:function(){var e=this;return{opened:this.toolboxInstance.opened,close:function(){e.toolboxInstance.close()},open:function(){e.Editor.BlockManager.currentBlock=e.hoveredBlock,e.toolboxInstance.open()},toggle:function(){return e.toolboxInstance.toggle()},hasFocus:function(){return e.toolboxInstance.hasFocus()}}}},{key:"blockActions",get:function(){var e=this;return{hide:function(){e.nodes.actions.classList.remove(e.CSS.actionsOpened)},show:function(){e.nodes.actions.classList.add(e.CSS.actionsOpened)}}}},{key:"blockTunesToggler",get:function(){var e=this;return{hide:function(){return e.nodes.settingsToggler.classList.add(e.CSS.settingsTogglerHidden)},show:function(){return e.nodes.settingsToggler.classList.remove(e.CSS.settingsTogglerHidden)}}}},{key:"toggleReadOnly",value:function(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}},{key:"moveAndOpen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.Editor.BlockManager.currentBlock;if(this.toolboxInstance.close(),this.Editor.BlockSettings.close(),e){this.hoveredBlock=e;var t,n=e.holder,o=this.Editor.UI.isMobile,r=e.pluginsContent,i=window.getComputedStyle(r),a=parseInt(i.paddingTop,10),s=n.offsetHeight;t=o?n.offsetTop+s:n.offsetTop+a,this.nodes.wrapper.style.top="".concat(Math.floor(t),"px"),1===this.Editor.BlockManager.blocks.length&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}}},{key:"close",value:function(){this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.toolboxInstance.close(),this.Editor.BlockSettings.close())}},{key:"open",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];f.delay((function(){e.nodes.wrapper.classList.add(e.CSS.toolbarOpened),t?e.blockActions.show():e.blockActions.hide()}),50)()}},{key:"make",value:function(){var e=this;this.nodes.wrapper=d.default.make("div",this.CSS.toolbar),["content","actions"].forEach((function(t){e.nodes[t]=d.default.make("div",e.CSS[t])})),d.default.append(this.nodes.wrapper,this.nodes.content),d.default.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=d.default.make("div",this.CSS.plusButton,{innerHTML:m.IconPlus}),d.default.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",(function(){e.tooltip.hide(!0),e.plusButtonClicked()}),!1);var t=d.default.make("div");t.appendChild(document.createTextNode(h.default.ui(p.I18nInternalNS.ui.toolbar.toolbox,"Add"))),t.appendChild(d.default.make("div",this.CSS.plusButtonShortcut,{textContent:"⇥ Tab"})),this.tooltip.onHover(this.nodes.plusButton,t,{hidingDelay:400}),this.nodes.settingsToggler=d.default.make("span",this.CSS.settingsToggler,{innerHTML:m.IconMenu}),d.default.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,h.default.ui(p.I18nInternalNS.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),d.default.append(this.nodes.actions,this.makeToolbox()),d.default.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),d.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}},{key:"makeToolbox",value:function(){var e=this;return this.toolboxInstance=new v.default({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:h.default.ui(p.I18nInternalNS.ui.popover,"Filter"),nothingFound:h.default.ui(p.I18nInternalNS.ui.popover,"Nothing found")}}),this.toolboxInstance.on(v.ToolboxEvent.Opened,(function(){e.Editor.UI.nodes.wrapper.classList.add(e.CSS.openedToolboxHolderModifier)})),this.toolboxInstance.on(v.ToolboxEvent.Closed,(function(){e.Editor.UI.nodes.wrapper.classList.remove(e.CSS.openedToolboxHolderModifier)})),this.toolboxInstance.on(v.ToolboxEvent.BlockAdded,(function(t){var n=t.block,o=e.Editor,r=o.BlockManager,i=o.Caret,a=r.getBlockById(n.id);0===a.inputs.length&&(a===r.lastBlock?(r.insertAtEnd(),i.setToBlock(r.lastBlock)):i.setToBlock(r.nextBlock))})),this.toolboxInstance.make()}},{key:"plusButtonClicked",value:function(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.toggle()}},{key:"enableModuleBindings",value:function(){var e=this;this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",(function(t){t.stopPropagation(),e.settingsTogglerClicked(),e.toolboxInstance.close(),e.tooltip.hide(!0)}),!0),f.isMobileScreen()||this.eventsDispatcher.on(this.Editor.UI.events.blockHovered,(function(t){e.Editor.BlockSettings.opened||e.toolboxInstance.opened||e.moveAndOpen(t.block)}))}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"settingsTogglerClicked",value:function(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}},{key:"drawUI",value:function(){this.Editor.BlockSettings.make(),this.make()}},{key:"destroy",value:function(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}}]),n}(u.default);o.default=x,x.displayName="Toolbar",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(41),n(2),n(3),n(5),n(6),n(4),n(7),n(19),n(112),n(67),n(387),n(82),n(8),n(388),n(37)],void 0===(i="function"==typeof(o=function(e,t,o,r,i,a,s,l,c,u,d,f,h,p,g,v){var m=n(1);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,a.default)(this,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.PopoverEvent=void 0,t=m(t),o=m(o),r=m(r),i=m(i),a=m(a),s=m(s),l=m(l),c=m(c),u=m(u),d=m(d),f=m(f),h=m(h),g=m(g);var b,w=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":(0,l.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};e.PopoverEvent=b,function(e){e.OverlayClicked="overlay-clicked",e.Close="close"}(b||(e.PopoverEvent=b={}));var k=function(e){(0,i.default)(a,e);var n=y(a);function a(e){var t,r=e.items,i=e.className,s=e.searchable,l=e.filterLabel,c=e.nothingFoundLabel,d=e.customContent,f=e.customContentFlippableItems,h=e.scopeElement;return(0,o.default)(this,a),(t=n.call(this)).customContentFlippableItems=[],t.isShown=!1,t.nodes={wrapper:null,popover:null,items:null,nothingFound:null,overlay:null},t.scrollLocker=new g.default,t.itemsRequiringConfirmation={},t.removeSpecialHoverBehavior=function(){var e=t.nodes.items.querySelector(".".concat(a.CSS.itemNoHover));e&&e.classList.remove(a.CSS.itemNoHover)},t.onFlip=function(){t.disableSpecialHoverAndFocusBehavior()},t.items=r,t.customContent=d,t.customContentFlippableItems=f,t.className=i||"",t.searchable=s,t.listeners=new u.default,t.scopeElement=h,t.filterLabel=l,t.nothingFoundLabel=c,t.render(),t.enableFlipper(),t}return(0,r.default)(a,[{key:"getElement",value:function(){return this.nodes.wrapper}},{key:"show",value:function(){var e=this;this.shouldOpenPopoverBottom||(this.nodes.wrapper.style.setProperty("--popover-height",this.calculateHeight()+"px"),this.nodes.wrapper.classList.add(this.className+"--opened-top")),this.search&&this.search.clear(),this.nodes.items.scrollTop=0,this.nodes.popover.classList.add(a.CSS.popoverOpened),this.nodes.overlay.classList.remove(a.CSS.popoverOverlayHidden),this.flipper.activate(this.flippableElements),this.searchable&&setTimeout((function(){e.search.focus()}),100),(0,p.isMobileScreen)()&&this.scrollLocker.lock(),this.isShown=!0}},{key:"hide",value:function(){var e=this;this.isShown&&(this.nodes.popover.classList.remove(a.CSS.popoverOpened),this.nodes.overlay.classList.add(a.CSS.popoverOverlayHidden),this.flipper.deactivate(),(0,p.isMobileScreen)()&&this.scrollLocker.unlock(),this.isShown=!1,this.nodes.wrapper.classList.remove(this.className+"--opened-top"),Array.from(this.nodes.items.querySelectorAll(".".concat(a.CSS.itemConfirmation))).forEach((function(t){return e.cleanUpConfirmationStateForItem(t)})),this.disableSpecialHoverAndFocusBehavior(),this.emit(b.Close))}},{key:"destroy",value:function(){this.flipper.deactivate(),this.listeners.removeAll(),this.disableSpecialHoverAndFocusBehavior(),(0,p.isMobileScreen)()&&this.scrollLocker.unlock()}},{key:"hasFocus",value:function(){return this.flipper.hasFocus()}},{key:"calculateHeight",value:function(){var e,t=this.nodes.popover.cloneNode(!0);return t.style.visibility="hidden",t.style.position="absolute",t.style.top="-1000px",t.classList.add(a.CSS.popoverOpened),document.body.appendChild(t),e=t.offsetHeight,t.remove(),e}},{key:"render",value:function(){var e=this;this.nodes.wrapper=c.default.make("div",this.className),this.nodes.popover=c.default.make("div",a.CSS.popover),this.nodes.wrapper.appendChild(this.nodes.popover),this.nodes.overlay=c.default.make("div",[a.CSS.popoverOverlay,a.CSS.popoverOverlayHidden]),this.nodes.wrapper.appendChild(this.nodes.overlay),this.searchable&&this.addSearch(this.nodes.popover),this.customContent&&(this.customContent.classList.add(a.CSS.customContent),this.nodes.popover.appendChild(this.customContent)),this.nodes.items=c.default.make("div",a.CSS.itemsWrapper),this.items.forEach((function(t){e.nodes.items.appendChild(e.createItem(t))})),this.nodes.popover.appendChild(this.nodes.items),this.nodes.nothingFound=c.default.make("div",[a.CSS.noFoundMessage],{textContent:this.nothingFoundLabel}),this.nodes.popover.appendChild(this.nodes.nothingFound),this.listeners.on(this.nodes.popover,"click",(function(t){var n=t.target.closest(".".concat(a.CSS.item));n&&e.itemClicked(n,t)})),this.listeners.on(this.nodes.overlay,"click",(function(){e.emit(b.OverlayClicked)}))}},{key:"addSearch",value:function(e){var t=this;this.search=new f.default({items:this.items,placeholder:this.filterLabel,onSearch:function(e){var n=[];t.items.forEach((function(o,r){var i=t.nodes.items.children[r];e.includes(o)?(n.push(i),i.classList.remove(a.CSS.itemHidden)):i.classList.add(a.CSS.itemHidden)})),t.nodes.nothingFound.classList.toggle(a.CSS.noFoundMessageShown,0===n.length);var o=e.length===t.items.length,r=o?t.flippableElements:n;t.customContent&&t.customContent.classList.toggle(a.CSS.customContentHidden,!o),t.flipper.isActivated&&(t.reactivateFlipper(r),t.flipper.focusFirst())}});var n=this.search.getElement();e.appendChild(n)}},{key:"createItem",value:function(e){var t=c.default.make("div",a.CSS.item);e.name&&(t.dataset.itemName=e.name);var n=c.default.make("div",a.CSS.itemLabel,{innerHTML:e.title||""});return t.appendChild(c.default.make("div",a.CSS.itemIcon,{innerHTML:e.icon||v.IconDotCircle})),t.appendChild(n),e.secondaryLabel&&t.appendChild(c.default.make("div",a.CSS.itemSecondaryLabel,{textContent:e.secondaryLabel})),e.isActive&&t.classList.add(a.CSS.itemActive),e.isDisabled&&t.classList.add(a.CSS.itemDisabled),t}},{key:"itemClicked",value:function(e,t){var n=this,o=Array.from(this.nodes.items.children),r=o.indexOf(e),i=this.items[r];i.isDisabled||(o.filter((function(t){return t!==e})).forEach((function(e){n.cleanUpConfirmationStateForItem(e)})),i.confirmation?this.enableConfirmationStateForItem(i,e,r):(i.onActivate(i,t),this.toggleIfNeeded(r,o),i.closeOnActivate&&this.hide()))}},{key:"toggleIfNeeded",value:function(e,t){var n=this,o=this.items[e];if(!0===o.toggle)return o.isActive=!o.isActive,void t[e].classList.toggle(a.CSS.itemActive);if("string"==typeof o.toggle){var r=this.items.filter((function(e){return e.toggle===o.toggle}));if(1===r.length)return o.isActive=!o.isActive,void t[e].classList.toggle(a.CSS.itemActive);r.forEach((function(e){var r=n.items.indexOf(e),i=e===o;e.isActive=i,t[r].classList.toggle(a.CSS.itemActive,i)}))}}},{key:"enableConfirmationStateForItem",value:function(e,n,o){var r;void 0===this.itemsRequiringConfirmation[o]&&(this.itemsRequiringConfirmation[o]=e);var i=Object.assign(Object.assign(Object.assign({},e),e.confirmation),{confirmation:e.confirmation.confirmation});this.items[o]=i;var s=this.createItem(i);(r=s.classList).add.apply(r,[a.CSS.itemConfirmation].concat((0,t.default)(Array.from(n.classList)))),n.parentElement.replaceChild(s,n),this.enableSpecialHoverAndFocusBehavior(s),this.reactivateFlipper(this.flippableElements,this.flippableElements.indexOf(s))}},{key:"cleanUpConfirmationStateForItem",value:function(e){var t=Array.from(this.nodes.items.children).indexOf(e),n=this.itemsRequiringConfirmation[t];if(void 0!==n){var o=this.createItem(n);e.parentElement.replaceChild(o,e),this.items[t]=n,delete this.itemsRequiringConfirmation[t],e.removeEventListener("mouseleave",this.removeSpecialHoverBehavior),this.disableSpecialHoverAndFocusBehavior(),this.reactivateFlipper(this.flippableElements,this.flippableElements.indexOf(o))}}},{key:"enableSpecialHoverAndFocusBehavior",value:function(e){e.classList.add(a.CSS.itemNoHover),e.classList.add(a.CSS.itemNoFocus),e.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0}),this.flipper.onFlip(this.onFlip)}},{key:"disableSpecialHoverAndFocusBehavior",value:function(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.flipper.removeOnFlip(this.onFlip)}},{key:"removeSpecialFocusBehavior",value:function(){var e=this.nodes.items.querySelector(".".concat(a.CSS.itemNoFocus));e&&e.classList.remove(a.CSS.itemNoFocus)}},{key:"reactivateFlipper",value:function(e,t){this.flipper.deactivate(),this.flipper.activate(e,t)}},{key:"enableFlipper",value:function(){this.flipper=new d.default({items:this.flippableElements,focusedItemClass:a.CSS.itemFocused,allowedKeys:[p.keyCodes.TAB,p.keyCodes.UP,p.keyCodes.DOWN,p.keyCodes.ENTER]})}},{key:"flippableElements",get:function(){var e=Array.from(this.nodes.wrapper.querySelectorAll(".".concat(a.CSS.item)));return(this.customContentFlippableItems||[]).concat(e)}},{key:"shouldOpenPopoverBottom",get:function(){var e=this.nodes.wrapper.getBoundingClientRect(),t=this.scopeElement.getBoundingClientRect(),n=this.calculateHeight(),o=e.top+n,r=e.top-n,i=Math.min(window.innerHeight,t.bottom);return r<t.top||o<=i}}],[{key:"CSS",get:function(){return{popover:"ce-popover",popoverOpened:"ce-popover--opened",itemsWrapper:"ce-popover__items",item:"ce-popover__item",itemHidden:"ce-popover__item--hidden",itemFocused:"ce-popover__item--focused",itemActive:"ce-popover__item--active",itemDisabled:"ce-popover__item--disabled",itemConfirmation:"ce-popover__item--confirmation",itemNoHover:"ce-popover__item--no-visible-hover",itemNoFocus:"ce-popover__item--no-visible-focus",itemLabel:"ce-popover__item-label",itemIcon:"ce-popover__item-icon",itemSecondaryLabel:"ce-popover__item-secondary-label",noFoundMessage:"ce-popover__no-found",noFoundMessageShown:"ce-popover__no-found--shown",popoverOverlay:"ce-popover__overlay",popoverOverlayHidden:"ce-popover__overlay--hidden",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden"}}}]),a}(h.default);e.default=k,k.displayName="Popover",w([p.cacheable],k.prototype,"calculateHeight",null)})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o=n(13),r=n(10).document,i=o(r)&&o(r.createElement);e.exports=function(e){return i?r.createElement(e):{}}},function(e,t,n){t.f=n(14)},function(e,t,n){var o=n(70)("keys"),r=n(45);e.exports=function(e){return o[e]||(o[e]=r(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var o=n(10).document;e.exports=o&&o.documentElement},function(e,t,n){var o=n(13),r=n(12),i=function(e,t){if(r(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,o){try{(o=n(31)(Function.call,n(34).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:i}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var o=n(13),r=n(91).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&o(i)&&r&&r(e,i),e}},function(e,t,n){var o=n(33),r=n(39);e.exports=function(e){var t=String(r(this)),n="",i=o(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var o=n(33),r=n(39);e.exports=function(e){return function(t,n){var i,a,s=String(r(t)),l=o(n),c=s.length;return l<0||l>=c?e?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){var o=n(46),r=n(0),i=n(23),a=n(27),s=n(57),l=n(131),c=n(55),u=n(51),d=n(14)("iterator"),f=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,p,g,v,m){l(n,t,p);var y,b,w,k=function(e){if(!f&&e in _)return _[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",C="values"==g,S=!1,_=e.prototype,E=_[d]||_["@@iterator"]||g&&_[g],T=E||k(g),O=g?C?k("entries"):T:void 0,M="Array"==t&&_.entries||E;if(M&&(w=u(M.call(new e)))!==Object.prototype&&w.next&&(c(w,x,!0),o||"function"==typeof w[d]||a(w,d,h)),C&&E&&"values"!==E.name&&(S=!0,T=function(){return E.call(this)}),o&&!m||!f&&!S&&_[d]||a(_,d,T),s[t]=T,s[x]=h,g)if(y={values:C?T:k("values"),keys:v?T:k("keys"),entries:O},m)for(b in y)b in _||i(_,b,y[b]);else r(r.P+r.F*(f||S),t,y);return y}},function(e,t,n){var o=n(100),r=n(39);e.exports=function(e,t,n){if(o(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},function(e,t,n){var o=n(13),r=n(38),i=n(14)("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==r(e))}},function(e,t,n){var o=n(14)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[o]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var o=n(57),r=n(14)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[r]===e)}},function(e,t,n){var o=n(18),r=n(44);e.exports=function(e,t,n){t in e?o.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){var o=n(64),r=n(14)("iterator"),i=n(57);e.exports=n(16).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||i[o(e)]}},function(e,t,n){var o=n(22),r=n(48),i=n(15);e.exports=function(e){for(var t=o(this),n=i(t.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);c>s;)t[s++]=e;return t}},function(e,t,n){var o=n(52),r=n(136),i=n(57),a=n(28);e.exports=n(98)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t,n){var o,r,i=n(75),a=RegExp.prototype.exec,s=String.prototype.replace,l=a,c=(o=/a/,r=/b*/g,a.call(o,"a"),a.call(r,"a"),0!==o.lastIndex||0!==r.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(l=function(e){var t,n,o,r,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",i.call(l))),c&&(t=l.lastIndex),o=a.call(l,e),c&&o&&(l.lastIndex=l.global?o.index+o[0].length:t),u&&o&&o.length>1&&s.call(o[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(o[r]=void 0)})),o}),e.exports=l},function(e,t,n){var o=n(97)(!0);e.exports=function(e,t,n){return t+(n?o(e,t).length:1)}},function(e,t,n){var o,r,i,a=n(31),s=n(125),l=n(90),c=n(86),u=n(10),d=u.process,f=u.setImmediate,h=u.clearImmediate,p=u.MessageChannel,g=u.Dispatch,v=0,m={},y=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){y.call(e.data)};f&&h||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++v]=function(){s("function"==typeof e?e:Function(e),t)},o(v),v},h=function(e){delete m[e]},"process"==n(38)(d)?o=function(e){d.nextTick(a(y,e,1))}:g&&g.now?o=function(e){g.now(a(y,e,1))}:p?(i=(r=new p).port2,r.port1.onmessage=b,o=a(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(o=function(e){u.postMessage(e+"","*")},u.addEventListener("message",b,!1)):o="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:f,clear:h}},function(e,t,n){var o=n(10),r=n(17),i=n(46),a=n(81),s=n(27),l=n(60),c=n(11),u=n(59),d=n(33),f=n(15),h=n(144),p=n(50).f,g=n(18).f,v=n(105),m=n(55),y=o.ArrayBuffer,b=o.DataView,w=o.Math,k=o.RangeError,x=o.Infinity,C=y,S=w.abs,_=w.pow,E=w.floor,T=w.log,O=w.LN2,M=r?"_b":"buffer",L=r?"_l":"byteLength",B=r?"_o":"byteOffset";function I(e,t,n){var o,r,i,a=new Array(n),s=8*n-t-1,l=(1<<s)-1,c=l>>1,u=23===t?_(2,-24)-_(2,-77):0,d=0,f=e<0||0===e&&1/e<0?1:0;for((e=S(e))!=e||e===x?(r=e!=e?1:0,o=l):(o=E(T(e)/O),e*(i=_(2,-o))<1&&(o--,i*=2),(e+=o+c>=1?u/i:u*_(2,1-c))*i>=2&&(o++,i/=2),o+c>=l?(r=0,o=l):o+c>=1?(r=(e*i-1)*_(2,t),o+=c):(r=e*_(2,c-1)*_(2,t),o=0));t>=8;a[d++]=255&r,r/=256,t-=8);for(o=o<<t|r,s+=t;s>0;a[d++]=255&o,o/=256,s-=8);return a[--d]|=128*f,a}function P(e,t,n){var o,r=8*n-t-1,i=(1<<r)-1,a=i>>1,s=r-7,l=n-1,c=e[l--],u=127&c;for(c>>=7;s>0;u=256*u+e[l],l--,s-=8);for(o=u&(1<<-s)-1,u>>=-s,s+=t;s>0;o=256*o+e[l],l--,s-=8);if(0===u)u=1-a;else{if(u===i)return o?NaN:c?-x:x;o+=_(2,t),u-=a}return(c?-1:1)*o*_(2,u-t)}function R(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function A(e){return[255&e]}function j(e){return[255&e,e>>8&255]}function N(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function $(e){return I(e,52,8)}function D(e){return I(e,23,4)}function F(e,t,n){g(e.prototype,t,{get:function(){return this[n]}})}function H(e,t,n,o){var r=h(+n);if(r+t>e[L])throw k("Wrong index!");var i=e[M]._b,a=r+e[B],s=i.slice(a,a+t);return o?s:s.reverse()}function z(e,t,n,o,r,i){var a=h(+n);if(a+t>e[L])throw k("Wrong index!");for(var s=e[M]._b,l=a+e[B],c=o(+r),u=0;u<t;u++)s[l+u]=c[i?u:t-u-1]}if(a.ABV){if(!c((function(){y(1)}))||!c((function(){new y(-1)}))||c((function(){return new y,new y(1.5),new y(NaN),"ArrayBuffer"!=y.name}))){for(var U,W=(y=function(e){return u(this,y),new C(h(e))}).prototype=C.prototype,V=p(C),G=0;V.length>G;)(U=V[G++])in y||s(y,U,C[U]);i||(W.constructor=y)}var q=new b(new y(2)),Y=b.prototype.setInt8;q.setInt8(0,2147483648),q.setInt8(1,2147483649),!q.getInt8(0)&&q.getInt8(1)||l(b.prototype,{setInt8:function(e,t){Y.call(this,e,t<<24>>24)},setUint8:function(e,t){Y.call(this,e,t<<24>>24)}},!0)}else y=function(e){u(this,y,"ArrayBuffer");var t=h(e);this._b=v.call(new Array(t),0),this[L]=t},b=function(e,t,n){u(this,b,"DataView"),u(e,y,"DataView");var o=e[L],r=d(t);if(r<0||r>o)throw k("Wrong offset!");if(r+(n=void 0===n?o-r:f(n))>o)throw k("Wrong length!");this[M]=e,this[B]=r,this[L]=n},r&&(F(y,"byteLength","_l"),F(b,"buffer","_b"),F(b,"byteLength","_l"),F(b,"byteOffset","_o")),l(b.prototype,{getInt8:function(e){return H(this,1,e)[0]<<24>>24},getUint8:function(e){return H(this,1,e)[0]},getInt16:function(e){var t=H(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=H(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return R(H(this,4,e,arguments[1]))},getUint32:function(e){return R(H(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return P(H(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return P(H(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){z(this,1,e,A,t)},setUint8:function(e,t){z(this,1,e,A,t)},setInt16:function(e,t){z(this,2,e,j,t,arguments[2])},setUint16:function(e,t){z(this,2,e,j,t,arguments[2])},setInt32:function(e,t){z(this,4,e,N,t,arguments[2])},setUint32:function(e,t){z(this,4,e,N,t,arguments[2])},setFloat32:function(e,t){z(this,4,e,D,t,arguments[2])},setFloat64:function(e,t){z(this,8,e,$,t,arguments[2])}});m(y,"ArrayBuffer"),m(b,"DataView"),s(b.prototype,a.VIEW,!0),t.ArrayBuffer=y,t.DataView=b},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,o)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o,r,i,a=n(7);r=[t,n(2),n(3),n(8)],void 0===(i="function"==typeof(o=function(o,r,i,s){var l=n(1);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=l(r),i=l(i),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(s);var u=function(){function e(){(0,r.default)(this,e),this.allListeners=[]}return(0,i.default)(e,[{key:"on",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=s.generateId("l"),i={id:r,element:e,eventType:t,handler:n,options:o};if(!this.findOne(e,t,n))return this.allListeners.push(i),e.addEventListener(t,n,o),r}},{key:"off",value:function(e,t,n,o){var r=this,i=this.findAll(e,t,n);i.forEach((function(e,t){var n=r.allListeners.indexOf(i[t]);n>-1&&(r.allListeners.splice(n,1),e.element.removeEventListener(e.eventType,e.handler,e.options))}))}},{key:"offById",value:function(e){var t=this.findById(e);t&&t.element.removeEventListener(t.eventType,t.handler,t.options)}},{key:"findOne",value:function(e,t,n){var o=this.findAll(e,t,n);return o.length>0?o[0]:null}},{key:"findAll",value:function(e,t,n){var o=e?this.findByEventTarget(e):[];return e&&t&&n?o.filter((function(e){return e.eventType===t&&e.handler===n})):e&&t?o.filter((function(e){return e.eventType===t})):o}},{key:"removeAll",value:function(){this.allListeners.map((function(e){e.element.removeEventListener(e.eventType,e.handler,e.options)})),this.allListeners=[]}},{key:"destroy",value:function(){this.removeAll()}},{key:"findByEventTarget",value:function(e){return this.allListeners.filter((function(t){if(t.element===e)return t}))}},{key:"findByType",value:function(e){return this.allListeners.filter((function(t){if(t.eventType===e)return t}))}},{key:"findByHandler",value:function(e){return this.allListeners.filter((function(t){if(t.handler===e)return t}))}},{key:"findById",value:function(e){return this.allListeners.find((function(t){return t.id===e}))}}]),e}();o.default=u,u.displayName="Listeners",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t],void 0===(i="function"==typeof(o=function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e){var t={get id(){return e.id},get name(){return e.name},get config(){return e.config},get holder(){return e.holder},get isEmpty(){return e.isEmpty},get selected(){return e.selected},set stretched(t){e.stretched=t},get stretched(){return e.stretched},call:function(t,n){return e.call(t,n)},save:function(){return e.save()},validate:function(t){return e.validate(t)},dispatchChange:function(){e.dispatchChange()}};Object.setPrototypeOf(this,t)};n.default=o,e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o=n(377);function r(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=r=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=r=function(e,t,n){var r=o(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},e.exports.__esModule=!0,e.exports.default=e.exports),r.apply(this,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(381)],void 0===(i="function"==typeof(o=function(o,r,i,a){var s=n(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=s(r),i=s(i),a=s(a);var l=function(){function e(){(0,r.default)(this,e),this.lib=new a.default}return(0,i.default)(e,[{key:"destroy",value:function(){this.lib.destroy()}},{key:"show",value:function(e,t,n){this.lib.show(e,t,n)}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.lib.hide(e)}},{key:"onHover",value:function(e,t,n){this.lib.onHover(e,t,n)}}]),e}();o.default=l,l.displayName="Tooltip",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(41),n(2),n(3),n(385)],void 0===(i="function"==typeof(o=function(o,r,i,a,s){var l=n(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=l(r),i=l(i),a=l(a),s=l(s);var c=function(){function e(){(0,i.default)(this,e),this.registeredShortcuts=new Map}return(0,a.default)(e,[{key:"add",value:function(e){if(this.findShortcut(e.on,e.name))throw Error("Shortcut ".concat(e.name," is already registered for ").concat(e.on,". Please remove it before add a new handler."));var t=new s.default({name:e.name,on:e.on,callback:e.handler}),n=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[].concat((0,r.default)(n),[t]))}},{key:"remove",value:function(e,t){var n=this.findShortcut(e,t);if(n){n.remove();var o=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,o.filter((function(e){return e!==n})))}}},{key:"findShortcut",value:function(e,t){return(this.registeredShortcuts.get(e)||[]).find((function(e){return e.name===t}))}}]),e}();c.displayName="Shortcuts";var u=new c;o.default=u,e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){e.exports=!n(17)&&!n(11)((function(){return 7!=Object.defineProperty(n(86)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var o=n(10),r=n(16),i=n(46),a=n(87),s=n(18).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=i?{}:o.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var o=n(26),r=n(28),i=n(71)(!1),a=n(88)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),l=0,c=[];for(n in s)n!=a&&o(s,n)&&c.push(n);for(;t.length>l;)o(s,n=t[l++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var o=n(18),r=n(12),i=n(47);e.exports=n(17)?Object.defineProperties:function(e,t){r(e);for(var n,a=i(t),s=a.length,l=0;s>l;)o.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var o=n(28),r=n(50).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return r(e)}catch(e){return a.slice()}}(e):r(o(e))}},function(e,t,n){var o=n(17),r=n(47),i=n(72),a=n(63),s=n(22),l=n(62),c=Object.assign;e.exports=!c||n(11)((function(){var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=o}))?function(e,t){for(var n=s(e),c=arguments.length,u=1,d=i.f,f=a.f;c>u;)for(var h,p=l(arguments[u++]),g=d?r(p).concat(d(p)):r(p),v=g.length,m=0;v>m;)h=g[m++],o&&!f.call(p,h)||(n[h]=p[h]);return n}:c},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var o=n(32),r=n(13),i=n(125),a=[].slice,s={},l=function(e,t,n){if(!(t in s)){for(var o=[],r=0;r<t;r++)o[r]="a["+r+"]";s[t]=Function("F,a","return new F("+o.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=o(this),n=a.call(arguments,1),s=function(){var o=n.concat(a.call(arguments));return this instanceof s?l(t,o.length,o):i(t,o,e)};return r(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,n){var o=void 0===n;switch(t.length){case 0:return o?e():e.call(n);case 1:return o?e(t[0]):e.call(n,t[0]);case 2:return o?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var o=n(10).parseInt,r=n(56).trim,i=n(92),a=/^[-+]?0[xX]/;e.exports=8!==o(i+"08")||22!==o(i+"0x16")?function(e,t){var n=r(String(e),3);return o(n,t>>>0||(a.test(n)?16:10))}:o},function(e,t,n){var o=n(10).parseFloat,r=n(56).trim;e.exports=1/o(n(92)+"-0")!=-1/0?function(e){var t=r(String(e),3),n=o(t);return 0===n&&"-"==t.charAt(0)?-0:n}:o},function(e,t,n){var o=n(38);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=o(e))throw TypeError(t);return+e}},function(e,t,n){var o=n(13),r=Math.floor;e.exports=function(e){return!o(e)&&isFinite(e)&&r(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var o=n(49),r=n(44),i=n(55),a={};n(27)(a,n(14)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=o(a,{next:r(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var o=n(12);e.exports=function(e,t,n,r){try{return r?t(o(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&o(i.call(e)),t}}},function(e,t,n){var o=n(282);e.exports=function(e,t){return new(o(e))(t)}},function(e,t,n){var o=n(32),r=n(22),i=n(62),a=n(15);e.exports=function(e,t,n,s,l){o(t);var c=r(e),u=i(c),d=a(c.length),f=l?d-1:0,h=l?-1:1;if(n<2)for(;;){if(f in u){s=u[f],f+=h;break}if(f+=h,l?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;l?f>=0:d>f;f+=h)f in u&&(s=t(s,u[f],f,c));return s}},function(e,t,n){var o=n(22),r=n(48),i=n(15);e.exports=[].copyWithin||function(e,t){var n=o(this),a=i(n.length),s=r(e,a),l=r(t,a),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?a:r(c,a))-l,a-s),d=1;for(l<s&&s<l+u&&(d=-1,l+=u-1,s+=u-1);u-- >0;)l in n?n[s]=n[l]:delete n[s],s+=d,l+=d;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var o=n(107);n(0)({target:"RegExp",proto:!0,forced:o!==/./.exec},{exec:o})},function(e,t,n){n(17)&&"g"!=/./g.flags&&n(18).f(RegExp.prototype,"flags",{configurable:!0,get:n(75)})},function(e,t,n){var o,r,i,a,s=n(46),l=n(10),c=n(31),u=n(64),d=n(0),f=n(13),h=n(32),p=n(59),g=n(78),v=n(65),m=n(109).set,y=n(302)(),b=n(140),w=n(303),k=n(79),x=n(141),C=l.TypeError,S=l.process,_=S&&S.versions,E=_&&_.v8||"",T=l.Promise,O="process"==u(S),M=function(){},L=r=b.f,B=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(14)("species")]=function(e){e(M,M)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(M)instanceof t&&0!==E.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(e){}}(),I=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var o=e._v,r=1==e._s,i=0,a=function(t){var n,i,a,s=r?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(r||(2==e._h&&j(e),e._h=1),!0===s?n=o:(u&&u.enter(),n=s(o),u&&(u.exit(),a=!0)),n===t.promise?c(C("Promise-chain cycle")):(i=I(n))?i.call(n,l,c):l(n)):c(o)}catch(e){u&&!a&&u.exit(),c(e)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&R(e)}))}},R=function(e){m.call(l,(function(){var t,n,o,r=e._v,i=A(e);if(i&&(t=w((function(){O?S.emit("unhandledRejection",r,e):(n=l.onunhandledrejection)?n({promise:e,reason:r}):(o=l.console)&&o.error&&o.error("Unhandled promise rejection",r)})),e._h=O||A(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},A=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(e){m.call(l,(function(){var t;O?S.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},N=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},$=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw C("Promise can't be resolved itself");(t=I(e))?y((function(){var o={_w:n,_d:!1};try{t.call(e,c($,o,1),c(N,o,1))}catch(e){N.call(o,e)}})):(n._v=e,n._s=1,P(n,!1))}catch(e){N.call({_w:n,_d:!1},e)}}};B||(T=function(e){p(this,T,"Promise","_h"),h(e),o.call(this);try{e(c($,this,1),c(N,this,1))}catch(e){N.call(this,e)}},(o=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(60)(T.prototype,{then:function(e,t){var n=L(v(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=O?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new o;this.promise=e,this.resolve=c($,e,1),this.reject=c(N,e,1)},b.f=L=function(e){return e===T||e===a?new i(e):r(e)}),d(d.G+d.W+d.F*!B,{Promise:T}),n(55)(T,"Promise"),n(58)("Promise"),a=n(16).Promise,d(d.S+d.F*!B,"Promise",{reject:function(e){var t=L(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!B),"Promise",{resolve:function(e){return x(s&&this===a?T:this,e)}}),d(d.S+d.F*!(B&&n(74)((function(e){T.all(e).catch(M)}))),"Promise",{all:function(e){var t=this,n=L(t),o=n.resolve,r=n.reject,i=w((function(){var n=[],i=0,a=1;g(e,!1,(function(e){var s=i++,l=!1;n.push(void 0),a++,t.resolve(e).then((function(e){l||(l=!0,n[s]=e,--a||o(n))}),r)})),--a||o(n)}));return i.e&&r(i.v),n.promise},race:function(e){var t=this,n=L(t),o=n.reject,r=w((function(){g(e,!1,(function(e){t.resolve(e).then(n.resolve,o)}))}));return r.e&&o(r.v),n.promise}})},function(e,t,n){var o=n(32);function r(e){var t,n;this.promise=new e((function(e,o){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=o})),this.resolve=o(t),this.reject=o(n)}e.exports.f=function(e){return new r(e)}},function(e,t,n){var o=n(12),r=n(13),i=n(140);e.exports=function(e,t){if(o(e),r(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var o=n(18).f,r=n(49),i=n(60),a=n(31),s=n(59),l=n(78),c=n(98),u=n(136),d=n(58),f=n(17),h=n(43).fastKey,p=n(53),g=f?"_s":"size",v=function(e,t){var n,o=h(t);if("F"!==o)return e._i[o];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var u=e((function(e,o){s(e,u,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[g]=0,null!=o&&l(o,n,e[c],e)}));return i(u.prototype,{clear:function(){for(var e=p(this,t),n=e._i,o=e._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=void 0),delete n[o.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var n=p(this,t),o=v(n,e);if(o){var r=o.n,i=o.p;delete n._i[o.i],o.r=!0,i&&(i.n=r),r&&(r.p=i),n._f==o&&(n._f=r),n._l==o&&(n._l=i),n[g]--}return!!o},forEach:function(e){p(this,t);for(var n,o=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(o(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(p(this,t),e)}}),f&&o(u.prototype,"size",{get:function(){return p(this,t)[g]}}),u},def:function(e,t,n){var o,r,i=v(e,t);return i?i.v=n:(e._l=i={i:r=h(t,!0),k:t,v:n,p:o=e._l,n:void 0,r:!1},e._f||(e._f=i),o&&(o.n=i),e[g]++,"F"!==r&&(e._i[r]=i)),e},getEntry:v,setStrong:function(e,t,n){c(e,t,(function(e,n){this._t=p(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))}),n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){var o=n(60),r=n(43).getWeak,i=n(12),a=n(13),s=n(59),l=n(78),c=n(36),u=n(26),d=n(53),f=c(5),h=c(6),p=0,g=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},m=function(e,t){return f(e.a,(function(e){return e[0]===t}))};v.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var n=m(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,i){var c=e((function(e,o){s(e,c,t,"_i"),e._t=t,e._i=p++,e._l=void 0,null!=o&&l(o,n,e[i],e)}));return o(c.prototype,{delete:function(e){if(!a(e))return!1;var n=r(e);return!0===n?g(d(this,t)).delete(e):n&&u(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=r(e);return!0===n?g(d(this,t)).has(e):n&&u(n,this._i)}}),c},def:function(e,t,n){var o=r(i(t),!0);return!0===o?g(e).set(t,n):o[e._i]=n,e},ufstore:g}},function(e,t,n){var o=n(33),r=n(15);e.exports=function(e){if(void 0===e)return 0;var t=o(e),n=r(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var o=n(50),r=n(72),i=n(12),a=n(10).Reflect;e.exports=a&&a.ownKeys||function(e){var t=o.f(i(e)),n=r.f;return n?t.concat(n(e)):t}},function(e,t,n){var o=n(15),r=n(94),i=n(39);e.exports=function(e,t,n,a){var s=String(i(e)),l=s.length,c=void 0===n?" ":String(n),u=o(t);if(u<=l||""==c)return s;var d=u-l,f=r.call(c,Math.ceil(d/c.length));return f.length>d&&(f=f.slice(0,d)),a?f+s:s+f}},function(e,t,n){var o=n(17),r=n(47),i=n(28),a=n(63).f;e.exports=function(e){return function(t){for(var n,s=i(t),l=r(s),c=l.length,u=0,d=[];c>u;)n=l[u++],o&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},function(e,t,n){var o=n(149);e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e){e.exports=JSON.parse('{"ui":{"blockTunes":{"toggler":{"Click to tune":"","or drag to move":""}},"inlineToolbar":{"converter":{"Convert to":""}},"toolbar":{"toolbox":{"Add":""}},"popover":{"Filter":"","Nothing found":""}},"toolNames":{"Text":"","Link":"","Bold":"","Italic":""},"tools":{"link":{"Add a link":""},"stub":{"The block can not be displayed correctly.":""}},"blockTunes":{"delete":{"Delete":"","Click to delete":""},"moveUp":{"Move up":""},"moveDown":{"Move down":""}}}')},function(e,t,n){var o,r,i;r=[t,n(3),n(2),n(5),n(6),n(4),n(153)],void 0===(i="function"==typeof(o=function(e,t,o,r,i,a,s){var l=n(1);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,a.default)(e);if(t){var r=(0,a.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,i.default)(this,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.CriticalError=void 0,t=l(t),o=l(o),r=l(r),i=l(i),a=l(a);var u=function(e){(0,r.default)(i,e);var n=c(i);function i(){return(0,o.default)(this,i),n.apply(this,arguments)}return(0,t.default)(i)}((0,(s=l(s)).default)(Error));e.CriticalError=u,u.displayName="CriticalError"})?o.apply(t,r):o)||(e.exports=i)},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o=n(4),r=n(111),i=n(373),a=n(374);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,o(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o,r,i,a=n(7);r=[t,n(20),n(21),n(2),n(3),n(5),n(6),n(4),n(8),n(113),n(9),n(61)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d,f,h,p,g){var v=n(1);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,u.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=v(r),i=v(i),s=v(s),l=v(l),c=v(c),u=v(u),d=v(d),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(f),h=v(h),p=v(p),g=v(g);var b=function(e){(0,c.default)(n,e);var t=y(n);function n(){var e;return(0,s.default)(this,n),(e=t.apply(this,arguments)).insert=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.config.defaultBlock,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,s=e.Editor.BlockManager.insert({id:a,tool:t,data:n,index:o,needToFocus:r,replace:i});return new h.default(s)},e.composeBlockData=function(){var t=(0,i.default)(r.default.mark((function t(n){var o,i;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.Editor.Tools.blockTools.get(n),i=new g.default({tool:o,api:e.Editor.API,readOnly:!0,data:{},tunesData:{}}),t.abrupt("return",i.data);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.update=function(t,n){var o=e.Editor.BlockManager,r=o.getBlockById(t);if(r){var i=o.getBlockIndex(r);o.insert({id:r.id,tool:r.name,data:n,index:i,replace:!0,tunes:r.tunes})}else f.log("blocks.update(): Block with passed id was not found","warn")},e}return(0,l.default)(n,[{key:"methods",get:function(){var e=this;return{clear:function(){return e.clear()},render:function(t){return e.render(t)},renderFromHTML:function(t){return e.renderFromHTML(t)},delete:function(t){return e.delete(t)},swap:function(t,n){return e.swap(t,n)},move:function(t,n){return e.move(t,n)},getBlockByIndex:function(t){return e.getBlockByIndex(t)},getById:function(t){return e.getById(t)},getCurrentBlockIndex:function(){return e.getCurrentBlockIndex()},getBlockIndex:function(t){return e.getBlockIndex(t)},getBlocksCount:function(){return e.getBlocksCount()},stretchBlock:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.stretchBlock(t,n)},insertNewBlock:function(){return e.insertNewBlock()},insert:this.insert,update:this.update,composeBlockData:this.composeBlockData}}},{key:"getBlocksCount",value:function(){return this.Editor.BlockManager.blocks.length}},{key:"getCurrentBlockIndex",value:function(){return this.Editor.BlockManager.currentBlockIndex}},{key:"getBlockIndex",value:function(e){var t=this.Editor.BlockManager.getBlockById(e);if(t)return this.Editor.BlockManager.getBlockIndex(t);f.logLabeled("There is no block with id `"+e+"`","warn")}},{key:"getBlockByIndex",value:function(e){var t=this.Editor.BlockManager.getBlockByIndex(e);if(void 0!==t)return new h.default(t);f.logLabeled("There is no block at index `"+e+"`","warn")}},{key:"getById",value:function(e){var t=this.Editor.BlockManager.getBlockById(e);return void 0===t?(f.logLabeled("There is no block with id `"+e+"`","warn"),null):new h.default(t)}},{key:"swap",value:function(e,t){f.log("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,t)}},{key:"move",value:function(e,t){this.Editor.BlockManager.move(e,t)}},{key:"delete",value:function(e){try{this.Editor.BlockManager.removeBlock(e)}catch(e){return void f.logLabeled(e,"warn")}0===this.Editor.BlockManager.blocks.length&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}},{key:"clear",value:function(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}},{key:"render",value:function(e){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(e.blocks)}},{key:"renderFromHTML",value:function(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}},{key:"stretchBlock",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];f.deprecationAssert(!0,"blocks.stretchBlock()","BlockAPI");var n=this.Editor.BlockManager.getBlockByIndex(e);n&&(n.stretched=t)}},{key:"insertNewBlock",value:function(){f.log("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}}]),n}(p.default);o.default=b,b.displayName="BlocksAPI",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(5),n(6),n(4),n(9)],void 0===(i="function"==typeof(o=function(o,r,i,a,s,l,c){var u=n(1);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=u(r),i=u(i),a=u(a),s=u(s),l=u(l);var f=function(e){(0,a.default)(n,e);var t=d(n);function n(){var e;return(0,r.default)(this,n),(e=t.apply(this,arguments)).setToFirstBlock=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.Editor.Caret.positions.DEFAULT,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!e.Editor.BlockManager.firstBlock&&(e.Editor.Caret.setToBlock(e.Editor.BlockManager.firstBlock,t,n),!0)},e.setToLastBlock=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.Editor.Caret.positions.DEFAULT,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!e.Editor.BlockManager.lastBlock&&(e.Editor.Caret.setToBlock(e.Editor.BlockManager.lastBlock,t,n),!0)},e.setToPreviousBlock=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.Editor.Caret.positions.DEFAULT,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!e.Editor.BlockManager.previousBlock&&(e.Editor.Caret.setToBlock(e.Editor.BlockManager.previousBlock,t,n),!0)},e.setToNextBlock=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.Editor.Caret.positions.DEFAULT,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!e.Editor.BlockManager.nextBlock&&(e.Editor.Caret.setToBlock(e.Editor.BlockManager.nextBlock,t,n),!0)},e.setToBlock=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.Editor.Caret.positions.DEFAULT,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return!!e.Editor.BlockManager.blocks[t]&&(e.Editor.Caret.setToBlock(e.Editor.BlockManager.blocks[t],n,o),!0)},e.focus=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?e.setToLastBlock(e.Editor.Caret.positions.END):e.setToFirstBlock(e.Editor.Caret.positions.START)},e}return(0,i.default)(n,[{key:"methods",get:function(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}]),n}((c=u(c)).default);o.default=f,f.displayName="CaretAPI",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(5),n(6),n(4),n(9)],void 0===(i="function"==typeof(o=function(o,r,i,a,s,l,c){var u=n(1);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=u(r),i=u(i),a=u(a),s=u(s),l=u(l);var f=function(e){(0,a.default)(n,e);var t=d(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"methods",get:function(){var e=this;return{emit:function(t,n){return e.emit(t,n)},off:function(t,n){return e.off(t,n)},on:function(t,n){return e.on(t,n)}}}},{key:"on",value:function(e,t){this.eventsDispatcher.on(e,t)}},{key:"emit",value:function(e,t){this.eventsDispatcher.emit(e,t)}},{key:"off",value:function(e,t){this.eventsDispatcher.off(e,t)}}]),n}((c=u(c)).default);o.default=f,f.displayName="EventsAPI",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(5),n(6),n(4),n(54),n(8),n(9)],void 0===(i="function"==typeof(o=function(o,r,i,a,s,l,c,u,d){var f=n(1);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=f(r),i=f(i),a=f(a),s=f(s),l=f(l),c=f(c);var p=function(e){(0,a.default)(n,e);var t=h(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"methods",get:function(){return{t:function(){(0,u.logLabeled)("I18n.t() method can be accessed only from Tools","warn")}}}},{key:"getMethodsForTool",value:function(e){return Object.assign(this.methods,{t:function(t){return c.default.t(n.getNamespace(e),t)}})}}],[{key:"getNamespace",value:function(e){return e.isTune()?"blockTunes.".concat(e.name):"tools.".concat(e.name)}}]),n}((d=f(d)).default);o.default=p,p.displayName="I18nAPI",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(5),n(6),n(4),n(9)],void 0===(i="function"==typeof(o=function(o,r,i,a,s,l,c){var u=n(1);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=u(r),i=u(i),a=u(a),s=u(s),l=u(l);var f=function(e){(0,a.default)(n,e);var t=d(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"methods",get:function(){var e=this;return{close:function(){return e.close()},open:function(){return e.open()}}}},{key:"open",value:function(){this.Editor.InlineToolbar.tryToShow()}},{key:"close",value:function(){this.Editor.InlineToolbar.close()}}]),n}((c=u(c)).default);o.default=f,f.displayName="InlineToolbarAPI",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(5),n(6),n(4),n(9)],void 0===(i="function"==typeof(o=function(o,r,i,a,s,l,c){var u=n(1);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=u(r),i=u(i),a=u(a),s=u(s),l=u(l);var f=function(e){(0,a.default)(n,e);var t=d(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"methods",get:function(){var e=this;return{on:function(t,n,o,r){return e.on(t,n,o,r)},off:function(t,n,o,r){return e.off(t,n,o,r)},offById:function(t){return e.offById(t)}}}},{key:"on",value:function(e,t,n,o){return this.listeners.on(e,t,n,o)}},{key:"off",value:function(e,t,n,o){this.listeners.off(e,t,n,o)}},{key:"offById",value:function(e){this.listeners.offById(e)}}]),n}((c=u(c)).default);o.default=f,f.displayName="ListenersAPI",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(5),n(6),n(4),n(378),n(9)],void 0===(i="function"==typeof(o=function(o,r,i,a,s,l,c,u){var d=n(1);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=d(r),i=d(i),a=d(a),s=d(s),l=d(l),c=d(c);var h=function(e){(0,a.default)(n,e);var t=f(n);function n(e){var o,i=e.config,a=e.eventsDispatcher;return(0,r.default)(this,n),(o=t.call(this,{config:i,eventsDispatcher:a})).notifier=new c.default,o}return(0,i.default)(n,[{key:"methods",get:function(){var e=this;return{show:function(t){return e.show(t)}}}},{key:"show",value:function(e){return this.notifier.show(e)}}]),n}((u=d(u)).default);o.default=h,h.displayName="NotifierAPI",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(5),n(6),n(4),n(9)],void 0===(i="function"==typeof(o=function(o,r,i,a,s,l,c){var u=n(1);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=u(r),i=u(i),a=u(a),s=u(s),l=u(l);var f=function(e){(0,a.default)(n,e);var t=d(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"methods",get:function(){var e=this;return{toggle:function(t){return e.toggle(t)},get isEnabled(){return e.isEnabled}}}},{key:"toggle",value:function(e){return this.Editor.ReadOnly.toggle(e)}},{key:"isEnabled",get:function(){return this.Editor.ReadOnly.isEnabled}}]),n}((c=u(c)).default);o.default=f,f.displayName="ReadOnlyAPI",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(5),n(6),n(4),n(9),n(66)],void 0===(i="function"==typeof(o=function(o,r,i,a,s,l,c,u){var d=n(1);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=d(r),i=d(i),a=d(a),s=d(s),l=d(l);var h=function(e){(0,a.default)(n,e);var t=f(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"methods",get:function(){var e=this;return{clean:function(t,n){return e.clean(t,n)}}}},{key:"clean",value:function(e,t){return(0,u.clean)(e,t)}}]),n}((c=d(c)).default);o.default=h,h.displayName="SanitizerAPI",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(2),n(3),n(5),n(6),n(4),n(8),n(9)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d){var f=n(1);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=f(r),i=f(i),s=f(s),l=f(l),c=f(c),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(u);var g=function(e){(0,s.default)(n,e);var t=p(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"methods",get:function(){var e=this;return{save:function(){return e.save()}}}},{key:"save",value:function(){var e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(u.logLabeled(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}]),n}((d=f(d)).default);o.default=g,g.displayName="SaverAPI",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(5),n(6),n(4),n(25),n(9)],void 0===(i="function"==typeof(o=function(o,r,i,a,s,l,c,u){var d=n(1);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=d(r),i=d(i),a=d(a),s=d(s),l=d(l),c=d(c);var h=function(e){(0,a.default)(n,e);var t=f(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"methods",get:function(){var e=this;return{findParentTag:function(t,n){return e.findParentTag(t,n)},expandToTag:function(t){return e.expandToTag(t)}}}},{key:"findParentTag",value:function(e,t){return(new c.default).findParentTag(e,t)}},{key:"expandToTag",value:function(e){(new c.default).expandToTag(e)}}]),n}((u=d(u)).default);o.default=h,h.displayName="SelectionAPI",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(5),n(6),n(4),n(9)],void 0===(i="function"==typeof(o=function(o,r,i,a,s,l,c){var u=n(1);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=u(r),i=u(i),a=u(a),s=u(s),l=u(l);var f=function(e){(0,a.default)(n,e);var t=d(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"classes",get:function(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}]),n}((c=u(c)).default);o.default=f,f.displayName="StylesAPI",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(2),n(3),n(5),n(6),n(4),n(9),n(8)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d){var f=n(1);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=f(r),i=f(i),s=f(s),l=f(l),c=f(c),u=f(u),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(d);var g=function(e){(0,s.default)(n,e);var t=p(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"methods",get:function(){var e=this;return{close:function(){return e.close()},open:function(){return e.open()},toggleBlockSettings:function(t){return e.toggleBlockSettings(t)}}}},{key:"open",value:function(){this.Editor.Toolbar.moveAndOpen()}},{key:"close",value:function(){this.Editor.Toolbar.close()}},{key:"toggleBlockSettings",value:function(e){-1!==this.Editor.BlockManager.currentBlockIndex?(null!=e?e:!this.Editor.BlockSettings.opened)?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close():d.logLabeled("Could't toggle the Toolbar because there is no block selected ","warn")}}]),n}(u.default);o.default=g,g.displayName="ToolbarAPI",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(5),n(6),n(4),n(9),n(115)],void 0===(i="function"==typeof(o=function(o,r,i,a,s,l,c,u){var d=n(1);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=d(r),i=d(i),a=d(a),s=d(s),l=d(l),c=d(c),u=d(u);var h=function(e){(0,a.default)(n,e);var t=f(n);function n(e){var o,i=e.config,a=e.eventsDispatcher;return(0,r.default)(this,n),(o=t.call(this,{config:i,eventsDispatcher:a})).tooltip=new u.default,o}return(0,i.default)(n,[{key:"destroy",value:function(){this.tooltip.destroy()}},{key:"methods",get:function(){var e=this;return{show:function(t,n,o){return e.show(t,n,o)},hide:function(){return e.hide()},onHover:function(t,n,o){return e.onHover(t,n,o)}}}},{key:"show",value:function(e,t,n){this.tooltip.show(e,t,n)}},{key:"hide",value:function(){this.tooltip.hide()}},{key:"onHover",value:function(e,t,n){this.tooltip.onHover(e,t,n)}}]),n}(c.default);o.default=h,h.displayName="TooltipAPI",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(5),n(6),n(4),n(9)],void 0===(i="function"==typeof(o=function(o,r,i,a,s,l,c){var u=n(1);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,s.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=u(r),i=u(i),a=u(a),s=u(s),l=u(l);var f=function(e){(0,a.default)(n,e);var t=d(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"methods",get:function(){return{nodes:this.editorNodes}}},{key:"editorNodes",get:function(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}]),n}((c=u(c)).default);o.default=f,f.displayName="UiAPI",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(2),n(3),n(5),n(6),n(4),n(9),n(8),n(25),n(67)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d,f,h){var p=n(1);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=p(r),i=p(i),s=p(s),l=p(l),c=p(c),u=p(u),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(d),f=p(f),h=p(h);var m=function(e){(0,s.default)(n,e);var t=v(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"keydown",value:function(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case d.keyCodes.BACKSPACE:this.backspace(e);break;case d.keyCodes.ENTER:this.enter(e);break;case d.keyCodes.DOWN:case d.keyCodes.RIGHT:this.arrowRightAndDown(e);break;case d.keyCodes.UP:case d.keyCodes.LEFT:this.arrowLeftAndUp(e);break;case d.keyCodes.TAB:this.tabPressed(e)}}},{key:"beforeKeydownProcessing",value:function(e){this.needToolbarClosing(e)&&d.isPrintableKey(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(e)))}},{key:"keyup",value:function(e){e.shiftKey||this.Editor.UI.checkEmptiness()}},{key:"tabPressed",value:function(e){this.Editor.BlockSelection.clearSelection(e);var t=this.Editor,n=t.BlockManager,o=t.InlineToolbar,r=t.ConversionToolbar,i=n.currentBlock;if(i){var a=i.isEmpty,s=i.tool.isDefault&&a,l=!a&&r.opened,c=!a&&!f.default.isCollapsed&&o.opened,u=!l&&!c;s?this.activateToolbox():u&&this.activateBlockSettings()}}},{key:"dragOver",value:function(e){this.Editor.BlockManager.getBlockByChildNode(e.target).dropTarget=!0}},{key:"dragLeave",value:function(e){this.Editor.BlockManager.getBlockByChildNode(e.target).dropTarget=!1}},{key:"handleCommandC",value:function(e){var t=this.Editor.BlockSelection;t.anyBlockSelected&&t.copySelectedBlocks(e)}},{key:"handleCommandX",value:function(e){var t=this.Editor,n=t.BlockSelection,o=t.BlockManager,r=t.Caret;n.anyBlockSelected&&n.copySelectedBlocks(e).then((function(){var t=o.removeSelectedBlocks(),i=o.insertDefaultBlockAtIndex(t,!0);r.setToBlock(i,r.positions.START),n.clearSelection(e)}))}},{key:"enter",value:function(e){var t=this.Editor,n=t.BlockManager,o=t.UI;if(!n.currentBlock.tool.isLineBreaksEnabled&&!(o.someToolbarOpened&&o.someFlipperButtonFocused||e.shiftKey)){var r=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):r=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(r),this.Editor.Toolbar.moveAndOpen(r),e.preventDefault()}}},{key:"backspace",value:function(e){var t=this.Editor,n=t.BlockManager,o=t.BlockSelection,r=t.Caret,i=n.currentBlock,a=i.tool;if(i.selected||i.isEmpty&&i.currentInput===i.firstInput){e.preventDefault();var s=n.currentBlockIndex;return n.previousBlock&&0===n.previousBlock.inputs.length?n.removeBlock(s-1):n.removeBlock(),r.setToBlock(n.currentBlock,s?r.positions.END:r.positions.START),this.Editor.Toolbar.close(),void o.clearSelection(e)}if(!a.isLineBreaksEnabled||r.isAtStart){var l=0===n.currentBlockIndex;r.isAtStart&&f.default.isCollapsed&&i.currentInput===i.firstInput&&!l&&(e.preventDefault(),this.mergeBlocks())}}},{key:"mergeBlocks",value:function(){var e=this.Editor,t=e.BlockManager,n=e.Caret,o=e.Toolbar,r=t.previousBlock,i=t.currentBlock;if(i.name!==r.name||!r.mergeable)return 0===r.inputs.length||r.isEmpty?(t.removeBlock(t.currentBlockIndex-1),n.setToBlock(t.currentBlock),void o.close()):void(n.navigatePrevious()&&o.close());n.createShadow(r.pluginsContent),t.mergeBlocks(r,i).then((function(){n.restoreCaret(r.pluginsContent),r.pluginsContent.normalize(),o.close()}))}},{key:"arrowRightAndDown",value:function(e){var t=this,n=h.default.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===d.keyCodes.TAB);if(!this.Editor.UI.someToolbarOpened||!n){this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();var o=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;e.shiftKey&&e.keyCode===d.keyCodes.DOWN&&o?this.Editor.CrossBlockSelection.toggleBlockSelectedState():((e.keyCode===d.keyCodes.DOWN||e.keyCode===d.keyCodes.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?e.preventDefault():d.delay((function(){t.Editor.BlockManager.currentBlock&&t.Editor.BlockManager.currentBlock.updateCurrentInput()}),20)(),this.Editor.BlockSelection.clearSelection(e))}}},{key:"arrowLeftAndUp",value:function(e){var t=this;if(this.Editor.UI.someToolbarOpened){if(h.default.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===d.keyCodes.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();var n=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;e.shiftKey&&e.keyCode===d.keyCodes.UP&&n?this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1):((e.keyCode===d.keyCodes.UP||e.keyCode===d.keyCodes.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?e.preventDefault():d.delay((function(){t.Editor.BlockManager.currentBlock&&t.Editor.BlockManager.currentBlock.updateCurrentInput()}),20)(),this.Editor.BlockSelection.clearSelection(e))}},{key:"needToolbarClosing",value:function(e){var t=e.keyCode===d.keyCodes.ENTER&&this.Editor.Toolbar.toolbox.opened,n=e.keyCode===d.keyCodes.ENTER&&this.Editor.BlockSettings.opened,o=e.keyCode===d.keyCodes.ENTER&&this.Editor.InlineToolbar.opened,r=e.keyCode===d.keyCodes.ENTER&&this.Editor.ConversionToolbar.opened,i=e.keyCode===d.keyCodes.TAB;return!(e.shiftKey||i||t||n||o||r)}},{key:"activateToolbox",value:function(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}},{key:"activateBlockSettings",value:function(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}]),n}(u.default);o.default=m,m.displayName="BlockEvents",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(20),n(21),n(2),n(3),n(5),n(6),n(4),n(61),n(9),n(19),n(8),n(383),n(113),n(384)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d,f,h,p,g,v,m,y){var b=n(1);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,u.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=b(r),i=b(i),s=b(s),l=b(l),c=b(c),u=b(u),d=b(d),f=k(f),h=b(h),p=b(p),g=k(g),v=b(v),m=b(m);var C=function(e){(0,c.default)(a,e);var t,n,o=x(a);function a(){var e;return(0,s.default)(this,a),(e=o.apply(this,arguments))._currentBlockIndex=-1,e._blocks=null,e}return(0,l.default)(a,[{key:"currentBlockIndex",get:function(){return this._currentBlockIndex},set:function(e){this._blocks[this._currentBlockIndex]&&this._blocks[this._currentBlockIndex].willUnselect(),this._blocks[e]&&this._blocks[e].willSelect(),this._currentBlockIndex=e}},{key:"firstBlock",get:function(){return this._blocks[0]}},{key:"lastBlock",get:function(){return this._blocks[this._blocks.length-1]}},{key:"currentBlock",get:function(){return this._blocks[this.currentBlockIndex]},set:function(e){this.currentBlockIndex=this.getBlockIndex(e)}},{key:"nextBlock",get:function(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}},{key:"nextContentfulBlock",get:function(){return this.blocks.slice(this.currentBlockIndex+1).find((function(e){return!!e.inputs.length}))}},{key:"previousContentfulBlock",get:function(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find((function(e){return!!e.inputs.length}))}},{key:"previousBlock",get:function(){return 0===this.currentBlockIndex?null:this._blocks[this.currentBlockIndex-1]}},{key:"blocks",get:function(){return this._blocks.array}},{key:"isEditorEmpty",get:function(){return this.blocks.every((function(e){return e.isEmpty}))}},{key:"prepare",value:function(){var e=this,t=new v.default(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(t,{set:v.default.set,get:v.default.get}),this.listeners.on(document,"copy",(function(t){return e.Editor.BlockEvents.handleCommandC(t)}))}},{key:"toggleReadOnly",value:function(e){e?this.disableModuleBindings():this.enableModuleBindings()}},{key:"composeBlock",value:function(e){var t=e.tool,n=e.data,o=void 0===n?{}:n,r=e.id,i=void 0===r?void 0:r,a=e.tunes,s=void 0===a?{}:a,l=this.Editor.ReadOnly.isEnabled,c=this.Editor.Tools.blockTools.get(t),u=new f.default({id:i,data:o,tool:c,api:this.Editor.API,readOnly:l,tunesData:s});return l||this.bindBlockEvents(u),u}},{key:"insert",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=void 0===t?void 0:t,o=e.tool,r=void 0===o?this.config.defaultBlock:o,i=e.data,a=void 0===i?{}:i,s=e.index,l=e.needToFocus,c=void 0===l||l,u=e.replace,d=void 0!==u&&u,f=e.tunes,h=void 0===f?{}:f,p=s;void 0===p&&(p=this.currentBlockIndex+(d?0:1));var g=this.composeBlock({id:n,tool:r,data:a,tunes:h});return d&&this.blockDidMutated(y.BlockMutationType.Removed,this.getBlockByIndex(p),{index:p}),this._blocks.insert(p,g,d),this.blockDidMutated(y.BlockMutationType.Added,g,{index:p}),c?this.currentBlockIndex=p:p<=this.currentBlockIndex&&this.currentBlockIndex++,g}},{key:"replace",value:function(e){var t=e.tool,n=void 0===t?this.config.defaultBlock:t,o=e.data,r=void 0===o?{}:o;return this.insert({tool:n,data:r,index:this.currentBlockIndex,replace:!0})}},{key:"paste",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.insert({tool:e,replace:n});try{o.call(f.BlockToolAPI.ON_PASTE,t)}catch(t){g.log("".concat(e,": onPaste callback call is failed"),"error",t)}return o}},{key:"insertDefaultBlockAtIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=n,this.blockDidMutated(y.BlockMutationType.Added,n,{index:e}),t?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,n}},{key:"insertAtEnd",value:function(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}},{key:"mergeBlocks",value:(n=(0,i.default)(r.default.mark((function e(t,n){var o,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this._blocks.indexOf(n),!n.isEmpty){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n.data;case 5:if(i=e.sent,g.isEmpty(i)){e.next=9;break}return e.next=9,t.mergeWith(i);case 9:this.removeBlock(o),this.currentBlockIndex=this._blocks.indexOf(t);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"removeBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentBlockIndex;if(!this.validateIndex(e))throw new Error("Can't find a Block to remove");var t=this._blocks[e];t.destroy(),this._blocks.remove(e),this.blockDidMutated(y.BlockMutationType.Removed,t,{index:e}),this.currentBlockIndex>=e&&this.currentBlockIndex--,this.blocks.length?0===e&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}},{key:"removeSelectedBlocks",value:function(){for(var e,t=this.blocks.length-1;t>=0;t--)this.blocks[t].selected&&(this.removeBlock(t),e=t);return e}},{key:"removeAllBlocks",value:function(){for(var e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}},{key:"split",value:function(){var e=this.Editor.Caret.extractFragmentFromCaretPosition(),t=p.default.make("div");t.appendChild(e);var n={text:p.default.isEmpty(t)?"":t.innerHTML};return this.insert({data:n})}},{key:"getBlockByIndex",value:function(e){return-1===e&&(e=this._blocks.length-1),this._blocks[e]}},{key:"getBlockIndex",value:function(e){return this._blocks.indexOf(e)}},{key:"getBlockById",value:function(e){return this._blocks.array.find((function(t){return t.id===e}))}},{key:"getBlock",value:function(e){p.default.isElement(e)||(e=e.parentNode);var t=this._blocks.nodes,n=e.closest(".".concat(f.default.CSS.wrapper)),o=t.indexOf(n);if(o>=0)return this._blocks[o]}},{key:"highlightCurrentNode",value:function(){this.clearFocused(),this.currentBlock.focused=!0}},{key:"clearFocused",value:function(){this.blocks.forEach((function(e){e.focused=!1}))}},{key:"setCurrentBlockByChildNode",value:function(e){p.default.isElement(e)||(e=e.parentNode);var t=e.closest(".".concat(f.default.CSS.wrapper));if(t){var n=t.closest(".".concat(this.Editor.UI.CSS.editorWrapper));if(null==n?void 0:n.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(t),this.currentBlock.updateCurrentInput(),this.currentBlock}}},{key:"getBlockByChildNode",value:function(e){p.default.isElement(e)||(e=e.parentNode);var t=e.closest(".".concat(f.default.CSS.wrapper));return this.blocks.find((function(e){return e.holder===t}))}},{key:"swap",value:function(e,t){this._blocks.swap(e,t),this.currentBlockIndex=t}},{key:"move",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentBlockIndex;isNaN(e)||isNaN(t)?g.log("Warning during 'move' call: incorrect indices provided.","warn"):this.validateIndex(e)&&this.validateIndex(t)?(this._blocks.move(e,t),this.currentBlockIndex=e,this.blockDidMutated(y.BlockMutationType.Moved,this.currentBlock,{fromIndex:t,toIndex:e})):g.log("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn")}},{key:"dropPointer",value:function(){this.currentBlockIndex=-1,this.clearFocused()}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._blocks.removeAll(),this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}},{key:"destroy",value:(t=(0,i.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.blocks.map((function(e){return e.destroy()})));case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"bindBlockEvents",value:function(e){var t=this,n=this.Editor.BlockEvents;this.readOnlyMutableListeners.on(e.holder,"keydown",(function(e){n.keydown(e)})),this.readOnlyMutableListeners.on(e.holder,"keyup",(function(e){n.keyup(e)})),this.readOnlyMutableListeners.on(e.holder,"dragover",(function(e){n.dragOver(e)})),this.readOnlyMutableListeners.on(e.holder,"dragleave",(function(e){n.dragLeave(e)})),e.on("didMutated",(function(e){return t.blockDidMutated(y.BlockMutationType.Changed,e,{index:t.getBlockIndex(e)})}))}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"enableModuleBindings",value:function(){var e=this;this.readOnlyMutableListeners.on(document,"cut",(function(t){return e.Editor.BlockEvents.handleCommandX(t)})),this.blocks.forEach((function(t){e.bindBlockEvents(t)}))}},{key:"validateIndex",value:function(e){return!(e<0||e>=this._blocks.length)}},{key:"blockDidMutated",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=new CustomEvent(e,{detail:Object.assign({target:new m.default(t)},n)});return this.Editor.ModificationsObserver.onChange(o),t}}]),a}(h.default);o.default=C,C.displayName="BlockManager",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(2),n(3),n(5),n(6),n(4),n(9),n(8),n(19),n(116),n(25),n(66)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d,f,h,p,g){var v=n(1);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=v(r),i=v(i),s=v(s),l=v(l),c=v(c),u=v(u),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(d),f=v(f),h=v(h),p=v(p);var b=function(e){(0,s.default)(n,e);var t=y(n);function n(){var e;return(0,r.default)(this,n),(e=t.apply(this,arguments)).anyBlockSelectedCache=null,e.needToSelectAll=!1,e.nativeInputSelected=!1,e.readyToBlockSelection=!1,e}return(0,i.default)(n,[{key:"sanitizerConfig",get:function(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}},{key:"allBlocksSelected",get:function(){return this.Editor.BlockManager.blocks.every((function(e){return!0===e.selected}))},set:function(e){this.Editor.BlockManager.blocks.forEach((function(t){t.selected=e})),this.clearCache()}},{key:"anyBlockSelected",get:function(){var e=this.Editor.BlockManager;return null===this.anyBlockSelectedCache&&(this.anyBlockSelectedCache=e.blocks.some((function(e){return!0===e.selected}))),this.anyBlockSelectedCache}},{key:"selectedBlocks",get:function(){return this.Editor.BlockManager.blocks.filter((function(e){return e.selected}))}},{key:"prepare",value:function(){var e=this;this.selection=new p.default,h.default.add({name:"CMD+A",handler:function(t){var n=e.Editor,o=n.BlockManager;if(n.ReadOnly.isEnabled)return t.preventDefault(),void e.selectAllBlocks();o.currentBlock&&e.handleCommandA(t)},on:this.Editor.UI.nodes.redactor})}},{key:"toggleReadOnly",value:function(){p.default.get().removeAllRanges(),this.allBlocksSelected=!1}},{key:"unSelectBlockByIndex",value:function(e){var t=this.Editor.BlockManager;(isNaN(e)?t.currentBlock:t.getBlockByIndex(e)).selected=!1,this.clearCache()}},{key:"clearSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.Editor,o=n.BlockManager,r=n.Caret,i=n.RectangleSelection;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;var a=e&&e instanceof KeyboardEvent,s=a&&d.isPrintableKey(e.keyCode);if(this.anyBlockSelected&&a&&s&&!p.default.isSelectionExists){var l=o.removeSelectedBlocks();o.insertDefaultBlockAtIndex(l,!0),r.setToBlock(o.currentBlock),d.delay((function(){var t=e.key;r.insertContentAtCaretPosition(t.length>1?"":t)}),20)()}this.Editor.CrossBlockSelection.clear(e),this.anyBlockSelected&&!i.isRectActivated()?(t&&this.selection.restore(),this.allBlocksSelected=!1):this.Editor.RectangleSelection.clearSelection()}},{key:"copySelectedBlocks",value:function(e){var t=this;e.preventDefault();var n=f.default.make("div");this.selectedBlocks.forEach((function(e){var o=(0,g.clean)(e.holder.innerHTML,t.sanitizerConfig),r=f.default.make("p");r.innerHTML=o,n.appendChild(r)}));var o=Array.from(n.childNodes).map((function(e){return e.textContent})).join("\n\n"),r=n.innerHTML;return e.clipboardData.setData("text/plain",o),e.clipboardData.setData("text/html",r),Promise.all(this.selectedBlocks.map((function(e){return e.save()}))).then((function(n){try{e.clipboardData.setData(t.Editor.Paste.MIME_TYPE,JSON.stringify(n))}catch(e){}}))}},{key:"selectBlockByIndex",value:function(e){var t,n=this.Editor.BlockManager;n.clearFocused(),t=isNaN(e)?n.currentBlock:n.getBlockByIndex(e),this.selection.save(),p.default.get().removeAllRanges(),t.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}},{key:"clearCache",value:function(){this.anyBlockSelectedCache=null}},{key:"destroy",value:function(){h.default.remove(this.Editor.UI.nodes.redactor,"CMD+A")}},{key:"handleCommandA",value:function(e){if(this.Editor.RectangleSelection.clearSelection(),!f.default.isNativeInput(e.target)||this.readyToBlockSelection){var t=this.Editor.BlockManager.getBlock(e.target).inputs;t.length>1&&!this.readyToBlockSelection?this.readyToBlockSelection=!0:1!==t.length||this.needToSelectAll?this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0):this.needToSelectAll=!0}else this.readyToBlockSelection=!0}},{key:"selectAllBlocks",value:function(){this.selection.save(),p.default.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}]),n}(u.default);o.default=b,b.displayName="BlockSelection",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(2),n(3),n(5),n(6),n(4),n(25),n(9),n(19),n(8)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d,f,h){var p=n(1);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=p(r),i=p(i),s=p(s),l=p(l),c=p(c),u=p(u),d=p(d),f=p(f),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(h);var m=function(e){(0,s.default)(n,e);var t=v(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"positions",get:function(){return{START:"start",END:"end",DEFAULT:"default"}}},{key:"isAtStart",get:function(){var e=u.default.get(),t=f.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput),n=e.focusNode;if(f.default.isNativeInput(t))return 0===t.selectionEnd;if(!e.anchorNode)return!1;var o=n.textContent.search(/\S/);-1===o&&(o=0);var r=e.focusOffset;return n.nodeType!==Node.TEXT_NODE&&n.childNodes.length&&(n.childNodes[r]?(n=n.childNodes[r],r=0):r=(n=n.childNodes[r-1]).textContent.length),!(!f.default.isLineBreakTag(t)&&!f.default.isEmpty(t)||!this.getHigherLevelSiblings(n,"left").every((function(e){var t=f.default.isLineBreakTag(e),n=1===e.children.length&&f.default.isLineBreakTag(e.children[0]),o=t||n;return f.default.isEmpty(e)&&!o}))||r!==o)||null===t||n===t&&r<=o}},{key:"isAtEnd",get:function(){var e=u.default.get(),t=e.focusNode,n=f.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(f.default.isNativeInput(n))return n.selectionEnd===n.value.length;if(!e.focusNode)return!1;var o=e.focusOffset;if(t.nodeType!==Node.TEXT_NODE&&t.childNodes.length&&(t.childNodes[o-1]?o=(t=t.childNodes[o-1]).textContent.length:(t=t.childNodes[0],o=0)),f.default.isLineBreakTag(n)||f.default.isEmpty(n)){var r=this.getHigherLevelSiblings(t,"right");if(r.every((function(e,t){return t===r.length-1&&f.default.isLineBreakTag(e)||f.default.isEmpty(e)&&!f.default.isLineBreakTag(e)}))&&o===t.textContent.length)return!0}var i=n.textContent.replace(/\s+$/,"");return t===n&&o>=i.length}},{key:"setToBlock",value:function(e){var t,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.positions.DEFAULT,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.Editor.BlockManager;switch(o){case this.positions.START:t=e.firstInput;break;case this.positions.END:t=e.lastInput;break;default:t=e.currentInput}if(t){var a=f.default.getDeepestNode(t,o===this.positions.END),s=f.default.getContentLength(a);switch(!0){case o===this.positions.START:r=0;break;case o===this.positions.END:case r>s:r=s}h.delay((function(){n.set(a,r)}),20)(),i.setCurrentBlockByChildNode(e.holder),i.currentBlock.currentInput=t}}},{key:"setToInput",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.positions.DEFAULT,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=this.Editor.BlockManager.currentBlock,r=f.default.getDeepestNode(e);switch(t){case this.positions.START:this.set(r,0);break;case this.positions.END:this.set(r,f.default.getContentLength(r));break;default:n&&this.set(r,n)}o.currentInput=e}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=u.default.setCursor(e,t),o=n.top,r=n.bottom,i=window.innerHeight;o<0&&window.scrollBy(0,o),r>i&&window.scrollBy(0,r-i)}},{key:"setToTheLastBlock",value:function(){var e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{var t=this.Editor.BlockManager.insertAtEnd();this.setToBlock(t)}}},{key:"extractFragmentFromCaretPosition",value:function(){var e=u.default.get();if(e.rangeCount){var t=e.getRangeAt(0),n=this.Editor.BlockManager.currentBlock.currentInput;if(t.deleteContents(),n){if(f.default.isNativeInput(n)){var o=n,r=document.createDocumentFragment(),i=o.value.substring(0,o.selectionStart),a=o.value.substring(o.selectionStart);return r.textContent=a,o.value=i,r}var s=t.cloneRange();return s.selectNodeContents(n),s.setStart(t.endContainer,t.endOffset),s.extractContents()}}}},{key:"navigateNext",value:function(){var e=this.Editor.BlockManager,t=e.currentBlock,n=e.nextContentfulBlock,o=t.nextInput,r=this.isAtEnd,i=n;if(!i&&!o){if(t.tool.isDefault||!r)return!1;i=e.insertAtEnd()}return!!r&&(o?this.setToInput(o,this.positions.START):this.setToBlock(i,this.positions.START),!0)}},{key:"navigatePrevious",value:function(){var e=this.Editor.BlockManager,t=e.currentBlock,n=e.previousContentfulBlock;if(!t)return!1;var o=t.previousInput;return!(!n&&!o||!this.isAtStart||(o?this.setToInput(o,this.positions.END):this.setToBlock(n,this.positions.END),0))}},{key:"createShadow",value:function(e){var t=document.createElement("span");t.classList.add(n.CSS.shadowCaret),e.insertAdjacentElement("beforeend",t)}},{key:"restoreCaret",value:function(e){var t=e.querySelector(".".concat(n.CSS.shadowCaret));t&&((new u.default).expandToTag(t),setTimeout((function(){var e=document.createRange();e.selectNode(t),e.extractContents()}),50))}},{key:"insertContentAtCaretPosition",value:function(e){var t=document.createDocumentFragment(),n=document.createElement("div"),o=u.default.get(),r=u.default.range;n.innerHTML=e,Array.from(n.childNodes).forEach((function(e){return t.appendChild(e)})),0===t.childNodes.length&&t.appendChild(new Text);var i=t.lastChild;r.deleteContents(),r.insertNode(t);var a=document.createRange();a.setStart(i,i.textContent.length),o.removeAllRanges(),o.addRange(a)}},{key:"getHigherLevelSiblings",value:function(e,t){for(var n=e,o=[];n.parentNode&&"true"!==n.parentNode.contentEditable;)n=n.parentNode;for(var r="left"===t?"previousSibling":"nextSibling";n[r];)n=n[r],o.push(n);return o}}],[{key:"CSS",get:function(){return{shadowCaret:"cdx-shadow-caret"}}}]),n}(d.default);o.default=m,m.displayName="Caret",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(20),n(21),n(2),n(3),n(5),n(6),n(4),n(9),n(25),n(8)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d,f,h,p){var g=n(1);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,u.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=g(r),i=g(i),s=g(s),l=g(l),c=g(c),u=g(u),d=g(d),f=g(f),h=g(h),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(p);var y=function(e){(0,c.default)(o,e);var t,n=m(o);function o(){var e;return(0,s.default)(this,o),(e=n.apply(this,arguments)).onMouseUp=function(){e.listeners.off(document,"mouseover",e.onMouseOver),e.listeners.off(document,"mouseup",e.onMouseUp)},e.onMouseOver=function(t){var n=e.Editor,o=n.BlockManager,r=n.BlockSelection,i=o.getBlockByChildNode(t.relatedTarget)||e.lastSelectedBlock,a=o.getBlockByChildNode(t.target);if(i&&a&&a!==i){if(i===e.firstSelectedBlock)return h.default.get().removeAllRanges(),i.selected=!0,a.selected=!0,void r.clearCache();if(a===e.firstSelectedBlock)return i.selected=!1,a.selected=!1,void r.clearCache();e.Editor.InlineToolbar.close(),e.toggleBlocksSelectedState(i,a),e.lastSelectedBlock=a}},e}return(0,l.default)(o,[{key:"prepare",value:(t=(0,i.default)(r.default.mark((function e(){var t=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.listeners.on(document,"mousedown",(function(e){t.enableCrossBlockSelection(e)}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"watchSelection",value:function(e){if(e.button===p.mouseButtons.LEFT){var t=this.Editor.BlockManager;this.firstSelectedBlock=t.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}}},{key:"isCrossBlockSelectionStarted",get:function(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}},{key:"toggleBlockSelectedState",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.Editor,n=t.BlockManager,o=t.BlockSelection;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,o.clearCache(),h.default.get().removeAllRanges());var r=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),i=n.blocks[r];i&&(this.lastSelectedBlock.selected!==i.selected?(i.selected=!0,o.clearCache()):(this.lastSelectedBlock.selected=!1,o.clearCache()),this.lastSelectedBlock=i,this.Editor.InlineToolbar.close(),i.holder.scrollIntoView({block:"nearest"}))}},{key:"clear",value:function(e){var t=this.Editor,n=t.BlockManager,o=t.BlockSelection,r=t.Caret,i=n.blocks.indexOf(this.firstSelectedBlock),a=n.blocks.indexOf(this.lastSelectedBlock);if(o.anyBlockSelected&&i>-1&&a>-1)if(e&&e instanceof KeyboardEvent)switch(e.keyCode){case p.keyCodes.DOWN:case p.keyCodes.RIGHT:r.setToBlock(n.blocks[Math.max(i,a)],r.positions.END);break;case p.keyCodes.UP:case p.keyCodes.LEFT:r.setToBlock(n.blocks[Math.min(i,a)],r.positions.START);break;default:r.setToBlock(n.blocks[Math.max(i,a)],r.positions.END)}else r.setToBlock(n.blocks[Math.max(i,a)],r.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}},{key:"enableCrossBlockSelection",value:function(e){var t=this.Editor.UI;h.default.isCollapsed||this.Editor.BlockSelection.clearSelection(e),t.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}},{key:"toggleBlocksSelectedState",value:function(e,t){for(var n=this.Editor,o=n.BlockManager,r=n.BlockSelection,i=o.blocks.indexOf(e),a=o.blocks.indexOf(t),s=e.selected!==t.selected,l=Math.min(i,a);l<=Math.max(i,a);l++){var c=o.blocks[l];c!==this.firstSelectedBlock&&c!==(s?e:t)&&(o.blocks[l].selected=!o.blocks[l].selected,r.clearCache())}}}]),o}(f.default);o.default=y,y.displayName="CrossBlockSelection",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(20),n(21),n(2),n(3),n(5),n(6),n(4),n(25),n(9)],void 0===(i="function"==typeof(o=function(o,r,i,a,s,l,c,u,d,f){var h=n(1);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=h(r),i=h(i),a=h(a),s=h(s),l=h(l),c=h(c),u=h(u),d=h(d);var g=function(e){(0,l.default)(o,e);var t,n=p(o);function o(){var e;return(0,a.default)(this,o),(e=n.apply(this,arguments)).isStartedAtEditor=!1,e}return(0,s.default)(o,[{key:"toggleReadOnly",value:function(e){e?this.disableModuleBindings():this.enableModuleBindings()}},{key:"enableModuleBindings",value:function(){var e=this,t=this.Editor.UI;this.readOnlyMutableListeners.on(t.nodes.holder,"drop",function(){var t=(0,i.default)(r.default.mark((function t(n){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.processDrop(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),!0),this.readOnlyMutableListeners.on(t.nodes.holder,"dragstart",(function(){e.processDragStart()})),this.readOnlyMutableListeners.on(t.nodes.holder,"dragover",(function(t){e.processDragOver(t)}),!0)}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"processDrop",value:(t=(0,i.default)(r.default.mark((function e(t){var n,o,i,a,s,l;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.Editor,o=n.BlockManager,i=n.Caret,a=n.Paste,t.preventDefault(),o.blocks.forEach((function(e){e.dropTarget=!1})),d.default.isAtEditor&&!d.default.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1,(s=o.setCurrentBlockByChildNode(t.target))?this.Editor.Caret.setToBlock(s,i.positions.END):(l=o.setCurrentBlockByChildNode(o.lastBlock.holder),this.Editor.Caret.setToBlock(l,i.positions.END)),e.next=9,a.processDataTransfer(t.dataTransfer,!0);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"processDragStart",value:function(){d.default.isAtEditor&&!d.default.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}},{key:"processDragOver",value:function(e){e.preventDefault()}}]),o}((f=h(f)).default);o.default=g,g.displayName="DragNDrop",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(2),n(3),n(5),n(6),n(4),n(9),n(8)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d){var f=n(1);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=f(r),i=f(i),s=f(s),l=f(l),c=f(c),u=f(u),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(d);var g=function(e){(0,s.default)(n,e);var t=p(n);function n(){var e;return(0,r.default)(this,n),(e=t.apply(this,arguments)).disabled=!1,e}return(0,i.default)(n,[{key:"enable",value:function(){this.disabled=!1}},{key:"disable",value:function(){this.disabled=!0}},{key:"onChange",value:function(e){!this.disabled&&d.isFunction(this.config.onChange)&&this.config.onChange(this.Editor.API.methods,e)}}]),n}(u.default);o.default=g,g.displayName="ModificationsObserver",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(20),n(30),n(41),n(21),n(2),n(3),n(5),n(6),n(4),n(9),n(19),n(8),n(66)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d,f,h,p,g,v,m){var y=n(1);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,h.default)(e);if(t){var r=(0,h.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,f.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=y(r),i=y(i),s=y(s),l=y(l),c=y(c),u=y(u),d=y(d),f=y(f),h=y(h),p=y(p),g=y(g),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(v);var k=function(e){(0,d.default)(k,e);var t,n,o,a,f,h,p,y,b=w(k);function k(){var e;return(0,c.default)(this,k),(e=b.apply(this,arguments)).MIME_TYPE="application/x-editor-js",e.toolsTags={},e.tagsByTool={},e.toolsPatterns=[],e.toolsFiles={},e.exceptionList=[],e.processTool=function(t){try{var n=t.create({},{},!1);if(!1===t.pasteConfig)return void e.exceptionList.push(t.name);if(!v.isFunction(n.onPaste))return;e.getTagsConfig(t),e.getFilesConfig(t),e.getPatternsConfig(t)}catch(e){v.log("Paste handling for «".concat(t.name,"» Tool hasn't been set up because of the error"),"warn",e)}},e.handlePasteEvent=function(){var t=(0,l.default)(r.default.mark((function t(n){var o,i,a;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.Editor,i=o.BlockManager,a=o.Toolbar,i.currentBlock&&(!e.isNativeBehaviour(n.target)||n.clipboardData.types.includes("Files"))){t.next=3;break}return t.abrupt("return");case 3:if(!i.currentBlock||!e.exceptionList.includes(i.currentBlock.name)){t.next=5;break}return t.abrupt("return");case 5:n.preventDefault(),e.processDataTransfer(n.clipboardData),i.clearFocused(),a.close();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return(0,u.default)(k,[{key:"prepare",value:(y=(0,l.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.processTools();case 1:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"toggleReadOnly",value:function(e){e?this.unsetCallback():this.setCallback()}},{key:"processDataTransfer",value:(p=(0,l.default)(r.default.mark((function e(t){var n,o,i,a,s,l,c,u,d,f=this,h=arguments;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]&&h[1],o=this.Editor.Tools,!((i=t.types).includes?i.includes("Files"):i.contains("Files"))||v.isEmpty(this.toolsFiles)){e.next=8;break}return e.next=7,this.processFiles(t.files);case 7:return e.abrupt("return");case 8:if(a=t.getData(this.MIME_TYPE),s=t.getData("text/plain"),l=t.getData("text/html"),!a){e.next=19;break}return e.prev=12,this.insertEditorJSData(JSON.parse(a)),e.abrupt("return");case 17:e.prev=17,e.t0=e.catch(12);case 19:if(n&&s.trim()&&l.trim()&&(l="<p>"+(l.trim()?l:s)+"</p>"),c=Object.keys(this.toolsTags).reduce((function(e,t){var n;return e[t.toLowerCase()]=null!==(n=f.toolsTags[t].sanitizationConfig)&&void 0!==n?n:{},e}),{}),u=Object.assign({},c,o.getAllInlineToolsSanitizeConfig(),{br:{}}),(d=(0,m.clean)(l,u)).trim()&&d.trim()!==s&&g.default.isHTMLString(d)){e.next=28;break}return e.next=26,this.processText(s);case 26:e.next=30;break;case 28:return e.next=30,this.processText(d,!0);case 30:case"end":return e.stop()}}),e,this,[[12,17]])}))),function(e){return p.apply(this,arguments)})},{key:"processText",value:(h=(0,l.default)(r.default.mark((function e(t){var n,o,i,a,s,c,u,d=this,f=arguments;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>1&&void 0!==f[1]&&f[1],o=this.Editor,i=o.Caret,a=o.BlockManager,(s=n?this.processHTML(t):this.processPlain(t)).length){e.next=5;break}return e.abrupt("return");case 5:if(1!==s.length){e.next=8;break}return s[0].isBlock?this.processSingleBlock(s.pop()):this.processInlinePaste(s.pop()),e.abrupt("return");case 8:c=a.currentBlock&&a.currentBlock.tool.isDefault,u=c&&a.currentBlock.isEmpty,s.map(function(){var e=(0,l.default)(r.default.mark((function e(t,n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.insertBlock(t,0===n&&u));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),a.currentBlock&&i.setToBlock(a.currentBlock,i.positions.END);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"setCallback",value:function(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"unsetCallback",value:function(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"processTools",value:function(){var e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}},{key:"collectTagNames",value:function(e){return v.isString(e)?[e]:v.isObject(e)?Object.keys(e):[]}},{key:"getTagsConfig",value:function(e){var t=this,n=e.pasteConfig.tags||[],o=[];n.forEach((function(n){var r=t.collectTagNames(n);o.push.apply(o,(0,s.default)(r)),r.forEach((function(o){if(Object.prototype.hasOwnProperty.call(t.toolsTags,o))v.log("Paste handler for «".concat(e.name,"» Tool on «").concat(o,"» tag is skipped ")+"because it is already used by «".concat(t.toolsTags[o].tool.name,"» Tool."),"warn");else{var r=v.isObject(n)?n[o]:null;t.toolsTags[o.toUpperCase()]={tool:e,sanitizationConfig:r}}}))})),this.tagsByTool[e.name]=o.map((function(e){return e.toUpperCase()}))}},{key:"getFilesConfig",value:function(e){var t=e.pasteConfig.files,n=void 0===t?{}:t,o=n.extensions,r=n.mimeTypes;(o||r)&&(o&&!Array.isArray(o)&&(v.log("«extensions» property of the onDrop config for «".concat(e.name,"» Tool should be an array")),o=[]),r&&!Array.isArray(r)&&(v.log("«mimeTypes» property of the onDrop config for «".concat(e.name,"» Tool should be an array")),r=[]),r&&(r=r.filter((function(t){return!!v.isValidMimeType(t)||(v.log("MIME type value «".concat(t,"» for the «").concat(e.name,"» Tool is not a valid MIME type"),"warn"),!1)}))),this.toolsFiles[e.name]={extensions:o||[],mimeTypes:r||[]})}},{key:"getPatternsConfig",value:function(e){var t=this;e.pasteConfig.patterns&&!v.isEmpty(e.pasteConfig.patterns)&&Object.entries(e.pasteConfig.patterns).forEach((function(n){var o=(0,i.default)(n,2),r=o[0],a=o[1];a instanceof RegExp||v.log("Pattern ".concat(a," for «").concat(e.name,"» Tool is skipped because it should be a Regexp instance."),"warn"),t.toolsPatterns.push({key:r,pattern:a,tool:e})}))}},{key:"isNativeBehaviour",value:function(e){return g.default.isNativeInput(e)}},{key:"processFiles",value:(f=(0,l.default)(r.default.mark((function e(t){var n,o,i,a,s=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.Editor.BlockManager,e.next=3,Promise.all(Array.from(t).map((function(e){return s.processFile(e)})));case 3:o=(o=e.sent).filter((function(e){return!!e})),i=n.currentBlock.tool.isDefault,a=i&&n.currentBlock.isEmpty,o.forEach((function(e,t){n.paste(e.type,e.event,0===t&&a)}));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"processFile",value:(a=(0,l.default)(r.default.mark((function e(t){var n,o,a,s,l;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=v.getFileExtension(t),o=Object.entries(this.toolsFiles).find((function(e){var o=(0,i.default)(e,2),r=(o[0],o[1]),a=r.mimeTypes,s=r.extensions,l=t.type.split("/"),c=(0,i.default)(l,2),u=c[0],d=c[1],f=s.find((function(e){return e.toLowerCase()===n.toLowerCase()})),h=a.find((function(e){var t=e.split("/"),n=(0,i.default)(t,2),o=n[0],r=n[1];return o===u&&(r===d||"*"===r)}));return!!f||!!h}))){e.next=4;break}return e.abrupt("return");case 4:return a=(0,i.default)(o,1),s=a[0],l=this.composePasteEvent("file",{file:t}),e.abrupt("return",{event:l,type:s});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"processHTML",value:function(e){var t=this,n=this.Editor.Tools,o=g.default.make("DIV");return o.innerHTML=e,this.getNodes(o).map((function(e){var o,r=n.defaultTool,i=!1;switch(e.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:(o=g.default.make("div")).appendChild(e);break;case Node.ELEMENT_NODE:o=e,i=!0,t.toolsTags[o.tagName]&&(r=t.toolsTags[o.tagName].tool)}var a=r.pasteConfig.tags.reduce((function(e,n){return t.collectTagNames(n).forEach((function(t){var o=v.isObject(n)?n[t]:null;e[t.toLowerCase()]=o||{}})),e}),{}),s=Object.assign({},a,r.baseSanitizeConfig);if("table"===o.tagName.toLowerCase()){var l=(0,m.clean)(o.outerHTML,s);o=g.default.make("div",void 0,{innerHTML:l}).firstChild}else o.innerHTML=(0,m.clean)(o.innerHTML,s);var c=t.composePasteEvent("tag",{data:o});return{content:o,isBlock:i,tool:r.name,event:c}})).filter((function(e){var t=g.default.isEmpty(e.content),n=g.default.isSingleTag(e.content);return!t||n}))}},{key:"processPlain",value:function(e){var t=this,n=this.config.defaultBlock;if(!e)return[];var o=n;return e.split(/\r?\n/).filter((function(e){return e.trim()})).map((function(e){var n=g.default.make("div");n.textContent=e;var r=t.composePasteEvent("tag",{data:n});return{content:n,tool:o,isBlock:!1,event:r}}))}},{key:"processSingleBlock",value:(o=(0,l.default)(r.default.mark((function e(t){var n,o,i,a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.Editor,o=n.Caret,i=n.BlockManager,(a=i.currentBlock)&&t.tool===a.name&&g.default.containsOnlyInlineElements(t.content.innerHTML)){e.next=5;break}return this.insertBlock(t,(null==a?void 0:a.tool.isDefault)&&a.isEmpty),e.abrupt("return");case 5:o.insertContentAtCaretPosition(t.content.innerHTML);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"processInlinePaste",value:(n=(0,l.default)(r.default.mark((function e(t){var n,o,i,a,s,l,c,u;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.Editor,o=n.BlockManager,i=n.Caret,a=t.content,!(o.currentBlock&&o.currentBlock.tool.isDefault&&a.textContent.length<k.PATTERN_PROCESSING_MAX_LENGTH)){e.next=12;break}return e.next=6,this.processPattern(a.textContent);case 6:if(!(s=e.sent)){e.next=12;break}return l=o.currentBlock&&o.currentBlock.tool.isDefault&&o.currentBlock.isEmpty,c=o.paste(s.tool,s.event,l),i.setToBlock(c,i.positions.END),e.abrupt("return");case 12:o.currentBlock&&o.currentBlock.currentInput?(u=o.currentBlock.tool.baseSanitizeConfig,document.execCommand("insertHTML",!1,(0,m.clean)(a.innerHTML,u))):this.insertBlock(t);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"processPattern",value:(t=(0,l.default)(r.default.mark((function e(t){var n,o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.toolsPatterns.find((function(e){var n=e.pattern.exec(t);return!!n&&t===n.shift()}))){e.next=3;break}return e.abrupt("return");case 3:return o=this.composePasteEvent("pattern",{key:n.key,data:t}),e.abrupt("return",{event:o,tool:n.tool.name});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"insertBlock",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.Editor,r=o.BlockManager,i=o.Caret,a=r.currentBlock;if(n&&a&&a.isEmpty)return t=r.paste(e.tool,e.event,!0),void i.setToBlock(t,i.positions.END);t=r.paste(e.tool,e.event),i.setToBlock(t,i.positions.END)}},{key:"insertEditorJSData",value:function(e){var t=this.Editor,n=t.BlockManager,o=t.Caret,r=t.Tools;(0,m.sanitizeBlocks)(e,(function(e){return r.blockTools.get(e).sanitizeConfig})).forEach((function(e,t){var r=e.tool,i=e.data,a=!1;0===t&&(a=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty);var s=n.insert({tool:r,data:i,replace:a});o.setToBlock(s,o.positions.END)}))}},{key:"processElementNode",value:function(e,t,n){var o=Object.keys(this.toolsTags),r=e,i=(this.toolsTags[r.tagName]||{}).tool,a=this.tagsByTool[null==i?void 0:i.name]||[],l=o.includes(r.tagName),c=g.default.blockElements.includes(r.tagName.toLowerCase()),u=Array.from(r.children).some((function(e){var t=e.tagName;return o.includes(t)&&!a.includes(t)})),d=Array.from(r.children).some((function(e){var t=e.tagName;return g.default.blockElements.includes(t.toLowerCase())}));return c||l||u?l&&!u||c&&!d&&!u?[].concat((0,s.default)(t),[n,r]):void 0:(n.appendChild(r),[].concat((0,s.default)(t),[n]))}},{key:"getNodes",value:function(e){var t,n=this;return Array.from(e.childNodes).reduce((function e(o,r){if(g.default.isEmpty(r)&&!g.default.isSingleTag(r))return o;var i=o[o.length-1],a=new DocumentFragment;switch(i&&g.default.isFragment(i)&&(a=o.pop()),r.nodeType){case Node.ELEMENT_NODE:if(t=n.processElementNode(r,o,a))return t;break;case Node.TEXT_NODE:return a.appendChild(r),[].concat((0,s.default)(o),[a]);default:return[].concat((0,s.default)(o),[a])}return[].concat((0,s.default)(o),(0,s.default)(Array.from(r.childNodes).reduce(e,[])))}),[])}},{key:"composePasteEvent",value:function(e,t){return new CustomEvent(e,{detail:t})}}]),k}(p.default);o.default=k,k.displayName="Paste",k.PATTERN_PROCESSING_MAX_LENGTH=450,e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(20),n(30),n(21),n(2),n(3),n(5),n(6),n(4),n(9),n(151)],void 0===(i="function"==typeof(o=function(o,r,i,a,s,l,c,u,d,f,h){var p=n(1);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,u.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=p(r),i=p(i),a=p(a),s=p(s),l=p(l),c=p(c),u=p(u),d=p(d);var v=function(e){(0,c.default)(u,e);var t,n,o=g(u);function u(){var e;return(0,s.default)(this,u),(e=o.apply(this,arguments)).toolsDontSupportReadOnly=[],e.readOnlyEnabled=!1,e}return(0,l.default)(u,[{key:"isEnabled",get:function(){return this.readOnlyEnabled}},{key:"prepare",value:(n=(0,a.default)(r.default.mark((function e(){var t,n,o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.Editor.Tools,n=t.blockTools,o=[],Array.from(n.entries()).forEach((function(e){var t=(0,i.default)(e,2),n=t[0];t[1].isReadOnlySupported||o.push(n)})),this.toolsDontSupportReadOnly=o,this.config.readOnly&&o.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly);case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"toggle",value:(t=(0,a.default)(r.default.mark((function e(){var t,n,o,i,a=arguments;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=a.length>0&&void 0!==a[0]?a[0]:!this.readOnlyEnabled)&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError(),n=this.readOnlyEnabled,this.readOnlyEnabled=t,e.t0=r.default.keys(this.Editor);case 5:if((e.t1=e.t0()).done){e.next=12;break}if(o=e.t1.value,this.Editor[o].toggleReadOnly){e.next=9;break}return e.abrupt("continue",5);case 9:this.Editor[o].toggleReadOnly(t),e.next=5;break;case 12:if(n!==t){e.next=14;break}return e.abrupt("return",this.readOnlyEnabled);case 14:return e.next=16,this.Editor.Saver.save();case 16:return i=e.sent,e.next=19,this.Editor.BlockManager.clear();case 19:return e.next=21,this.Editor.Renderer.render(i.blocks);case 21:return e.abrupt("return",this.readOnlyEnabled);case 22:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"throwCriticalError",value:function(){throw new h.CriticalError("To enable read-only mode all connected tools should support it. Tools ".concat(this.toolsDontSupportReadOnly.join(", ")," don't support read-only mode."))}}]),u}((f=p(f)).default);o.default=v,v.displayName="ReadOnly",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(2),n(3),n(5),n(6),n(4),n(9),n(19),n(25),n(61),n(8)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d,f,h,p){var g=n(1);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=g(r),i=g(i),s=g(s),l=g(l),c=g(c),u=g(u),d=g(d),f=g(f),h=g(h),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(p);var w=function(e){(0,s.default)(n,e);var t=b(n);function n(){var e;return(0,r.default)(this,n),(e=t.apply(this,arguments)).isRectSelectionActivated=!1,e.SCROLL_SPEED=3,e.HEIGHT_OF_SCROLL_ZONE=40,e.BOTTOM_SCROLL_ZONE=1,e.TOP_SCROLL_ZONE=2,e.MAIN_MOUSE_BUTTON=0,e.mousedown=!1,e.isScrolling=!1,e.inScrollZone=null,e.startX=0,e.startY=0,e.mouseX=0,e.mouseY=0,e.stackOfSelected=[],e.listenerIds=[],e}return(0,i.default)(n,[{key:"prepare",value:function(){this.enableModuleBindings()}},{key:"startSelection",value:function(e,t){var n=document.elementFromPoint(e-window.pageXOffset,t-window.pageYOffset);n.closest(".".concat(this.Editor.Toolbar.CSS.toolbar))||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);var o=[".".concat(h.default.CSS.content),".".concat(this.Editor.Toolbar.CSS.toolbar),".".concat(this.Editor.InlineToolbar.CSS.inlineToolbar)],r=n.closest("."+this.Editor.UI.CSS.editorWrapper),i=o.some((function(e){return!!n.closest(e)}));r&&!i&&(this.mousedown=!0,this.startX=e,this.startY=t)}},{key:"endSelection",value:function(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}},{key:"isRectActivated",value:function(){return this.isRectSelectionActivated}},{key:"clearSelection",value:function(){this.isRectSelectionActivated=!1}},{key:"enableModuleBindings",value:function(){var e=this,t=this.genHTML().container;this.listeners.on(t,"mousedown",(function(t){e.processMouseDown(t)}),!1),this.listeners.on(document.body,"mousemove",p.throttle((function(t){e.processMouseMove(t)}),10),{passive:!0}),this.listeners.on(document.body,"mouseleave",(function(){e.processMouseLeave()})),this.listeners.on(window,"scroll",p.throttle((function(t){e.processScroll(t)}),10),{passive:!0}),this.listeners.on(document.body,"mouseup",(function(){e.processMouseUp()}),!1)}},{key:"processMouseDown",value:function(e){e.button===this.MAIN_MOUSE_BUTTON&&(null!==e.target.closest(d.default.allInputsSelector)||this.startSelection(e.pageX,e.pageY))}},{key:"processMouseMove",value:function(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}},{key:"processMouseLeave",value:function(){this.clearSelection(),this.endSelection()}},{key:"processScroll",value:function(e){this.changingRectangle(e)}},{key:"processMouseUp",value:function(){this.clearSelection(),this.endSelection()}},{key:"scrollByZones",value:function(e){this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),this.inScrollZone?this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0):this.isScrolling=!1}},{key:"genHTML",value:function(){var e=this.Editor.UI,t=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),o=d.default.make("div",n.CSS.overlay,{}),r=d.default.make("div",n.CSS.overlayContainer,{}),i=d.default.make("div",n.CSS.rect,{});return r.appendChild(i),o.appendChild(r),t.appendChild(o),this.overlayRectangle=i,{container:t,overlay:o}}},{key:"scrollVertical",value:function(e){var t=this;if(this.inScrollZone&&this.mousedown){var n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout((function(){t.scrollVertical(e)}),0)}}},{key:"changingRectangle",value:function(e){if(this.mousedown){void 0!==e.pageY&&(this.mouseX=e.pageX,this.mouseY=e.pageY);var t=this.genInfoForMouseSelection(),n=t.rightPos,o=t.leftPos,r=t.index,i=this.startX>n&&this.mouseX>n,a=this.startX<o&&this.mouseX<o;this.rectCrossesBlocks=!(i||a),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),void 0!==r&&(this.trySelectNextBlock(r),this.inverseSelection(),f.default.get().removeAllRanges())}}},{key:"shrinkRectangleToPoint",value:function(){this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px")}},{key:"inverseSelection",value:function(){var e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e){var t,n=m(this.stackOfSelected);try{for(n.s();!(t=n.n()).done;){var o=t.value;this.Editor.BlockSelection.selectBlockByIndex(o)}}catch(e){n.e(e)}finally{n.f()}}if(!this.rectCrossesBlocks&&e){var r,i=m(this.stackOfSelected);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Editor.BlockSelection.unSelectBlockByIndex(a)}}catch(e){i.e(e)}finally{i.f()}}}},{key:"updateRectangleSize",value:function(){this.mouseY>=this.startY?(this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.mouseY-window.pageYOffset,"px")):(this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.top="".concat(this.mouseY-window.pageYOffset,"px")),this.mouseX>=this.startX?(this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.mouseX-window.pageXOffset,"px")):(this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.left="".concat(this.mouseX-window.pageXOffset,"px"))}},{key:"genInfoForMouseSelection",value:function(){var e,t=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,o=document.elementFromPoint(t,n),r=this.Editor.BlockManager.getBlockByChildNode(o);void 0!==r&&(e=this.Editor.BlockManager.blocks.findIndex((function(e){return e.holder===r.holder})));var i=this.Editor.BlockManager.lastBlock.holder.querySelector("."+h.default.CSS.content),a=Number.parseInt(window.getComputedStyle(i).width,10)/2;return{index:e,leftPos:t-a,rightPos:t+a}}},{key:"addBlockInSelection",value:function(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}},{key:"trySelectNextBlock",value:function(e){var t=this,n=this.stackOfSelected[this.stackOfSelected.length-1]===e,o=this.stackOfSelected.length;if(!n){var r=this.stackOfSelected[o-1]-this.stackOfSelected[o-2]>0,i=0;o>1&&(i=r?1:-1);var a=e>this.stackOfSelected[o-1]&&1===i,s=e<this.stackOfSelected[o-1]&&-1===i,l=!(a||s||0===i);if(l||!(e>this.stackOfSelected[o-1]||void 0===this.stackOfSelected[o-1])){if(!l&&e<this.stackOfSelected[o-1])for(var c=this.stackOfSelected[o-1]-1;c>=e;c--)this.addBlockInSelection(c);else if(l){var u,d=o-1;for(u=e>this.stackOfSelected[o-1]?function(){return e>t.stackOfSelected[d]}:function(){return e<t.stackOfSelected[d]};u();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[d]),this.stackOfSelected.pop(),d--}}else for(var f=this.stackOfSelected[o-1]+1||e;f<=e;f++)this.addBlockInSelection(f)}}}],[{key:"CSS",get:function(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}}]),n}(u.default);o.default=w,w.displayName="RectangleSelection",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(20),n(21),n(2),n(3),n(5),n(6),n(4),n(9),n(8)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d,f,h){var p=n(1);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,u.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=p(r),i=p(i),s=p(s),l=p(l),c=p(c),u=p(u),d=p(d),f=p(f),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(h);var m=function(e){(0,c.default)(a,e);var t,n,o=v(a);function a(){return(0,s.default)(this,a),o.apply(this,arguments)}return(0,l.default)(a,[{key:"render",value:(n=(0,i.default)(r.default.mark((function e(t){var n,o,i=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return{function:function(){return i.insertBlock(e)}}})),this.Editor.ModificationsObserver.disable(),e.next=4,h.sequence(n);case 4:return o=e.sent,this.Editor.ModificationsObserver.enable(),this.Editor.UI.checkEmptiness(),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"insertBlock",value:(t=(0,i.default)(r.default.mark((function e(t){var n,o,i,a,s,l,c,u,d,f,p;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.Editor,i=o.Tools,a=o.BlockManager,s=t.type,l=t.data,c=t.tunes,u=t.id,!i.available.has(s)){e.next=13;break}e.prev=3,a.insert({id:u,tool:s,data:l,tunes:c}),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(3),h.log("Block «".concat(s,"» skipped because of plugins error"),"warn",l),Error(e.t0);case 11:e.next=18;break;case 13:d={savedData:{id:u,type:s,data:l},title:s},i.unavailable.has(s)&&(f=i.unavailable.get(s).toolbox,p=null===(n=f[0])||void 0===n?void 0:n.title,d.title=p||d.title),a.insert({id:u,tool:i.stubTool,data:d}).stretched=!0,h.log("Tool «".concat(s,"» is not found. Check 'tools' property at your initial Editor.js config."),"warn");case 18:case"end":return e.stop()}}),e,this,[[3,7]])}))),function(e){return t.apply(this,arguments)})}]),a}(f.default);o.default=m,m.displayName="Renderer",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(20),n(21),n(2),n(3),n(5),n(6),n(4),n(9),n(8),n(66)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d,f,h,p){var g=n(1);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,u.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=g(r),i=g(i),s=g(s),l=g(l),c=g(c),u=g(u),d=g(d),f=g(f),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(h);var y=function(e){(0,c.default)(a,e);var t,n,o=m(a);function a(){return(0,s.default)(this,a),o.apply(this,arguments)}return(0,l.default)(a,[{key:"save",value:(n=(0,i.default)(r.default.mark((function e(){var t,n,o,i,a,s,l,c=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Editor,n=t.BlockManager,o=t.Tools,i=n.blocks,a=[],e.prev=2,i.forEach((function(e){a.push(c.getSavedData(e))})),e.next=6,Promise.all(a);case 6:return s=e.sent,e.next=9,(0,p.sanitizeBlocks)(s,(function(e){return o.blockTools.get(e).sanitizeConfig}));case 9:return l=e.sent,e.abrupt("return",this.makeOutput(l));case 13:e.prev=13,e.t0=e.catch(2),h.logLabeled("Saving failed due to the Error %o","error",e.t0);case 16:case"end":return e.stop()}}),e,this,[[2,13]])}))),function(){return n.apply(this,arguments)})},{key:"getSavedData",value:(t=(0,i.default)(r.default.mark((function e(t){var n,o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.save();case 2:if(n=e.sent,e.t0=n,!e.t0){e.next=8;break}return e.next=7,t.validate(n.data);case 7:e.t0=e.sent;case 8:return o=e.t0,e.abrupt("return",Object.assign(Object.assign({},n),{isValid:o}));case 10:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"makeOutput",value:function(e){var t=this,n=0,o=[];return h.log("[Editor.js saving]:","groupCollapsed"),e.forEach((function(e){var r=e.id,i=e.tool,a=e.data,s=e.tunes,l=e.time,c=e.isValid;if(n+=l,h.log("".concat(i.charAt(0).toUpperCase()+i.slice(1)),"group"),!c)return h.log("Block «".concat(i,"» skipped because saved data is invalid")),void h.log(void 0,"groupEnd");if(h.log(a),h.log(void 0,"groupEnd"),i!==t.Editor.Tools.stubTool){var u=Object.assign({id:r,type:i,data:a},!h.isEmpty(s)&&{tunes:s});o.push(u)}else o.push(a)})),h.log("Total","log",n),h.log(void 0,"groupEnd"),{time:+new Date,blocks:o,version:"2.26.5"}}}]),a}(f.default);o.default=y,y.displayName="Saver",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(30),n(2),n(3),n(5),n(6),n(4),n(9),n(19),n(25),n(85),n(54),n(68),n(389)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d,f,h,p,g,v,m){var y=n(1);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=y(r),i=y(i),s=y(s),l=y(l),c=y(c),u=y(u),d=y(d),f=y(f),h=y(h),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(p),g=y(g);var k=function(e){(0,l.default)(n,e);var t=w(n);function n(){var e;return(0,i.default)(this,n),(e=t.apply(this,arguments)).opened=!1,e.selection=new h.default,e.onOverlayClicked=function(){e.close()},e}return(0,s.default)(n,[{key:"events",get:function(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}},{key:"CSS",get:function(){return{settings:"ce-settings"}}},{key:"flipper",get:function(){var e;return null===(e=this.popover)||void 0===e?void 0:e.flipper}},{key:"make",value:function(){this.nodes.wrapper=f.default.make("div")}},{key:"destroy",value:function(){this.removeAllNodes()}},{key:"open",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.Editor.BlockManager.currentBlock;this.opened=!0,this.selection.save(),t.selected=!0,this.Editor.BlockSelection.clearCache();var n=t.getTunes(),o=(0,r.default)(n,2),i=o[0],a=o[1];this.eventsDispatcher.emit(this.events.opened),this.popover=new p.default({className:this.CSS.settings,searchable:!0,filterLabel:g.default.ui(v.I18nInternalNS.ui.popover,"Filter"),nothingFoundLabel:g.default.ui(v.I18nInternalNS.ui.popover,"Nothing found"),items:i.map((function(t){return e.resolveTuneAliases(t)})),customContent:a,customContentFlippableItems:this.getControls(a),scopeElement:this.Editor.API.methods.ui.nodes.redactor}),this.popover.on(p.PopoverEvent.OverlayClicked,this.onOverlayClicked),this.popover.on(p.PopoverEvent.Close,(function(){return e.close()})),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}},{key:"getElement",value:function(){return this.nodes.wrapper}},{key:"close",value:function(){this.opened=!1,h.default.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(p.PopoverEvent.OverlayClicked,this.onOverlayClicked),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null)}},{key:"getControls",value:function(e){var t=this.Editor.StylesAPI,n=e.querySelectorAll(".".concat(t.classes.settingsButton,", ").concat(f.default.allInputsSelector));return Array.from(n)}},{key:"resolveTuneAliases",value:function(e){var t=(0,m.resolveAliases)(e,{label:"title"});return e.confirmation&&(t.confirmation=this.resolveTuneAliases(e.confirmation)),t}}]),n}(d.default);o.default=k,k.displayName="BlockSettings",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(20),n(30),n(21),n(41),n(2),n(3),n(5),n(6),n(4),n(9),n(19),n(8),n(67),n(54),n(68),n(66)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d,f,h,p,g,v,m,y,b,w){var k=n(1);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,h.default)(e);if(t){var r=(0,h.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,f.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=k(r),i=k(i),s=k(s),l=k(l),c=k(c),u=k(u),d=k(d),f=k(f),h=k(h),p=k(p),g=k(g),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(v),m=k(m),y=k(y);var S=function(e){(0,d.default)(a,e);var t,n,o=C(a);function a(){var e;return(0,c.default)(this,a),(e=o.apply(this,arguments)).opened=!1,e.tools=[],e.flipper=null,e.togglingCallback=null,e}return(0,u.default)(a,[{key:"make",value:function(){this.nodes.wrapper=g.default.make("div",[a.CSS.conversionToolbarWrapper].concat((0,l.default)(this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]))),this.nodes.tools=g.default.make("div",a.CSS.conversionToolbarTools);var e=g.default.make("div",a.CSS.conversionToolbarLabel,{textContent:y.default.ui(b.I18nInternalNS.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),g.default.append(this.nodes.wrapper,e),g.default.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}},{key:"toggle",value:function(e){this.opened?this.close():this.open(),v.isFunction(e)&&(this.togglingCallback=e)}},{key:"open",value:function(){var e=this;this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(a.CSS.conversionToolbarShowed),window.requestAnimationFrame((function(){e.flipper.activate(e.tools.map((function(e){return e.button})).filter((function(e){return!e.classList.contains(a.CSS.conversionToolHidden)}))),e.flipper.focusFirst(),v.isFunction(e.togglingCallback)&&e.togglingCallback(!0)}))}},{key:"close",value:function(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(a.CSS.conversionToolbarShowed),v.isFunction(this.togglingCallback)&&this.togglingCallback(!1)}},{key:"hasTools",value:function(){return 1!==this.tools.length||this.tools[0].name!==this.config.defaultBlock}},{key:"replaceWithBlock",value:(n=(0,s.default)(r.default.mark((function e(t,n){var o,i,a,s,l,c,u,d,f,h=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.Editor.BlockManager.currentBlock.tool,e.next=3,this.Editor.BlockManager.currentBlock.save();case 3:if(i=e.sent,a=i.data,s=this.Editor.Tools.blockTools.get(t),l="",c=o.conversionConfig.export,!v.isFunction(c)){e.next=12;break}l=c(a),e.next=18;break;case 12:if(!v.isString(c)){e.next=16;break}l=a[c],e.next=18;break;case 16:return v.log("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),e.abrupt("return");case 18:if(u=(0,w.clean)(l,s.sanitizeConfig),d={},f=s.conversionConfig.import,!v.isFunction(f)){e.next=25;break}d=f(u),e.next=31;break;case 25:if(!v.isString(f)){e.next=29;break}d[f]=u,e.next=31;break;case 29:return v.log("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),e.abrupt("return");case 31:n&&(d=Object.assign(d,n)),this.Editor.BlockManager.replace({tool:t,data:d}),this.Editor.BlockSelection.clearSelection(),this.close(),this.Editor.InlineToolbar.close(),v.delay((function(){h.Editor.Caret.setToBlock(h.Editor.BlockManager.currentBlock)}),10)();case 37:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"addTools",value:function(){var e=this,t=this.Editor.Tools.blockTools;Array.from(t.entries()).forEach((function(t){var n=(0,i.default)(t,2),o=n[0],r=n[1],a=r.conversionConfig;a&&a.import&&r.toolbox.forEach((function(t){return e.addToolIfValid(o,t)}))}))}},{key:"addToolIfValid",value:function(e,t){!v.isEmpty(t)&&t.icon&&this.addTool(e,t)}},{key:"addTool",value:function(e,t){var n=this,o=g.default.make("div",[a.CSS.conversionTool]),i=g.default.make("div",[a.CSS.conversionToolIcon]);o.dataset.tool=e,i.innerHTML=t.icon,g.default.append(o,i),g.default.append(o,g.default.text(y.default.t(b.I18nInternalNS.toolNames,t.title||v.capitalize(e)))),g.default.append(this.nodes.tools,o),this.tools.push({name:e,button:o,toolboxItem:t}),this.listeners.on(o,"click",(0,s.default)(r.default.mark((function o(){return r.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.replaceWithBlock(e,t.data);case 2:case"end":return o.stop()}}),o)}))))}},{key:"filterTools",value:(t=(0,s.default)(r.default.mark((function e(){var t,n,o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,t){return e.icon===t.icon&&e.title===t.title},t=this.Editor.BlockManager.currentBlock,e.next=4,t.getActiveToolboxEntry();case 4:n=e.sent,this.tools.forEach((function(e){var r=!1;if(n){var i=o(n,e.toolboxItem);r=e.button.dataset.tool===t.name&&i}e.button.hidden=r,e.button.classList.toggle(a.CSS.conversionToolHidden,r)}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"enableFlipper",value:function(){this.flipper=new m.default({focusedItemClass:a.CSS.conversionToolFocused})}}],[{key:"CSS",get:function(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}}]),a}(p.default);o.default=S,S.displayName="ConversionToolbar",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(20),n(21),n(41),n(30),n(2),n(3),n(5),n(6),n(4),n(9),n(19),n(25),n(8),n(67),n(54),n(68),n(116),n(115),n(69),n(37)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d,f,h,p,g,v,m,y,b,w,k,x,C,S){var _=n(1);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,h.default)(e);if(t){var r=(0,h.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,f.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=_(r),i=_(i),s=_(s),l=_(l),c=_(c),u=_(u),d=_(d),f=_(f),h=_(h),p=_(p),g=_(g),v=_(v),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(m),y=_(y),b=_(b),k=_(k),x=_(x);var O=function(e){(0,d.default)(o,e);var t,n=T(o);function o(e){var t,r=e.config,i=e.eventsDispatcher;return(0,c.default)(this,o),(t=n.call(this,{config:r,eventsDispatcher:i})).CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},t.opened=!1,t.toolbarVerticalMargin=m.isMobileScreen()?20:6,t.buttonsList=null,t.width=0,t.flipper=null,t.tooltip=new x.default,t}return(0,u.default)(o,[{key:"toggleReadOnly",value:function(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}},{key:"tryToShow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.allowedToShow()?(this.move(),this.open(t),this.Editor.Toolbar.close()):e&&this.close()}},{key:"move",value:function(){var e=v.default.rect,t=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),n={x:e.x-t.left,y:e.y+e.height-t.top+this.toolbarVerticalMargin};e.width&&(n.x+=Math.floor(e.width/2));var o=n.x-this.width/2,r=n.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,o<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,r>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(n.x)+"px",this.nodes.wrapper.style.top=Math.floor(n.y)+"px"}},{key:"close",value:function(){var e=this;this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach((function(t){var n=(0,l.default)(t,2),o=n[0],r=n[1],i=e.getToolShortcut(o);i&&k.default.remove(e.Editor.UI.nodes.redactor,i),m.isFunction(r.clear)&&r.clear()})),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}},{key:"open",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.opened){this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(".".concat(this.CSS.inlineToolButton)),this.opened=!0,e&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;var t=Array.from(this.buttonsList);t.unshift(this.nodes.conversionToggler),t=t.filter((function(e){return!e.hidden})),this.flipper.activate(t)}}},{key:"containsNode",value:function(e){return this.nodes.wrapper.contains(e)}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}},{key:"make",value:function(){var e=this;this.nodes.wrapper=g.default.make("div",[this.CSS.inlineToolbar].concat((0,s.default)(this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]))),this.nodes.togglerAndButtonsWrapper=g.default.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=g.default.make("div",this.CSS.buttonsWrapper),this.nodes.actions=g.default.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",(function(t){t.target.closest(".".concat(e.CSS.actionsWrapper))||t.preventDefault()})),g.default.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),g.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),g.default.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}},{key:"allowedToShow",value:function(){var e=v.default.get(),t=v.default.text;if(!e||!e.anchorNode)return!1;if(e.isCollapsed||t.length<1)return!1;var n=g.default.isElement(e.anchorNode)?e.anchorNode:e.anchorNode.parentElement;if(e&&["IMG","INPUT"].includes(n.tagName))return!1;if(null===n.closest('[contenteditable="true"]'))return!1;var o=this.Editor.BlockManager.getBlock(e.anchorNode);return!!o&&0!==o.tool.inlineTools.size}},{key:"recalculateWidth",value:function(){this.width=this.nodes.wrapper.offsetWidth}},{key:"addConversionToggler",value:function(){var e=this;this.nodes.conversionToggler=g.default.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=g.default.make("div",this.CSS.conversionTogglerContent);var t=g.default.make("div",this.CSS.conversionTogglerArrow,{innerHTML:S.IconChevronDown});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(t),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",(function(){e.Editor.ConversionToolbar.toggle((function(t){!t&&e.opened?e.flipper.activate():e.opened&&e.flipper.deactivate()}))})),!1===m.isMobileScreen()&&this.tooltip.onHover(this.nodes.conversionToggler,b.default.ui(w.I18nInternalNS.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}},{key:"setConversionTogglerContent",value:(t=(0,i.default)(r.default.mark((function e(){var t,n,o,i,a,s;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Editor.BlockManager,n=t.currentBlock,o=n.name,i=n.tool.conversionConfig,a=i&&i.export,this.nodes.conversionToggler.hidden=!a,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!a),e.next=9,n.getActiveToolboxEntry();case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0={};case 12:s=e.t0,this.nodes.conversionTogglerContent.innerHTML=s.icon||s.title||m.capitalize(o);case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"prepareConversionToolbar",value:function(){var e=this.Editor.ConversionToolbar.make();g.default.append(this.nodes.wrapper,e)}},{key:"addToolsFiltered",value:function(){var e=this,t=v.default.get(),n=this.Editor.BlockManager.getBlock(t.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(n.tool.inlineTools.values()).forEach((function(t){e.addTool(t)})),this.recalculateWidth()}},{key:"addTool",value:function(e){var t=this,n=e.create(),o=n.render();if(o){if(o.dataset.tool=e.name,this.nodes.buttons.appendChild(o),this.toolsInstances.set(e.name,n),m.isFunction(n.renderActions)){var r=n.renderActions();this.nodes.actions.appendChild(r)}this.listeners.on(o,"click",(function(e){t.toolClicked(n),e.preventDefault()}));var i=this.getToolShortcut(e.name);if(i)try{this.enableShortcuts(n,i)}catch(e){}var a=g.default.make("div"),s=b.default.t(w.I18nInternalNS.toolNames,e.title||m.capitalize(e.name));a.appendChild(g.default.text(s)),i&&a.appendChild(g.default.make("div",this.CSS.inlineToolbarShortcut,{textContent:m.beautifyShortcut(i)})),!1===m.isMobileScreen()&&this.tooltip.onHover(o,a,{placement:"top",hidingDelay:100}),n.checkState(v.default.get())}else m.log("Render method must return an instance of Node","warn",e.name)}},{key:"getToolShortcut",value:function(e){var t=this.Editor.Tools,n=t.inlineTools.get(e),o=t.internal.inlineTools;return Array.from(o.keys()).includes(e)?this.inlineTools[e][C.CommonInternalSettings.Shortcut]:n.shortcut}},{key:"enableShortcuts",value:function(e,t){var n=this;k.default.add({name:t,handler:function(t){var o=n.Editor.BlockManager.currentBlock;o&&o.tool.enabledInlineTools&&(t.preventDefault(),n.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}},{key:"toolClicked",value:function(e){var t=v.default.range;e.surround(t),this.checkToolsState(),void 0!==e.renderActions&&this.flipper.deactivate()}},{key:"checkToolsState",value:function(){this.toolsInstances.forEach((function(e){e.checkState(v.default.get())}))}},{key:"inlineTools",get:function(){var e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach((function(t){var n=(0,l.default)(t,2),o=n[0],r=n[1];e[o]=r.create()})),e}},{key:"enableFlipper",value:function(){this.flipper=new y.default({focusedItemClass:this.CSS.focusedButton,allowedKeys:[m.keyCodes.ENTER,m.keyCodes.TAB]})}}]),o}(p.default);o.default=O,O.displayName="InlineToolbar",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(20),n(41),n(30),n(21),n(2),n(3),n(5),n(6),n(4),n(7),n(390),n(9),n(8),n(391),n(392),n(393),n(394),n(395),n(399),n(400),n(401),n(185)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d,f,h,p,g,v,m,y,b,w,k,x,C,S,_,E){var T=n(1);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,h.default)(e);if(t){var r=(0,h.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,f.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=T(r),i=T(i),s=T(s),l=T(l),c=T(c),u=T(u),d=T(d),f=T(f),h=T(h),p=T(p),g=T(g),v=T(v),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(m),y=T(y),b=T(b),w=T(w),k=T(k),x=T(x),C=T(C),S=T(S),_=T(_),E=T(E);var L=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":(0,p.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},B=function(e){(0,d.default)(o,e);var t,n=M(o);function o(){var e;return(0,c.default)(this,o),(e=n.apply(this,arguments)).stubTool="stub",e.toolsAvailable=new E.default,e.toolsUnavailable=new E.default,e}return(0,u.default)(o,[{key:"available",get:function(){return this.toolsAvailable}},{key:"unavailable",get:function(){return this.toolsUnavailable}},{key:"inlineTools",get:function(){return this.available.inlineTools}},{key:"blockTools",get:function(){return this.available.blockTools}},{key:"blockTunes",get:function(){return this.available.blockTunes}},{key:"defaultTool",get:function(){return this.blockTools.get(this.config.defaultBlock)}},{key:"internal",get:function(){return this.available.internalTools}},{key:"prepare",value:(t=(0,l.default)(r.default.mark((function e(){var t,n,o=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validateTools(),this.config.tools=m.deepMerge({},this.internalTools,this.config.tools),Object.prototype.hasOwnProperty.call(this.config,"tools")&&0!==Object.keys(this.config.tools).length){e.next=4;break}throw Error("Can't start without tools");case 4:if(t=this.prepareConfig(),this.factory=new x.default(t,this.config,this.Editor.API),0!==(n=this.getListOfPrepareFunctions(t)).length){e.next=9;break}return e.abrupt("return",Promise.resolve());case 9:return e.next=11,m.sequence(n,(function(e){o.toolPrepareMethodSuccess(e)}),(function(e){o.toolPrepareMethodFallback(e)}));case 11:this.prepareBlockTools();case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getAllInlineToolsSanitizeConfig",value:function(){var e={};return Array.from(this.inlineTools.values()).forEach((function(t){Object.assign(e,t.sanitizeConfig)})),e}},{key:"destroy",value:function(){Object.values(this.available).forEach(function(){var e=(0,l.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.isFunction(t.reset)){e.next=3;break}return e.next=3,t.reset();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"internalTools",get:function(){return{bold:{class:y.default,isInternal:!0},italic:{class:b.default,isInternal:!0},link:{class:w.default,isInternal:!0},paragraph:{class:g.default,inlineToolbar:!0,isInternal:!0},stub:{class:k.default,isInternal:!0},moveUp:{class:_.default,isInternal:!0},delete:{class:S.default,isInternal:!0},moveDown:{class:C.default,isInternal:!0}}}},{key:"toolPrepareMethodSuccess",value:function(e){var t=this.factory.get(e.toolName);if(t.isInline()){var n=["render","surround","checkState"].filter((function(e){return!t.create()[e]}));if(n.length)return m.log("Incorrect Inline Tool: ".concat(t.name,". Some of required methods is not implemented %o"),"warn",n),void this.toolsUnavailable.set(t.name,t)}this.toolsAvailable.set(t.name,t)}},{key:"toolPrepareMethodFallback",value:function(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}},{key:"getListOfPrepareFunctions",value:function(e){var t=[];return Object.entries(e).forEach((function(e){var n=(0,s.default)(e,2),o=n[0],r=n[1];t.push({function:m.isFunction(r.class.prepare)?r.class.prepare:function(){},data:{toolName:o,config:r.config}})})),t}},{key:"prepareBlockTools",value:function(){var e=this;Array.from(this.blockTools.values()).forEach((function(t){e.assignInlineToolsToBlockTool(t),e.assignBlockTunesToBlockTool(t)}))}},{key:"assignInlineToolsToBlockTool",value:function(e){var t=this;!1!==this.config.inlineToolbar&&(!0!==e.enabledInlineTools?Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new E.default(e.enabledInlineTools.map((function(e){return[e,t.inlineTools.get(e)]})))):e.inlineTools=new E.default(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map((function(e){return[e,t.inlineTools.get(e)]})):Array.from(this.inlineTools.entries())))}},{key:"assignBlockTunesToBlockTool",value:function(e){var t=this;if(!1!==e.enabledBlockTunes)if(Array.isArray(e.enabledBlockTunes)){var n=new E.default(e.enabledBlockTunes.map((function(e){return[e,t.blockTunes.get(e)]})));e.tunes=new E.default([].concat((0,i.default)(n),(0,i.default)(this.blockTunes.internalTools)))}else if(Array.isArray(this.config.tunes)){var o=new E.default(this.config.tunes.map((function(e){return[e,t.blockTunes.get(e)]})));e.tunes=new E.default([].concat((0,i.default)(o),(0,i.default)(this.blockTunes.internalTools)))}else e.tunes=this.blockTunes.internalTools}},{key:"validateTools",value:function(){for(var e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;var t=this.config.tools[e];if(!m.isFunction(t)&&!m.isFunction(t.class))throw Error("Tool «".concat(e,"» must be a constructor function or an object with function in the «class» property"))}}},{key:"prepareConfig",value:function(){var e={};for(var t in this.config.tools)m.isObject(this.config.tools[t])?e[t]=this.config.tools[t]:e[t]={class:this.config.tools[t]};return e}}]),o}(v.default);o.default=B,B.displayName="Tools",L([m.cacheable],B.prototype,"getAllInlineToolsSanitizeConfig",null),e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(30),n(2),n(3),n(5),n(6),n(4),n(153)],void 0===(i="function"==typeof(o=function(o,r,i,a,s,l,c,u){var d=n(1);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=d(r),i=d(i),a=d(a),s=d(s),l=d(l),c=d(c);var h=function(e){(0,s.default)(n,e);var t=f(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"blockTools",get:function(){return new n(Array.from(this.entries()).filter((function(e){return(0,r.default)(e,2)[1].isBlock()})))}},{key:"inlineTools",get:function(){return new n(Array.from(this.entries()).filter((function(e){return(0,r.default)(e,2)[1].isInline()})))}},{key:"blockTunes",get:function(){return new n(Array.from(this.entries()).filter((function(e){return(0,r.default)(e,2)[1].isTune()})))}},{key:"internalTools",get:function(){return new n(Array.from(this.entries()).filter((function(e){return(0,r.default)(e,2)[1].isInternal})))}},{key:"externalTools",get:function(){return new n(Array.from(this.entries()).filter((function(e){return!(0,r.default)(e,2)[1].isInternal})))}}]),n}((0,(u=d(u)).default)(Map));o.default=h,h.displayName="ToolsCollection",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(20),n(41),n(30),n(21),n(2),n(3),n(5),n(6),n(4),n(9),n(19),n(8),n(25),n(61),n(67)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d,f,h,p,g,v,m,y,b){var w=n(1);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,h.default)(e);if(t){var r=(0,h.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,f.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=w(r),i=w(i),s=w(s),l=w(l),c=w(c),u=w(u),d=w(d),f=w(f),h=w(h),p=w(p),g=w(g),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(v),m=w(m),y=w(y),b=w(b);var C=function(e){(0,d.default)(a,e);var t,o=x(a);function a(){var e;return(0,c.default)(this,a),(e=o.apply(this,arguments)).isMobile=!1,e.contentRectCache=void 0,e.resizeDebouncer=v.debounce((function(){e.windowResize()}),200),e}return(0,u.default)(a,[{key:"events",get:function(){return{blockHovered:"block-hovered"}}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}},{key:"contentRect",get:function(){if(this.contentRectCache)return this.contentRectCache;var e=this.nodes.wrapper.querySelector(".".concat(y.default.CSS.content));return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}},{key:"addLoader",value:function(){this.nodes.loader=g.default.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}},{key:"removeLoader",value:function(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}},{key:"prepare",value:(t=(0,l.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.checkIsMobile(),this.make(),this.addLoader(),this.loadStyles();case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"toggleReadOnly",value:function(e){e?this.disableModuleBindings():this.enableModuleBindings()}},{key:"checkEmptiness",value:function(){var e=this.Editor.BlockManager;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}},{key:"someToolbarOpened",get:function(){var e=this.Editor,t=e.Toolbar,n=e.BlockSettings,o=e.InlineToolbar,r=e.ConversionToolbar;return n.opened||o.opened||r.opened||t.toolbox.opened}},{key:"someFlipperButtonFocused",get:function(){return!!this.Editor.Toolbar.toolbox.hasFocus()||Object.entries(this.Editor).filter((function(e){var t=(0,s.default)(e,2);return t[0],t[1].flipper instanceof b.default})).some((function(e){var t=(0,s.default)(e,2);return t[0],t[1].flipper.hasFocus()}))}},{key:"destroy",value:function(){this.nodes.holder.innerHTML=""}},{key:"closeAllToolbars",value:function(){var e=this.Editor,t=e.Toolbar,n=e.BlockSettings,o=e.InlineToolbar,r=e.ConversionToolbar;n.close(),o.close(),r.close(),t.toolbox.close()}},{key:"checkIsMobile",value:function(){this.isMobile=window.innerWidth<v.mobileScreenBreakpoint}},{key:"make",value:function(){this.nodes.holder=g.default.getHolder(this.config.holder),this.nodes.wrapper=g.default.make("div",[this.CSS.editorWrapper].concat((0,i.default)(this.isRtl?[this.CSS.editorRtlFix]:[]))),this.nodes.redactor=g.default.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}},{key:"loadStyles",value:function(){var e=n(402);if(!g.default.get("editor-js-styles")){var t=g.default.make("style",null,{id:"editor-js-styles",textContent:e.toString()});g.default.prepend(document.head,t)}}},{key:"enableModuleBindings",value:function(){var e=this;this.readOnlyMutableListeners.on(this.nodes.redactor,"click",(function(t){e.redactorClicked(t)}),!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",(function(t){e.documentTouched(t)}),!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",(function(t){e.documentTouched(t)}),!0),this.readOnlyMutableListeners.on(document,"keydown",(function(t){e.documentKeydown(t)}),!0),this.readOnlyMutableListeners.on(document,"mousedown",(function(t){e.documentClicked(t)}),!0),this.readOnlyMutableListeners.on(document,"selectionchange",(function(){e.selectionChanged()}),!0),this.readOnlyMutableListeners.on(window,"resize",(function(){e.resizeDebouncer()}),{passive:!0}),this.watchBlockHoveredEvents()}},{key:"watchBlockHoveredEvents",value:function(){var e,t=this;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",v.throttle((function(n){var o=n.target.closest(".ce-block");t.Editor.BlockSelection.anyBlockSelected||o&&e!==o&&(e=o,t.eventsDispatcher.emit(t.events.blockHovered,{block:t.Editor.BlockManager.getBlockByChildNode(o)}))}),20),{passive:!0})}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"windowResize",value:function(){this.contentRectCache=null,this.checkIsMobile()}},{key:"documentKeydown",value:function(e){switch(e.keyCode){case v.keyCodes.ENTER:this.enterPressed(e);break;case v.keyCodes.BACKSPACE:this.backspacePressed(e);break;case v.keyCodes.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e)}}},{key:"defaultBehaviour",value:function(e){var t=this.Editor.BlockManager.currentBlock,n=e.target.closest(".".concat(this.CSS.editorWrapper)),o=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;void 0===t||null!==n?n||t&&o||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close()):this.Editor.BlockEvents.keydown(e)}},{key:"backspacePressed",value:function(e){var t=this.Editor,n=t.BlockManager,o=t.BlockSelection,r=t.Caret;if(o.anyBlockSelected&&!m.default.isSelectionExists){var i=n.removeSelectedBlocks();r.setToBlock(n.insertDefaultBlockAtIndex(i,!0),r.positions.START),o.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}},{key:"escapePressed",value:function(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}},{key:"enterPressed",value:function(e){var t=this.Editor,n=t.BlockManager,o=t.BlockSelection,r=n.currentBlockIndex>=0;if(o.anyBlockSelected&&!m.default.isSelectionExists)return o.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),void e.stopPropagation();if(!this.someToolbarOpened&&r&&"BODY"===e.target.tagName){var i=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(i),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(i)}this.Editor.BlockSelection.clearSelection(e)}},{key:"documentClicked",value:function(e){if(e.isTrusted){var t=e.target;this.nodes.holder.contains(t)||m.default.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());var n=this.Editor.BlockSettings.nodes.wrapper.contains(t),o=this.Editor.Toolbar.nodes.settingsToggler.contains(t),r=n||o;if(this.Editor.BlockSettings.opened&&!r){this.Editor.BlockSettings.close();var i=this.Editor.BlockManager.getBlockByChildNode(t);this.Editor.Toolbar.moveAndOpen(i)}this.Editor.BlockSelection.clearSelection(e)}}},{key:"documentTouched",value:function(e){var t=e.target;if(t===this.nodes.redactor){var n=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;t=document.elementFromPoint(n,o)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(t),this.Editor.BlockManager.highlightCurrentNode()}catch(e){this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}},{key:"redactorClicked",value:function(e){var t=this.Editor.BlockSelection;if(m.default.isCollapsed){var n=function(){e.stopImmediatePropagation(),e.stopPropagation()},o=e.target,r=e.metaKey||e.ctrlKey;if(g.default.isAnchor(o)&&r){n();var i=o.getAttribute("href"),a=v.getValidUrl(i);v.openTab(a)}else{var s=this.Editor.BlockManager.getBlockByIndex(-1),l=g.default.offset(s.holder).bottom,c=e.pageY;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!t.anyBlockSelected&&l<c){n();var u=this.Editor,d=u.BlockManager,f=u.Caret,h=u.Toolbar;d.lastBlock.tool.isDefault&&d.lastBlock.isEmpty||d.insertAtEnd(),f.setToTheLastBlock(),h.moveAndOpen(d.lastBlock)}}}}},{key:"selectionChanged",value:function(){var e=this.Editor,t=e.CrossBlockSelection,n=e.BlockSelection,o=m.default.anchorElement;if(t.isCrossBlockSelectionStarted&&n.anyBlockSelected&&m.default.get().removeAllRanges(),o){var r=null===o.closest(".".concat(y.default.CSS.content));if(r&&(this.Editor.InlineToolbar.containsNode(o)||this.Editor.InlineToolbar.close(),"true"!==o.dataset.inlineToolbar))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(o);var i=!0!==r;this.Editor.InlineToolbar.tryToShow(!0,i)}else m.default.range||this.Editor.InlineToolbar.close()}}]),a}(p.default);o.default=C,C.displayName="UI",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){n(188),e.exports=n(361)},function(e,t,n){n(189)},function(e,t,n){n(190),n(333),n(335),n(338),n(340),n(342),n(344),n(346),n(348),n(350),n(352),n(354),n(356),n(360)},function(e,t,n){n(191),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(272),n(273),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(106),n(296),n(137),n(297),n(138),n(298),n(299),n(300),n(301),n(139),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),e.exports=n(16)},function(e,t,n){var o=n(10),r=n(26),i=n(17),a=n(0),s=n(23),l=n(43).KEY,c=n(11),u=n(70),d=n(55),f=n(45),h=n(14),p=n(87),g=n(118),v=n(193),m=n(73),y=n(12),b=n(13),w=n(22),k=n(28),x=n(42),C=n(44),S=n(49),_=n(121),E=n(34),T=n(72),O=n(18),M=n(47),L=E.f,B=O.f,I=_.f,P=o.Symbol,R=o.JSON,A=R&&R.stringify,j=h("_hidden"),N=h("toPrimitive"),$={}.propertyIsEnumerable,D=u("symbol-registry"),F=u("symbols"),H=u("op-symbols"),z=Object.prototype,U="function"==typeof P&&!!T.f,W=o.QObject,V=!W||!W.prototype||!W.prototype.findChild,G=i&&c((function(){return 7!=S(B({},"a",{get:function(){return B(this,"a",{value:7}).a}})).a}))?function(e,t,n){var o=L(z,t);o&&delete z[t],B(e,t,n),o&&e!==z&&B(z,t,o)}:B,q=function(e){var t=F[e]=S(P.prototype);return t._k=e,t},Y=U&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},X=function(e,t,n){return e===z&&X(H,t,n),y(e),t=x(t,!0),y(n),r(F,t)?(n.enumerable?(r(e,j)&&e[j][t]&&(e[j][t]=!1),n=S(n,{enumerable:C(0,!1)})):(r(e,j)||B(e,j,C(1,{})),e[j][t]=!0),G(e,t,n)):B(e,t,n)},K=function(e,t){y(e);for(var n,o=v(t=k(t)),r=0,i=o.length;i>r;)X(e,n=o[r++],t[n]);return e},Z=function(e){var t=$.call(this,e=x(e,!0));return!(this===z&&r(F,e)&&!r(H,e))&&(!(t||!r(this,e)||!r(F,e)||r(this,j)&&this[j][e])||t)},J=function(e,t){if(e=k(e),t=x(t,!0),e!==z||!r(F,t)||r(H,t)){var n=L(e,t);return!n||!r(F,t)||r(e,j)&&e[j][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=I(k(e)),o=[],i=0;n.length>i;)r(F,t=n[i++])||t==j||t==l||o.push(t);return o},ee=function(e){for(var t,n=e===z,o=I(n?H:k(e)),i=[],a=0;o.length>a;)!r(F,t=o[a++])||n&&!r(z,t)||i.push(F[t]);return i};U||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===z&&t.call(H,n),r(this,j)&&r(this[j],e)&&(this[j][e]=!1),G(this,e,C(1,n))};return i&&V&&G(z,e,{configurable:!0,set:t}),q(e)}).prototype,"toString",(function(){return this._k})),E.f=J,O.f=X,n(50).f=_.f=Q,n(63).f=Z,T.f=ee,i&&!n(46)&&s(z,"propertyIsEnumerable",Z,!0),p.f=function(e){return q(h(e))}),a(a.G+a.W+a.F*!U,{Symbol:P});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)h(te[ne++]);for(var oe=M(h.store),re=0;oe.length>re;)g(oe[re++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return r(D,e+="")?D[e]:D[e]=P(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in D)if(D[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!U,"Object",{create:function(e,t){return void 0===t?S(e):K(S(e),t)},defineProperty:X,defineProperties:K,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});var ie=c((function(){T.f(1)}));a(a.S+a.F*ie,"Object",{getOwnPropertySymbols:function(e){return T.f(w(e))}}),R&&a(a.S+a.F*(!U||c((function(){var e=P();return"[null]"!=A([e])||"{}"!=A({a:e})||"{}"!=A(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,o=[e],r=1;arguments.length>r;)o.push(arguments[r++]);if(n=t=o[1],(b(t)||void 0!==e)&&!Y(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),o[1]=t,A.apply(R,o)}}),P.prototype[N]||n(27)(P.prototype,N,P.prototype.valueOf),d(P,"Symbol"),d(Math,"Math",!0),d(o.JSON,"JSON",!0)},function(e,t,n){e.exports=n(70)("native-function-to-string",Function.toString)},function(e,t,n){var o=n(47),r=n(72),i=n(63);e.exports=function(e){var t=o(e),n=r.f;if(n)for(var a,s=n(e),l=i.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var o=n(0);o(o.S,"Object",{create:n(49)})},function(e,t,n){var o=n(0);o(o.S+o.F*!n(17),"Object",{defineProperty:n(18).f})},function(e,t,n){var o=n(0);o(o.S+o.F*!n(17),"Object",{defineProperties:n(120)})},function(e,t,n){var o=n(28),r=n(34).f;n(35)("getOwnPropertyDescriptor",(function(){return function(e,t){return r(o(e),t)}}))},function(e,t,n){var o=n(22),r=n(51);n(35)("getPrototypeOf",(function(){return function(e){return r(o(e))}}))},function(e,t,n){var o=n(22),r=n(47);n(35)("keys",(function(){return function(e){return r(o(e))}}))},function(e,t,n){n(35)("getOwnPropertyNames",(function(){return n(121).f}))},function(e,t,n){var o=n(13),r=n(43).onFreeze;n(35)("freeze",(function(e){return function(t){return e&&o(t)?e(r(t)):t}}))},function(e,t,n){var o=n(13),r=n(43).onFreeze;n(35)("seal",(function(e){return function(t){return e&&o(t)?e(r(t)):t}}))},function(e,t,n){var o=n(13),r=n(43).onFreeze;n(35)("preventExtensions",(function(e){return function(t){return e&&o(t)?e(r(t)):t}}))},function(e,t,n){var o=n(13);n(35)("isFrozen",(function(e){return function(t){return!o(t)||!!e&&e(t)}}))},function(e,t,n){var o=n(13);n(35)("isSealed",(function(e){return function(t){return!o(t)||!!e&&e(t)}}))},function(e,t,n){var o=n(13);n(35)("isExtensible",(function(e){return function(t){return!!o(t)&&(!e||e(t))}}))},function(e,t,n){var o=n(0);o(o.S+o.F,"Object",{assign:n(122)})},function(e,t,n){var o=n(0);o(o.S,"Object",{is:n(123)})},function(e,t,n){var o=n(0);o(o.S,"Object",{setPrototypeOf:n(91).set})},function(e,t,n){var o=n(64),r={};r[n(14)("toStringTag")]="z",r+""!="[object z]"&&n(23)(Object.prototype,"toString",(function(){return"[object "+o(this)+"]"}),!0)},function(e,t,n){var o=n(0);o(o.P,"Function",{bind:n(124)})},function(e,t,n){var o=n(18).f,r=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in r||n(17)&&o(r,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,n){var o=n(13),r=n(51),i=n(14)("hasInstance"),a=Function.prototype;i in a||n(18).f(a,i,{value:function(e){if("function"!=typeof this||!o(e))return!1;if(!o(this.prototype))return e instanceof this;for(;e=r(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var o=n(0),r=n(126);o(o.G+o.F*(parseInt!=r),{parseInt:r})},function(e,t,n){var o=n(0),r=n(127);o(o.G+o.F*(parseFloat!=r),{parseFloat:r})},function(e,t,n){var o=n(10),r=n(26),i=n(38),a=n(93),s=n(42),l=n(11),c=n(50).f,u=n(34).f,d=n(18).f,f=n(56).trim,h=o.Number,p=h,g=h.prototype,v="Number"==i(n(49)(g)),m="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,o,r,i=(t=m?t.trim():f(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+t}for(var a,l=t.slice(2),c=0,u=l.length;c<u;c++)if((a=l.charCodeAt(c))<48||a>r)return NaN;return parseInt(l,o)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(v?l((function(){g.valueOf.call(n)})):"Number"!=i(n))?a(new p(y(t)),n,h):y(t)};for(var b,w=n(17)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;w.length>k;k++)r(p,b=w[k])&&!r(h,b)&&d(h,b,u(p,b));h.prototype=g,g.constructor=h,n(23)(o,"Number",h)}},function(e,t,n){var o=n(0),r=n(33),i=n(128),a=n(94),s=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",d=function(e,t){for(var n=-1,o=t;++n<6;)o+=e*c[n],c[n]=o%1e7,o=l(o/1e7)},f=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=l(n/e),n=n%e*1e7},h=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},p=function(e,t,n){return 0===t?n:t%2==1?p(e,t-1,n*e):p(e*e,t/2,n)};o(o.P+o.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(11)((function(){s.call({})}))),"Number",{toFixed:function(e){var t,n,o,s,l=i(this,u),c=r(e),g="",v="0";if(c<0||c>20)throw RangeError(u);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(l*p(2,69,1))-69)<0?l*p(2,-t,1):l/p(2,t,1),n*=4503599627370496,(t=52-t)>0){for(d(0,n),o=c;o>=7;)d(1e7,0),o-=7;for(d(p(10,o,1),0),o=t-1;o>=23;)f(1<<23),o-=23;f(1<<o),d(1,1),f(2),v=h()}else d(0,n),d(1<<-t,0),v=h()+a.call("0",c);return c>0?g+((s=v.length)<=c?"0."+a.call("0",c-s)+v:v.slice(0,s-c)+"."+v.slice(s-c)):g+v}})},function(e,t,n){var o=n(0),r=n(11),i=n(128),a=1..toPrecision;o(o.P+o.F*(r((function(){return"1"!==a.call(1,void 0)}))||!r((function(){a.call({})}))),"Number",{toPrecision:function(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){var o=n(0);o(o.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var o=n(0),r=n(10).isFinite;o(o.S,"Number",{isFinite:function(e){return"number"==typeof e&&r(e)}})},function(e,t,n){var o=n(0);o(o.S,"Number",{isInteger:n(129)})},function(e,t,n){var o=n(0);o(o.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var o=n(0),r=n(129),i=Math.abs;o(o.S,"Number",{isSafeInteger:function(e){return r(e)&&i(e)<=9007199254740991}})},function(e,t,n){var o=n(0);o(o.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var o=n(0);o(o.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var o=n(0),r=n(127);o(o.S+o.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(e,t,n){var o=n(0),r=n(126);o(o.S+o.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(e,t,n){var o=n(0),r=n(130),i=Math.sqrt,a=Math.acosh;o(o.S+o.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:r(e-1+i(e-1)*i(e+1))}})},function(e,t,n){var o=n(0),r=Math.asinh;o(o.S+o.F*!(r&&1/r(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var o=n(0),r=Math.atanh;o(o.S+o.F*!(r&&1/r(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var o=n(0),r=n(95);o(o.S,"Math",{cbrt:function(e){return r(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var o=n(0);o(o.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var o=n(0),r=Math.exp;o(o.S,"Math",{cosh:function(e){return(r(e=+e)+r(-e))/2}})},function(e,t,n){var o=n(0),r=n(96);o(o.S+o.F*(r!=Math.expm1),"Math",{expm1:r})},function(e,t,n){var o=n(0);o(o.S,"Math",{fround:n(236)})},function(e,t,n){var o=n(95),r=Math.pow,i=r(2,-52),a=r(2,-23),s=r(2,127)*(2-a),l=r(2,-126);e.exports=Math.fround||function(e){var t,n,r=Math.abs(e),c=o(e);return r<l?c*(r/l/a+1/i-1/i)*l*a:(n=(t=(1+a/i)*r)-(t-r))>s||n!=n?c*(1/0):c*n}},function(e,t,n){var o=n(0),r=Math.abs;o(o.S,"Math",{hypot:function(e,t){for(var n,o,i=0,a=0,s=arguments.length,l=0;a<s;)l<(n=r(arguments[a++]))?(i=i*(o=l/n)*o+1,l=n):i+=n>0?(o=n/l)*o:n;return l===1/0?1/0:l*Math.sqrt(i)}})},function(e,t,n){var o=n(0),r=Math.imul;o(o.S+o.F*n(11)((function(){return-5!=r(4294967295,5)||2!=r.length})),"Math",{imul:function(e,t){var n=+e,o=+t,r=65535&n,i=65535&o;return 0|r*i+((65535&n>>>16)*i+r*(65535&o>>>16)<<16>>>0)}})},function(e,t,n){var o=n(0);o(o.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var o=n(0);o(o.S,"Math",{log1p:n(130)})},function(e,t,n){var o=n(0);o(o.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var o=n(0);o(o.S,"Math",{sign:n(95)})},function(e,t,n){var o=n(0),r=n(96),i=Math.exp;o(o.S+o.F*n(11)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(r(e)-r(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,n){var o=n(0),r=n(96),i=Math.exp;o(o.S,"Math",{tanh:function(e){var t=r(e=+e),n=r(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},function(e,t,n){var o=n(0);o(o.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var o=n(0),r=n(48),i=String.fromCharCode,a=String.fromCodePoint;o(o.S+o.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],o=arguments.length,a=0;o>a;){if(t=+arguments[a++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var o=n(0),r=n(28),i=n(15);o(o.S,"String",{raw:function(e){for(var t=r(e.raw),n=i(t.length),o=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<o&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){n(56)("trim",(function(e){return function(){return e(this,3)}}))},function(e,t,n){var o=n(97)(!0);n(98)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=o(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var o=n(0),r=n(97)(!1);o(o.P,"String",{codePointAt:function(e){return r(this,e)}})},function(e,t,n){var o=n(0),r=n(15),i=n(99),a="".endsWith;o(o.P+o.F*n(101)("endsWith"),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,o=r(t.length),s=void 0===n?o:Math.min(r(n),o),l=String(e);return a?a.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,t,n){var o=n(0),r=n(99);o(o.P+o.F*n(101)("includes"),"String",{includes:function(e){return!!~r(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var o=n(0);o(o.P,"String",{repeat:n(94)})},function(e,t,n){var o=n(0),r=n(15),i=n(99),a="".startsWith;o(o.P+o.F*n(101)("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),o=String(e);return a?a.call(t,o,n):t.slice(n,n+o.length)===o}})},function(e,t,n){n(24)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},function(e,t,n){n(24)("big",(function(e){return function(){return e(this,"big","","")}}))},function(e,t,n){n(24)("blink",(function(e){return function(){return e(this,"blink","","")}}))},function(e,t,n){n(24)("bold",(function(e){return function(){return e(this,"b","","")}}))},function(e,t,n){n(24)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},function(e,t,n){n(24)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},function(e,t,n){n(24)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},function(e,t,n){n(24)("italics",(function(e){return function(){return e(this,"i","","")}}))},function(e,t,n){n(24)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},function(e,t,n){n(24)("small",(function(e){return function(){return e(this,"small","","")}}))},function(e,t,n){n(24)("strike",(function(e){return function(){return e(this,"strike","","")}}))},function(e,t,n){n(24)("sub",(function(e){return function(){return e(this,"sub","","")}}))},function(e,t,n){n(24)("sup",(function(e){return function(){return e(this,"sup","","")}}))},function(e,t,n){var o=n(0);o(o.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){var o=n(0),r=n(22),i=n(42);o(o.P+o.F*n(11)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=r(this),n=i(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var o=n(0),r=n(271);o(o.P+o.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(e,t,n){var o=n(11),r=Date.prototype.getTime,i=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=o((function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-50000000000001))}))||!o((function(){i.call(new Date(NaN))}))?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),o=t<0?"-":t>9999?"+":"";return o+("00000"+Math.abs(t)).slice(o?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:i},function(e,t,n){var o=Date.prototype,r=o.toString,i=o.getTime;new Date(NaN)+""!="Invalid Date"&&n(23)(o,"toString",(function(){var e=i.call(this);return e==e?r.call(this):"Invalid Date"}))},function(e,t,n){var o=n(14)("toPrimitive"),r=Date.prototype;o in r||n(27)(r,o,n(274))},function(e,t,n){var o=n(12),r=n(42);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return r(o(this),"number"!=e)}},function(e,t,n){var o=n(0);o(o.S,"Array",{isArray:n(73)})},function(e,t,n){var o=n(31),r=n(0),i=n(22),a=n(132),s=n(102),l=n(15),c=n(103),u=n(104);r(r.S+r.F*!n(74)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,r,d,f=i(e),h="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g,m=0,y=u(f);if(v&&(g=o(g,p>2?arguments[2]:void 0,2)),null==y||h==Array&&s(y))for(n=new h(t=l(f.length));t>m;m++)c(n,m,v?g(f[m],m):f[m]);else for(d=y.call(f),n=new h;!(r=d.next()).done;m++)c(n,m,v?a(d,g,[r.value,m],!0):r.value);return n.length=m,n}})},function(e,t,n){var o=n(0),r=n(103);o(o.S+o.F*n(11)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)r(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){var o=n(0),r=n(28),i=[].join;o(o.P+o.F*(n(62)!=Object||!n(29)(i)),"Array",{join:function(e){return i.call(r(this),void 0===e?",":e)}})},function(e,t,n){var o=n(0),r=n(90),i=n(38),a=n(48),s=n(15),l=[].slice;o(o.P+o.F*n(11)((function(){r&&l.call(r)})),"Array",{slice:function(e,t){var n=s(this.length),o=i(this);if(t=void 0===t?n:t,"Array"==o)return l.call(this,e,t);for(var r=a(e,n),c=a(t,n),u=s(c-r),d=new Array(u),f=0;f<u;f++)d[f]="String"==o?this.charAt(r+f):this[r+f];return d}})},function(e,t,n){var o=n(0),r=n(32),i=n(22),a=n(11),s=[].sort,l=[1,2,3];o(o.P+o.F*(a((function(){l.sort(void 0)}))||!a((function(){l.sort(null)}))||!n(29)(s)),"Array",{sort:function(e){return void 0===e?s.call(i(this)):s.call(i(this),r(e))}})},function(e,t,n){var o=n(0),r=n(36)(0),i=n(29)([].forEach,!0);o(o.P+o.F*!i,"Array",{forEach:function(e){return r(this,e,arguments[1])}})},function(e,t,n){var o=n(13),r=n(73),i=n(14)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),o(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var o=n(0),r=n(36)(1);o(o.P+o.F*!n(29)([].map,!0),"Array",{map:function(e){return r(this,e,arguments[1])}})},function(e,t,n){var o=n(0),r=n(36)(2);o(o.P+o.F*!n(29)([].filter,!0),"Array",{filter:function(e){return r(this,e,arguments[1])}})},function(e,t,n){var o=n(0),r=n(36)(3);o(o.P+o.F*!n(29)([].some,!0),"Array",{some:function(e){return r(this,e,arguments[1])}})},function(e,t,n){var o=n(0),r=n(36)(4);o(o.P+o.F*!n(29)([].every,!0),"Array",{every:function(e){return r(this,e,arguments[1])}})},function(e,t,n){var o=n(0),r=n(134);o(o.P+o.F*!n(29)([].reduce,!0),"Array",{reduce:function(e){return r(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){var o=n(0),r=n(134);o(o.P+o.F*!n(29)([].reduceRight,!0),"Array",{reduceRight:function(e){return r(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){var o=n(0),r=n(71)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;o(o.P+o.F*(a||!n(29)(i)),"Array",{indexOf:function(e){return a?i.apply(this,arguments)||0:r(this,e,arguments[1])}})},function(e,t,n){var o=n(0),r=n(28),i=n(33),a=n(15),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;o(o.P+o.F*(l||!n(29)(s)),"Array",{lastIndexOf:function(e){if(l)return s.apply(this,arguments)||0;var t=r(this),n=a(t.length),o=n-1;for(arguments.length>1&&(o=Math.min(o,i(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}})},function(e,t,n){var o=n(0);o(o.P,"Array",{copyWithin:n(135)}),n(52)("copyWithin")},function(e,t,n){var o=n(0);o(o.P,"Array",{fill:n(105)}),n(52)("fill")},function(e,t,n){var o=n(0),r=n(36)(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),o(o.P+o.F*i,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(52)("find")},function(e,t,n){var o=n(0),r=n(36)(6),i="findIndex",a=!0;i in[]&&Array(1)[i]((function(){a=!1})),o(o.P+o.F*a,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(52)(i)},function(e,t,n){n(58)("Array")},function(e,t,n){var o=n(10),r=n(93),i=n(18).f,a=n(50).f,s=n(100),l=n(75),c=o.RegExp,u=c,d=c.prototype,f=/a/g,h=/a/g,p=new c(f)!==f;if(n(17)&&(!p||n(11)((function(){return h[n(14)("match")]=!1,c(f)!=f||c(h)==h||"/a/i"!=c(f,"i")})))){c=function(e,t){var n=this instanceof c,o=s(e),i=void 0===t;return!n&&o&&e.constructor===c&&i?e:r(p?new u(o&&!i?e.source:e,t):u((o=e instanceof c)?e.source:e,o&&i?l.call(e):t),n?this:d,c)};for(var g=function(e){e in c||i(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},v=a(u),m=0;v.length>m;)g(v[m++]);d.constructor=c,c.prototype=d,n(23)(o,"RegExp",c)}n(58)("RegExp")},function(e,t,n){n(138);var o=n(12),r=n(75),i=n(17),a=/./.toString,s=function(e){n(23)(RegExp.prototype,"toString",e,!0)};n(11)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var e=o(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?r.call(e):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},function(e,t,n){var o=n(12),r=n(15),i=n(108),a=n(76);n(77)("match",1,(function(e,t,n,s){return[function(n){var o=e(this),r=null==n?void 0:n[t];return void 0!==r?r.call(n,o):new RegExp(n)[t](String(o))},function(e){var t=s(n,e,this);if(t.done)return t.value;var l=o(e),c=String(this);if(!l.global)return a(l,c);var u=l.unicode;l.lastIndex=0;for(var d,f=[],h=0;null!==(d=a(l,c));){var p=String(d[0]);f[h]=p,""===p&&(l.lastIndex=i(c,r(l.lastIndex),u)),h++}return 0===h?null:f}]}))},function(e,t,n){var o=n(12),r=n(22),i=n(15),a=n(33),s=n(108),l=n(76),c=Math.max,u=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g;n(77)("replace",2,(function(e,t,n,p){return[function(o,r){var i=e(this),a=null==o?void 0:o[t];return void 0!==a?a.call(o,i,r):n.call(String(i),o,r)},function(e,t){var r=p(n,e,this,t);if(r.done)return r.value;var d=o(e),f=String(this),h="function"==typeof t;h||(t=String(t));var v=d.global;if(v){var m=d.unicode;d.lastIndex=0}for(var y=[];;){var b=l(d,f);if(null===b)break;if(y.push(b),!v)break;""===String(b[0])&&(d.lastIndex=s(f,i(d.lastIndex),m))}for(var w,k="",x=0,C=0;C<y.length;C++){b=y[C];for(var S=String(b[0]),_=c(u(a(b.index),f.length),0),E=[],T=1;T<b.length;T++)E.push(void 0===(w=b[T])?w:String(w));var O=b.groups;if(h){var M=[S].concat(E,_,f);void 0!==O&&M.push(O);var L=String(t.apply(void 0,M))}else L=g(S,f,_,E,O,t);_>=x&&(k+=f.slice(x,_)+L,x=_+S.length)}return k+f.slice(x)}];function g(e,t,o,i,a,s){var l=o+e.length,c=i.length,u=h;return void 0!==a&&(a=r(a),u=f),n.call(s,u,(function(n,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,o);case"'":return t.slice(l);case"<":s=a[r.slice(1,-1)];break;default:var u=+r;if(0===u)return n;if(u>c){var f=d(u/10);return 0===f?n:f<=c?void 0===i[f-1]?r.charAt(1):i[f-1]+r.charAt(1):n}s=i[u-1]}return void 0===s?"":s}))}}))},function(e,t,n){var o=n(12),r=n(123),i=n(76);n(77)("search",1,(function(e,t,n,a){return[function(n){var o=e(this),r=null==n?void 0:n[t];return void 0!==r?r.call(n,o):new RegExp(n)[t](String(o))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=o(e),l=String(this),c=s.lastIndex;r(c,0)||(s.lastIndex=0);var u=i(s,l);return r(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]}))},function(e,t,n){var o=n(100),r=n(12),i=n(65),a=n(108),s=n(15),l=n(76),c=n(107),u=n(11),d=Math.min,f=[].push,h="length",p=!u((function(){}));n(77)("split",2,(function(e,t,n,u){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[h]||2!="ab".split(/(?:ab)*/)[h]||4!=".".split(/(.?)(.?)/)[h]||".".split(/()()/)[h]>1||"".split(/.?/)[h]?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!o(e))return n.call(r,e,t);for(var i,a,s,l=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,p=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,u+"g");(i=c.call(g,r))&&!((a=g.lastIndex)>d&&(l.push(r.slice(d,i.index)),i[h]>1&&i.index<r[h]&&f.apply(l,i.slice(1)),s=i[0][h],d=a,l[h]>=p));)g.lastIndex===i.index&&g.lastIndex++;return d===r[h]?!s&&g.test("")||l.push(""):l.push(r.slice(d)),l[h]>p?l.slice(0,p):l}:"0".split(void 0,0)[h]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,o){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r,o):g.call(String(r),n,o)},function(e,t){var o=u(g,e,this,t,g!==n);if(o.done)return o.value;var c=r(e),f=String(this),h=i(c,RegExp),v=c.unicode,m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(p?"y":"g"),y=new h(p?c:"^(?:"+c.source+")",m),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===f.length)return null===l(y,f)?[f]:[];for(var w=0,k=0,x=[];k<f.length;){y.lastIndex=p?k:0;var C,S=l(y,p?f:f.slice(k));if(null===S||(C=d(s(y.lastIndex+(p?0:k)),f.length))===w)k=a(f,k,v);else{if(x.push(f.slice(w,k)),x.length===b)return x;for(var _=1;_<=S.length-1;_++)if(x.push(S[_]),x.length===b)return x;k=w=C}}return x.push(f.slice(w)),x}]}))},function(e,t,n){var o=n(10),r=n(109).set,i=o.MutationObserver||o.WebKitMutationObserver,a=o.process,s=o.Promise,l="process"==n(38)(a);e.exports=function(){var e,t,n,c=function(){var o,r;for(l&&(o=a.domain)&&o.exit();e;){r=e.fn,e=e.next;try{r()}catch(o){throw e?n():t=void 0,o}}t=void 0,o&&o.enter()};if(l)n=function(){a.nextTick(c)};else if(!i||o.navigator&&o.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(c)}}else n=function(){r.call(o,c)};else{var d=!0,f=document.createTextNode("");new i(c).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(o){var r={fn:o,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var o=n(142),r=n(53);e.exports=n(80)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=o.getEntry(r(this,"Map"),e);return t&&t.v},set:function(e,t){return o.def(r(this,"Map"),0===e?0:e,t)}},o,!0)},function(e,t,n){var o=n(142),r=n(53);e.exports=n(80)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return o.def(r(this,"Set"),e=0===e?0:e,e)}},o)},function(e,t,n){var o,r=n(10),i=n(36)(0),a=n(23),s=n(43),l=n(122),c=n(143),u=n(13),d=n(53),f=n(53),h=!r.ActiveXObject&&"ActiveXObject"in r,p=s.getWeak,g=Object.isExtensible,v=c.ufstore,m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(e){if(u(e)){var t=p(e);return!0===t?v(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(d(this,"WeakMap"),e,t)}},b=e.exports=n(80)("WeakMap",m,y,c,!0,!0);f&&h&&(l((o=c.getConstructor(m,"WeakMap")).prototype,y),s.NEED=!0,i(["delete","has","get","set"],(function(e){var t=b.prototype,n=t[e];a(t,e,(function(t,r){if(u(t)&&!g(t)){this._f||(this._f=new o);var i=this._f[e](t,r);return"set"==e?this:i}return n.call(this,t,r)}))})))},function(e,t,n){var o=n(143),r=n(53);n(80)("WeakSet",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return o.def(r(this,"WeakSet"),e,!0)}},o,!1,!0)},function(e,t,n){var o=n(0),r=n(81),i=n(110),a=n(12),s=n(48),l=n(15),c=n(13),u=n(10).ArrayBuffer,d=n(65),f=i.ArrayBuffer,h=i.DataView,p=r.ABV&&u.isView,g=f.prototype.slice,v=r.VIEW;o(o.G+o.W+o.F*(u!==f),{ArrayBuffer:f}),o(o.S+o.F*!r.CONSTR,"ArrayBuffer",{isView:function(e){return p&&p(e)||c(e)&&v in e}}),o(o.P+o.U+o.F*n(11)((function(){return!new f(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(e,t){if(void 0!==g&&void 0===t)return g.call(a(this),e);for(var n=a(this).byteLength,o=s(e,n),r=s(void 0===t?n:t,n),i=new(d(this,f))(l(r-o)),c=new h(this),u=new h(i),p=0;o<r;)u.setUint8(p++,c.getUint8(o++));return i}}),n(58)("ArrayBuffer")},function(e,t,n){var o=n(0);o(o.G+o.W+o.F*!n(81).ABV,{DataView:n(110).DataView})},function(e,t,n){n(40)("Int8",1,(function(e){return function(t,n,o){return e(this,t,n,o)}}))},function(e,t,n){n(40)("Uint8",1,(function(e){return function(t,n,o){return e(this,t,n,o)}}))},function(e,t,n){n(40)("Uint8",1,(function(e){return function(t,n,o){return e(this,t,n,o)}}),!0)},function(e,t,n){n(40)("Int16",2,(function(e){return function(t,n,o){return e(this,t,n,o)}}))},function(e,t,n){n(40)("Uint16",2,(function(e){return function(t,n,o){return e(this,t,n,o)}}))},function(e,t,n){n(40)("Int32",4,(function(e){return function(t,n,o){return e(this,t,n,o)}}))},function(e,t,n){n(40)("Uint32",4,(function(e){return function(t,n,o){return e(this,t,n,o)}}))},function(e,t,n){n(40)("Float32",4,(function(e){return function(t,n,o){return e(this,t,n,o)}}))},function(e,t,n){n(40)("Float64",8,(function(e){return function(t,n,o){return e(this,t,n,o)}}))},function(e,t,n){var o=n(0),r=n(32),i=n(12),a=(n(10).Reflect||{}).apply,s=Function.apply;o(o.S+o.F*!n(11)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,n){var o=r(e),l=i(n);return a?a(o,t,l):s.call(o,t,l)}})},function(e,t,n){var o=n(0),r=n(49),i=n(32),a=n(12),s=n(13),l=n(11),c=n(124),u=(n(10).Reflect||{}).construct,d=l((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),f=!l((function(){u((function(){}))}));o(o.S+o.F*(d||f),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(f&&!d)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var o=[null];return o.push.apply(o,t),new(c.apply(e,o))}var l=n.prototype,h=r(s(l)?l:Object.prototype),p=Function.apply.call(e,h,t);return s(p)?p:h}})},function(e,t,n){var o=n(18),r=n(0),i=n(12),a=n(42);r(r.S+r.F*n(11)((function(){Reflect.defineProperty(o.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){i(e),t=a(t,!0),i(n);try{return o.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var o=n(0),r=n(34).f,i=n(12);o(o.S,"Reflect",{deleteProperty:function(e,t){var n=r(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){var o=n(0),r=n(12),i=function(e){this._t=r(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(131)(i,"Object",(function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}})),o(o.S,"Reflect",{enumerate:function(e){return new i(e)}})},function(e,t,n){var o=n(34),r=n(51),i=n(26),a=n(0),s=n(13),l=n(12);a(a.S,"Reflect",{get:function e(t,n){var a,c,u=arguments.length<3?t:arguments[2];return l(t)===u?t[n]:(a=o.f(t,n))?i(a,"value")?a.value:void 0!==a.get?a.get.call(u):void 0:s(c=r(t))?e(c,n,u):void 0}})},function(e,t,n){var o=n(34),r=n(0),i=n(12);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return o.f(i(e),t)}})},function(e,t,n){var o=n(0),r=n(51),i=n(12);o(o.S,"Reflect",{getPrototypeOf:function(e){return r(i(e))}})},function(e,t,n){var o=n(0);o(o.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var o=n(0),r=n(12),i=Object.isExtensible;o(o.S,"Reflect",{isExtensible:function(e){return r(e),!i||i(e)}})},function(e,t,n){var o=n(0);o(o.S,"Reflect",{ownKeys:n(145)})},function(e,t,n){var o=n(0),r=n(12),i=Object.preventExtensions;o(o.S,"Reflect",{preventExtensions:function(e){r(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,n){var o=n(18),r=n(34),i=n(51),a=n(26),s=n(0),l=n(44),c=n(12),u=n(13);s(s.S,"Reflect",{set:function e(t,n,s){var d,f,h=arguments.length<4?t:arguments[3],p=r.f(c(t),n);if(!p){if(u(f=i(t)))return e(f,n,s,h);p=l(0)}if(a(p,"value")){if(!1===p.writable||!u(h))return!1;if(d=r.f(h,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=s,o.f(h,n,d)}else o.f(h,n,l(0,s));return!0}return void 0!==p.set&&(p.set.call(h,s),!0)}})},function(e,t,n){var o=n(0),r=n(91);r&&o(o.S,"Reflect",{setPrototypeOf:function(e,t){r.check(e,t);try{return r.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){n(334),e.exports=n(16).Array.includes},function(e,t,n){var o=n(0),r=n(71)(!0);o(o.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(52)("includes")},function(e,t,n){n(336),e.exports=n(16).Array.flatMap},function(e,t,n){var o=n(0),r=n(337),i=n(22),a=n(15),s=n(32),l=n(133);o(o.P,"Array",{flatMap:function(e){var t,n,o=i(this);return s(e),t=a(o.length),n=l(o,0),r(n,o,o,t,0,1,e,arguments[1]),n}}),n(52)("flatMap")},function(e,t,n){var o=n(73),r=n(13),i=n(15),a=n(31),s=n(14)("isConcatSpreadable");e.exports=function e(t,n,l,c,u,d,f,h){for(var p,g,v=u,m=0,y=!!f&&a(f,h,3);m<c;){if(m in l){if(p=y?y(l[m],m,n):l[m],g=!1,r(p)&&(g=void 0!==(g=p[s])?!!g:o(p)),g&&d>0)v=e(t,n,p,i(p.length),v,d-1)-1;else{if(v>=9007199254740991)throw TypeError();t[v]=p}v++}m++}return v}},function(e,t,n){n(339),e.exports=n(16).String.padStart},function(e,t,n){var o=n(0),r=n(146),i=n(79),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);o(o.P+o.F*a,"String",{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){n(341),e.exports=n(16).String.padEnd},function(e,t,n){var o=n(0),r=n(146),i=n(79),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);o(o.P+o.F*a,"String",{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){n(343),e.exports=n(16).String.trimLeft},function(e,t,n){n(56)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},function(e,t,n){n(345),e.exports=n(16).String.trimRight},function(e,t,n){n(56)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},function(e,t,n){n(347),e.exports=n(87).f("asyncIterator")},function(e,t,n){n(118)("asyncIterator")},function(e,t,n){n(349),e.exports=n(16).Object.getOwnPropertyDescriptors},function(e,t,n){var o=n(0),r=n(145),i=n(28),a=n(34),s=n(103);o(o.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,o=i(e),l=a.f,c=r(o),u={},d=0;c.length>d;)void 0!==(n=l(o,t=c[d++]))&&s(u,t,n);return u}})},function(e,t,n){n(351),e.exports=n(16).Object.values},function(e,t,n){var o=n(0),r=n(147)(!1);o(o.S,"Object",{values:function(e){return r(e)}})},function(e,t,n){n(353),e.exports=n(16).Object.entries},function(e,t,n){var o=n(0),r=n(147)(!0);o(o.S,"Object",{entries:function(e){return r(e)}})},function(e,t,n){n(139),n(355),e.exports=n(16).Promise.finally},function(e,t,n){var o=n(0),r=n(16),i=n(10),a=n(65),s=n(141);o(o.P+o.R,"Promise",{finally:function(e){var t=a(this,r.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){n(357),n(358),n(359),e.exports=n(16)},function(e,t,n){var o=n(10),r=n(0),i=n(79),a=[].slice,s=/MSIE .\./.test(i),l=function(e){return function(t,n){var o=arguments.length>2,r=!!o&&a.call(arguments,2);return e(o?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};r(r.G+r.B+r.F*s,{setTimeout:l(o.setTimeout),setInterval:l(o.setInterval)})},function(e,t,n){var o=n(0),r=n(109);o(o.G+o.B,{setImmediate:r.set,clearImmediate:r.clear})},function(e,t,n){for(var o=n(106),r=n(47),i=n(23),a=n(10),s=n(27),l=n(57),c=n(14),u=c("iterator"),d=c("toStringTag"),f=l.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(h),g=0;g<p.length;g++){var v,m=p[g],y=h[m],b=a[m],w=b&&b.prototype;if(w&&(w[u]||s(w,u,f),w[d]||s(w,d,m),l[m]=f,y))for(v in o)w[v]||i(w,v,o[v],!0)}},function(e,t,n){var o=function(e){var t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),s=new _(r||[]);return o(a,"_invoke",{value:k(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function f(){}function h(){}function p(){}var g={};l(g,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(E([])));m&&m!==t&&n.call(m,i)&&(g=m);var y=p.prototype=f.prototype=Object.create(g);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;o(this,"_invoke",{value:function(o,i){function a(){return new t((function(r,a){!function o(r,i,a,s){var l=u(e[r],e,i);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(l.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}})}function k(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return T()}for(n.method=r,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=u(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,o=e.iterator[n];if(void 0===o)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=u(o,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,r=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=p,o(y,"constructor",{value:p,configurable:!0}),o(p,"constructor",{value:h,configurable:!0}),h.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var a=new w(c(t,n,o,r),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(y),l(y,s,"Generator"),l(y,i,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=E,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}(e.exports);try{regeneratorRuntime=o}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},function(e,t,n){var o,r,i,a=n(7);r=[t,n(30),n(2),n(3),n(365),n(366),n(367),n(8)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d){var f=n(1);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=f(r),i=f(i),s=f(s),u=f(u),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(d);var p=function(){function e(t){var n=this;(0,i.default)(this,e);var o=function(){};d.isObject(t)&&d.isFunction(t.onReady)&&(o=t.onReady);var r=new u.default(t);this.isReady=r.isReady.then((function(){n.exportAPI(r),o()}))}return(0,s.default)(e,[{key:"exportAPI",value:function(e){var t=this;["configuration"].forEach((function(n){t[n]=e[n]})),this.destroy=function(){for(var n in Object.values(e.moduleInstances).forEach((function(e){d.isFunction(e.destroy)&&e.destroy(),e.listeners.removeAll()})),e=null,t)Object.prototype.hasOwnProperty.call(t,n)&&delete t[n];Object.setPrototypeOf(t,null)},Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach((function(n){var o=(0,r.default)(n,2),i=o[0],a=o[1];Object.entries(a).forEach((function(n){var o=(0,r.default)(n,2),a=o[0],s=o[1];t[s]=e.moduleInstances.API.methods[i][a]}))}))}}],[{key:"version",get:function(){return"2.26.5"}}]),e}();o.default=p,p.displayName="EditorJS",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(){}e.exports=Object.assign(n,{default:n,register:n,revert:function(){},__esModule:!0})},function(e,t,n){var o,r,i;r=[],void 0===(i="function"==typeof(o=function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t);return null}),Element.prototype.prepend||(Element.prototype.prepend=function(e){var t=document.createDocumentFragment();Array.isArray(e)||(e=[e]),e.forEach((function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(e))})),this.insertBefore(t,this.firstChild)}),Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(e){e=0===arguments.length||!!e;var t=this.parentNode,n=window.getComputedStyle(t,null),o=parseInt(n.getPropertyValue("border-top-width")),r=parseInt(n.getPropertyValue("border-left-width")),i=this.offsetTop-t.offsetTop<t.scrollTop,a=this.offsetTop-t.offsetTop+this.clientHeight-o>t.scrollTop+t.clientHeight,s=this.offsetLeft-t.offsetLeft<t.scrollLeft,l=this.offsetLeft-t.offsetLeft+this.clientWidth-r>t.scrollLeft+t.clientWidth,c=i&&!a;(i||a)&&e&&(t.scrollTop=this.offsetTop-t.offsetTop-t.clientHeight/2-o+this.clientHeight/2),(s||l)&&e&&(t.scrollLeft=this.offsetLeft-t.offsetLeft-t.clientWidth/2-r+this.clientWidth/2),(i||a||s||l)&&!e&&this.scrollIntoView(c)})})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(20),n(21),n(2),n(3),n(19),n(8),n(54),n(151),n(82)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d,f,h){var p=n(1);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=p(r),i=p(i),s=p(s),l=p(l),c=p(c),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(u),d=p(d),h=p(h);var v=n(376),m=[];v.keys().forEach((function(e){e.match(/^\.\/[^_][\w/]*\.([tj])s$/)&&m.push(v(e))}));var y=function(){function e(t){var n,o,a=this;(0,s.default)(this,e),this.moduleInstances={},this.eventsDispatcher=new h.default,this.isReady=new Promise((function(e,t){n=e,o=t})),Promise.resolve().then((0,i.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.configuration=t,e.next=3,a.validate();case 3:return e.next=5,a.init();case 5:return e.next=7,a.start();case 7:u.logLabeled("I'm ready! (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧","log","","color: #E24A75"),setTimeout((0,i.default)(r.default.mark((function e(){var t,o,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.render();case 2:a.configuration.autofocus&&(t=a.moduleInstances,o=t.BlockManager,(i=t.Caret).setToBlock(o.blocks[0],i.positions.START),o.highlightCurrentNode()),a.moduleInstances.UI.removeLoader(),n();case 5:case"end":return e.stop()}}),e)}))),500);case 9:case"end":return e.stop()}}),e)})))).catch((function(e){u.log("Editor.js is not ready because of ".concat(e),"error"),o(e)}))}var t,n;return(0,l.default)(e,[{key:"configuration",get:function(){return this.config},set:function(e){var t,n;u.isObject(e)?this.config=Object.assign({},e):this.config={holder:e},u.deprecationAssert(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),null==this.config.holder&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=u.LogLevels.VERBOSE),u.setLogLevel(this.config.logLevel),u.deprecationAssert(Boolean(this.config.initialBlock),"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=void 0!==this.config.minHeight?this.config.minHeight:300;var o={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=!!this.config.hideToolbar&&this.config.hideToolbar,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||function(){},this.config.onChange=this.config.onChange||function(){},this.config.inlineToolbar=void 0===this.config.inlineToolbar||this.config.inlineToolbar,!u.isEmpty(this.config.data)&&this.config.data.blocks&&0!==this.config.data.blocks.length||(this.config.data={blocks:[o]}),this.config.readOnly=this.config.readOnly||!1,(null===(t=this.config.i18n)||void 0===t?void 0:t.messages)&&d.default.setDictionary(this.config.i18n.messages),this.config.i18n.direction=(null===(n=this.config.i18n)||void 0===n?void 0:n.direction)||"ltr"}},{key:"validate",value:(n=(0,i.default)(r.default.mark((function e(){var t,n,o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.config,n=t.holderId,o=t.holder,!n||!o){e.next=3;break}throw Error("«holderId» and «holder» param can't assign at the same time.");case 3:if(!u.isString(o)||c.default.get(o)){e.next=5;break}throw Error("element with ID «".concat(o,"» is missing. Pass correct holder's ID."));case 5:if(!o||!u.isObject(o)||c.default.isElement(o)){e.next=7;break}throw Error("«holder» value must be an Element node");case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"init",value:function(){this.constructModules(),this.configureModules()}},{key:"start",value:(t=(0,i.default)(r.default.mark((function e(){var t,n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"],e.next=3,t.reduce((function(e,t){return e.then((0,i.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.moduleInstances[t].prepare();case 3:e.next=10;break;case 5:if(e.prev=5,e.t0=e.catch(0),!(e.t0 instanceof f.CriticalError)){e.next=9;break}throw new Error(e.t0.message);case 9:u.log("Module ".concat(t," was skipped because of %o"),"warn",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,5]])}))))}),Promise.resolve());case 3:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}},{key:"constructModules",value:function(){var e=this;m.forEach((function(t){var n=u.isFunction(t)?t:t.default;try{e.moduleInstances[n.displayName]=new n({config:e.configuration,eventsDispatcher:e.eventsDispatcher})}catch(e){u.log("Module ".concat(n.displayName," skipped because"),"error",e)}}))}},{key:"configureModules",value:function(){for(var e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}},{key:"getModulesDiff",value:function(e){var t={};for(var n in this.moduleInstances)n!==e&&(t[n]=this.moduleInstances[n]);return t}}]),e}();o.default=y,y.displayName="Core",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o=n(7).default;function r(){e.exports=r=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,o){var r=t&&t.prototype instanceof g?t:g,i=Object.create(r.prototype),s=new O(o||[]);return a(i,"_invoke",{value:S(e,n,s)}),i}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p={};function g(){}function v(){}function m(){}var y={};d(y,l,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(M([])));w&&w!==n&&i.call(w,l)&&(y=w);var k=m.prototype=g.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){var n;a(this,"_invoke",{value:function(r,a){function s(){return new t((function(n,s){!function n(r,a,s,l){var c=h(e[r],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==o(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}(r,a,n,s)}))}return n=n?n.then(s,s):s()}})}function S(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return L()}for(n.method=r,n.arg=i;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=h(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=h(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function M(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return v.prototype=m,a(k,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:v,configurable:!0}),v.displayName=d(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,d(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},x(C.prototype),d(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,o,r,i){void 0===i&&(i=Promise);var a=new C(f(e,n,o,r),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(k),d(k,u,"Generator"),d(k,l,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=M,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var s=i.call(r,"catchLoc"),l=i.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:M(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o=n(149);e.exports=function(e){if(Array.isArray(e))return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o=n(111),r=n(375);function i(t,n,a){return r()?(e.exports=i=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(null,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o={"./api":83,"./api/":83,"./api/blocks":154,"./api/blocks.ts":154,"./api/caret":155,"./api/caret.ts":155,"./api/events":156,"./api/events.ts":156,"./api/i18n":157,"./api/i18n.ts":157,"./api/index":83,"./api/index.ts":83,"./api/inlineToolbar":158,"./api/inlineToolbar.ts":158,"./api/listeners":159,"./api/listeners.ts":159,"./api/notifier":160,"./api/notifier.ts":160,"./api/readonly":161,"./api/readonly.ts":161,"./api/sanitizer":162,"./api/sanitizer.ts":162,"./api/saver":163,"./api/saver.ts":163,"./api/selection":164,"./api/selection.ts":164,"./api/styles":165,"./api/styles.ts":165,"./api/toolbar":166,"./api/toolbar.ts":166,"./api/tooltip":167,"./api/tooltip.ts":167,"./api/ui":168,"./api/ui.ts":168,"./blockEvents":169,"./blockEvents.ts":169,"./blockManager":170,"./blockManager.ts":170,"./blockSelection":171,"./blockSelection.ts":171,"./caret":172,"./caret.ts":172,"./crossBlockSelection":173,"./crossBlockSelection.ts":173,"./dragNDrop":174,"./dragNDrop.ts":174,"./modificationsObserver":175,"./modificationsObserver.ts":175,"./paste":176,"./paste.ts":176,"./readonly":177,"./readonly.ts":177,"./rectangleSelection":178,"./rectangleSelection.ts":178,"./renderer":179,"./renderer.ts":179,"./saver":180,"./saver.ts":180,"./toolbar":84,"./toolbar/":84,"./toolbar/blockSettings":181,"./toolbar/blockSettings.ts":181,"./toolbar/conversion":182,"./toolbar/conversion.ts":182,"./toolbar/index":84,"./toolbar/index.ts":84,"./toolbar/inline":183,"./toolbar/inline.ts":183,"./tools":184,"./tools.ts":184,"./ui":186,"./ui.ts":186};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=376},function(e,t,n){var o=n(4);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(379)],void 0===(i="function"==typeof(o=function(o,r,i,a){var s=n(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=s(r),i=s(i),a=s(a);var l=function(){function e(){(0,r.default)(this,e)}return(0,i.default)(e,[{key:"show",value:function(e){a.default.show(e)}}]),e}();o.default=l,l.displayName="Notifier",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){n(1),e.exports=function(){var e=n(6),t=null;return{show:function(n){if(n.message){!function(){if(t)return!0;t=e.getWrapper(),document.body.appendChild(t)}();var o=null,r=n.time||8e3;switch(n.type){case"confirm":o=e.confirm(n);break;case"prompt":o=e.prompt(n);break;default:o=e.alert(n),window.setTimeout((function(){o.remove()}),r)}t.appendChild(o),o.classList.add("cdx-notify--bounce-in")}}}}()},function(e,t,n){var o=n(2);"string"==typeof o&&(o=[[e.i,o,""]]),n(4)(o,{hmr:!0,transform:void 0,insertInto:void 0}),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,'.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:\'\';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:\'\';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}',""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,o=e[1]||"",r=e[3];if(!r)return o;if(t&&"function"==typeof btoa){var i=(n=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[o].concat(a).concat([i]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var o,r,i={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,c=0,u=[],d=n(5);function f(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=i[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(y(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(y(o.parts[a],t));i[o.id]={id:o.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function p(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=u[u.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function v(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),m(t,e.attrs),p(e,t),t}function m(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,o,r,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var a=c++;n=l||(l=v(t)),o=k.bind(null,n,a,!1),r=k.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(t,e.attrs),p(e,t),t}(t),o=function(e,t,n){var o=n.css,r=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(o=d(o)),r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),r=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),o=function(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){g(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return f(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var a=n[r];(s=i[a.id]).refs--,o.push(s)}for(e&&f(h(e,t),t),r=0;r<o.length;r++){var s;if(0===(s=o[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var b,w=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function k(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(e,t,n){var o,r,i,a,s,l;e.exports=(o="cdx-notify",r="cdx-notify__cross",i="cdx-notify__button--confirm",a="cdx-notify__button",s="cdx-notify__btns-wrapper",{alert:l=function(e){var t=document.createElement("DIV"),n=document.createElement("DIV"),i=e.message,a=e.style;return t.classList.add(o),a&&t.classList.add(o+"--"+a),t.innerHTML=i,n.classList.add(r),n.addEventListener("click",t.remove.bind(t)),t.appendChild(n),t},confirm:function(e){var t=l(e),n=document.createElement("div"),o=document.createElement("button"),c=document.createElement("button"),u=t.querySelector("."+r),d=e.cancelHandler,f=e.okHandler;return n.classList.add(s),o.innerHTML=e.okText||"Confirm",c.innerHTML=e.cancelText||"Cancel",o.classList.add(a),c.classList.add(a),o.classList.add(i),c.classList.add("cdx-notify__button--cancel"),d&&"function"==typeof d&&(c.addEventListener("click",d),u.addEventListener("click",d)),f&&"function"==typeof f&&o.addEventListener("click",f),o.addEventListener("click",t.remove.bind(t)),c.addEventListener("click",t.remove.bind(t)),n.appendChild(o),n.appendChild(c),t.appendChild(n),t},prompt:function(e){var t=l(e),n=document.createElement("div"),o=document.createElement("button"),c=document.createElement("input"),u=t.querySelector("."+r),d=e.cancelHandler,f=e.okHandler;return n.classList.add(s),o.innerHTML=e.okText||"Ok",o.classList.add(a),o.classList.add(i),c.classList.add("cdx-notify__input"),e.placeholder&&c.setAttribute("placeholder",e.placeholder),e.default&&(c.value=e.default),e.inputType&&(c.type=e.inputType),d&&"function"==typeof d&&u.addEventListener("click",d),f&&"function"==typeof f&&o.addEventListener("click",(function(){f(c.value)})),o.addEventListener("click",t.remove.bind(t)),n.appendChild(c),n.appendChild(o),t.appendChild(n),t},getWrapper:function(){var e=document.createElement("DIV");return e.classList.add("cdx-notifies"),e}})}])},function(e,t,n){var o,r;void 0===(r="function"==typeof(o=function(){function e(e){var t=e.tags;if(!Object.keys(t).map((function(e){return typeof t[e]})).every((function(e){return"object"===e||"boolean"===e||"function"===e})))throw new Error("The configuration was invalid");this.config=e}var t=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function n(e){return-1!==t.indexOf(e.nodeName)}var o=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function r(e){return-1!==o.indexOf(e.nodeName)}function i(e,t,n){return"function"==typeof e.tags[t]?e.tags[t](n):e.tags[t]}function a(e,t){return void 0===t||"boolean"==typeof t&&!t}function s(e,t,n){var o=e.name.toLowerCase();return!0!==t&&("function"==typeof t[o]?!t[o](e.value,n):void 0===t[o]||!1===t[o]||"string"==typeof t[o]&&t[o]!==e.value)}return e.prototype.clean=function(e){const t=document.implementation.createHTMLDocument(),n=t.createElement("div");return n.innerHTML=e,this._sanitize(t,n),n.innerHTML},e.prototype._sanitize=function(e,t){var o=function(e,t){return e.createTreeWalker(t,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}(e,t),l=o.firstChild();if(l)do{if(l.nodeType!==Node.TEXT_NODE){if(l.nodeType===Node.COMMENT_NODE){t.removeChild(l),this._sanitize(e,t);break}var c,u=r(l);u&&(c=Array.prototype.some.call(l.childNodes,n));var d=!!t.parentNode,f=n(t)&&n(l)&&d,h=l.nodeName.toLowerCase(),p=i(this.config,h,l);if(u&&c||a(0,p)||!this.config.keepNestedBlockElements&&f){if("SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName)for(;l.childNodes.length>0;)t.insertBefore(l.childNodes[0],l);t.removeChild(l),this._sanitize(e,t);break}for(var g=0;g<l.attributes.length;g+=1){var v=l.attributes[g];s(v,p,l)&&(l.removeAttribute(v.name),g-=1)}this._sanitize(e,l)}else if(""===l.data.trim()&&(l.previousElementSibling&&n(l.previousElementSibling)||l.nextElementSibling&&n(l.nextElementSibling))){t.removeChild(l),this._sanitize(e,t);break}}while(l=o.nextSibling())},e})?o.call(t,n,t,e):o)||(e.exports=r)},function(e,t,n){e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){n.r(t),n.d(t,"default",(function(){return o}));class o{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(e,t,n){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const o=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},n);if(o.hidingDelay&&(this.hidingDelay=o.hidingDelay),this.nodes.content.innerHTML="","string"==typeof t)this.nodes.content.appendChild(document.createTextNode(t));else{if(!(t instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof t+" given.");this.nodes.content.appendChild(t)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),o.placement){case"top":this.placeTop(e,o);break;case"left":this.placeLeft(e,o);break;case"right":this.placeRight(e,o);break;default:this.placeBottom(e,o)}o&&o.delay?this.showingTimeout=setTimeout((()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0}),o.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(e=!1){if(this.hidingDelay&&!e)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout((()=>{this.hide(!0)}),this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(e,t,n){e.addEventListener("mouseenter",(()=>{this.show(e,t,n)})),e.addEventListener("mouseleave",(()=>{this.hide()}))}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const e="codex-tooltips-style";if(document.getElementById(e))return;const t=n(2),o=this.make("style",null,{textContent:t.toString(),id:e});this.prepend(document.head,o)}placeBottom(e,t){const n=e.getBoundingClientRect(),o=n.left+e.clientWidth/2-this.nodes.wrapper.offsetWidth/2,r=n.bottom+window.pageYOffset+this.offsetTop+t.marginTop;this.applyPlacement("bottom",o,r)}placeTop(e,t){const n=e.getBoundingClientRect(),o=n.left+e.clientWidth/2-this.nodes.wrapper.offsetWidth/2,r=n.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",o,r)}placeLeft(e,t){const n=e.getBoundingClientRect(),o=n.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-t.marginLeft,r=n.top+window.pageYOffset+e.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",o,r)}placeRight(e,t){const n=e.getBoundingClientRect(),o=n.right+this.offsetRight+t.marginRight,r=n.top+window.pageYOffset+e.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",o,r)}applyPlacement(e,t,n){this.nodes.wrapper.classList.add(this.CSS.placement[e]),this.nodes.wrapper.style.left=t+"px",this.nodes.wrapper.style.top=n+"px"}make(e,t=null,n={}){const o=document.createElement(e);Array.isArray(t)?o.classList.add(...t):t&&o.classList.add(t);for(const e in n)n.hasOwnProperty(e)&&(o[e]=n[e]);return o}append(e,t){Array.isArray(t)?t.forEach((t=>e.appendChild(t))):e.appendChild(t)}prepend(e,t){Array.isArray(t)?(t=t.reverse()).forEach((t=>e.prepend(t))):e.prepend(t)}}},function(e,t){e.exports='.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>\') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}'}]).default},function(e,t,n){var o,r,i,a=n(7);r=[t,n(2),n(3),n(19),n(8),n(25)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c){var u=n(1);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=u(r),i=u(i),s=u(s),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(l),c=u(c);var f=function(){function e(t,n){(0,r.default)(this,e),this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=n}return(0,i.default)(e,[{key:"currentItem",get:function(){return-1===this.cursor?null:this.items[this.cursor]}},{key:"setCursor",value:function(e){e<this.items.length&&e>=-1&&(this.dropCursor(),this.cursor=e,this.items[this.cursor].classList.add(this.focusedCssClass))}},{key:"setItems",value:function(e){this.items=e}},{key:"next",value:function(){this.cursor=this.leafNodesAndReturnIndex(e.directions.RIGHT)}},{key:"previous",value:function(){this.cursor=this.leafNodesAndReturnIndex(e.directions.LEFT)}},{key:"dropCursor",value:function(){-1!==this.cursor&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}},{key:"leafNodesAndReturnIndex",value:function(t){var n=this;if(0===this.items.length)return this.cursor;var o=this.cursor;return-1===o?o=t===e.directions.RIGHT?-1:0:this.items[o].classList.remove(this.focusedCssClass),o=t===e.directions.RIGHT?(o+1)%this.items.length:(this.items.length+o-1)%this.items.length,s.default.canSetCaret(this.items[o])&&l.delay((function(){return c.default.setCursor(n.items[o])}),50)(),this.items[o].classList.add(this.focusedCssClass),o}}]),e}();o.default=f,f.displayName="DomIterator",f.directions={RIGHT:"right",LEFT:"left"},e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(2),n(3),n(8),n(19),n(61)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c){var u=n(1);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=u(r),i=u(i),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(s),l=u(l);var f=function(){function e(t){(0,r.default)(this,e),this.blocks=[],this.workingArea=t}return(0,i.default)(e,[{key:"length",get:function(){return this.blocks.length}},{key:"array",get:function(){return this.blocks}},{key:"nodes",get:function(){return s.array(this.workingArea.children)}},{key:"push",value:function(e){this.blocks.push(e),this.insertToDOM(e)}},{key:"swap",value:function(e,t){var n=this.blocks[t];l.default.swap(this.blocks[e].holder,n.holder),this.blocks[t]=this.blocks[e],this.blocks[e]=n}},{key:"move",value:function(e,t){var n=this.blocks.splice(t,1)[0],o=e-1,r=Math.max(0,o),i=this.blocks[r];e>0?this.insertToDOM(n,"afterend",i):this.insertToDOM(n,"beforebegin",i),this.blocks.splice(e,0,n);var a=this.composeBlockEvent("move",{fromIndex:t,toIndex:e});n.call(c.BlockToolAPI.MOVED,a)}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.length){e>this.length&&(e=this.length),n&&(this.blocks[e].holder.remove(),this.blocks[e].call(c.BlockToolAPI.REMOVED));var o=n?1:0;if(this.blocks.splice(e,o,t),e>0){var r=this.blocks[e-1];this.insertToDOM(t,"afterend",r)}else{var i=this.blocks[e+1];i?this.insertToDOM(t,"beforebegin",i):this.insertToDOM(t)}}else this.push(t)}},{key:"remove",value:function(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(c.BlockToolAPI.REMOVED),this.blocks.splice(e,1)}},{key:"removeAll",value:function(){this.workingArea.innerHTML="",this.blocks.forEach((function(e){return e.call(c.BlockToolAPI.REMOVED)})),this.blocks.length=0}},{key:"insertAfter",value:function(e,t){var n=this.blocks.indexOf(e);this.insert(n+1,t)}},{key:"get",value:function(e){return this.blocks[e]}},{key:"indexOf",value:function(e){return this.blocks.indexOf(e)}},{key:"insertToDOM",value:function(e,t,n){t?n.holder.insertAdjacentElement(t,e.holder):this.workingArea.appendChild(e.holder),e.call(c.BlockToolAPI.RENDERED)}},{key:"composeBlockEvent",value:function(e,t){return new CustomEvent(e,{detail:t})}}],[{key:"set",value:function(e,t,n){return isNaN(Number(t))?(Reflect.set(e,t,n),!0):(e.insert(+t,n),!0)}},{key:"get",value:function(e,t){return isNaN(Number(t))?Reflect.get(e,t):e.get(+t)}}]),e}();o.default=f,f.displayName="Blocks",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t],void 0===(i="function"==typeof(o=function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.BlockMutationType=void 0,e.BlockMutationType=t,function(e){e.Added="block-added",e.Removed="block-removed",e.Moved="block-moved",e.Changed="block-changed"}(t||(e.BlockMutationType=t={}))})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}n.r(t);var i=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.commands={},this.keys={},this.name=t.name,this.parseShortcutName(t.name),this.element=t.on,this.callback=t.callback,this.executeShortcut=function(e){n.execute(e)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return r(e,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),r(e,[{key:"parseShortcutName",value:function(t){t=t.split("+");for(var n=0;n<t.length;n++){t[n]=t[n].toUpperCase();var o=!1;for(var r in e.supportedCommands)if(e.supportedCommands[r].includes(t[n])){o=this.commands[r]=!0;break}o||(this.keys[t[n]]=!0)}for(var i in e.supportedCommands)this.commands[i]||(this.commands[i]=!1)}},{key:"execute",value:function(t){var n,o={CMD:t.ctrlKey||t.metaKey,SHIFT:t.shiftKey,ALT:t.altKey},r=!0;for(n in this.commands)this.commands[n]!==o[n]&&(r=!1);var i,a=!0;for(i in this.keys)a=a&&t.keyCode===e.keyCodes[i];r&&a&&this.callback(t)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),e}();t.default=i}]).default},function(e,t,n){var o,r,i,a=n(7);r=[t,n(20),n(21),n(2),n(3),n(114),n(5),n(6),n(4),n(7),n(8),n(61),n(116),n(82),n(85),n(54),n(68)],void 0===(i="function"==typeof(o=function(e,t,o,r,i,s,l,c,u,d,f,h,p,g,v,m,y){var b=n(1);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.default)(this,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ToolboxEvent=void 0,t=b(t),o=b(o),r=b(r),i=b(i),s=b(s),l=b(l),c=b(c),u=b(u),d=b(d),f=k(f),p=b(p),g=b(g),v=k(v),m=b(m);var C,S=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":(0,d.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};e.ToolboxEvent=C,function(e){e.Opened="toolbox-opened",e.Closed="toolbox-closed",e.BlockAdded="toolbox-block-added"}(C||(e.ToolboxEvent=C={}));var _=function(e){(0,l.default)(c,e);var n,a=x(c);function c(e){var t,n=e.api,o=e.tools,i=e.i18nLabels;return(0,r.default)(this,c),(t=a.call(this)).opened=!1,t.nodes={toolbox:null},t.onOverlayClicked=function(){t.close()},t.api=n,t.tools=o,t.i18nLabels=i,t}return(0,i.default)(c,[{key:"isEmpty",get:function(){return 0===this.toolsToBeDisplayed.length}},{key:"make",value:function(){return this.popover=new v.default({scopeElement:this.api.ui.nodes.redactor,className:c.CSS.toolbox,searchable:!0,filterLabel:this.i18nLabels.filter,nothingFoundLabel:this.i18nLabels.nothingFound,items:this.toolboxItemsToBeDisplayed}),this.popover.on(v.PopoverEvent.OverlayClicked,this.onOverlayClicked),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox}},{key:"hasFocus",value:function(){var e;return null===(e=this.popover)||void 0===e?void 0:e.hasFocus()}},{key:"destroy",value:function(){var e;(0,s.default)((0,u.default)(c.prototype),"destroy",this).call(this),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),null===(e=this.popover)||void 0===e||e.off(v.PopoverEvent.OverlayClicked,this.onOverlayClicked)}},{key:"toolButtonActivated",value:function(e,t){this.insertNewBlock(e,t)}},{key:"open",value:function(){var e;this.isEmpty||(null===(e=this.popover)||void 0===e||e.show(),this.opened=!0,this.emit(C.Opened))}},{key:"close",value:function(){var e;null===(e=this.popover)||void 0===e||e.hide(),this.opened=!1,this.emit(C.Closed)}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"toolsToBeDisplayed",get:function(){var e=[];return this.tools.forEach((function(t){t.toolbox&&e.push(t)})),e}},{key:"toolboxItemsToBeDisplayed",get:function(){var e=this,t=function(t,n){return{icon:t.icon,title:m.default.t(y.I18nInternalNS.toolNames,t.title||f.capitalize(n.name)),name:n.name,onActivate:function(){e.toolButtonActivated(n.name,t.data)},secondaryLabel:n.shortcut?f.beautifyShortcut(n.shortcut):""}};return this.toolsToBeDisplayed.reduce((function(e,n){return Array.isArray(n.toolbox)?n.toolbox.forEach((function(o){e.push(t(o,n))})):void 0!==n.toolbox&&e.push(t(n.toolbox,n)),e}),[])}},{key:"enableShortcuts",value:function(){var e=this;this.toolsToBeDisplayed.forEach((function(t){var n=t.shortcut;n&&e.enableShortcutForTool(t.name,n)}))}},{key:"enableShortcutForTool",value:function(e,t){var n=this;p.default.add({name:t,on:this.api.ui.nodes.redactor,handler:function(t){t.preventDefault(),n.insertNewBlock(e)}})}},{key:"removeAllShortcuts",value:function(){var e=this;this.toolsToBeDisplayed.forEach((function(t){var n=t.shortcut;n&&p.default.remove(e.api.ui.nodes.redactor,n)}))}},{key:"insertNewBlock",value:(n=(0,o.default)(t.default.mark((function e(n,o){var r,i,a,s,l,c;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(r)){e.next=4;break}return e.abrupt("return");case 4:if(a=i.isEmpty?r:r+1,!o){e.next=10;break}return e.next=8,this.api.blocks.composeBlockData(n);case 8:l=e.sent,s=Object.assign(l,o);case 10:(c=this.api.blocks.insert(n,s,void 0,a,void 0,i.isEmpty)).call(h.BlockToolAPI.APPEND_CALLBACK),this.api.caret.setToBlock(a),this.emit(C.BlockAdded,{block:c}),this.api.toolbar.close();case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})}],[{key:"CSS",get:function(){return{toolbox:"ce-toolbox"}}}]),c}(g.default);e.default=_,_.displayName="Toolbox",S([f.cacheable],_.prototype,"toolsToBeDisplayed",null),S([f.cacheable],_.prototype,"toolboxItemsToBeDisplayed",null)})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(19),n(112),n(37)],void 0===(i="function"==typeof(o=function(o,r,i,a,s,l){var c=n(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=c(r),i=c(i),a=c(a),s=c(s);var u=function(){function e(t){var n=t.items,o=t.onSearch,i=t.placeholder;(0,r.default)(this,e),this.listeners=new s.default,this.items=n,this.onSearch=o,this.render(i)}return(0,i.default)(e,[{key:"getElement",value:function(){return this.wrapper}},{key:"focus",value:function(){this.input.focus()}},{key:"clear",value:function(){this.input.value="",this.searchQuery="",this.onSearch(this.foundItems)}},{key:"destroy",value:function(){this.listeners.removeAll()}},{key:"render",value:function(t){var n=this;this.wrapper=a.default.make("div",e.CSS.wrapper);var o=a.default.make("div",e.CSS.icon,{innerHTML:l.IconSearch});this.input=a.default.make("input",e.CSS.input,{placeholder:t}),this.wrapper.appendChild(o),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",(function(){n.searchQuery=n.input.value,n.onSearch(n.foundItems)}))}},{key:"foundItems",get:function(){var e=this;return this.items.filter((function(t){return e.checkItem(t)}))}},{key:"checkItem",value:function(e){var t,n=(null===(t=e.title)||void 0===t?void 0:t.toLowerCase())||"",o=this.searchQuery.toLowerCase();return n.includes(o)}}],[{key:"CSS",get:function(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}}]),e}();o.default=u,u.displayName="SearchInput",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(8)],void 0===(i="function"==typeof(o=function(o,r,i,a){var s=n(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=s(r),i=s(i);var l=function(){function e(){(0,r.default)(this,e)}return(0,i.default)(e,[{key:"lock",value:function(){a.isIosDevice?this.lockHard():document.body.classList.add(e.CSS.scrollLocked)}},{key:"unlock",value:function(){a.isIosDevice?this.unlockHard():document.body.classList.remove(e.CSS.scrollLocked)}},{key:"lockHard",value:function(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset","".concat(this.scrollPosition,"px")),document.body.classList.add(e.CSS.scrollLockedHard)}},{key:"unlockHard",value:function(){document.body.classList.remove(e.CSS.scrollLockedHard),null!==this.scrollPosition&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}}]),e}();o.default=l,l.displayName="ScrollLocker",l.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"},e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t],void 0===(i="function"==typeof(o=function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.resolveAliases=function(e,t){var n={};return Object.keys(e).forEach((function(o){var r=t[o];void 0!==r?n[r]=e[o]:n[o]=e[o]})),n}})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=4)}([function(e,t,n){var o=n(1),r=n(2);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),o(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){var o,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function a(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},o=[],r=0;r<e.length;r++){var s=e[r],l=t.base?s[0]+t.base:s[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=a(u),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(i[d].references++,i[d].updater(f)):i.push({identifier:u,updater:g(f,t),references:1}),o.push(u)}return o}function l(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var a=r(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function f(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var h=null,p=0;function g(e,t){var n,o,r;if(t.singleton){var i=p++;n=h||(h=l(t)),o=d.bind(null,n,i,!1),r=d.bind(null,n,i,!0)}else n=l(t),o=f.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=a(n[o]);i[r].references--}for(var l=s(e,t),c=0;c<n.length;c++){var u=a(n[c]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}n=l}}}},function(e,t,n){(t=n(3)(!1)).push([e.i,".ce-paragraph {\n    line-height: 1.6em;\n    outline: none;\n}\n\n.ce-paragraph[data-placeholder]:empty::before{\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  opacity: 0;\n}\n\n/** Show placeholder at the first paragraph if Editor is empty */\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {\n  opacity: 1;\n}\n\n.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {\n  opacity: 0;\n}\n\n.ce-paragraph p:first-of-type{\n    margin-top: 0;\n}\n\n.ce-paragraph p:last-of-type{\n    margin-bottom: 0;\n}\n",""]),e.exports=t},function(e,t,n){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,o,r,i=e[1]||"",a=e[3];if(!a)return i;if(t&&"function"==typeof btoa){var s=(n=a,o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(r," */")),l=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(l).concat([s]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);o&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}n.r(t),n.d(t,"default",(function(){return i})),n(0);var i=function(){function e(t){var n=t.data,o=t.config,r=t.api,i=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=r,this.readOnly=i,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=o.placeholder?o.placeholder:e.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=void 0!==o.preserveBlank&&o.preserveBlank,this.data=n}return r(e,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),r(e,[{key:"onKeyUp",value:function(e){"Backspace"!==e.code&&"Delete"!==e.code||""===this._element.textContent&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable=!1,e.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(e.contentEditable=!0,e.addEventListener("keyup",this.onKeyUp)),e}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(e){var t={text:this.data.text+e.text};this.data=t}},{key:"validate",value:function(e){return!(""===e.text.trim()&&!this._preserveBlank)}},{key:"save",value:function(e){return{text:e.innerHTML}}},{key:"onPaste",value:function(e){var t={text:e.detail.data.innerHTML};this.data=t}},{key:"data",get:function(){var e=this._element.innerHTML;return this._data.text=e,this._data},set:function(e){this._data=e||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),e}()}]).default},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(37)],void 0===(i="function"==typeof(o=function(o,r,i,a){var s=n(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=s(r),i=s(i);var l=function(){function e(){(0,r.default)(this,e),this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}return(0,i.default)(e,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=a.IconBold,this.nodes.button}},{key:"surround",value:function(){document.execCommand(this.commandName)}},{key:"checkState",value:function(){var e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}},{key:"shortcut",get:function(){return"CMD+B"}}],[{key:"sanitize",get:function(){return{b:{}}}}]),e}();o.default=l,l.displayName="BoldInlineTool",l.isInline=!0,l.title="Bold",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(37)],void 0===(i="function"==typeof(o=function(o,r,i,a){var s=n(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=s(r),i=s(i);var l=function(){function e(){(0,r.default)(this,e),this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}return(0,i.default)(e,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=a.IconItalic,this.nodes.button}},{key:"surround",value:function(){document.execCommand(this.commandName)}},{key:"checkState",value:function(){var e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}},{key:"shortcut",get:function(){return"CMD+I"}}],[{key:"sanitize",get:function(){return{i:{}}}}]),e}();o.default=l,l.displayName="ItalicInlineTool",l.isInline=!0,l.title="Italic",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(2),n(3),n(25),n(8),n(37)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c){var u=n(1);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=u(r),i=u(i),s=u(s),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(l);var f=function(){function e(t){var n=t.api;(0,r.default)(this,e),this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=n.toolbar,this.inlineToolbar=n.inlineToolbar,this.notifier=n.notifier,this.i18n=n.i18n,this.selection=new s.default}return(0,i.default)(e,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=c.IconLink,this.nodes.button}},{key:"renderActions",value:function(){var e=this;return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",(function(t){t.keyCode===e.ENTER_KEY&&e.enterPressed(t)})),this.nodes.input}},{key:"surround",value:function(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());var t=this.selection.findParentTag("A");if(t)return this.selection.expandToTag(t),this.unlink(),this.closeActions(),this.checkState(),void this.toolbar.close()}this.toggleActions()}},{key:"checkState",value:function(){var e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=c.IconUnlink,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();var t=e.getAttribute("href");this.nodes.input.value="null"!==t?t:"",this.selection.save()}else this.nodes.button.innerHTML=c.IconLink,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}},{key:"clear",value:function(){this.closeActions()}},{key:"shortcut",get:function(){return"CMD+K"}},{key:"toggleActions",value:function(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}},{key:"openActions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}},{key:"closeActions",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.selection.isFakeBackgroundEnabled){var t=new s.default;t.save(),this.selection.restore(),this.selection.removeFakeBackground(),t.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}},{key:"enterPressed",value:function(e){var t=this.nodes.input.value||"";return t.trim()?this.validateURL(t)?(t=this.prepareLink(t),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(t),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),void this.inlineToolbar.close()):(this.notifier.show({message:"Pasted link is not valid.",style:"error"}),void l.log("Incorrect Link pasted","warn",t)):(this.selection.restore(),this.unlink(),e.preventDefault(),void this.closeActions())}},{key:"validateURL",value:function(e){return!/\s/.test(e)}},{key:"prepareLink",value:function(e){return e=e.trim(),this.addProtocol(e)}},{key:"addProtocol",value:function(e){if(/^(\w+):(\/\/)?/.test(e))return e;var t=/^\/[^/\s]/.test(e),n="#"===e.substring(0,1),o=/^\/\/[^/\s]/.test(e);return t||n||o||(e="http://"+e),e}},{key:"insertLink",value:function(e){var t=this.selection.findParentTag("A");t&&this.selection.expandToTag(t),document.execCommand(this.commandLink,!1,e)}},{key:"unlink",value:function(){document.execCommand(this.commandUnlink)}}],[{key:"sanitize",get:function(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}}]),e}();o.default=f,f.displayName="LinkInlineTool",f.isInline=!0,f.title="Link",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(19)],void 0===(i="function"==typeof(o=function(o,r,i,a){var s=n(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=s(r),i=s(i),a=s(a);var l=function(){function e(t){var n=t.data,o=t.api;(0,r.default)(this,e),this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=o,this.title=n.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=n.savedData,this.wrapper=this.make()}return(0,i.default)(e,[{key:"render",value:function(){return this.wrapper}},{key:"save",value:function(){return this.savedData}},{key:"make",value:function(){var e=a.default.make("div",this.CSS.wrapper),t=a.default.make("div",this.CSS.info),n=a.default.make("div",this.CSS.title,{textContent:this.title}),o=a.default.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52"><path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/></svg>',t.appendChild(n),t.appendChild(o),e.appendChild(t),e}}]),e}();o.default=l,l.displayName="Stub",l.isReadOnlySupported=!0,e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(69),n(396),n(397),n(398)],void 0===(i="function"==typeof(o=function(o,r,i,a,s,l,c){var u=n(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=u(r),i=u(i),s=u(s),l=u(l),c=u(c);var d=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},f=function(){function e(t,n,o){(0,r.default)(this,e),this.api=o,this.config=t,this.editorConfig=n}return(0,i.default)(e,[{key:"get",value:function(e){var t=this.config[e],n=t.class,o=t.isInternal,r=void 0!==o&&o,i=d(t,["class","isInternal"]);return new(this.getConstructor(n))({name:e,constructable:n,config:i,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}},{key:"getConstructor",value:function(e){switch(!0){case e[a.InternalInlineToolSettings.IsInline]:return s.default;case e[a.InternalTuneSettings.IsTune]:return l.default;default:return c.default}}}]),e}();o.default=f,f.displayName="ToolsFactory",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(2),n(3),n(5),n(6),n(4),n(69)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u){var d=n(1);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=d(r),i=d(i),s=d(s),l=d(l),c=d(c);var p=function(e){(0,s.default)(n,e);var t=h(n);function n(){var e;return(0,r.default)(this,n),(e=t.apply(this,arguments)).type=u.ToolType.Inline,e}return(0,i.default)(n,[{key:"title",get:function(){return this.constructable[u.InternalInlineToolSettings.Title]}},{key:"create",value:function(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}]),n}((u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(u)).default);o.default=p,p.displayName="InlineTool",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(2),n(3),n(5),n(6),n(4),n(69)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u){var d=n(1);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,l.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=d(r),i=d(i),s=d(s),l=d(l),c=d(c);var p=function(e){(0,s.default)(n,e);var t=h(n);function n(){var e;return(0,r.default)(this,n),(e=t.apply(this,arguments)).type=u.ToolType.Tune,e}return(0,i.default)(n,[{key:"create",value:function(e,t){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:t,data:e})}}]),n}((u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(u)).default);o.default=p,p.displayName="BlockTune",e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i,a=n(7);r=[t,n(2),n(3),n(114),n(5),n(6),n(4),n(7),n(69),n(8),n(185)],void 0===(i="function"==typeof(o=function(o,r,i,s,l,c,u,d,f,h,p){var g=n(1);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.default)(this,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=g(r),i=g(i),s=g(s),l=g(l),c=g(c),u=g(u),d=g(d),f=m(f),h=m(h),p=g(p);var b=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":(0,d.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},w=function(e){(0,l.default)(n,e);var t=y(n);function n(){var e;return(0,r.default)(this,n),(e=t.apply(this,arguments)).type=f.ToolType.Block,e.inlineTools=new p.default,e.tunes=new p.default,e}return(0,i.default)(n,[{key:"create",value:function(e,t,n){return new this.constructable({data:e,block:t,readOnly:n,api:this.api.getMethodsForTool(this),config:this.settings})}},{key:"isReadOnlySupported",get:function(){return!0===this.constructable[f.InternalBlockToolSettings.IsReadOnlySupported]}},{key:"isLineBreaksEnabled",get:function(){return this.constructable[f.InternalBlockToolSettings.IsEnabledLineBreaks]}},{key:"toolbox",get:function(){var e=this.constructable[f.InternalBlockToolSettings.Toolbox],t=this.config[f.UserSettings.Toolbox];if(!h.isEmpty(e)&&!1!==t)return t?Array.isArray(e)?Array.isArray(t)?t.map((function(t,n){var o=e[n];return o?Object.assign(Object.assign({},o),t):t})):[t]:Array.isArray(t)?t:[Object.assign(Object.assign({},e),t)]:Array.isArray(e)?e:[e]}},{key:"conversionConfig",get:function(){return this.constructable[f.InternalBlockToolSettings.ConversionConfig]}},{key:"enabledInlineTools",get:function(){return this.config[f.UserSettings.EnabledInlineTools]||!1}},{key:"enabledBlockTunes",get:function(){return this.config[f.UserSettings.EnabledBlockTunes]}},{key:"pasteConfig",get:function(){return this.constructable[f.InternalBlockToolSettings.PasteConfig]||{}}},{key:"sanitizeConfig",get:function(){var e=(0,s.default)((0,u.default)(n.prototype),"sanitizeConfig",this),t=this.baseSanitizeConfig;if(h.isEmpty(e))return t;var o={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];h.isObject(i)?o[r]=Object.assign({},t,i):o[r]=i}return o}},{key:"baseSanitizeConfig",get:function(){var e={};return Array.from(this.inlineTools.values()).forEach((function(t){return Object.assign(e,t.sanitizeConfig)})),Array.from(this.tunes.values()).forEach((function(t){return Object.assign(e,t.sanitizeConfig)})),e}}]),n}(f.default);o.default=w,w.displayName="BlockTool",b([h.cacheable],w.prototype,"sanitizeConfig",null),b([h.cacheable],w.prototype,"baseSanitizeConfig",null),e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(85),n(37)],void 0===(i="function"==typeof(o=function(o,r,i,a,s){var l=n(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=l(r),i=l(i),a=l(a);var c=function(){function e(t){var n=t.api;(0,r.default)(this,e),this.CSS={animation:"wobble"},this.api=n}return(0,i.default)(e,[{key:"render",value:function(){var e=this;return{icon:s.IconChevronDown,title:this.api.i18n.t("Move down"),onActivate:function(t,n){return e.handleClick(n)},name:"move-down"}}},{key:"handleClick",value:function(e){var t=this,n=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(n+1);if(!o){var r=e.target.closest("."+a.default.CSS.item).querySelector("."+a.default.CSS.itemIcon);return r.classList.add(this.CSS.animation),void window.setTimeout((function(){r.classList.remove(t.CSS.animation)}),500)}var i=o.holder,s=i.getBoundingClientRect(),l=Math.abs(window.innerHeight-i.offsetHeight);s.top<window.innerHeight&&(l=window.scrollY+i.offsetHeight),window.scrollTo(0,l),this.api.blocks.move(n+1),this.api.toolbar.toggleBlockSettings(!0)}}]),e}();o.default=c,c.displayName="MoveDownTune",c.isTune=!0,e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(37)],void 0===(i="function"==typeof(o=function(o,r,i,a){var s=n(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=s(r),i=s(i);var l=function(){function e(t){var n=t.api;(0,r.default)(this,e),this.api=n}return(0,i.default)(e,[{key:"render",value:function(){var e=this;return{icon:a.IconCross,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:function(){return e.handleClick()}}}}},{key:"handleClick",value:function(){this.api.blocks.delete()}}]),e}();o.default=l,l.displayName="DeleteTune",l.isTune=!0,e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[t,n(2),n(3),n(85),n(37)],void 0===(i="function"==typeof(o=function(o,r,i,a,s){var l=n(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,r=l(r),i=l(i),a=l(a);var c=function(){function e(t){var n=t.api;(0,r.default)(this,e),this.CSS={animation:"wobble"},this.api=n}return(0,i.default)(e,[{key:"render",value:function(){var e=this;return{icon:s.IconChevronUp,title:this.api.i18n.t("Move up"),onActivate:function(t,n){return e.handleClick(n)},name:"move-up"}}},{key:"handleClick",value:function(e){var t=this,n=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(n),r=this.api.blocks.getBlockByIndex(n-1);if(0===n||!o||!r){var i=e.target.closest("."+a.default.CSS.item).querySelector("."+a.default.CSS.itemIcon);return i.classList.add(this.CSS.animation),void window.setTimeout((function(){i.classList.remove(t.CSS.animation)}),500)}var s,l=o.holder,c=r.holder,u=l.getBoundingClientRect(),d=c.getBoundingClientRect();s=d.top>0?Math.abs(u.top)-Math.abs(d.top):window.innerHeight-Math.abs(u.top)+Math.abs(d.top),window.scrollBy(0,-1*s),this.api.blocks.move(n-1),this.api.toolbar.toggleBlockSettings(!0)}}]),e}();o.default=c,c.displayName="MoveUpTune",c.isTune=!0,e.exports=t.default})?o.apply(t,r):o)||(e.exports=i)},function(e,t){e.exports='.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff "}@media (min-width:651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s linear infinite;animation:editor-loader-spin .8s linear infinite;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:rgba(46,170,220,.2);border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(var(--window-scroll-offset)*-1);position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width:650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover:hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus{-ms-flex-negative:0;flex-shrink:0}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width:650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-toolbar__plus{position:static}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width:650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media (max-width:650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover:hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__settings-btn{margin-left:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (min-width:651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width:650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-toolbar__settings-btn{position:static}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}.ce-toolbox{--gap:8px}@media (min-width:651px){.ce-toolbox{position:absolute;top:calc(26px + var(--gap));left:0}.ce-toolbox--opened-top{top:calc(var(--gap)*-1 + var(--popover-height)*-1)}}@media (min-width:651px){.codex-editor--narrow .ce-toolbox{left:auto;right:0}.codex-editor--narrow .ce-toolbox .ce-popover{right:0}}.ce-inline-toolbar{--y-offset:8px;position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar{-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translateX(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translateX(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translateX(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translateX(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{width:100%;padding:0 6px}.ce-inline-toolbar__buttons,.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover:hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-arrow,.ce-inline-toolbar__dropdown-content{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-arrow svg,.ce-inline-toolbar__dropdown-content svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0}.ce-inline-tool svg{width:20px;height:20px}@media (max-width:650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover:hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool{border-radius:0;line-height:normal}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width:650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar{opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px rgba(201,201,204,.48);border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width:650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings{position:absolute;z-index:2;--gap:8px}@media (min-width:651px){.ce-settings{position:absolute;top:calc(26px + var(--gap));left:0}.ce-settings--opened-top{top:calc(var(--gap)*-1 + var(--popover-height)*-1)}}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0}.ce-settings__button svg{width:20px;height:20px}@media (max-width:650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover:hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button{line-height:32px}.ce-settings__button--disabled{cursor:not-allowed!important;opacity:.3}.ce-settings__button--selected{color:#388ae5}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:none}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content .ce-stub,.ce-block--selected .ce-block__content img{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388ae5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388ae5,#388ae5 1px,#fff 0,#fff 6px)}.ce-block a{cursor:pointer;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width:651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important;display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0}.cdx-settings-button svg{width:20px;height:20px}@media (max-width:650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover:hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button{min-width:26px;min-height:26px}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width:650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s linear infinite;animation:cdxRotation 1.2s linear infinite}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px 0 rgba(18,30,57,.04);color:#707684;text-align:center;cursor:pointer}@media (hover:hover){.cdx-button:hover{background:#fbfcfe;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px 0 rgba(18,30,57,.08)}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width:650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0 solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.ce-popover{opacity:0;will-change:opacity,transform;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:6px;min-width:200px;width:200px;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-negative:0;flex-shrink:0;max-height:0;pointer-events:none;position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}.ce-popover--left-oriented:before{left:15px;margin-left:0}.ce-popover--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-popover{z-index:4;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.ce-popover--opened{opacity:1;max-height:270px;pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease}@media (max-width:650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover::-webkit-scrollbar{width:7px}.ce-popover::-webkit-scrollbar-thumb{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:inset 0 0 2px 2px #eff2f5;box-shadow:inset 0 0 2px 2px #eff2f5;border-color:transparent;border-style:solid;border-width:4px 3px 4px 0}@media (max-width:650px){.ce-popover{--offset:5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset)*2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (min-width:651px){.ce-popover__items{margin-top:5px}}.ce-popover__item{display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:start;white-space:nowrap;padding:3px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:6px}.ce-popover__item:not(:last-of-type){margin-bottom:1px}@media (max-width:650px){.ce-popover__item{font-size:16px;padding:4px}}@media (hover:hover){.ce-popover__item:hover:not(.ce-popover__item--no-visible-hover){background-color:#eff2f5}.ce-popover__item:hover .ce-popover__item-icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover__item--disabled{color:#707684;cursor:default;pointer-events:none}.ce-popover__item--disabled .ce-popover__item-icon{-webkit-box-shadow:0 0 0 1px #eff0f1;box-shadow:0 0 0 1px #eff0f1}.ce-popover__item--focused:not(.ce-popover__item--no-visible-focus){-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-popover__item--hidden{display:none}.ce-popover__item--active{background:rgba(56,138,229,.1);color:#388ae5}.ce-popover__item--confirmation{background:#e24a4a}.ce-popover__item--confirmation .ce-popover__item-icon{color:#e24a4a}.ce-popover__item--confirmation .ce-popover__item-label{color:#fff}@media (hover:hover){.ce-popover__item--confirmation:not(.ce-popover__item--no-visible-hover):hover{background:#ce4343}}.ce-popover__item--confirmation:not(.ce-popover__item--no-visible-focus).ce-popover__item--focused{background:#ce4343!important}.ce-popover__item-icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px rgba(201,201,204,.48);border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-popover__item-icon svg{width:20px;height:20px}@media (max-width:650px){.ce-popover__item-icon{width:36px;height:36px;border-radius:8px}.ce-popover__item-icon svg{width:28px;height:28px}}.ce-popover__item-label{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.ce-popover__item-label:after{content:"";width:25px;display:inline-block}.ce-popover__item-secondary-label{color:#707684;font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width:650px){.ce-popover__item-secondary-label{display:none}}.ce-popover__item--active .ce-popover__item-icon,.ce-popover__item--confirmation .ce-popover__item-icon,.ce-popover__item--focused .ce-popover__item-icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover__no-found{display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:start;white-space:nowrap;padding:3px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:6px}.ce-popover__no-found:not(:last-of-type){margin-bottom:1px}@media (max-width:650px){.ce-popover__no-found{font-size:16px;padding:4px}}.ce-popover__no-found{color:#707684;display:none;cursor:default}.ce-popover__no-found--shown{display:block}@media (max-width:650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1d202b;opacity:.5;z-index:3;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}.ce-popover .cdx-search-field{display:none}}.ce-popover__overlay--hidden{z-index:0;opacity:0;visibility:hidden}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width:651px){.ce-popover__custom-content:not(:empty){margin-top:5px;padding:0}}.ce-popover__custom-content--hidden{display:none}.cdx-search-field{--icon-margin-right:10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}'},function(e,t,n){n.r(t),n.d(t,"nanoid",(function(){return s})),n.d(t,"customAlphabet",(function(){return a})),n.d(t,"customRandom",(function(){return i})),n.d(t,"urlAlphabet",(function(){return o})),n.d(t,"random",(function(){return r}));let o="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",r=e=>crypto.getRandomValues(new Uint8Array(e)),i=(e,t,n)=>{let o=(2<<Math.log(e.length-1)/Math.LN2)-1,r=-~(1.6*o*t/e.length);return()=>{let i="";for(;;){let a=n(r),s=r;for(;s--;)if(i+=e[a[s]&o]||"",i.length===t)return i}}},a=(e,t)=>i(e,t,r),s=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let o=63&n[e];t+=o<36?o.toString(36):o<62?(o-26).toString(36).toUpperCase():o<63?"_":"-"}return t}}]);var Oe=Ee(Te);const Me={Version:"2.1.0",Name:"Unnamed Language",CaseSensitive:!1,IgnoreDiacritics:!0,ShowEtymology:!1,ShowInflection:!1,Inflections:[],UseLects:!1,HeaderTags:"",Alphabet:"a b c d e f g h i j k l m n o p q r s t u v w x y z",Lexicon:{},Etymologies:{},Relatives:{},Pronunciations:{General:"place > holder"},Orthographies:[{name:"Romanization",font:"Gentium",root:"rom",lect:"General",rules:"Your romanized orthography is the base form of input.",display:!0}],ShowOrthography:!1,Phonotactics:{General:{Onsets:"",Medials:"",Codas:"",Vowels:"",Illegals:""}},Lects:["General"],Phrasebook:{},Docs:{blocks:[]},Diagnostics:[]},Le=_e(Me),Be=_e(structuredClone(Me)),Ie=_e(0),Pe=_e(""),Re=_e((()=>{const e={};for(const t of c(Be).Lects)e[t]="";return e})()),Ae=_e(""),je=_e((()=>{const e={};for(const t of c(Be).Lects)e[t]="";return e})()),Ne=_e(""),$e=_e(""),De=_e(new Oe),Fe=_e("styles/dark.css"),He=_e(!0),ze=_e(0),Ue=_e(!1),We=_e(!1);const{ipcRenderer:Ve}=require("electron"),Ge=require("fs"),qe=require("path");function Ye(e,t){c(Be).Diagnostics.push({Time:Date(),Version:c(Be).Version,OS:"browser",Action:e,Error:t.stack}),Ze.error(t.stack)}function Xe(e){c(Be).Diagnostics.push({Time:Date(),Version:c(Be).Version,OS:"browser",Action:e})}function Ke(e,t){!async function(e){let t;await Ve.invoke("getUserDataPath").then((e=>{t=e})),e(t)}((n=>{const o=n+qe.sep+"Diagnostics"+qe.sep;Ge.existsSync(o)||Ge.mkdirSync(o);const r=(new Date).toString(),i=o+"logs",a="Report: "+t+"\nTime: "+r+"\nVersion: "+Ve.invoke("getVersion")+"\nFile: (v"+c(Be).Version+") "+c(Be).Name+"\n"+e+"\n";Ge.existsSync(i)?Ge.appendFile(i,a,(e=>{e&&Ze.error(String(e),!1)})):Ge.writeFile(i,a,(e=>{e&&Ze.error(String(e),!1)}))}))}const Ze={log:(e,t=!0)=>{t&&Ke(e,"info");const n="[22m[4mLexc Debug[24m:[22m [32m"+e+"[39m";console.log(n),Ve.invoke("debug",n)},logObj:(e,t="",n=!0)=>{n&&Ke("Object: "+t+"\n"+JSON.stringify(e,null,2),"info");const o="[22m[4mLexc Debug[24m[22m [32m"+t+":[39m\n"+JSON.stringify(e,null,2).replace(/(.*):/g,"[32m$1[39m:");Ve.invoke("debug",o),console.log(o)},warn:(e,t=!0)=>{t&&Ke(e,"warning");const n="[22m[4mLexc Debug[24m[22m [33m"+e+"[39m";Ve.invoke("debug",n),console.log(n)},error:(e,t=!0)=>{t&&Ke(e,"error");const n="[22m[4mLexc Debug[24m[22m [31m"+e+"[39m";Ve.invoke("debug",n),console.log(n)},logAndReturn:(e,t="",n=!1)=>(Ze.logObj(e,t,n),e)},Je=()=>c(Be);function Qe(e){let t=Je().HeaderTags.toLowerCase().trim().split(/\s+/);t[0]||(t=[]);let n=Je().Alphabet;const o=Je().IgnoreDiacritics,r=Je().CaseSensitive,i=structuredClone(e),a=[];for(const e of t){a.push([]);for(const t in i)(()=>{const e=[];return i[t].Senses.forEach((t=>{e.push(...t.tags)})),e})().includes(e)&&a[a.length-1].push(t);for(const e of a[a.length-1])delete i[e]}const s=[];for(const e in i)s.push(e);a.push(s),n=r?n.trim():n.trim().toLowerCase();const l=n.split(/\s+/),c=Array.from(new Set(l)).sort(((e,t)=>t.length-e.length)),u=[];for(const e of a){const t={},n=[];for(const i of e){let e=r?i:i.toLowerCase();e=o?e.normalize("NFD").replace(/\p{Diacritic}/gu,""):e;for(const t of c)e=e.replace(new RegExp(`${t}`,"g"),`${l.indexOf(t)}.`);const a=e.split(".");for(const e of a)a[a.indexOf(e)]=+e||0;t[i]=a,n.push(a)}n.sort(((e,t)=>{for(const n of e){const o=t[e.indexOf(n)];if(n!==o)return n-o}return 0}));const i=[];for(const e in t)i.push([e,n.indexOf(t[e])]);i.sort(((e,t)=>e[1]-t[1]));for(let e=0;e<i.length;e++)i[e]=i[e][0];for(const e of i)u.push(e)}return u}const et=require("vex-js");let tt=!1;function nt(e,t,n){let o=t;return e.forEach((e=>{try{o=function(e,t,n){const o=c(Be).CaseSensitive?"gi":"g";let[r,i,a]=e.split("/"),s=t=" "+t+" ";const l=/\{(.+?)\}/g,u=/\^|#/g,d=/\{!(.+(?:\s+.+)*)\}/g,f=/\s*,\s*/g,h=/\s+/g,p=["∆","∇","⊂","⊃","⊆","⊇","⊄","⊅","⊈","⊉","⊊","⊋","⊍","⊎","⊏","⊐","⊑","⊒","⊓","⊔","⊕","⊖","⊗","⊘","⊙","⊚","⊛","⊜","⊝","⊞","⊟","⊠","⊡","⊢","⊣","⊤","⊥","⊦","⊧","⊨","⊩","⊪","⊫","⊬","⊭","⊮","⊯","⊰","⊱","⊲","⊳","⊴","⊵","⊶","⊷","⊸","⊹","⊺","⊻","⊼","⊽","⊾","⊿","⋀","⋁","⋂","⋃","⋄","⋇","⋈","⋉","⋊","⋋","⋌","⋍","⋎","⋏","⋐","⋑","⋒","⋓","⋔","⋕","⋖","⋗","⋘","⋙","⋚","⋛","⋜","⋝","⋞","⋟","⋠","⋡","⋢","⋣","⋤","⋥","⋦","⋧","⋨","⋩","⋪","⋫","⋬","⋭","⋮","⋯","⋰","⋱","⋲","⋳","⋴","⋵","⋶","⋷","⋸","⋹","⋺","⋻","⋼","⋽","⋾","⌁","⌂","⌃","⌄","⌅","⌆","⌇","⌈","⌉","⌊","⌋","⌑","⌒","⌓","⌔","⌕","⌖","⌗","⌘","⌙"];let g=0;r.match(l)?.forEach((e=>{n[p[g]]=e.replace(l,"$1").split(f),r=r.replace(e,p[g]),g++})),i.match(l)?.forEach((e=>{n[p[g]]=e.replace(l,"$1").split(f),i=i.replace(e,p[g]),g++})),a.match(l)?.forEach((e=>{n[p[g]]=e.replace(l,"$1").split(f),a=a.replace(e,p[g]),g++})),r=r.replaceAll(u,"\\s").replaceAll(d,"(?:(?!$1).)").replaceAll(h,""),i=i.replaceAll(h,""),a=a.replaceAll(u,"\\s").replaceAll(d,"(?:(?!$1).)").replaceAll(h,"");let v="("+a.replace("_",`)${r}(`)+")";Object.entries(n).forEach((([e,t])=>{v=v.replaceAll(e,`(?:${t.join("|")})`)}));const m=r.split("").filter((e=>e in n)),y=i.split("").filter((e=>e in n)),b=a.split("").filter((e=>e in n));function w(e){let i=a.replaceAll("\\b",""),s=[];b.length>0&&(b.forEach((t=>{const r=e.match(new RegExp(`(?:${n[t].join("|")})`,o));s.push([t,r])})),s=[...new Set(s)].sort(((e,t)=>t.length-e.length))),s.forEach((([e,t])=>{t.forEach((t=>{i=i.replace(e,t)}))})),i=i.replaceAll("\\s"," ");for(const e of i.match(/\(\?:(.*)\)\?/g)?i.match(/\(\?:(.*)\)\?/g):[]){const a=e.replace(/\(\?:(.*)\)\?/g,"$1"),s=i.replace(e,a);let l="("+s.replace("_",`)${r}(`)+")";Object.entries(n).forEach((([e,t])=>{l=l.replaceAll(e,`(?:${t.join("|")})`)})),i=t.match(new RegExp(l,o))?s:i.replace(e,"")}for(const e of i.match(/(.|\s)\?/g)?i.match(/(.|\s)\?/g):[]){const a=e.replace(/(.|\s)\?/g,"$1"),s=i.replace(e,a);let l="("+s.replace("_",`)${r}(`)+")";Object.entries(n).forEach((([e,t])=>{l=l.replaceAll(e,`(?:${t.join("|")})`)})),i=t.match(new RegExp(l,o))?s:i.replace(e,"")}const l=i.replaceAll("?","").indexOf("_"),c=m[0]?"_"===a?e.length:(()=>{let t=0;return Object.entries(n).filter((([e])=>m.includes(e))).forEach((([,n])=>{const o=n.find((t=>e.includes(t)));t+=o?o.length:0})),t})():r.length;return e=e.slice(l,l+c)}const k=t.match(new RegExp(v,o));if(k&&i.includes("_")?k.forEach((e=>{const t=w(e);s=s.replace(t,i.replaceAll("_",t))})):s=s.replaceAll(new RegExp(v,o),`$1${i}$2`),y[0]&&m[0]){let e=[];k&&(e=k.map((e=>{const t=w(e),o=[t,y[m.indexOf(Object.keys(n).find((e=>n[e].some((n=>n===t&&m.includes(e))))))]];return[o[0],o[1],n[o[1]][n[m[y.indexOf(o[1])]].indexOf(o[0])]?n[o[1]][n[m[y.indexOf(o[1])]].indexOf(o[0])]:o[0]]})),k.forEach(((t,n)=>{s=s.replace(t.replace(e[n][0],e[n][1]),t.replace(e[n][0],e[n][2]))})))}return s.replaceAll(/[∅⦰]/g,"").trim()}(e,o,n)}catch(n){Ye(`Attempted to apply rule '${e}' to '${t}'`,n),tt||(tt=!0,et.dialog.alert({message:`An error occurred while trying to apply rule '${e}' to '${t}'. The rule may be invalid. If you think this is a bug, please contact the developer.`,callback:()=>{tt=!1}}))}})),o}function ot(e){return{rules:e.split(/\n|;/).map((e=>e.trim())).filter((e=>e.match(/^.*(?:\/|>).*/))).map((e=>e.match(/\/.*_.*$/)?e:e.match(/\/\s*$/)?e+"_":e+"/_")).map((e=>e.split(/(?:\/|>)/).map((e=>e.trim())).join("/"))).filter((e=>e.match(/^.+?\/.*?\/.*?_.*?$/)||e.match(/^.*?\/.+?\/.*?_.*?$/))),categories:Object.fromEntries(e.split("\n").map((e=>e.trim())).filter((e=>e.match(/^.*::.*$/))).map((e=>e.split("::"))).map((([e,t])=>[e.trim(),t.split(",").map((e=>e.trim()))])))}}const rt=()=>c(Be);function it(e,t,n=!1){let o;o=n?n.Pronunciations[t]:rt().Pronunciations[t];const r=ot(o);return nt(r.rules,e,r.categories)}function at(e){c(Re)[e]=it(c(Pe),e);const t=rt().Lexicon;for(const n in t)t[n].pronunciations.hasOwnProperty(e)&&!1===t[n].pronunciations[e].irregular&&(t[n].pronunciations[e].ipa=it(n,e));rt().Lexicon=t,c(je)[e]=it(c(Ae),e);const n=rt().Phrasebook;for(const t in n)for(const o in n[t])if(n[t][o].pronunciations.hasOwnProperty(e)){!1===n[t][o].pronunciations[e].irregular&&(n[t][o].pronunciations[e].ipa=it(o,e));for(const r in n[t][o].variants)n[t][o].variants[r].pronunciations[e].ipa=it(r,e)}rt().Phrasebook=n}function st(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function lt(e,{delay:t=0,duration:n=400,easing:o=st,amount:r=5,opacity:i=0}={}){const a=getComputedStyle(e),s=+a.opacity,l="none"===a.filter?"":a.filter,c=s*(1-i);return{delay:t,duration:n,easing:o,css:(e,t)=>`opacity: ${s-c*t}; filter: ${l} blur(${t*r}px);`}}function ct(e,{delay:t=0,speed:n,duration:o,easing:r=st}={}){let i=e.getTotalLength();const a=getComputedStyle(e);return"butt"!==a.strokeLinecap&&(i+=parseInt(a.strokeWidth)),void 0===o?o=void 0===n?800:i/n:"function"==typeof o&&(o=o(i)),{delay:t,duration:o,easing:r,css:(e,t)=>`\n\t\t\tstroke-dasharray: ${i};\n\t\t\tstroke-dashoffset: ${t*i};\n\t\t`}}function ut(e,t,n){const o=e.slice();return o[2]=t[n],o}function dt(e){let t,n,o=e[0].General.ipa+"";return{c(){t=C("p"),n=_(o),M(t,"class","pronunciation")},m(e,o){w(e,t,o),m(t,n)},p(e,t){1&t&&o!==(o=e[0].General.ipa+"")&&P(n,o)},d(e){e&&k(t)}}}function ft(e){let t,n=Object.keys(e[0]),o=[];for(let t=0;t<n.length;t+=1)o[t]=ht(ut(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=T()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);w(e,t,n)},p(e,r){if(1&r){let i;for(n=Object.keys(e[0]),i=0;i<n.length;i+=1){const a=ut(e,n,i);o[i]?o[i].p(a,r):(o[i]=ht(a),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){x(o,e),e&&k(t)}}}function ht(e){let t,n,o,r,i,a,s,l=e[2]+"",c=e[0][e[2]].ipa+"";return{c(){t=C("p"),n=C("u"),o=_(l),r=E(),i=C("span"),a=_(c),s=E(),M(i,"class","pronunciation"),M(t,"class","lect")},m(e,l){w(e,t,l),m(t,n),m(n,o),m(t,r),m(t,i),m(i,a),m(t,s)},p(e,t){1&t&&l!==(l=e[2]+"")&&P(o,l),1&t&&c!==(c=e[0][e[2]].ipa+"")&&P(a,c)},d(e){e&&k(t)}}}function pt(t){let n,o;function r(e,t){return 3&t&&(n=null),null==n&&(n=!!(Object.keys(e[0]).length>1||e[1].UseLects||void 0===e[0].General)),n?ft:dt}let i=r(t,-1),a=i(t);return{c(){a.c(),o=T()},m(e,t){a.m(e,t),w(e,o,t)},p(e,[t]){i===(i=r(e,t))&&a?a.p(e,t):(a.d(1),a=i(e),a&&(a.c(),a.m(o.parentNode,o)))},i:e,o:e,d(e){a.d(e),e&&k(o)}}}function gt(e,t,n){let o;u(e,Be,(e=>n(1,o=e)));let{pronunciations:r}=t;return e.$$set=e=>{"pronunciations"in e&&n(0,r=e.pronunciations)},[r,o]}class vt extends Ce{constructor(e){super(),xe(this,e,gt,pt,s,{pronunciations:0})}}function mt(e,t,n){const o=e.slice();return o[9]=t[n],o}function yt(e,t,n){const o=e.slice();return o[12]=t[n],o}function bt(e,t,n){const o=e.slice();return o[15]=t[n],o}function wt(e){let t,n,o,r,i,a,s,l,c=e[1]?"⏶":"⏷",u=e[1]&&!e[2]&&kt(e);return{c(){t=C("button"),n=_("Inflections "),o=_(c),r=E(),u&&u.c(),i=T(),M(t,"class","inflection hover-highlight")},m(c,d){w(c,t,d),m(t,n),m(t,o),w(c,r,d),u&&u.m(c,d),w(c,i,d),a=!0,s||(l=O(t,"click",e[8]),s=!0)},p(e,t){(!a||2&t)&&c!==(c=e[1]?"⏶":"⏷")&&P(o,c),e[1]&&!e[2]?u?(u.p(e,t),6&t&&he(u,1)):(u=kt(e),u.c(),he(u,1),u.m(i.parentNode,i)):u&&(de(),pe(u,1,1,(()=>{u=null})),fe())},i(e){a||(he(u),a=!0)},o(e){pe(u),a=!1},d(e){e&&k(t),e&&k(r),u&&u.d(e),e&&k(i),s=!1,l()}}}function kt(e){let t,n,o,r=e[0].flat(),i=[];for(let t=0;t<r.length;t+=1)i[t]=Ot(mt(e,r,t));return{c(){t=C("div");for(let e=0;e<i.length;e+=1)i[e].c();M(t,"class","inflection")},m(e,n){w(e,t,n);for(let e=0;e<i.length;e+=1)i[e].m(t,null);o=!0},p(e,n){if(1&n){let o;for(r=e[0].flat(),o=0;o<r.length;o+=1){const a=mt(e,r,o);i[o]?i[o].p(a,n):(i[o]=Ot(a),i[o].c(),i[o].m(t,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i(e){o||(te((()=>{n||(n=ve(t,lt,{amount:10,duration:333},!0)),n.run(1)})),o=!0)},o(e){n||(n=ve(t,lt,{amount:10,duration:333},!1)),n.run(0),o=!1},d(e){e&&k(t),x(i,e),e&&n&&n.end()}}}function xt(e){let t,n=`h${e[9].data.level}`,o=`h${e[9].data.level}`&&Ct(e);return{c(){o&&o.c(),t=T()},m(e,n){o&&o.m(e,n),w(e,t,n)},p(e,r){`h${e[9].data.level}`?n?s(n,`h${e[9].data.level}`)?(o.d(1),o=Ct(e),o.c(),o.m(t.parentNode,t)):o.p(e,r):(o=Ct(e),o.c(),o.m(t.parentNode,t)):n&&(o.d(1),o=null),n=`h${e[9].data.level}`},d(e){e&&k(t),o&&o.d(e)}}}function Ct(e){let t,o=e[9].data.text+"",r=[],i={};for(let e=0;e<r.length;e+=1)i=n(i,r[e]);return{c(){t=C(`h${e[9].data.level}`),/-/.test(`h${e[9].data.level}`)?B(t,i):L(t,i)},m(e,n){w(e,t,n),t.innerHTML=o},p(e,n){1&n&&o!==(o=e[9].data.text+"")&&(t.innerHTML=o),i=function(e,t){const n={},o={},r={$$scope:1};let i=e.length;for(;i--;){const a=e[i],s=t[i];if(s){for(const e in a)e in s||(o[e]=1);for(const e in s)r[e]||(n[e]=s[e],r[e]=1);e[i]=s}else for(const e in a)r[e]=1}for(const e in o)e in n||(n[e]=void 0);return n}(r,[]),/-/.test(`h${e[9].data.level}`)?B(t,i):L(t,i)},d(e){e&&k(t)}}}function St(e){let t,n=e[9].data.content,o=[];for(let t=0;t<n.length;t+=1)o[t]=Et(yt(e,n,t));return{c(){t=C("table");for(let e=0;e<o.length;e+=1)o[e].c();A(t,"margin","auto")},m(e,n){w(e,t,n);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(e,r){if(1&r){let i;for(n=e[9].data.content,i=0;i<n.length;i+=1){const a=yt(e,n,i);o[i]?o[i].p(a,r):(o[i]=Et(a),o[i].c(),o[i].m(t,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){e&&k(t),x(o,e)}}}function _t(e){let t,n=e[15]+"";return{c(){t=C("td")},m(e,o){w(e,t,o),t.innerHTML=n},p(e,o){1&o&&n!==(n=e[15]+"")&&(t.innerHTML=n)},d(e){e&&k(t)}}}function Et(e){let t,n,o=e[12],r=[];for(let t=0;t<o.length;t+=1)r[t]=_t(bt(e,o,t));return{c(){t=C("tr");for(let e=0;e<r.length;e+=1)r[e].c();n=E()},m(e,o){w(e,t,o);for(let e=0;e<r.length;e+=1)r[e].m(t,null);m(t,n)},p(e,i){if(1&i){let a;for(o=e[12],a=0;a<o.length;a+=1){const s=bt(e,o,a);r[a]?r[a].p(s,i):(r[a]=_t(s),r[a].c(),r[a].m(t,n))}for(;a<r.length;a+=1)r[a].d(1);r.length=o.length}},d(e){e&&k(t),x(r,e)}}}function Tt(e){let t,n=e[9].data.text+"";return{c(){t=C("p")},m(e,o){w(e,t,o),t.innerHTML=n},p(e,o){1&o&&n!==(n=e[9].data.text+"")&&(t.innerHTML=n)},d(e){e&&k(t)}}}function Ot(e){let t,n,o,r="header"===e[9].type&&xt(e),i="table"===e[9].type&&St(e),a="paragraph"===e[9].type&&Tt(e);return{c(){r&&r.c(),t=E(),i&&i.c(),n=E(),a&&a.c(),o=T()},m(e,s){r&&r.m(e,s),w(e,t,s),i&&i.m(e,s),w(e,n,s),a&&a.m(e,s),w(e,o,s)},p(e,s){"header"===e[9].type?r?r.p(e,s):(r=xt(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),"table"===e[9].type?i?i.p(e,s):(i=St(e),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),"paragraph"===e[9].type?a?a.p(e,s):(a=Tt(e),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null)},d(e){r&&r.d(e),e&&k(t),i&&i.d(e),e&&k(n),a&&a.d(e),e&&k(o)}}}function Mt(e){let t,n,o=e[0][0]&&wt(e);return{c(){o&&o.c(),t=T()},m(e,r){o&&o.m(e,r),w(e,t,r),n=!0},p(e,[n]){e[0][0]?o?(o.p(e,n),1&n&&he(o,1)):(o=wt(e),o.c(),he(o,1),o.m(t.parentNode,t)):o&&(de(),pe(o,1,1,(()=>{o=null})),fe())},i(e){n||(he(o),n=!0)},o(e){pe(o),n=!1},d(e){o&&o.d(e),e&&k(t)}}}function Lt(e,t,n){let o,r,i;u(e,Be,(e=>n(6,o=e))),u(e,We,(e=>n(7,r=e))),u(e,Ue,(e=>n(2,i=e)));let a,{word:s}=t,{tags:l}=t,{readFromReference:c=!1}=t,d=!1;return e.$$set=e=>{"word"in e&&n(3,s=e.word),"tags"in e&&n(4,l=e.tags),"readFromReference"in e&&n(5,c=e.readFromReference)},e.$$.update=()=>{if(249&e.$$.dirty){o.Inflections,o.Lexicon;let e="";n(0,a=structuredClone(c&&"object"==typeof r?r.Inflections:o.Inflections).filter((e=>{let t;try{t=new RegExp(e.filter)}catch(n){Ze.error(`Invalid regular expression: /${e.filter}/`),t=/.+/}return(!e.tags[0]||e.tags.some((e=>l.includes(e))))&&s.match(t)})).map((t=>(e+=t.categories+"\n",t.tables.blocks)))),a.forEach(((t,o)=>{t.forEach(((t,r)=>{"table"===t.type&&t.data.content.forEach(((t,i)=>{t.forEach(((t,l)=>{const c=ot(function(e){const t=document.createElement("div");return t.innerHTML=e,t.textContent}(t)).rules,u=ot(e).categories;c[0]&&n(0,a[o][r].data.content[i][l]=nt(c,s,u),a)}))}))}))}))}},[a,d,i,s,l,c,o,r,()=>n(1,d=!d)]}class Bt extends Ce{constructor(e){super(),xe(this,e,Lt,Mt,s,{word:3,tags:4,readFromReference:5})}}function It(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Pt={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const Rt=/[&<>"']/,At=new RegExp(Rt.source,"g"),jt=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Nt=new RegExp(jt.source,"g"),$t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Dt=e=>$t[e];function Ft(e,t){if(t){if(Rt.test(e))return e.replace(At,Dt)}else if(jt.test(e))return e.replace(Nt,Dt);return e}const Ht=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function zt(e){return e.replace(Ht,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const Ut=/(^|[^\[])\^/g;function Wt(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,o)=>(o=(o=o.source||o).replace(Ut,"$1"),e=e.replace(t,o),n),getRegex:()=>new RegExp(e,t)};return n}const Vt=/[^\w:]/g,Gt=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function qt(e,t,n){if(e){let e;try{e=decodeURIComponent(zt(n)).replace(Vt,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!Gt.test(n)&&(n=function(e,t){Yt[" "+e]||(Xt.test(e)?Yt[" "+e]=e+"/":Yt[" "+e]=en(e,"/",!0));e=Yt[" "+e];const n=-1===e.indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(Kt,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(Zt,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}const Yt={},Xt=/^[^:]+:\/*[^/]*$/,Kt=/^([^:]+:)[\s\S]*$/,Zt=/^([^:]+:\/*[^/]*)[\s\S]*$/;const Jt={exec:function(){}};function Qt(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let o=!1,r=t;for(;--r>=0&&"\\"===n[r];)o=!o;return o?"|":" |"})).split(/ \|/);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(/\\\|/g,"|");return n}function en(e,t,n){const o=e.length;if(0===o)return"";let r=0;for(;r<o;){const i=e.charAt(o-r-1);if(i!==t||n){if(i===t||!n)break;r++}else r++}return e.slice(0,o-r)}function tn(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function nn(e,t,n,o){const r=t.href,i=t.title?Ft(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){o.state.inLink=!0;const e={type:"link",raw:n,href:r,title:i,text:a,tokens:o.inlineTokens(a)};return o.state.inLink=!1,e}return{type:"image",raw:n,href:r,title:i,text:Ft(a)}}class on{constructor(e){this.options=e||Pt}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:en(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const o=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=o.length?e.slice(o.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=en(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:o,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,o,r,i,a,s,l,c,u,d,f,h,p=t[1].trim();const g=p.length>1,v={type:"list",raw:"",ordered:g,start:g?+p.slice(0,-1):"",loose:!1,items:[]};p=g?`\\d{1,9}\\${p.slice(-1)}`:`\\${p}`,this.options.pedantic&&(p=g?p:"[*+-]");const m=new RegExp(`^( {0,3}${p})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(h=!1,t=m.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),u=e.split("\n",1)[0],this.options.pedantic?(i=2,f=c.trimLeft()):(i=t[2].search(/[^ ]/),i=i>4?1:i,f=c.slice(i),i+=t[1].length),s=!1,!c&&/^ *$/.test(u)&&(n+=u+"\n",e=e.substring(u.length+1),h=!0),!h){const t=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),o=new RegExp(`^ {0,${Math.min(3,i-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),r=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:\`\`\`|~~~)`),a=new RegExp(`^ {0,${Math.min(3,i-1)}}#`);for(;e&&(d=e.split("\n",1)[0],u=d,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!r.test(u))&&!a.test(u)&&!t.test(u)&&!o.test(e);){if(u.search(/[^ ]/)>=i||!u.trim())f+="\n"+u.slice(i);else{if(s)break;if(c.search(/[^ ]/)>=4)break;if(r.test(c))break;if(a.test(c))break;if(o.test(c))break;f+="\n"+u}s||u.trim()||(s=!0),n+=d+"\n",e=e.substring(d.length+1),c=u.slice(i)}}v.loose||(l?v.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(f),o&&(r="[ ] "!==o[0],f=f.replace(/^\[[ xX]\] +/,""))),v.items.push({type:"list_item",raw:n,task:!!o,checked:r,loose:!1,text:f}),v.raw+=n}v.items[v.items.length-1].raw=n.trimRight(),v.items[v.items.length-1].text=f.trimRight(),v.raw=v.raw.trimRight();const y=v.items.length;for(a=0;a<y;a++)if(this.lexer.state.top=!1,v.items[a].tokens=this.lexer.blockTokens(v.items[a].text,[]),!v.loose){const e=v.items[a].tokens.filter((e=>"space"===e.type)),t=e.length>0&&e.some((e=>/\n.*\n/.test(e.raw)));v.loose=t}if(v.loose)for(a=0;a<y;a++)v.items[a].loose=!0;return v}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(t[0]):Ft(t[0]);e.type="paragraph",e.text=n,e.tokens=this.lexer.inline(n)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:Qt(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,o,r,i,a=e.align.length;for(n=0;n<a;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(a=e.rows.length,n=0;n<a;n++)e.rows[n]=Qt(e.rows[n],e.header.length).map((e=>({text:e})));for(a=e.header.length,o=0;o<a;o++)e.header[o].tokens=this.lexer.inline(e.header[o].text);for(a=e.rows.length,o=0;o<a;o++)for(i=e.rows[o],r=0;r<i.length;r++)i[r].tokens=this.lexer.inline(i[r].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Ft(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Ft(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=en(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let o=0,r=0;for(;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])o++;else if(e[r]===t[1]&&(o--,o<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],o="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],o=e[3])}else o=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),nn(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:o?o.replace(this.rules.inline._escapes,"$1"):o},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return nn(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o)return;if(o[3]&&n.match(/[\p{L}\p{N}]/u))return;const r=o[1]||o[2]||"";if(!r||r&&(""===n||this.rules.inline.punctuation.exec(n))){const n=o[0].length-1;let r,i,a=n,s=0;const l="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(o=l.exec(t));){if(r=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!r)continue;if(i=r.length,o[3]||o[4]){a+=i;continue}if((o[5]||o[6])&&n%3&&!((n+i)%3)){s+=i;continue}if(a-=i,a>0)continue;i=Math.min(i,i+a+s);const t=e.slice(0,n+o.index+(o[0].length-r.length)+i);if(Math.min(n,i)%2){const e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}const l=t.slice(2,-2);return{type:"strong",raw:t,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),o=/^ /.test(e)&&/ $/.test(e);return n&&o&&(e=e.substring(1,e.length-1)),e=Ft(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,o;return"@"===n[2]?(e=Ft(this.options.mangle?t(n[1]):n[1]),o="mailto:"+e):(e=Ft(n[1]),o=e),{type:"link",raw:n[0],text:e,href:o,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,o;if("@"===n[2])e=Ft(this.options.mangle?t(n[0]):n[0]),o="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=Ft(n[0]),o="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:o,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Ft(n[0]):n[0]:Ft(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const rn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Jt,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};rn.def=Wt(rn.def).replace("label",rn._label).replace("title",rn._title).getRegex(),rn.bullet=/(?:[*+-]|\d{1,9}[.)])/,rn.listItemStart=Wt(/^( *)(bull) */).replace("bull",rn.bullet).getRegex(),rn.list=Wt(rn.list).replace(/bull/g,rn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+rn.def.source+")").getRegex(),rn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",rn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,rn.html=Wt(rn.html,"i").replace("comment",rn._comment).replace("tag",rn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),rn.paragraph=Wt(rn._paragraph).replace("hr",rn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rn._tag).getRegex(),rn.blockquote=Wt(rn.blockquote).replace("paragraph",rn.paragraph).getRegex(),rn.normal={...rn},rn.gfm={...rn.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},rn.gfm.table=Wt(rn.gfm.table).replace("hr",rn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rn._tag).getRegex(),rn.gfm.paragraph=Wt(rn._paragraph).replace("hr",rn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",rn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rn._tag).getRegex(),rn.pedantic={...rn.normal,html:Wt("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",rn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Jt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Wt(rn.normal._paragraph).replace("hr",rn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",rn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const an={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Jt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Jt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function sn(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function ln(e){let t,n,o="";const r=e.length;for(t=0;t<r;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),o+="&#"+n+";";return o}an._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",an.punctuation=Wt(an.punctuation).replace(/punctuation/g,an._punctuation).getRegex(),an.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,an.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,an._comment=Wt(rn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),an.emStrong.lDelim=Wt(an.emStrong.lDelim).replace(/punct/g,an._punctuation).getRegex(),an.emStrong.rDelimAst=Wt(an.emStrong.rDelimAst,"g").replace(/punct/g,an._punctuation).getRegex(),an.emStrong.rDelimUnd=Wt(an.emStrong.rDelimUnd,"g").replace(/punct/g,an._punctuation).getRegex(),an._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,an._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,an._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,an.autolink=Wt(an.autolink).replace("scheme",an._scheme).replace("email",an._email).getRegex(),an._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,an.tag=Wt(an.tag).replace("comment",an._comment).replace("attribute",an._attribute).getRegex(),an._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,an._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,an._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,an.link=Wt(an.link).replace("label",an._label).replace("href",an._href).replace("title",an._title).getRegex(),an.reflink=Wt(an.reflink).replace("label",an._label).replace("ref",rn._label).getRegex(),an.nolink=Wt(an.nolink).replace("ref",rn._label).getRegex(),an.reflinkSearch=Wt(an.reflinkSearch,"g").replace("reflink",an.reflink).replace("nolink",an.nolink).getRegex(),an.normal={...an},an.pedantic={...an.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Wt(/^!?\[(label)\]\((.*?)\)/).replace("label",an._label).getRegex(),reflink:Wt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",an._label).getRegex()},an.gfm={...an.normal,escape:Wt(an.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},an.gfm.url=Wt(an.gfm.url,"i").replace("email",an.gfm._extended_email).getRegex(),an.breaks={...an.gfm,br:Wt(an.br).replace("{2,}","*").getRegex(),text:Wt(an.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class cn{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Pt,this.options.tokenizer=this.options.tokenizer||new on,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:rn.normal,inline:an.normal};this.options.pedantic?(t.block=rn.pedantic,t.inline=an.pedantic):this.options.gfm&&(t.block=rn.gfm,this.options.breaks?t.inline=an.breaks:t.inline=an.gfm),this.tokenizer.rules=t}static get rules(){return{block:rn,inline:an}}static lex(e,t){return new cn(t).lex(e)}static lexInline(e,t){return new cn(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,o,r,i;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((o=>!!(n=o.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?t.push(n):(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(o.raw+="\n"+n.raw,o.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(r=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let o;this.options.extensions.startBlock.forEach((function(e){o=e.call({lexer:this},n),"number"==typeof o&&o>=0&&(t=Math.min(t,o))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r)))o=t[t.length-1],i&&"paragraph"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(n),i=r.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),o=t[t.length-1],o&&"text"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,o,r,i,a,s,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,i.index)+"["+tn("a",i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,i.index)+"["+tn("a",i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,i.index+i[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(a||(s=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((o=>!!(n=o.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),o=t[t.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),o=t[t.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,s))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,ln))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,ln))){if(r=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let o;this.options.extensions.startInline.forEach((function(e){o=e.call({lexer:this},n),"number"==typeof o&&o>=0&&(t=Math.min(t,o))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(r,sn))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(s=n.raw.slice(-1)),a=!0,o=t[t.length-1],o&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class un{constructor(e){this.options=e||Pt}code(e,t,n){const o=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,o);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+Ft(o)+'">'+(n?e:Ft(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:Ft(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,n,o){if(this.options.headerIds){return`<h${t} id="${this.options.headerPrefix+o.slug(n)}">${e}</h${t}>\n`}return`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const o=t?"ol":"ul";return"<"+o+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+o+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=qt(this.options.sanitize,this.options.baseUrl,e)))return n;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>",o}image(e,t,n){if(null===(e=qt(this.options.sanitize,this.options.baseUrl,e)))return n;let o=`<img src="${e}" alt="${n}"`;return t&&(o+=` title="${t}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}}class dn{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class fn{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,o=0;if(this.seen.hasOwnProperty(n)){o=this.seen[e];do{o++,n=e+"-"+o}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=o,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class hn{constructor(e){this.options=e||Pt,this.options.renderer=this.options.renderer||new un,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new dn,this.slugger=new fn}static parse(e,t){return new hn(t).parse(e)}static parseInline(e,t){return new hn(t).parseInline(e)}parse(e,t=!0){let n,o,r,i,a,s,l,c,u,d,f,h,p,g,v,m,y,b,w,k="";const x=e.length;for(n=0;n<x;n++)if(d=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]&&(w=this.options.extensions.renderers[d.type].call({parser:this},d),!1!==w||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)))k+=w||"";else switch(d.type){case"space":continue;case"hr":k+=this.renderer.hr();continue;case"heading":k+=this.renderer.heading(this.parseInline(d.tokens),d.depth,zt(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":k+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(c="",l="",i=d.header.length,o=0;o<i;o++)l+=this.renderer.tablecell(this.parseInline(d.header[o].tokens),{header:!0,align:d.align[o]});for(c+=this.renderer.tablerow(l),u="",i=d.rows.length,o=0;o<i;o++){for(s=d.rows[o],l="",a=s.length,r=0;r<a;r++)l+=this.renderer.tablecell(this.parseInline(s[r].tokens),{header:!1,align:d.align[r]});u+=this.renderer.tablerow(l)}k+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(d.tokens),k+=this.renderer.blockquote(u);continue;case"list":for(f=d.ordered,h=d.start,p=d.loose,i=d.items.length,u="",o=0;o<i;o++)v=d.items[o],m=v.checked,y=v.task,g="",v.task&&(b=this.renderer.checkbox(m),p?v.tokens.length>0&&"paragraph"===v.tokens[0].type?(v.tokens[0].text=b+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&"text"===v.tokens[0].tokens[0].type&&(v.tokens[0].tokens[0].text=b+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:b}):g+=b),g+=this.parse(v.tokens,p),u+=this.renderer.listitem(g,y,m);k+=this.renderer.list(u,f,h);continue;case"html":k+=this.renderer.html(d.text);continue;case"paragraph":k+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(u=d.tokens?this.parseInline(d.tokens):d.text;n+1<x&&"text"===e[n+1].type;)d=e[++n],u+="\n"+(d.tokens?this.parseInline(d.tokens):d.text);k+=t?this.renderer.paragraph(u):u;continue;default:{const e='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return k}parseInline(e,t){t=t||this.renderer;let n,o,r,i="";const a=e.length;for(n=0;n<a;n++)if(o=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(r=this.options.extensions.renderers[o.type].call({parser:this},o),!1!==r||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)))i+=r||"";else switch(o.type){case"escape":case"text":i+=t.text(o.text);break;case"html":i+=t.html(o.text);break;case"link":i+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break;case"image":i+=t.image(o.href,o.title,o.text);break;case"strong":i+=t.strong(this.parseInline(o.tokens,t));break;case"em":i+=t.em(this.parseInline(o.tokens,t));break;case"codespan":i+=t.codespan(o.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(o.tokens,t));break;default:{const e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return i}}class pn{constructor(e){this.options=e||Pt}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}function gn(e,t){return(n,o,r)=>{"function"==typeof o&&(r=o,o=null);const i={...o},a=function(e,t,n){return o=>{if(o.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+Ft(o.message+"",!0)+"</pre>";return t?Promise.resolve(e):n?void n(null,e):e}if(t)return Promise.reject(o);if(!n)throw o;n(o)}}((o={...vn.defaults,...i}).silent,o.async,r);if(null==n)return a(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(o),o.hooks&&(o.hooks.options=o),r){const i=o.highlight;let s;try{o.hooks&&(n=o.hooks.preprocess(n)),s=e(n,o)}catch(e){return a(e)}const l=function(e){let n;if(!e)try{o.walkTokens&&vn.walkTokens(s,o.walkTokens),n=t(s,o),o.hooks&&(n=o.hooks.postprocess(n))}catch(t){e=t}return o.highlight=i,e?a(e):r(null,n)};if(!i||i.length<3)return l();if(delete o.highlight,!s.length)return l();let c=0;return vn.walkTokens(s,(function(e){"code"===e.type&&(c++,setTimeout((()=>{i(e.text,e.lang,(function(t,n){if(t)return l(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),c--,0===c&&l()}))}),0))})),void(0===c&&l())}if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then((t=>e(t,o))).then((e=>o.walkTokens?Promise.all(vn.walkTokens(e,o.walkTokens)).then((()=>e)):e)).then((e=>t(e,o))).then((e=>o.hooks?o.hooks.postprocess(e):e)).catch(a);try{o.hooks&&(n=o.hooks.preprocess(n));const r=e(n,o);o.walkTokens&&vn.walkTokens(r,o.walkTokens);let i=t(r,o);return o.hooks&&(i=o.hooks.postprocess(i)),i}catch(e){return a(e)}}}function vn(e,t,n){return gn(cn.lex,hn.parse)(e,t,n)}function mn(e){return e=e.replaceAll(/__(.+)__/g,"<u>$1</u>"),e=vn.parse(e,{breaks:!0,smartypants:!0})}function yn(e,t,n){const o=e.slice();return o[11]=t[n],o[13]=n,o}function bn(e,t,n){const o=e.slice();return o[14]=t[n],o}function wn(e,t,n){const o=e.slice();return o[17]=t[n],o}function kn(e){let t,n;return{c(){t=C("p"),n=_(e[0]),A(t,"font-style","italic")},m(e,o){w(e,t,o),m(t,n)},p(e,t){1&t&&P(n,e[0])},d(e){e&&k(t)}}}function xn(e){let t,n,o=r()+"";function r(){return e[7](e[17])}function i(...t){return e[8](e[17],...t)}return{c(){t=C("p"),n=_(o),A(t,"font-family",e[4].Orthographies.find(i).font)},m(e,o){w(e,t,o),m(t,n)},p(a,s){e=a,19&s&&o!==(o=r()+"")&&P(n,o),16&s&&A(t,"font-family",e[4].Orthographies.find(i).font)},d(e){e&&k(t)}}}function Cn(e){let t,n="Romanization"!==e[17].name&&e[17].display&&("rom"===e[17].root||e[17].lect in e[1].pronunciations)&&xn(e);return{c(){n&&n.c(),t=T()},m(e,o){n&&n.m(e,o),w(e,t,o)},p(e,o){"Romanization"!==e[17].name&&e[17].display&&("rom"===e[17].root||e[17].lect in e[1].pronunciations)?n?n.p(e,o):(n=xn(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&k(t)}}}function Sn(e){let t,n,o,r=e[13]+1+"";return{c(){t=C("div"),n=_(r),o=_("."),M(t,"class","sense")},m(e,r){w(e,t,r),m(t,n),m(t,o)},d(e){e&&k(t)}}}function _n(e){let t,n,o=e[14]+"";return{c(){t=C("div"),n=_(o),M(t,"class","tag-item")},m(e,o){w(e,t,o),m(t,n)},p(e,t){2&t&&o!==(o=e[14]+"")&&P(n,o)},d(e){e&&k(t)}}}function En(e){let t,n=!!e[14]&&_n(e);return{c(){n&&n.c(),t=T()},m(e,o){n&&n.m(e,o),w(e,t,o)},p(e,o){e[14]?n?n.p(e,o):(n=_n(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&k(t)}}}function Tn(e){let t,n,o=e[11].lects.join(", ")+"";return{c(){t=C("p"),n=_(o),M(t,"class","lect")},m(e,o){w(e,t,o),m(t,n)},p(e,t){2&t&&o!==(o=e[11].lects.join(", ")+"")&&P(n,o)},d(e){e&&k(t)}}}function On(e){let t,n,o,r,i;return{c(){t=C("hr"),n=E(),o=C("p"),r=C("i"),i=_(e[5]),M(o,"class","lex-body")},m(e,a){w(e,t,a),w(e,n,a),w(e,o,a),m(o,r),m(r,i)},p(e,t){32&t&&P(i,e[5])},d(e){e&&k(t),e&&k(n),e&&k(o)}}}function Mn(e){let t,n;return t=new Bt({props:{word:e[0],tags:e[11].tags,readFromReference:e[3]}}),{c(){ye(t.$$.fragment)},m(e,o){be(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.word=e[0]),2&n&&(o.tags=e[11].tags),8&n&&(o.readFromReference=e[3]),t.$set(o)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function Ln(e){let t,n,o,r,i,a,s,l,c=mn(e[11].definition)+"",u=e[1].Senses.length>1&&Sn(e),d=e[11].tags,f=[];for(let t=0;t<d.length;t+=1)f[t]=En(bn(e,d,t));let h=e[4].UseLects&&Tn(e),p=e[4].ShowEtymology&&!!e[5]&&e[2]&&On(e),g=(e[4].ShowInflection||e[3])&&Mn(e);return{c(){u&&u.c(),t=E();for(let e=0;e<f.length;e+=1)f[e].c();n=E(),h&&h.c(),o=E(),r=C("p"),i=E(),p&&p.c(),a=E(),g&&g.c(),s=T()},m(e,d){u&&u.m(e,d),w(e,t,d);for(let t=0;t<f.length;t+=1)f[t].m(e,d);w(e,n,d),h&&h.m(e,d),w(e,o,d),w(e,r,d),r.innerHTML=c,w(e,i,d),p&&p.m(e,d),w(e,a,d),g&&g.m(e,d),w(e,s,d),l=!0},p(e,i){if(e[1].Senses.length>1?u||(u=Sn(e),u.c(),u.m(t.parentNode,t)):u&&(u.d(1),u=null),2&i){let t;for(d=e[11].tags,t=0;t<d.length;t+=1){const o=bn(e,d,t);f[t]?f[t].p(o,i):(f[t]=En(o),f[t].c(),f[t].m(n.parentNode,n))}for(;t<f.length;t+=1)f[t].d(1);f.length=d.length}e[4].UseLects?h?h.p(e,i):(h=Tn(e),h.c(),h.m(o.parentNode,o)):h&&(h.d(1),h=null),(!l||2&i)&&c!==(c=mn(e[11].definition)+"")&&(r.innerHTML=c),e[4].ShowEtymology&&e[5]&&e[2]?p?p.p(e,i):(p=On(e),p.c(),p.m(a.parentNode,a)):p&&(p.d(1),p=null),e[4].ShowInflection||e[3]?g?(g.p(e,i),24&i&&he(g,1)):(g=Mn(e),g.c(),he(g,1),g.m(s.parentNode,s)):g&&(de(),pe(g,1,1,(()=>{g=null})),fe())},i(e){l||(he(g),l=!0)},o(e){pe(g),l=!1},d(e){u&&u.d(e),e&&k(t),x(f,e),e&&k(n),h&&h.d(e),e&&k(o),e&&k(r),e&&k(i),p&&p.d(e),e&&k(a),g&&g.d(e),e&&k(s)}}}function Bn(e){let t,n,o,r,i,a,s,l,c=e[4].Orthographies.find(In).display,u=c&&kn(e),d=e[4].Orthographies,f=[];for(let t=0;t<d.length;t+=1)f[t]=Cn(wn(e,d,t));r=new vt({props:{pronunciations:e[1].pronunciations}});let h=e[1].Senses,p=[];for(let t=0;t<h.length;t+=1)p[t]=Ln(yn(e,h,t));const g=e=>pe(p[e],1,1,(()=>{p[e]=null}));return{c(){t=C("div"),u&&u.c(),n=E();for(let e=0;e<f.length;e+=1)f[e].c();o=E(),ye(r.$$.fragment),i=E();for(let e=0;e<p.length;e+=1)p[e].c();M(t,"id",e[0]),M(t,"class","lex-entry prelined")},m(c,d){w(c,t,d),u&&u.m(t,null),m(t,n);for(let e=0;e<f.length;e+=1)f[e].m(t,null);m(t,o),be(r,t,null),m(t,i);for(let e=0;e<p.length;e+=1)p[e].m(t,null);a=!0,s||(l=O(t,"contextmenu",e[6]),s=!0)},p(e,[i]){if(16&i&&(c=e[4].Orthographies.find(In).display),c?u?u.p(e,i):(u=kn(e),u.c(),u.m(t,n)):u&&(u.d(1),u=null),19&i){let n;for(d=e[4].Orthographies,n=0;n<d.length;n+=1){const r=wn(e,d,n);f[n]?f[n].p(r,i):(f[n]=Cn(r),f[n].c(),f[n].m(t,o))}for(;n<f.length;n+=1)f[n].d(1);f.length=d.length}const s={};if(2&i&&(s.pronunciations=e[1].pronunciations),r.$set(s),63&i){let n;for(h=e[1].Senses,n=0;n<h.length;n+=1){const o=yn(e,h,n);p[n]?(p[n].p(o,i),he(p[n],1)):(p[n]=Ln(o),p[n].c(),he(p[n],1),p[n].m(t,null))}for(de(),n=h.length;n<p.length;n+=1)g(n);fe()}(!a||1&i)&&M(t,"id",e[0])},i(e){if(!a){he(r.$$.fragment,e);for(let e=0;e<h.length;e+=1)he(p[e]);a=!0}},o(e){pe(r.$$.fragment,e),p=p.filter(Boolean);for(let e=0;e<p.length;e+=1)pe(p[e]);a=!1},d(e){e&&k(t),u&&u.d(),x(f,e),we(r),x(p,e),s=!1,l()}}}vn.options=vn.setOptions=function(e){var t;return vn.defaults={...vn.defaults,...e},t=vn.defaults,Pt=t,vn},vn.getDefaults=It,vn.defaults=Pt,vn.use=function(...e){const t=vn.defaults.extensions||{renderers:{},childTokens:{}};e.forEach((e=>{const n={...e};if(n.async=vn.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let o=e.renderer.apply(this,t);return!1===o&&(o=n.apply(this,t)),o}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");t[e.level]?t[e.level].unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=vn.defaults.renderer||new un;for(const n in e.renderer){const o=t[n];t[n]=(...r)=>{let i=e.renderer[n].apply(t,r);return!1===i&&(i=o.apply(t,r)),i}}n.renderer=t}if(e.tokenizer){const t=vn.defaults.tokenizer||new on;for(const n in e.tokenizer){const o=t[n];t[n]=(...r)=>{let i=e.tokenizer[n].apply(t,r);return!1===i&&(i=o.apply(t,r)),i}}n.tokenizer=t}if(e.hooks){const t=vn.defaults.hooks||new pn;for(const n in e.hooks){const o=t[n];pn.passThroughHooks.has(n)?t[n]=r=>{if(vn.defaults.async)return Promise.resolve(e.hooks[n].call(t,r)).then((e=>o.call(t,e)));const i=e.hooks[n].call(t,r);return o.call(t,i)}:t[n]=(...r)=>{let i=e.hooks[n].apply(t,r);return!1===i&&(i=o.apply(t,r)),i}}n.hooks=t}if(e.walkTokens){const t=vn.defaults.walkTokens;n.walkTokens=function(n){let o=[];return o.push(e.walkTokens.call(this,n)),t&&(o=o.concat(t.call(this,n))),o}}vn.setOptions(n)}))},vn.walkTokens=function(e,t){let n=[];for(const o of e)switch(n=n.concat(t.call(vn,o)),o.type){case"table":for(const e of o.header)n=n.concat(vn.walkTokens(e.tokens,t));for(const e of o.rows)for(const o of e)n=n.concat(vn.walkTokens(o.tokens,t));break;case"list":n=n.concat(vn.walkTokens(o.items,t));break;default:vn.defaults.extensions&&vn.defaults.extensions.childTokens&&vn.defaults.extensions.childTokens[o.type]?vn.defaults.extensions.childTokens[o.type].forEach((function(e){n=n.concat(vn.walkTokens(o[e],t))})):o.tokens&&(n=n.concat(vn.walkTokens(o.tokens,t)))}return n},vn.parseInline=gn(cn.lexInline,hn.parseInline),vn.Parser=hn,vn.parser=hn.parse,vn.Renderer=un,vn.TextRenderer=dn,vn.Lexer=cn,vn.lexer=cn.lex,vn.Tokenizer=on,vn.Slugger=fn,vn.Hooks=pn,vn.parse=vn,vn.options,vn.setOptions,vn.use,vn.walkTokens,vn.parseInline;const In=e=>"Romanization"===e.name;function Pn(e,t,n){let o;u(e,Be,(e=>n(4,o=e)));const r=Y();let{word:i}=t,{source:a}=t,{showEtymology:s}=t,{showInflections:l=!1}=t;let c="";return e.$$set=e=>{"word"in e&&n(0,i=e.word),"source"in e&&n(1,a=e.source),"showEtymology"in e&&n(2,s=e.showEtymology),"showInflections"in e&&n(3,l=e.showInflections)},e.$$.update=()=>{19&e.$$.dirty&&(o.Etymologies,o.Lexicon,n(5,c=function(){const e=[];let t=[i],n=6;for(;Object.keys(o.Etymologies).some((e=>o.Etymologies[e].descendants.some((e=>t.includes(e.name)))))&&n;)n--,e.push(Object.keys(o.Etymologies).filter((r=>{const a=o.Etymologies[r].descendants.some((e=>t.includes(e.name)));return(e.flat().includes(i)||r===i&&a)&&(n=0),a}))),t=e[e.length-1];e.reverse();let r="",a="";return e.forEach((e=>{let t=e.join(", ");t!==a&&(r+=t+" → "),a=t})),r=r?r+i:"",r}()))},[i,a,s,l,o,c,()=>r("edit"),e=>{const t=ot(o.Orthographies.find((t=>t.name===e.name)).rules);return nt(t.rules,"rom"===e.root?i:a.pronunciations[e.lect].ipa,t.categories)},(e,t)=>t.name===e.name]}class Rn extends Ce{constructor(e){super(),xe(this,e,Pn,Bn,s,{word:0,source:1,showEtymology:2,showInflections:3})}}function An(e,t,n){const o=e.slice();return o[19]=t[n],o}function jn(e,t,n){const o=e.slice();return o[22]=t[n],o}function Nn(e){let t,n,o,r,i,a=e[3]+1+"";return{c(){t=C("i"),n=_("Sense "),o=_(a),r=E(),i=C("br")},m(e,a){w(e,t,a),m(t,n),m(t,o),w(e,r,a),w(e,i,a)},p(e,t){8&t&&a!==(a=e[3]+1+"")&&P(o,a)},d(e){e&&k(t),e&&k(r),e&&k(i)}}}function $n(e){let t,n,o,r=e[22]+"";return{c(){t=C("option"),n=_(r),t.__value=o=e[22],t.value=t.__value},m(e,o){w(e,t,o),m(t,n)},p(e,i){16&i&&r!==(r=e[22]+"")&&P(n,r),16&i&&o!==(o=e[22])&&(t.__value=o,t.value=t.__value)},d(e){e&&k(t)}}}function Dn(e){let t,n,o,r,i,a,s=e[4].Lects,l=[];for(let t=0;t<s.length;t+=1)l[t]=Fn(An(e,s,t));return{c(){t=C("label"),n=_("Lects"),o=C("br"),r=E();for(let e=0;e<l.length;e+=1)l[e].c();i=E(),a=C("br")},m(e,s){w(e,t,s),m(t,n),m(t,o),m(t,r);for(let e=0;e<l.length;e+=1)l[e].m(t,null);w(e,i,s),w(e,a,s)},p(e,n){if(274&n){let o;for(s=e[4].Lects,o=0;o<s.length;o+=1){const r=An(e,s,o);l[o]?l[o].p(r,n):(l[o]=Fn(r),l[o].c(),l[o].m(t,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=s.length}},d(e){e&&k(t),x(l,e),e&&k(i),e&&k(a)}}}function Fn(e){let t,n,o,r,i,a,s,l,c,u,d,f,h=e[19]+"";function p(){return e[15](e[19])}return{c(){t=C("label"),n=C("div"),o=C("input"),a=E(),s=C("span"),l=_(h),c=E(),u=C("br"),M(o,"id",r=e[19]),M(o,"type","checkbox"),o.checked=i=e[1].includes(e[19]),A(n,"display","inline-block"),A(s,"display","inline-block")},m(e,r){w(e,t,r),m(t,n),m(n,o),m(t,a),m(t,s),m(s,l),m(t,c),w(e,u,r),d||(f=O(o,"change",p),d=!0)},p(t,n){e=t,16&n&&r!==(r=e[19])&&M(o,"id",r),18&n&&i!==(i=e[1].includes(e[19]))&&(o.checked=i),16&n&&h!==(h=e[19]+"")&&P(l,h)},d(e){e&&k(t),e&&k(u),d=!1,f()}}}function Hn(e){let t,n,o,r,i,a=e[3]+1+"";return{c(){t=C("button"),n=_("Remove Sense "),o=_(a),M(t,"class","hover-highlight hover-shadow")},m(a,s){w(a,t,s),m(t,n),m(t,o),r||(i=O(t,"click",e[6]),r=!0)},p(e,t){8&t&&a!==(a=e[3]+1+"")&&P(o,a)},d(e){e&&k(t),r=!1,i()}}}function zn(t){let n,o,r,a,s,l,c,u,d,f,h,p,g,v,y,b,S,T,L,B,I,P,N,$="hide"!==t[3]&&Nn(t),D=Array.from(new Set(Object.keys(t[4].Lexicon).map(t[12]).flat(1/0))),F=[];for(let e=0;e<D.length;e+=1)F[e]=$n(jn(t,D,e));let H=t[4].UseLects&&Dn(t),z=!!t[3]&&"hide"!==t[3]&&Hn(t);return{c(){n=C("label"),$&&$.c(),o=E(),r=C("label"),a=_("Definition\n        "),s=C("textarea"),l=E(),c=C("br"),u=E(),d=C("label"),f=_("Tags\n        "),h=C("div"),p=C("textarea"),g=E(),v=C("select"),y=C("option"),y.textContent="Choose Tags";for(let e=0;e<F.length;e+=1)F[e].c();b=E(),S=C("br"),T=E(),H&&H.c(),L=E(),z&&z.c(),B=E(),I=C("br"),M(s,"rows","4"),M(p,"rows","1"),y.__value="existing tags",y.value=y.__value,void 0===t[5]&&te((()=>t[13].call(v))),A(v,"vertical-align","top")},m(e,i){w(e,n,i),$&&$.m(n,null),m(n,o),m(n,r),m(r,a),m(r,s),R(s,t[2]),m(n,l),m(n,c),m(n,u),m(n,d),m(d,f),m(d,h),m(h,p),R(p,t[0]),m(h,g),m(h,v),m(v,y);for(let e=0;e<F.length;e+=1)F[e].m(v,null);j(v,t[5]),m(n,b),m(n,S),m(n,T),H&&H.m(n,null),m(n,L),z&&z.m(n,null),m(n,B),m(n,I),P||(N=[O(s,"input",t[9]),O(s,"keydown",t[10]),O(p,"input",t[11]),O(v,"change",t[13]),O(v,"change",t[14])],P=!0)},p(e,[t]){if("hide"!==e[3]?$?$.p(e,t):($=Nn(e),$.c(),$.m(n,o)):$&&($.d(1),$=null),4&t&&R(s,e[2]),1&t&&R(p,e[0]),16&t){let n;for(D=Array.from(new Set(Object.keys(e[4].Lexicon).map(e[12]).flat(1/0))),n=0;n<D.length;n+=1){const o=jn(e,D,n);F[n]?F[n].p(o,t):(F[n]=$n(o),F[n].c(),F[n].m(v,null))}for(;n<F.length;n+=1)F[n].d(1);F.length=D.length}48&t&&j(v,e[5]),e[4].UseLects?H?H.p(e,t):(H=Dn(e),H.c(),H.m(n,L)):H&&(H.d(1),H=null),e[3]&&"hide"!==e[3]?z?z.p(e,t):(z=Hn(e),z.c(),z.m(n,B)):z&&(z.d(1),z=null)},i:e,o:e,d(e){e&&k(n),$&&$.d(),x(F,e),H&&H.d(),z&&z.d(),P=!1,i(N)}}}function Un(e,t,n){let o,r,i;u(e,Pe,(e=>n(16,o=e))),u(e,Re,(e=>n(17,r=e))),u(e,Be,(e=>n(4,i=e)));let{definition:a=""}=t,{tags:s}=t,{index:l}=t;const c=Y(),f=()=>c("commit");let h="existing tags",{lects:p}=t;function g(e){p.includes(e)?n(1,p=p.filter((t=>t!==e))):(n(1,p=[...p,e]),d(Re,r[e]=it(o,e),r))}return e.$$set=e=>{"definition"in e&&n(2,a=e.definition),"tags"in e&&n(0,s=e.tags),"index"in e&&n(3,l=e.index),"lects"in e&&n(1,p=e.lects)},e.$$.update=()=>{e.$$.dirty,18&e.$$.dirty&&p.filter((e=>!i.Lects.includes(e))).length>0&&p.filter((e=>!i.Lects.includes(e))).forEach((e=>{n(1,p=p.filter((t=>t!==e)))}))},[s,p,a,l,i,h,()=>c("remove"),f,g,function(){a=this.value,n(2,a)},e=>{"Enter"===e.key&&e.altKey&&f()},function(){s=this.value,n(0,s)},e=>i.Lexicon[e].Senses.map((e=>e.tags)),function(){h=N(this),n(5,h)},()=>{n(0,s=s+h==="existing tags"?"":` ${h}`),n(5,h="existing tags")},e=>g(e)]}class Wn extends Ce{constructor(e){super(),xe(this,e,Un,zn,s,{definition:2,tags:0,index:3,lects:1})}}function Vn(e,t,n){const o=e.slice();return o[45]=t[n],o}function Gn(e,t,n){const o=e.slice();return o[48]=t[n],o}function qn(e,t,n){const o=e.slice();return o[51]=t[n],o[52]=t,o[53]=n,o}function Yn(e,t,n){const o=e.slice();return o[48]=t[n],o[54]=t,o[55]=n,o}function Xn(e){let t,n,o;return{c(){t=C("input"),M(t,"type","text"),M(t,"class","pronunciation")},m(r,i){w(r,t,i),R(t,e[11].General),n||(o=O(t,"input",e[23]),n=!0)},p(e,n){2048&n[0]&&t.value!==e[11].General&&R(t,e[11].General)},d(e){e&&k(t),n=!1,o()}}}function Kn(e){let t,n=e[9],o=[];for(let t=0;t<n.length;t+=1)o[t]=Zn(Yn(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=T()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);w(e,t,n)},p(e,r){if(2560&r[0]){let i;for(n=e[9],i=0;i<n.length;i+=1){const a=Yn(e,n,i);o[i]?o[i].p(a,r):(o[i]=Zn(a),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){x(o,e),e&&k(t)}}}function Zn(e){let t,n,o,r,i,a,s,l,c,u,d=e[48]+"";function f(){e[22].call(s,e[48])}return{c(){t=C("div"),n=C("div"),o=C("p"),r=_(d),i=E(),a=C("div"),s=C("input"),l=E(),M(o,"class","lect"),M(n,"class","column text-right"),M(s,"type","text"),M(s,"class","pronunciation text-left"),M(a,"class","column text-left"),M(t,"class","row narrow")},m(d,h){w(d,t,h),m(t,n),m(n,o),m(o,r),m(t,i),m(t,a),m(a,s),R(s,e[11][e[48]]),m(t,l),c||(u=O(s,"input",f),c=!0)},p(t,n){e=t,512&n[0]&&d!==(d=e[48]+"")&&P(r,d),2560&n[0]&&s.value!==e[11][e[48]]&&R(s,e[11][e[48]])},d(e){e&&k(t),c=!1,u()}}}function Jn(e){let t,n,o,r,i;function a(t){e[24](t,e[51])}function s(t){e[25](t,e[51])}function l(t){e[26](t,e[51])}let c={index:e[53]};return void 0!==e[51].definition&&(c.definition=e[51].definition),void 0!==e[51].tags&&(c.tags=e[51].tags),void 0!==e[51].lects&&(c.lects=e[51].lects),t=new Wn({props:c}),K.push((()=>me(t,"definition",a))),K.push((()=>me(t,"tags",s))),K.push((()=>me(t,"lects",l))),t.$on("remove",(function(){return e[27](e[53])})),t.$on("commit",e[28]),{c(){ye(t.$$.fragment)},m(e,n){be(t,e,n),i=!0},p(i,a){e=i;const s={};!n&&32&a[0]&&(n=!0,s.definition=e[51].definition,ne((()=>n=!1))),!o&&32&a[0]&&(o=!0,s.tags=e[51].tags,ne((()=>o=!1))),!r&&32&a[0]&&(r=!0,s.lects=e[51].lects,ne((()=>r=!1))),t.$set(s)},i(e){i||(he(t.$$.fragment,e),i=!0)},o(e){pe(t.$$.fragment,e),i=!1},d(e){we(t,e)}}}function Qn(t){let n,o,r,a,s,l;return{c(){n=C("div"),o=C("button"),o.textContent="Overwrite Entry",r=E(),a=C("button"),a.textContent="Append Definition",M(o,"id","overwrite"),M(o,"class","hover-shadow"),M(a,"id","append"),M(a,"class","hover-shadow hover-highlight"),M(n,"class","row"),M(n,"id","definition-exists")},m(e,i){w(e,n,i),m(n,o),m(n,r),m(n,a),s||(l=[O(o,"click",t[31]),O(a,"click",t[32])],s=!0)},p:e,d(e){e&&k(n),s=!1,i(l)}}}function eo(t){let n,o,r;return{c(){n=C("button"),n.textContent="Add Word",M(n,"class","hover-highlight hover-shadow"),M(n,"id","add-word-button")},m(e,i){w(e,n,i),o||(r=O(n,"click",t[30]),o=!0)},p:e,d(e){e&&k(n),o=!1,r()}}}function to(e){let t;return{c(){t=C("label"),t.textContent="Search by word…",M(t,"for","search-wrd"),A(t,"position","absolute"),A(t,"top","0.5em"),A(t,"left","1em")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function no(e){let t;return{c(){t=C("label"),t.textContent="Search by tags…",M(t,"for","search-tag"),A(t,"position","absolute"),A(t,"top","0.5em"),A(t,"left","1em")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function oo(e){let t;return{c(){t=C("label"),t.textContent="Search definitions…",M(t,"for","search-def"),A(t,"position","absolute"),A(t,"top","0.33em"),A(t,"left","1em")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function ro(e){let t,n,o,r,i,a,s,l=e[6].Lects,c=[];for(let t=0;t<l.length;t+=1)c[t]=io(Gn(e,l,t));return{c(){t=C("div"),n=C("label"),o=_("Filter by lect: \n                            "),r=C("select"),i=C("option"),i.textContent="All";for(let e=0;e<c.length;e+=1)c[e].c();i.__value="",i.value=i.__value,void 0===e[3]&&te((()=>e[36].call(r))),M(t,"class","column")},m(l,u){w(l,t,u),m(t,n),m(n,o),m(n,r),m(r,i);for(let e=0;e<c.length;e+=1)c[e].m(r,null);j(r,e[3]),a||(s=O(r,"change",e[36]),a=!0)},p(e,t){if(64&t[0]){let n;for(l=e[6].Lects,n=0;n<l.length;n+=1){const o=Gn(e,l,n);c[n]?c[n].p(o,t):(c[n]=io(o),c[n].c(),c[n].m(r,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}72&t[0]&&j(r,e[3])},d(e){e&&k(t),x(c,e),a=!1,s()}}}function io(e){let t,n,o,r=e[48]+"";return{c(){t=C("option"),n=_(r),t.__value=o=e[48],t.value=t.__value},m(e,o){w(e,t,o),m(t,n)},p(e,i){64&i[0]&&r!==(r=e[48]+"")&&P(n,r),64&i[0]&&o!==(o=e[48])&&(t.__value=o,t.value=t.__value)},d(e){e&&k(t)}}}function ao(t){let n;return{c(){n=C("p"),n.textContent="Add new words on the left",M(n,"class","info"),M(n,"id","lex-body")},m(e,t){w(e,n,t)},p:e,d(e){e&&k(n)}}}function so(e){let t,n;return t=new Rn({props:{word:e[45],source:e[6].Lexicon[e[45]],showEtymology:!0}}),t.$on("edit",(function(){return e[37](e[45])})),{c(){ye(t.$$.fragment)},m(e,o){be(t,e,o),n=!0},p(n,o){e=n;const r={};128&o[0]&&(r.word=e[45]),192&o[0]&&(r.source=e[6].Lexicon[e[45]]),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function lo(e){let t,n,o,r=Object.keys(e[6].Lexicon).length+"",i=1===Object.keys(e[6].Lexicon).length?"Entry":"Entries";return{c(){t=_(r),n=E(),o=_(i)},m(e,r){w(e,t,r),w(e,n,r),w(e,o,r)},p(e,n){64&n[0]&&r!==(r=Object.keys(e[6].Lexicon).length+"")&&P(t,r),64&n[0]&&i!==(i=1===Object.keys(e[6].Lexicon).length?"Entry":"Entries")&&P(o,i)},d(e){e&&k(t),e&&k(n),e&&k(o)}}}function co(e){let t,n,o,r=(e[4][0]?e[4].length:"0")+"",i=1===e[4].length&&e[4][0]?"Match":"Matches";return{c(){t=_(r),n=E(),o=_(i)},m(e,r){w(e,t,r),w(e,n,r),w(e,o,r)},p(e,n){16&n[0]&&r!==(r=(e[4][0]?e[4].length:"0")+"")&&P(t,r),16&n[0]&&i!==(i=1===e[4].length&&e[4][0]?"Match":"Matches")&&P(o,i)},d(e){e&&k(t),e&&k(n),e&&k(o)}}}function uo(e){let t,n,o,r,a,s,l,c,u,d,f,h,p,g,v,y,b,S,_,T,L,B,I,P,j,N,D,F,H,z,U,W,V,G,q,Y,X,K,Z,J,Q,ee,te,ne,oe,re,ie,ae,se,le,ce,ue;function ge(e,t){return e[6].UseLects?Kn:Xn}let ve=ge(e),me=ve(e),ye=e[5],be=[];for(let t=0;t<ye.length;t+=1)be[t]=Jn(qn(e,ye,t));const we=e=>pe(be[e],1,1,(()=>{be[e]=null}));function ke(e,t){return e[10]in e[6].Lexicon?Qn:eo}let xe=ke(e),Ce=xe(e),Se=!e[0]&&to(),_e=!e[2]&&no(),Ee=!e[1]&&oo(),Te=e[6].UseLects&&ro(e),Oe=e[7],Me=[];for(let t=0;t<Oe.length;t+=1)Me[t]=so(Vn(e,Oe,t));const Le=e=>pe(Me[e],1,1,(()=>{Me[e]=null}));let Be=null;function Ie(e,t){return e[4][0]?co:lo}Oe.length||(Be=ao());let Pe=Ie(e),Re=Pe(e);return{c(){t=C("div"),n=C("div"),o=C("div"),r=C("label"),r.textContent="Case Sensitivity",a=E(),s=C("input"),l=E(),c=C("div"),u=C("label"),u.textContent="Ignore Diacritics",d=E(),f=C("input"),h=E(),p=C("input"),g=E(),v=C("div"),y=C("div"),b=C("button"),S=E(),_=C("div"),T=C("label"),T.textContent="New Word",L=E(),B=C("input"),I=E(),me.c(),P=E();for(let e=0;e<be.length;e+=1)be[e].c();j=E(),N=C("button"),N.textContent="Add Sense",D=E(),Ce.c(),F=E(),H=C("div"),z=E(),U=C("div"),W=C("div"),V=C("div"),Se&&Se.c(),G=E(),q=C("input"),Y=E(),X=C("div"),_e&&_e.c(),K=E(),Z=C("input"),J=E(),Q=C("div"),ee=C("div"),Ee&&Ee.c(),te=E(),ne=C("input"),oe=E(),Te&&Te.c(),re=E(),ie=C("div");for(let e=0;e<Me.length;e+=1)Me[e].c();Be&&Be.c(),ae=E(),se=C("p"),Re.c(),M(r,"for","case-sensitive"),A(r,"margin","auto"),M(s,"type","checkbox"),A(s,"width","15px"),A(s,"margin","auto"),M(s,"id","case-sensitive"),M(o,"class","narrow-col"),M(u,"for","ignore-diacritic"),A(u,"margin","auto"),A(u,"text-align","right"),M(f,"type","checkbox"),A(f,"width","15px"),A(f,"margin","auto"),M(f,"id","ignore-diacritic"),M(c,"class","narrow-col"),M(p,"id","alph-input"),M(p,"type","text"),M(n,"class","container row text-center header"),M(b,"class","collapser"),M(T,"for","wrd-input"),M(B,"id","wrd-input"),M(B,"type","text"),M(N,"class","hover-highlight hover-shadow"),M(N,"id","add-sense-button"),A(H,"width","100vw"),M(_,"class","text-center scrolled"),A(_,"height","100%"),A(_,"overflow-x","hidden"),$(_,"collapsed",e[8]),M(y,"class","container collapsible-column"),A(y,"height","100%"),M(q,"id","search-wrd"),M(q,"type","text"),M(q,"class","search"),M(V,"class","column search-container"),M(Z,"id","search-tag"),M(Z,"type","text"),M(Z,"class","search"),M(X,"class","column search-container"),M(W,"class","row"),M(ne,"id","search-def"),M(ne,"type","text"),M(ne,"class","search"),M(ee,"class","search-container column"),M(Q,"class","row"),M(ie,"class","scrolled"),A(ie,"height","88%"),M(se,"id","entry-counter"),M(U,"class","container column text-center"),A(U,"height","100%"),M(v,"class","row"),A(v,"height","84vh"),M(t,"class","tab-pane")},m(i,k){w(i,t,k),m(t,n),m(n,o),m(o,r),m(o,a),m(o,s),s.checked=e[6].CaseSensitive,m(n,l),m(n,c),m(c,u),m(c,d),m(c,f),f.checked=e[6].IgnoreDiacritics,m(n,h),m(n,p),R(p,e[6].Alphabet),m(t,g),m(t,v),m(v,y),m(y,b),m(y,S),m(y,_),m(_,T),m(_,L),m(_,B),R(B,e[10]),m(_,I),me.m(_,null),m(_,P);for(let e=0;e<be.length;e+=1)be[e].m(_,null);m(_,j),m(_,N),m(_,D),Ce.m(_,null),m(_,F),m(_,H),m(v,z),m(v,U),m(U,W),m(W,V),Se&&Se.m(V,null),m(V,G),m(V,q),R(q,e[0]),m(W,Y),m(W,X),_e&&_e.m(X,null),m(X,K),m(X,Z),R(Z,e[2]),m(U,J),m(U,Q),m(Q,ee),Ee&&Ee.m(ee,null),m(ee,te),m(ee,ne),R(ne,e[1]),m(Q,oe),Te&&Te.m(Q,null),m(U,re),m(U,ie);for(let e=0;e<Me.length;e+=1)Me[e].m(ie,null);Be&&Be.m(ie,null),m(U,ae),m(U,se),Re.m(se,null),le=!0,ce||(ue=[O(s,"change",e[16]),O(f,"change",e[17]),O(p,"input",e[18]),O(b,"click",e[19]),O(B,"input",e[20]),O(B,"input",e[21]),O(N,"click",e[29]),O(q,"input",e[33]),O(q,"input",e[14]),O(Z,"input",e[34]),O(Z,"input",e[14]),O(ne,"input",e[35]),O(ne,"input",e[14])],ce=!0)},p(e,t){if(64&t[0]&&(s.checked=e[6].CaseSensitive),64&t[0]&&(f.checked=e[6].IgnoreDiacritics),64&t[0]&&p.value!==e[6].Alphabet&&R(p,e[6].Alphabet),1024&t[0]&&B.value!==e[10]&&R(B,e[10]),ve===(ve=ge(e))&&me?me.p(e,t):(me.d(1),me=ve(e),me&&(me.c(),me.m(_,P))),8224&t[0]){let n;for(ye=e[5],n=0;n<ye.length;n+=1){const o=qn(e,ye,n);be[n]?(be[n].p(o,t),he(be[n],1)):(be[n]=Jn(o),be[n].c(),he(be[n],1),be[n].m(_,j))}for(de(),n=ye.length;n<be.length;n+=1)we(n);fe()}if(xe===(xe=ke(e))&&Ce?Ce.p(e,t):(Ce.d(1),Ce=xe(e),Ce&&(Ce.c(),Ce.m(_,F))),(!le||256&t[0])&&$(_,"collapsed",e[8]),e[0]?Se&&(Se.d(1),Se=null):Se||(Se=to(),Se.c(),Se.m(V,G)),1&t[0]&&q.value!==e[0]&&R(q,e[0]),e[2]?_e&&(_e.d(1),_e=null):_e||(_e=no(),_e.c(),_e.m(X,K)),4&t[0]&&Z.value!==e[2]&&R(Z,e[2]),e[1]?Ee&&(Ee.d(1),Ee=null):Ee||(Ee=oo(),Ee.c(),Ee.m(ee,te)),2&t[0]&&ne.value!==e[1]&&R(ne,e[1]),e[6].UseLects?Te?Te.p(e,t):(Te=ro(e),Te.c(),Te.m(Q,null)):Te&&(Te.d(1),Te=null),4288&t[0]){let n;for(Oe=e[7],n=0;n<Oe.length;n+=1){const o=Vn(e,Oe,n);Me[n]?(Me[n].p(o,t),he(Me[n],1)):(Me[n]=so(o),Me[n].c(),he(Me[n],1),Me[n].m(ie,null))}for(de(),n=Oe.length;n<Me.length;n+=1)Le(n);fe(),!Oe.length&&Be?Be.p(e,t):Oe.length?Be&&(Be.d(1),Be=null):(Be=ao(),Be.c(),Be.m(ie,null))}Pe===(Pe=Ie(e))&&Re?Re.p(e,t):(Re.d(1),Re=Pe(e),Re&&(Re.c(),Re.m(se,null)))},i(e){if(!le){for(let e=0;e<ye.length;e+=1)he(be[e]);for(let e=0;e<Oe.length;e+=1)he(Me[e]);le=!0}},o(e){be=be.filter(Boolean);for(let e=0;e<be.length;e+=1)pe(be[e]);Me=Me.filter(Boolean);for(let e=0;e<Me.length;e+=1)pe(Me[e]);le=!1},d(e){e&&k(t),me.d(),x(be,e),Ce.d(),Se&&Se.d(),_e&&_e.d(),Ee&&Ee.d(),Te&&Te.d(),x(Me,e),Be&&Be.d(),Re.d(),ce=!1,i(ue)}}}function fo(e,t,n){let o,r,i,a,s;u(e,Be,(e=>n(6,o=e))),u(e,Pe,(e=>n(10,r=e))),u(e,Re,(e=>n(11,i=e))),u(e,Ue,(e=>n(38,a=e))),u(e,Ie,(e=>n(39,s=e)));const{ipcRenderer:l}=require("electron"),c=require("vex-js");l.on("update-lexicon-for-gods-sake-please",(()=>{d(Be,o.Lexicon={...o.Lexicon},o)}));let f,h,p,g=[""],v="",m="",y="",b="",w=[],k=!1,x=[{definition:"",tags:"",lects:[...o.Lects]}];function C(e){const t=document.getElementById(e);t&&(s&&d(Ie,s=0,s),n(1,m=""),n(2,y=""),n(0,v=""),n(3,b=""),t.scrollIntoView({behavior:"smooth",block:"center"}))}function S(e){let t=!0;(r||g[0])&&(t=confirm("There is text in the word entry fields. Are you sure you want to overwrite it?")),t&&(d(Pe,r=e,r),d(Re,i={},i),Object.keys(o.Lexicon[e].pronunciations).forEach((t=>{d(Re,i[t]=o.Lexicon[e].pronunciations[t].ipa,i)})),n(5,x=[...o.Lexicon[e].Senses].map((e=>({definition:e.definition,tags:e.tags.join(" "),lects:e.lects})))),d(Ue,a=!0,a),window.setTimeout((()=>{let{[e]:t,...n}=o.Lexicon;d(Be,o.Lexicon=n,o),d(Ue,a=!1,a)}),50))}function _(e,t){const a=e=>x[""]!==e&&!!e.definition,s=e=>({definition:e.definition,tags:e.tags.split(/\s+/g),lects:e.lects});t?o.Lexicon[e].Senses.push(...x.filter(a).map(s)):d(Be,o.Lexicon[e]={pronunciations:(()=>{const t={};return Object.keys(i).filter((e=>x.map((e=>e.lects)).flat().includes(e))).forEach((n=>{t[n]={ipa:i[n].trim(),irregular:i[n].trim()!==it(e,n)}})),t})(),Senses:x.filter(a).map(s)},o),d(Be,o.Lexicon={...o.Lexicon},o),d(Pe,r="",r),d(Re,i=(()=>{const e={};return o.Lects.forEach((t=>{e[t]=""})),e})(),i),n(5,x=[{definition:"",tags:"",lects:[...o.Lects]}])}function E(e){let t=r.trim();t&&x[0].definition&&x.map((e=>e.lects)).flat().length&&(!function(e){const t=Je().Alphabet.trim().split(/\s+/).sort(((e,t)=>t.length-e.length));return e=Je().CaseSensitive?e:e.toLowerCase(),e=Je().IgnoreDiacritics?e.normalize("NFD").replace(/\p{Diacritic}/gu,""):e,t.forEach((t=>{e=e.replaceAll(t,"")})),!e.replaceAll(/\s+/g,"")}(t)?c.dialog.confirm({message:"The word contains characters not present in the alphabet. Are you sure you want to add it?",callback:n=>{n&&(_(t,e),window.setTimeout((()=>C(t)),50))}}):(_(t,e),window.setTimeout((()=>C(t)),50)))}l.on("lexicon link",((e,t)=>{console.log("link:",t),C(t)}));return e.$$.update=()=>{e.$$.dirty[0],80&e.$$.dirty[0]&&n(15,f=w.reduce(((e,t)=>(t in o.Lexicon&&(e[t]=o.Lexicon[t]),e)),{})),32848&e.$$.dirty[0]&&(o.Lexicon,o.ShowEtymology,o.Etymologies,o.ShowInflection,o.Inflections,o.Alphabet,o.Orthographies,n(7,h=Qe(w.length?f:o.Lexicon))),96&e.$$.dirty[0]&&(o.Lects,o.UseLects,n(9,p=Array.from(new Set(x.map((e=>[...e.lects])).flat().filter((e=>o.Lects.includes(e)))))))},[v,m,y,b,w,x,o,h,k,p,r,i,S,E,function(){let e=o.CaseSensitive?v.trim():v.toLowerCase().trim(),t=m.toLowerCase().trim(),r=y.toLowerCase().trim()?y.toLowerCase().trim().split(/\s+/g):[];if(n(4,w=[]),e||t||r[0]||b){let i=[[...e.split("|")],[...t.split("|")]];for(let e in o.Lexicon){const t="^"+e.replaceAll(/\s+/g,"^")+"^";let a=!b||o.Lexicon[e].Senses.some((e=>e.lects.includes(b)));if(a){for(let e of i[0])t.includes(e)||(a=!1);for(let t of i[1]){if("!"===t[0]){let n=`\\b${t.split("!")[1]}\\b`;o.Lexicon[e].Senses.forEach((e=>{e.definition.toLowerCase().match(n)||(a=!1)}))}else o.Lexicon[e].Senses.some((e=>e.definition.toLowerCase().includes(t)))||(a=!1)}if(o.Lexicon[e].Senses.some((e=>!!e.tags[0]))){let t=!1,n=!1,i=!1;for(let a of o.Lexicon[e].Senses.map((e=>e.tags)).flat())for(let e of r)"!"===e[0]&&(n=!0,`!${a}`===e&&(i=!0,t=!0)),`^${a}^`.includes(e)&&(t=!0);r[0]&&(!t||n&&!i)&&(a=!1)}else r[0]&&(a=!1);a&&n(4,w=[...w,e])}}w.length||n(4,w=[null])}},f,function(){o.CaseSensitive=this.checked,Be.set(o)},function(){o.IgnoreDiacritics=this.checked,Be.set(o)},function(){o.Alphabet=this.value,Be.set(o)},()=>n(8,k=!k),function(){r=this.value,Pe.set(r)},()=>{p.forEach((e=>{d(Re,i[e]=it(r,e),i)}))},function(e){i[e]=this.value,Re.set(i)},function(){i.General=this.value,Re.set(i)},function(t,o){e.$$.not_equal(o.definition,t)&&(o.definition=t,n(5,x))},function(t,o){e.$$.not_equal(o.tags,t)&&(o.tags=t,n(5,x))},function(t,o){e.$$.not_equal(o.lects,t)&&(o.lects=t,n(5,x))},e=>{n(5,x=x.filter(((t,n)=>n!==e)))},()=>{E(!1)},()=>{n(5,x=[...x,{definition:"",tags:"",lects:[...o.Lects]}])},()=>E(!1),()=>E(!1),()=>E(!0),function(){v=this.value,n(0,v)},function(){y=this.value,n(2,y)},function(){m=this.value,n(1,m)},function(){b=N(this),n(3,b)},e=>S(e)]}class ho extends Ce{constructor(e){super(),xe(this,e,fo,uo,s,{},null,[-1,-1])}}function po(e,t,n){const o=e.slice();return o[9]=t[n],o[11]=n,o}function go(e,t,n){const o=e.slice();return o[12]=t[n],o[11]=n,o}function vo(e){let t,n,o,r,i,a,s,l,c,u,d,f,h,p,g,v,y,b,x,C,E=e[12].name+"",T=e[12].source+"";function L(){return e[6](e[12])}return{c(){t=S("g"),n=S("rect"),i=S("text"),a=_(E),u=S("text"),d=_(T),g=S("path"),M(n,"class","lex"),M(n,"x",o=e[0]/(e[2].parents.length+1)*(e[11]+1)-60),M(n,"y",r=e[1]/9-e[3][e[11]]-15+Math.max(...e[3])),M(n,"width","120"),M(i,"class","lex-entry"),M(i,"x",s=e[0]/(e[2].parents.length+1)*(e[11]+1)),M(i,"y",l=e[1]/9-e[3][e[11]]+Math.max(...e[3])),M(i,"text-anchor","middle"),M(i,"dominant-baseline","middle"),M(u,"class","tag-item"),M(u,"x",f=e[0]/(e[2].parents.length+1)*(e[11]+1)),M(u,"y",h=e[1]/9-e[3][e[11]]+15+Math.max(...e[3])),M(u,"text-anchor","middle"),M(u,"dominant-baseline","middle"),M(g,"d",v=`M ${e[0]/(e[2].parents.length+1)*(e[11]+1)}, ${e[1]/9-e[3][e[11]]+20+Math.max(...e[3])} C ${e[0]/(e[2].parents.length+1)*(e[11]+1)}, ${e[1]/9-e[3][e[11]]+50+Math.max(...e[3])}  ${e[0]/2}, ${e[1]/2-40}  ${e[0]/2}, ${e[1]/2-10}`),M(g,"fill","none")},m(e,o){w(e,t,o),m(t,n),m(t,i),m(i,a),m(t,u),m(u,d),m(t,g),b=!0,x||(C=O(t,"mousedown",L),x=!0)},p(t,c){e=t,(!b||5&c&&o!==(o=e[0]/(e[2].parents.length+1)*(e[11]+1)-60))&&M(n,"x",o),(!b||10&c&&r!==(r=e[1]/9-e[3][e[11]]-15+Math.max(...e[3])))&&M(n,"y",r),(!b||4&c)&&E!==(E=e[12].name+"")&&P(a,E),(!b||5&c&&s!==(s=e[0]/(e[2].parents.length+1)*(e[11]+1)))&&M(i,"x",s),(!b||10&c&&l!==(l=e[1]/9-e[3][e[11]]+Math.max(...e[3])))&&M(i,"y",l),(!b||4&c)&&T!==(T=e[12].source+"")&&P(d,T),(!b||5&c&&f!==(f=e[0]/(e[2].parents.length+1)*(e[11]+1)))&&M(u,"x",f),(!b||10&c&&h!==(h=e[1]/9-e[3][e[11]]+15+Math.max(...e[3])))&&M(u,"y",h),(!b||15&c&&v!==(v=`M ${e[0]/(e[2].parents.length+1)*(e[11]+1)}, ${e[1]/9-e[3][e[11]]+20+Math.max(...e[3])} C ${e[0]/(e[2].parents.length+1)*(e[11]+1)}, ${e[1]/9-e[3][e[11]]+50+Math.max(...e[3])}  ${e[0]/2}, ${e[1]/2-40}  ${e[0]/2}, ${e[1]/2-10}`))&&M(g,"d",v)},i(e){b||(te((()=>{c||(c=ve(i,lt,{amount:10,duration:999},!0)),c.run(1)})),te((()=>{p||(p=ve(u,lt,{amount:10,duration:999},!0)),p.run(1)})),te((()=>{y||(y=ve(g,ct,{duration:999},!0)),y.run(1)})),b=!0)},o(e){c||(c=ve(i,lt,{amount:10,duration:999},!1)),c.run(0),p||(p=ve(u,lt,{amount:10,duration:999},!1)),p.run(0),y||(y=ve(g,ct,{duration:999},!1)),y.run(0),b=!1},d(e){e&&k(t),e&&c&&c.end(),e&&p&&p.end(),e&&y&&y.end(),x=!1,C()}}}function mo(e){let t,n,o,r,i,a,s,l,c,u,d,f,h,p,g,v,y,b,x,C,E=e[9].name+"",T=e[9].source+"";function L(){return e[7](e[9])}return{c(){t=S("g"),n=S("rect"),i=S("text"),a=_(E),u=S("text"),d=_(T),g=S("path"),M(n,"class","lex"),M(n,"x",o=e[0]/(e[2].children.length+1)*(e[11]+1)-60),M(n,"y",r=e[1]+e[4][e[11]]-e[1]/9-15-Math.max(...e[4])),M(n,"width","120"),M(i,"class","lex-entry"),M(i,"x",s=e[0]/(e[2].children.length+1)*(e[11]+1)),M(i,"y",l=e[1]+e[4][e[11]]-e[1]/9-Math.max(...e[4])),M(i,"text-anchor","middle"),M(i,"dominant-baseline","middle"),M(u,"class","tag-item"),M(u,"x",f=e[0]/(e[2].children.length+1)*(e[11]+1)),M(u,"y",h=e[1]+e[4][e[11]]-e[1]/9+15-Math.max(...e[4])),M(u,"text-anchor","middle"),M(u,"dominant-baseline","middle"),M(g,"d",v=`M ${e[0]/2}, ${e[1]/2+10} C ${e[0]/2}, ${e[1]/2+40}  ${e[0]/(e[2].children.length+1)*(e[11]+1)}, ${e[1]+e[4][e[11]]-e[1]/9-40-Math.max(...e[4])}  ${e[0]/(e[2].children.length+1)*(e[11]+1)}, ${e[1]+e[4][e[11]]-e[1]/9-10-Math.max(...e[4])}`),M(g,"fill","none")},m(e,o){w(e,t,o),m(t,n),m(t,i),m(i,a),m(t,u),m(u,d),m(t,g),b=!0,x||(C=O(t,"mousedown",L),x=!0)},p(t,c){e=t,(!b||5&c&&o!==(o=e[0]/(e[2].children.length+1)*(e[11]+1)-60))&&M(n,"x",o),(!b||18&c&&r!==(r=e[1]+e[4][e[11]]-e[1]/9-15-Math.max(...e[4])))&&M(n,"y",r),(!b||4&c)&&E!==(E=e[9].name+"")&&P(a,E),(!b||5&c&&s!==(s=e[0]/(e[2].children.length+1)*(e[11]+1)))&&M(i,"x",s),(!b||18&c&&l!==(l=e[1]+e[4][e[11]]-e[1]/9-Math.max(...e[4])))&&M(i,"y",l),(!b||4&c)&&T!==(T=e[9].source+"")&&P(d,T),(!b||5&c&&f!==(f=e[0]/(e[2].children.length+1)*(e[11]+1)))&&M(u,"x",f),(!b||18&c&&h!==(h=e[1]+e[4][e[11]]-e[1]/9+15-Math.max(...e[4])))&&M(u,"y",h),(!b||23&c&&v!==(v=`M ${e[0]/2}, ${e[1]/2+10} C ${e[0]/2}, ${e[1]/2+40}  ${e[0]/(e[2].children.length+1)*(e[11]+1)}, ${e[1]+e[4][e[11]]-e[1]/9-40-Math.max(...e[4])}  ${e[0]/(e[2].children.length+1)*(e[11]+1)}, ${e[1]+e[4][e[11]]-e[1]/9-10-Math.max(...e[4])}`))&&M(g,"d",v)},i(e){b||(te((()=>{c||(c=ve(i,lt,{amount:10,duration:999},!0)),c.run(1)})),te((()=>{p||(p=ve(u,lt,{amount:10,duration:999},!0)),p.run(1)})),te((()=>{y||(y=ve(g,ct,{duration:999},!0)),y.run(1)})),b=!0)},o(e){c||(c=ve(i,lt,{amount:10,duration:999},!1)),c.run(0),p||(p=ve(u,lt,{amount:10,duration:999},!1)),p.run(0),y||(y=ve(g,ct,{duration:999},!1)),y.run(0),b=!1},d(e){e&&k(t),e&&c&&c.end(),e&&p&&p.end(),e&&y&&y.end(),x=!1,C()}}}function yo(e){let t,n,o,r,i,a,s,l,c=e[2].name+"",u=e[2].parents,d=[];for(let t=0;t<u.length;t+=1)d[t]=vo(go(e,u,t));const f=e=>pe(d[e],1,1,(()=>{d[e]=null}));let h=e[2].children,p=[];for(let t=0;t<h.length;t+=1)p[t]=mo(po(e,h,t));const g=e=>pe(p[e],1,1,(()=>{p[e]=null}));return{c(){t=S("svg"),n=S("g");for(let e=0;e<d.length;e+=1)d[e].c();o=S("g"),r=S("text"),i=_(c);for(let e=0;e<p.length;e+=1)p[e].c();M(r,"class","lex-entry"),M(r,"x",a=e[0]/2),M(r,"y",s=e[1]/2),M(r,"text-anchor","middle"),M(r,"dominant-baseline","middle"),M(t,"width",e[0]),M(t,"height",e[1])},m(e,a){w(e,t,a),m(t,n);for(let e=0;e<d.length;e+=1)d[e].m(n,null);m(n,o),m(o,r),m(r,i);for(let e=0;e<p.length;e+=1)p[e].m(n,null);l=!0},p(e,[v]){if(47&v){let t;for(u=e[2].parents,t=0;t<u.length;t+=1){const r=go(e,u,t);d[t]?(d[t].p(r,v),he(d[t],1)):(d[t]=vo(r),d[t].c(),he(d[t],1),d[t].m(n,o))}for(de(),t=u.length;t<d.length;t+=1)f(t);fe()}if((!l||4&v)&&c!==(c=e[2].name+"")&&P(i,c),(!l||1&v&&a!==(a=e[0]/2))&&M(r,"x",a),(!l||2&v&&s!==(s=e[1]/2))&&M(r,"y",s),55&v){let t;for(h=e[2].children,t=0;t<h.length;t+=1){const o=po(e,h,t);p[t]?(p[t].p(o,v),he(p[t],1)):(p[t]=mo(o),p[t].c(),he(p[t],1),p[t].m(n,null))}for(de(),t=h.length;t<p.length;t+=1)g(t);fe()}(!l||1&v)&&M(t,"width",e[0]),(!l||2&v)&&M(t,"height",e[1])},i(e){if(!l){for(let e=0;e<u.length;e+=1)he(d[e]);for(let e=0;e<h.length;e+=1)he(p[e]);l=!0}},o(e){d=d.filter(Boolean);for(let e=0;e<d.length;e+=1)pe(d[e]);p=p.filter(Boolean);for(let e=0;e<p.length;e+=1)pe(p[e]);l=!1},d(e){e&&k(t),x(d,e),x(p,e)}}}function bo(e){const t=e.length;if(0===t)return[];const n=[];for(let e=0;e<t;e++){const o=(e+.5)/t,r=1-4*Math.pow(o-.5,2);n.push(Math.round(r*Math.pow(t,2)))}return n}function wo(e,t,n){const o=Y(),r=e=>{o("select",e)};let i,a,{width:s}=t,{height:l}=t,{tree:c}=t;return e.$$set=e=>{"width"in e&&n(0,s=e.width),"height"in e&&n(1,l=e.height),"tree"in e&&n(2,c=e.tree)},e.$$.update=()=>{4&e.$$.dirty&&(n(3,i=bo(c.parents)),n(4,a=bo(c.children)))},[s,l,c,i,a,r,e=>{r(e.name)},e=>{r(e.name)}]}class ko extends Ce{constructor(e){super(),xe(this,e,wo,yo,s,{width:0,height:1,tree:2})}}function xo(e,t,n){const o=e.slice();return o[40]=t[n],o}function Co(e,t,n){const o=e.slice();return o[43]=t[n],o}function So(e,t,n){const o=e.slice();return o[43]=t[n],o}function _o(e,t,n){const o=e.slice();return o[48]=t[n],o}function Eo(e,t,n){const o=e.slice();return o[43]=t[n],o}function To(e,t,n){const o=e.slice();return o[43]=t[n],o}function Oo(e,t,n){const o=e.slice();return o[43]=t[n],o}function Mo(e,t,n){const o=e.slice();return o[43]=t[n],o}function Lo(e){let t;return{c(){t=C("label"),t.textContent="Search…",M(t,"for","search"),A(t,"position","absolute"),A(t,"top","0.333em"),A(t,"left","1em")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function Bo(t){let n;return{c(){n=C("p"),n.textContent="Lexicon entries will appear here.",M(n,"class","info")},m(e,t){w(e,n,t)},p:e,d(e){e&&k(n)}}}function Io(e){let t,n,o,r,i,a=e[43]+"";function s(){return e[19](e[43])}return{c(){t=C("div"),n=_(a),o=E(),M(t,"class","lex-entry"),$(t,"selected",e[43]===e[0])},m(e,a){w(e,t,a),m(t,n),m(t,o),r||(i=O(t,"mousedown",s),r=!0)},p(o,r){e=o,64&r[0]&&a!==(a=e[43]+"")&&P(n,a),65&r[0]&&$(t,"selected",e[43]===e[0])},d(e){e&&k(t),r=!1,i()}}}function Po(t){let n;return{c(){n=C("p"),n.textContent="External-source etymology entries will appear here.",M(n,"class","info")},m(e,t){w(e,n,t)},p:e,d(e){e&&k(n)}}}function Ro(e){let t,n,o,r,i,a=e[43]+"";function s(){return e[20](e[43])}return{c(){t=C("div"),n=_(a),o=E(),M(t,"class","lex-entry"),$(t,"selected",e[43]===e[0])},m(e,a){w(e,t,a),m(t,n),m(t,o),r||(i=O(t,"mousedown",s),r=!0)},p(o,r){e=o,128&r[0]&&a!==(a=e[43]+"")&&P(n,a),129&r[0]&&$(t,"selected",e[43]===e[0])},d(e){e&&k(t),r=!1,i()}}}function Ao(t){let n;return{c(){n=C("p"),n.textContent="Select an entry from the left to view and edit its etymology.",M(n,"class","info")},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}function jo(e){let t,n,o,r,i,a,s;t=new ko({props:{tree:e[9],width:e[10],height:e[11]}}),t.$on("select",e[21]);const l=[$o,No],c=[];function u(e,t){return 3&t[0]&&(o=null),e[0]in e[1].Lexicon?0:(null==o&&(o=!!Object.entries(e[1].Relatives).some(e[17])),o?1:-1)}return~(r=u(e,[-1,-1]))&&(i=c[r]=l[r](e)),{c(){ye(t.$$.fragment),n=E(),i&&i.c(),a=T()},m(e,o){be(t,e,o),w(e,n,o),~r&&c[r].m(e,o),w(e,a,o),s=!0},p(e,n){const o={};512&n[0]&&(o.tree=e[9]),1024&n[0]&&(o.width=e[10]),2048&n[0]&&(o.height=e[11]),t.$set(o);let s=r;r=u(e,n),r===s?~r&&c[r].p(e,n):(i&&(de(),pe(c[s],1,1,(()=>{c[s]=null})),fe()),~r?(i=c[r],i?i.p(e,n):(i=c[r]=l[r](e),i.c()),he(i,1),i.m(a.parentNode,a)):i=null)},i(e){s||(he(t.$$.fragment,e),he(i),s=!0)},o(e){pe(t.$$.fragment,e),pe(i),s=!1},d(e){we(t,e),e&&k(n),~r&&c[r].d(e),e&&k(a)}}}function No(e){let t,n;return t=new Rn({props:{word:e[0],source:e[1].Relatives[Object.entries(e[1].Relatives).find(e[22])[0]][e[0]],showEtymology:!1}}),{c(){ye(t.$$.fragment)},m(e,o){be(t,e,o),n=!0},p(e,n){const o={};1&n[0]&&(o.word=e[0]),3&n[0]&&(o.source=e[1].Relatives[Object.entries(e[1].Relatives).find(e[22])[0]][e[0]]),t.$set(o)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function $o(e){let t,n;return t=new Rn({props:{word:e[0],source:e[1].Lexicon[e[0]],showEtymology:!1}}),{c(){ye(t.$$.fragment)},m(e,o){be(t,e,o),n=!0},p(e,n){const o={};1&n[0]&&(o.word=e[0]),3&n[0]&&(o.source=e[1].Lexicon[e[0]]),t.$set(o)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function Do(t){let n,o,r;return{c(){n=C("button"),n.textContent="Delete Empty Etymology",M(n,"class","hover-highlight hover-shadow")},m(e,i){w(e,n,i),o||(r=O(n,"click",t[23]),o=!0)},p:e,d(e){e&&k(n),o=!1,r()}}}function Fo(e){let t,n,o,r,a,s,l,c,u;return{c(){t=C("label"),n=_("New Ancestor\n                                "),o=C("input"),r=E(),a=C("label"),s=_("Source Language\n                                "),l=C("input"),M(o,"type","text"),M(l,"type","text")},m(i,d){w(i,t,d),m(t,n),m(t,o),R(o,e[2][0]),w(i,r,d),w(i,a,d),m(a,s),m(a,l),R(l,e[2][1]),c||(u=[O(o,"input",e[27]),O(l,"input",e[28])],c=!0)},p(e,t){196&t[0]&&o.value!==e[2][0]&&R(o,e[2][0]),196&t[0]&&l.value!==e[2][1]&&R(l,e[2][1])},d(e){e&&k(t),e&&k(r),e&&k(a),c=!1,i(u)}}}function Ho(e){let t,n,o,r,a,s=e[6],l=[];for(let t=0;t<s.length;t+=1)l[t]=zo(To(e,s,t));let c=e[7],u=[];for(let t=0;t<c.length;t+=1)u[t]=Uo(Eo(e,c,t));return{c(){t=C("select"),n=C("optgroup");for(let e=0;e<l.length;e+=1)l[e].c();o=C("optgroup");for(let e=0;e<u.length;e+=1)u[e].c();M(n,"label","Internal"),M(o,"label","External"),void 0===e[2][0]&&te((()=>e[25].call(t)))},m(i,s){w(i,t,s),m(t,n);for(let e=0;e<l.length;e+=1)l[e].m(n,null);m(t,o);for(let e=0;e<u.length;e+=1)u[e].m(o,null);j(t,e[2][0]),r||(a=[O(t,"change",e[25]),O(t,"change",e[26])],r=!0)},p(e,r){if(64&r[0]){let t;for(s=e[6],t=0;t<s.length;t+=1){const o=To(e,s,t);l[t]?l[t].p(o,r):(l[t]=zo(o),l[t].c(),l[t].m(n,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=s.length}if(128&r[0]){let t;for(c=e[7],t=0;t<c.length;t+=1){const n=Eo(e,c,t);u[t]?u[t].p(n,r):(u[t]=Uo(n),u[t].c(),u[t].m(o,null))}for(;t<u.length;t+=1)u[t].d(1);u.length=c.length}196&r[0]&&j(t,e[2][0])},d(e){e&&k(t),x(l,e),x(u,e),r=!1,i(a)}}}function zo(e){let t,n,o,r=e[43]+"";return{c(){t=C("option"),n=_(r),t.__value=o=e[43],t.value=t.__value},m(e,o){w(e,t,o),m(t,n)},p(e,i){64&i[0]&&r!==(r=e[43]+"")&&P(n,r),64&i[0]&&o!==(o=e[43])&&(t.__value=o,t.value=t.__value)},d(e){e&&k(t)}}}function Uo(e){let t,n,o,r=e[43]+"";return{c(){t=C("option"),n=_(r),t.__value=o=e[43],t.value=t.__value},m(e,o){w(e,t,o),m(t,n)},p(e,i){128&i[0]&&r!==(r=e[43]+"")&&P(n,r),128&i[0]&&o!==(o=e[43])&&(t.__value=o,t.value=t.__value)},d(e){e&&k(t)}}}function Wo(t){let n;return{c(){n=C("p"),n.textContent="This entry has no ancestors.",M(n,"class","info")},m(e,t){w(e,n,t)},p:e,d(e){e&&k(n)}}}function Vo(e){let t,n,o,r,i,a,s,l,c,u,d,f,h,p=e[48].name+"",g=e[48].source+"";function v(){return e[30](e[48])}return{c(){t=C("div"),n=C("div"),o=C("p"),r=_(p),i=E(),a=C("p"),s=_(g),l=E(),c=C("div"),u=C("button"),u.textContent="Sever",d=E(),M(o,"class","lex-body"),M(a,"class","tag-item"),M(n,"class","column"),M(u,"class","hover-highlight hover-shadow"),M(c,"class","column"),M(t,"class","row")},m(e,p){w(e,t,p),m(t,n),m(n,o),m(o,r),m(n,i),m(n,a),m(a,s),m(t,l),m(t,c),m(c,u),m(t,d),f||(h=O(u,"click",v),f=!0)},p(t,n){e=t,512&n[0]&&p!==(p=e[48].name+"")&&P(r,p),512&n[0]&&g!==(g=e[48].source+"")&&P(s,g)},d(e){e&&k(t),f=!1,h()}}}function Go(e){let t,n,o,r,a,s,l,c,u;return{c(){t=C("label"),n=_("New Descendant\n                                "),o=C("input"),r=E(),a=C("label"),s=_("Source Language\n                                "),l=C("input"),M(o,"type","text"),M(l,"type","text")},m(i,d){w(i,t,d),m(t,n),m(t,o),R(o,e[3][0]),w(i,r,d),w(i,a,d),m(a,s),m(a,l),R(l,e[3][1]),c||(u=[O(o,"input",e[34]),O(l,"input",e[35])],c=!0)},p(e,t){200&t[0]&&o.value!==e[3][0]&&R(o,e[3][0]),200&t[0]&&l.value!==e[3][1]&&R(l,e[3][1])},d(e){e&&k(t),e&&k(r),e&&k(a),c=!1,i(u)}}}function qo(e){let t,n,o,r,a,s=e[6],l=[];for(let t=0;t<s.length;t+=1)l[t]=Yo(So(e,s,t));let c=e[7],u=[];for(let t=0;t<c.length;t+=1)u[t]=Xo(Co(e,c,t));return{c(){t=C("select"),n=C("optgroup");for(let e=0;e<l.length;e+=1)l[e].c();o=C("optgroup");for(let e=0;e<u.length;e+=1)u[e].c();M(n,"label","Internal"),M(o,"label","External"),void 0===e[3][0]&&te((()=>e[32].call(t)))},m(i,s){w(i,t,s),m(t,n);for(let e=0;e<l.length;e+=1)l[e].m(n,null);m(t,o);for(let e=0;e<u.length;e+=1)u[e].m(o,null);j(t,e[3][0]),r||(a=[O(t,"change",e[32]),O(t,"change",e[33])],r=!0)},p(e,r){if(64&r[0]){let t;for(s=e[6],t=0;t<s.length;t+=1){const o=So(e,s,t);l[t]?l[t].p(o,r):(l[t]=Yo(o),l[t].c(),l[t].m(n,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=s.length}if(128&r[0]){let t;for(c=e[7],t=0;t<c.length;t+=1){const n=Co(e,c,t);u[t]?u[t].p(n,r):(u[t]=Xo(n),u[t].c(),u[t].m(o,null))}for(;t<u.length;t+=1)u[t].d(1);u.length=c.length}200&r[0]&&j(t,e[3][0])},d(e){e&&k(t),x(l,e),x(u,e),r=!1,i(a)}}}function Yo(e){let t,n,o,r=e[43]+"";return{c(){t=C("option"),n=_(r),t.__value=o=e[43],t.value=t.__value},m(e,o){w(e,t,o),m(t,n)},p(e,i){64&i[0]&&r!==(r=e[43]+"")&&P(n,r),64&i[0]&&o!==(o=e[43])&&(t.__value=o,t.value=t.__value)},d(e){e&&k(t)}}}function Xo(e){let t,n,o,r=e[43]+"";return{c(){t=C("option"),n=_(r),t.__value=o=e[43],t.value=t.__value},m(e,o){w(e,t,o),m(t,n)},p(e,i){128&i[0]&&r!==(r=e[43]+"")&&P(n,r),128&i[0]&&o!==(o=e[43])&&(t.__value=o,t.value=t.__value)},d(e){e&&k(t)}}}function Ko(e){let t,n=e[38]()+"";return{c(){t=_(n)},m(e,n){w(e,t,n)},p(e,o){512&o[0]&&n!==(n=e[38]()+"")&&P(t,n)},d(e){e&&k(t)}}}function Zo(e){let t,n=e[9].children,o=[];for(let t=0;t<n.length;t+=1)o[t]=Qo(xo(e,n,t));let r=null;return n.length||(r=Jo()),{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=T(),r&&r.c()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);w(e,t,n),r&&r.m(e,n)},p(e,i){if(515&i[0]){let a;for(n=e[9].children,a=0;a<n.length;a+=1){const r=xo(e,n,a);o[a]?o[a].p(r,i):(o[a]=Qo(r),o[a].c(),o[a].m(t.parentNode,t))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length,!n.length&&r?r.p(e,i):n.length?r&&(r.d(1),r=null):(r=Jo(),r.c(),r.m(t.parentNode,t))}},d(e){x(o,e),e&&k(t),r&&r.d(e)}}}function Jo(t){let n;return{c(){n=C("p"),n.textContent="This entry has no descendants.",M(n,"class","info")},m(e,t){w(e,n,t)},p:e,d(e){e&&k(n)}}}function Qo(e){let t,n,o,r,i,a,s,l,c,u,d,f,h,p=e[40].name+"",g=e[40].source+"";function v(){return e[37](e[40])}return{c(){t=C("div"),n=C("div"),o=C("p"),r=_(p),i=E(),a=C("p"),s=_(g),l=E(),c=C("div"),u=C("button"),u.textContent="Sever",d=E(),M(o,"class","lex-body"),M(a,"class","tag-item"),M(n,"class","column"),M(u,"class","hover-highlight hover-shadow"),M(c,"class","column"),M(t,"class","row")},m(e,p){w(e,t,p),m(t,n),m(n,o),m(o,r),m(n,i),m(n,a),m(a,s),m(t,l),m(t,c),m(c,u),m(t,d),f||(h=O(u,"click",v),f=!0)},p(t,n){e=t,512&n[0]&&p!==(p=e[40].name+"")&&P(r,p),512&n[0]&&g!==(g=e[40].source+"")&&P(s,g)},d(e){e&&k(t),f=!1,h()}}}function er(e){let t,n,o,r,a,s,l,c,u,d,f,h,p,g,v,y,b,S,T,L,B,I,P,j,N,$,D,F,H,z,U,W,V,G,q,Y,X,K,Z,J,Q,ee,te,ne,oe,re,ie,ae,se,le,ce,ue,ge,ve,me,ye,be=!e[8]&&Lo(),we=e[6],ke=[];for(let t=0;t<we.length;t+=1)ke[t]=Io(Mo(e,we,t));let xe=null;we.length||(xe=Bo());let Ce=e[7],Se=[];for(let t=0;t<Ce.length;t+=1)Se[t]=Ro(Oo(e,Ce,t));let _e=null;Ce.length||(_e=Po());const Ee=[jo,Ao],Te=[];function Oe(e,t){return e[0]?0:1}j=Oe(e),N=Te[j]=Ee[j](e);let Me=!(e[9]?.parents&&e[9].parents[0])&&!(e[9]?.children&&e[9].children[0])&&!!e[0]&&Do(e);function Le(e,t){return e[4]?Fo:Ho}let Be=Le(e),Ie=Be(e),Pe=e[9].parents,Re=[];for(let t=0;t<Pe.length;t+=1)Re[t]=Vo(_o(e,Pe,t));let Ae=null;function je(e,t){return e[5]?Go:qo}Pe.length||(Ae=Wo());let Ne=je(e),$e=Ne(e);function De(e,t){return e[9]?Zo:Ko}let Fe=De(e),He=Fe(e);return{c(){t=C("div"),n=C("div"),o=C("div"),r=C("p"),r.textContent="Entries",a=E(),s=C("hr"),l=E(),c=C("div"),be&&be.c(),u=E(),d=C("input"),f=E(),h=C("p"),h.innerHTML="⦓ <i>Internal</i> ⦔",p=E(),g=C("div");for(let e=0;e<ke.length;e+=1)ke[e].c();xe&&xe.c(),v=E(),y=C("br"),b=E(),S=C("p"),S.innerHTML="⦔ <i>External</i> ⦓",T=E(),L=C("div");for(let e=0;e<Se.length;e+=1)Se[e].c();_e&&_e.c(),B=E(),I=C("div"),P=C("div"),N.c(),$=E(),D=C("hr"),F=E(),Me&&Me.c(),H=E(),z=C("div"),U=C("div"),W=C("p"),W.textContent="Ancestors",V=E(),G=C("label"),q=_("Manual Entry\n                            "),Y=C("input"),X=E(),Ie.c(),K=E(),Z=C("button"),Z.textContent="Link",J=E(),Q=C("div");for(let e=0;e<Re.length;e+=1)Re[e].c();Ae&&Ae.c(),ee=E(),te=C("div"),ne=C("p"),ne.textContent="Descendants",oe=E(),re=C("label"),ie=_("Manual Entry\n                            "),ae=C("input"),se=E(),$e.c(),le=E(),ce=C("button"),ce.textContent="Link",ue=E(),ge=C("div"),He.c(),M(d,"id","search"),M(d,"type","text"),M(d,"class","search"),A(d,"margin","auto"),A(d,"width","90%"),M(c,"class","search-container"),M(g,"class","column scrolled"),A(g,"max-height","40%"),M(L,"class","column scrolled"),A(L,"max-height","40%"),M(o,"class","container column"),A(o,"max-width","18%"),M(Y,"type","checkbox"),M(Z,"class","hover-highlight hover-shadow"),M(Q,"class","column scrolled"),M(U,"class","column"),M(ae,"type","checkbox"),M(ce,"class","hover-highlight hover-shadow"),M(ge,"class","column scrolled"),M(te,"class","column"),M(z,"class","row"),M(P,"class","scrolled"),A(P,"max-height","100%"),M(I,"class","container column"),A(I,"height","94vh"),M(n,"class","row"),A(n,"height","94vh"),M(t,"class","tab-pane")},m(i,k){w(i,t,k),m(t,n),m(n,o),m(o,r),m(o,a),m(o,s),m(o,l),m(o,c),be&&be.m(c,null),m(c,u),m(c,d),R(d,e[8]),m(o,f),m(o,h),m(o,p),m(o,g);for(let e=0;e<ke.length;e+=1)ke[e].m(g,null);xe&&xe.m(g,null),m(o,v),m(o,y),m(o,b),m(o,S),m(o,T),m(o,L);for(let e=0;e<Se.length;e+=1)Se[e].m(L,null);_e&&_e.m(L,null),m(n,B),m(n,I),m(I,P),Te[j].m(P,null),m(P,$),m(P,D),m(P,F),Me&&Me.m(P,null),m(P,H),m(P,z),m(z,U),m(U,W),m(U,V),m(U,G),m(G,q),m(G,Y),Y.checked=e[4],m(U,X),Ie.m(U,null),m(U,K),m(U,Z),m(U,J),m(U,Q);for(let e=0;e<Re.length;e+=1)Re[e].m(Q,null);Ae&&Ae.m(Q,null),m(z,ee),m(z,te),m(te,ne),m(te,oe),m(te,re),m(re,ie),m(re,ae),ae.checked=e[5],m(te,se),$e.m(te,null),m(te,le),m(te,ce),m(te,ue),m(te,ge),He.m(ge,null),ve=!0,me||(ye=[O(d,"input",e[18]),O(d,"input",e[12]),O(Y,"change",e[24]),O(Z,"click",e[29]),O(ae,"change",e[31]),O(ce,"click",e[36])],me=!0)},p(e,t){if(e[8]?be&&(be.d(1),be=null):be||(be=Lo(),be.c(),be.m(c,u)),256&t[0]&&d.value!==e[8]&&R(d,e[8]),67&t[0]){let n;for(we=e[6],n=0;n<we.length;n+=1){const o=Mo(e,we,n);ke[n]?ke[n].p(o,t):(ke[n]=Io(o),ke[n].c(),ke[n].m(g,null))}for(;n<ke.length;n+=1)ke[n].d(1);ke.length=we.length,!we.length&&xe?xe.p(e,t):we.length?xe&&(xe.d(1),xe=null):(xe=Bo(),xe.c(),xe.m(g,null))}if(129&t[0]){let n;for(Ce=e[7],n=0;n<Ce.length;n+=1){const o=Oo(e,Ce,n);Se[n]?Se[n].p(o,t):(Se[n]=Ro(o),Se[n].c(),Se[n].m(L,null))}for(;n<Se.length;n+=1)Se[n].d(1);Se.length=Ce.length,!Ce.length&&_e?_e.p(e,t):Ce.length?_e&&(_e.d(1),_e=null):(_e=Po(),_e.c(),_e.m(L,null))}let n=j;if(j=Oe(e),j===n?Te[j].p(e,t):(de(),pe(Te[n],1,1,(()=>{Te[n]=null})),fe(),N=Te[j],N?N.p(e,t):(N=Te[j]=Ee[j](e),N.c()),he(N,1),N.m(P,$)),e[9]?.parents&&e[9].parents[0]||e[9]?.children&&e[9].children[0]||!e[0]?Me&&(Me.d(1),Me=null):Me?Me.p(e,t):(Me=Do(e),Me.c(),Me.m(P,H)),16&t[0]&&(Y.checked=e[4]),Be===(Be=Le(e))&&Ie?Ie.p(e,t):(Ie.d(1),Ie=Be(e),Ie&&(Ie.c(),Ie.m(U,K))),515&t[0]){let n;for(Pe=e[9].parents,n=0;n<Pe.length;n+=1){const o=_o(e,Pe,n);Re[n]?Re[n].p(o,t):(Re[n]=Vo(o),Re[n].c(),Re[n].m(Q,null))}for(;n<Re.length;n+=1)Re[n].d(1);Re.length=Pe.length,!Pe.length&&Ae?Ae.p(e,t):Pe.length?Ae&&(Ae.d(1),Ae=null):(Ae=Wo(),Ae.c(),Ae.m(Q,null))}32&t[0]&&(ae.checked=e[5]),Ne===(Ne=je(e))&&$e?$e.p(e,t):($e.d(1),$e=Ne(e),$e&&($e.c(),$e.m(te,le))),Fe===(Fe=De(e))&&He?He.p(e,t):(He.d(1),He=Fe(e),He&&(He.c(),He.m(ge,null)))},i(e){ve||(he(N),ve=!0)},o(e){pe(N),ve=!1},d(e){e&&k(t),be&&be.d(),x(ke,e),xe&&xe.d(),x(Se,e),_e&&_e.d(),Te[j].d(),Me&&Me.d(),Ie.d(),x(Re,e),Ae&&Ae.d(),$e.d(),He.d(),me=!1,i(ye)}}}function tr(e,t,n){let o,r;u(e,We,(e=>n(16,o=e))),u(e,Be,(e=>n(1,r=e)));let i,a,s,l,c,f,h,p=["",""],g=["",""],v=!1,m=!1,y="",b=[],w="";return e.$$.update=()=>{8194&e.$$.dirty[0]&&n(14,i=b.reduce(((e,t)=>(t in r.Lexicon&&(e[t]=r.Lexicon[t]),e)),{})),24578&e.$$.dirty[0]&&(r.Alphabet,n(6,a=Qe(b.length?i:r.Lexicon))),40962&e.$$.dirty[0]&&(r.Alphabet,r.Relatives,r.Etymologies,(()=>{const e={};Object.keys(r.Relatives).forEach((t=>{Object.keys(r.Relatives[t]).forEach((n=>{n in r.Lexicon||(e[n]=r.Relatives[t][n])}))})),Object.keys(r.Etymologies).forEach((t=>{t in r.Lexicon||(e[t]={Senses:[],pronunciations:{}})})),n(15,l=b.reduce(((t,n)=>(n in e&&(t[n]=e[n]),t)),{})),n(7,s=Qe(b.length?l:e))})()),65537&e.$$.dirty[0]&&(n(9,c=function(){const e=[];Object.keys(r.Etymologies).forEach((t=>{if(t!==y&&r.Etymologies[t].descendants.some((e=>e.name===y))){const n="<< THIS LANGUAGE >>"===r.Etymologies[t].source?r.Name:r.Etymologies[t].source;e.push([t,n])}}));const t=[];return y in r.Etymologies&&r.Etymologies[y].descendants.forEach((e=>{t.push([e.name,"<< THIS LANGUAGE >>"===e.source?r.Name:e.source])})),{name:y,children:t.map((e=>({name:e[0],source:e[1]}))),parents:e.map((e=>({name:e[0],source:e[1]})))}}()),n(10,f=.82*window.innerWidth*(o?.66:1)),n(11,h=.47*window.innerHeight))},[y,r,p,g,v,m,a,s,w,c,f,h,function(){let e={};for(const t in r.Relatives)e={...e,...r.Relatives[t]};e={...e,...r.Lexicon},n(13,b=Object.keys(e).filter((e=>{let t,n;return t=r.CaseSensitive?e:e.toLowerCase(),t=r.IgnoreDiacritics?e.normalize("NFD"):e,n=r.CaseSensitive?w:w.toLowerCase(),n=r.IgnoreDiacritics?n.normalize("NFD"):n,`^${t.replaceAll(/\s+/g,"^")}^`.includes(n)})))},b,i,l,o,([e,t])=>Object.keys(t).includes(y),function(){w=this.value,n(8,w)},e=>{n(0,y=e),e in r.Etymologies||d(Be,r.Etymologies[e]={descendants:[],source:"<< THIS LANGUAGE >>"},r)},e=>{n(0,y=e)},e=>n(0,y=e.detail),([e,t])=>Object.keys(t).includes(y),()=>{const{[y]:e,...t}=r.Etymologies;d(Be,r.Etymologies=t,r),n(0,y="")},function(){v=this.checked,n(4,v)},function(){p[0]=N(this),n(2,p),n(7,s),n(1,r),n(13,b),n(15,l),n(6,a),n(1,r),n(13,b),n(14,i)},()=>n(2,p[1]=r.Name,p),function(){p[0]=this.value,n(2,p),n(7,s),n(1,r),n(13,b),n(15,l),n(6,a),n(1,r),n(13,b),n(14,i)},function(){p[1]=this.value,n(2,p),n(7,s),n(1,r),n(13,b),n(15,l),n(6,a),n(1,r),n(13,b),n(14,i)},()=>{p[0]&&(p[0]in r.Etymologies||d(Be,r.Etymologies[p[0]]={source:p[1]===r.Name?"<< THIS LANGUAGE >>":p[1],descendants:[]},r),r.Etymologies[p[0]].descendants.push({name:y,source:r.Etymologies[y].source}),d(Be,r.Etymologies={...r.Etymologies},r),n(2,p=["",""]))},e=>{d(Be,r.Etymologies[e.name].descendants=r.Etymologies[e.name].descendants.filter((e=>e.name!==y)),r),d(Be,r.Etymologies={...r.Etymologies},r)},function(){m=this.checked,n(5,m)},function(){g[0]=N(this),n(3,g),n(7,s),n(1,r),n(13,b),n(15,l),n(6,a),n(1,r),n(13,b),n(14,i)},()=>n(3,g[1]=r.Name,g),function(){g[0]=this.value,n(3,g),n(7,s),n(1,r),n(13,b),n(15,l),n(6,a),n(1,r),n(13,b),n(14,i)},function(){g[1]=this.value,n(3,g),n(7,s),n(1,r),n(13,b),n(15,l),n(6,a),n(1,r),n(13,b),n(14,i)},()=>{g[0]&&(g[0]in r.Etymologies||d(Be,r.Etymologies[g[0]]={source:g[1],descendants:[]},r),r.Etymologies[y].descendants.push({name:g[0],source:g[1]===r.Name?"<< THIS LANGUAGE >>":g[1]}),d(Be,r.Etymologies={...r.Etymologies},r),n(3,g=["",""]))},e=>{d(Be,r.Etymologies[y].descendants=r.Etymologies[y].descendants.filter((t=>t.name!==e.name)),r),d(Be,r.Etymologies={...r.Etymologies},r)},()=>(console.log(c),"")]}class nr extends Ce{constructor(e){super(),xe(this,e,tr,er,s,{},null,[-1,-1])}}function or(e,t,n){const o=e.slice();return o[11]=t[n],o[13]=n,o}function rr(e,t,n){const o=e.slice();return o[14]=t[n],o}function ir(e,t,n){const o=e.slice();return o[17]=t[n],o}function ar(e){let t,n=e[2]().Phrasebook[e[3]()][e[0]].tags,o=[];for(let t=0;t<n.length;t+=1)o[t]=sr(ir(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=T()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);w(e,t,n)},p(e,r){if(13&r){let i;for(n=e[2]().Phrasebook[e[3]()][e[0]].tags,i=0;i<n.length;i+=1){const a=ir(e,n,i);o[i]?o[i].p(a,r):(o[i]=sr(a),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){x(o,e),e&&k(t)}}}function sr(e){let t,n,o=e[17]+"";return{c(){t=C("div"),n=_(o),M(t,"class","tag-item")},m(e,o){w(e,t,o),m(t,n)},p(e,t){1&t&&o!==(o=e[17]+"")&&P(n,o)},d(e){e&&k(t)}}}function lr(e){let t,n,o,r,i=Array(Math.ceil(Object.keys(e[2]().Phrasebook[e[3]()][e[0]].variants).length/3)),a=[];for(let t=0;t<i.length;t+=1)a[t]=ur(or(e,i,t));const s=e=>pe(a[e],1,1,(()=>{a[e]=null}));return{c(){t=C("p"),t.textContent="⋲ ᴠᴀʀɪᴀɴᴛꜱ ⋺",n=E();for(let e=0;e<a.length;e+=1)a[e].c();o=T()},m(e,i){w(e,t,i),w(e,n,i);for(let t=0;t<a.length;t+=1)a[t].m(e,i);w(e,o,i),r=!0},p(e,t){if(13&t){let n;for(i=Array(Math.ceil(Object.keys(e[2]().Phrasebook[e[3]()][e[0]].variants).length/3)),n=0;n<i.length;n+=1){const r=or(e,i,n);a[n]?(a[n].p(r,t),he(a[n],1)):(a[n]=ur(r),a[n].c(),he(a[n],1),a[n].m(o.parentNode,o))}for(de(),n=i.length;n<a.length;n+=1)s(n);fe()}},i(e){if(!r){for(let e=0;e<i.length;e+=1)he(a[e]);r=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)pe(a[e]);r=!1},d(e){e&&k(t),e&&k(n),x(a,e),e&&k(o)}}}function cr(e){let t,n,o,r,i,a,s,l,c=e[14]+"",u=mn(e[2]().Phrasebook[e[3]()][e[0]].variants[e[14]].description)+"";return i=new vt({props:{pronunciations:e[2]().Phrasebook[e[3]()][e[0]].variants[e[14]].pronunciations}}),{c(){t=C("div"),n=C("p"),o=_(c),r=E(),ye(i.$$.fragment),a=E(),s=C("p"),A(n,"font-style","italic"),M(s,"class","prelined"),A(s,"margin","0 1rem 0.5rem 1rem"),M(t,"class","column")},m(e,c){w(e,t,c),m(t,n),m(n,o),m(t,r),be(i,t,null),m(t,a),m(t,s),s.innerHTML=u,l=!0},p(e,t){(!l||1&t)&&c!==(c=e[14]+"")&&P(o,c);const n={};1&t&&(n.pronunciations=e[2]().Phrasebook[e[3]()][e[0]].variants[e[14]].pronunciations),i.$set(n),(!l||1&t)&&u!==(u=mn(e[2]().Phrasebook[e[3]()][e[0]].variants[e[14]].description)+"")&&(s.innerHTML=u)},i(e){l||(he(i.$$.fragment,e),l=!0)},o(e){pe(i.$$.fragment,e),l=!1},d(e){e&&k(t),we(i)}}}function ur(e){let t,n,o,r,i,a=Object.keys(e[2]().Phrasebook[e[3]()][e[0]].variants).slice(3*e[13],3*e[13]+3),s=[];for(let t=0;t<a.length;t+=1)s[t]=cr(rr(e,a,t));const l=e=>pe(s[e],1,1,(()=>{s[e]=null}));return{c(){t=C("div");for(let e=0;e<s.length;e+=1)s[e].c();n=E(),o=C("br"),r=E(),M(t,"class","row")},m(e,a){w(e,t,a);for(let e=0;e<s.length;e+=1)s[e].m(t,null);m(t,n),m(t,o),m(t,r),i=!0},p(e,o){if(13&o){let r;for(a=Object.keys(e[2]().Phrasebook[e[3]()][e[0]].variants).slice(3*e[13],3*e[13]+3),r=0;r<a.length;r+=1){const i=rr(e,a,r);s[r]?(s[r].p(i,o),he(s[r],1)):(s[r]=cr(i),s[r].c(),he(s[r],1),s[r].m(t,n))}for(de(),r=a.length;r<s.length;r+=1)l(r);fe()}},i(e){if(!i){for(let e=0;e<a.length;e+=1)he(s[e]);i=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)pe(s[e]);i=!1},d(e){e&&k(t),x(s,e)}}}function dr(e){let t,n,o,r,i,a,s,l,c,u,d,f,h=!!e[2]().Phrasebook[e[3]()][e[0]].tags[0],p=mn(e[2]().Phrasebook[e[3]()][e[0]].description)+"",g=!!Object.keys(e[2]().Phrasebook[e[3]()][e[0]].variants).length;i=new vt({props:{pronunciations:e[2]().Phrasebook[e[3]()][e[0]].pronunciations}});let v=h&&ar(e),y=g&&lr(e);return{c(){t=C("div"),n=C("p"),o=_(e[0]),r=E(),ye(i.$$.fragment),a=E(),v&&v.c(),s=E(),l=C("p"),c=E(),y&&y.c(),A(n,"font-style","italic"),M(l,"class","prelined"),M(t,"class","lex-entry"),M(t,"id",e[0])},m(h,g){w(h,t,g),m(t,n),m(n,o),m(t,r),be(i,t,null),m(t,a),v&&v.m(t,null),m(t,s),m(t,l),l.innerHTML=p,m(t,c),y&&y.m(t,null),u=!0,d||(f=O(t,"contextmenu",e[1]),d=!0)},p(e,[n]){(!u||1&n)&&P(o,e[0]);const r={};1&n&&(r.pronunciations=e[2]().Phrasebook[e[3]()][e[0]].pronunciations),i.$set(r),1&n&&(h=!!e[2]().Phrasebook[e[3]()][e[0]].tags[0]),h?v?v.p(e,n):(v=ar(e),v.c(),v.m(t,s)):v&&(v.d(1),v=null),(!u||1&n)&&p!==(p=mn(e[2]().Phrasebook[e[3]()][e[0]].description)+"")&&(l.innerHTML=p),1&n&&(g=!!Object.keys(e[2]().Phrasebook[e[3]()][e[0]].variants).length),g?y?(y.p(e,n),1&n&&he(y,1)):(y=lr(e),y.c(),he(y,1),y.m(t,null)):y&&(de(),pe(y,1,1,(()=>{y=null})),fe()),(!u||1&n)&&M(t,"id",e[0])},i(e){u||(he(i.$$.fragment,e),he(y),u=!0)},o(e){pe(i.$$.fragment,e),pe(y),u=!1},d(e){e&&k(t),we(i),v&&v.d(),y&&y.d(),d=!1,f()}}}function fr(e,t,n){let o,r,i;u(e,$e,(e=>n(8,o=e))),u(e,Be,(e=>n(9,r=e))),u(e,We,(e=>n(6,i=e)));const a=Y();let{phrase:s=""}=t,l=i,{reference:c=!1}=t,{refCat:d=""}=t;return e.$$set=e=>{"phrase"in e&&n(0,s=e.phrase),"reference"in e&&n(4,c=e.reference),"refCat"in e&&n(5,d=e.refCat)},e.$$.update=()=>{64&e.$$.dirty&&(l=i)},[s,()=>a("edit"),()=>c?l:r,()=>c?d:o,c,d,i]}class hr extends Ce{constructor(e){super(),xe(this,e,fr,dr,s,{phrase:0,reference:4,refCat:5})}}function pr(e,t,n){const o=e.slice();return o[11]=t[n],o[12]=t,o[13]=n,o}function gr(e){let t,n,o;return{c(){t=C("input"),M(t,"type","text"),M(t,"class","pronunciation")},m(r,i){w(r,t,i),R(t,e[2].General),n||(o=O(t,"input",e[8]),n=!0)},p(e,n){4&n&&t.value!==e[2].General&&R(t,e[2].General)},d(e){e&&k(t),n=!1,o()}}}function vr(e){let t,n=e[3],o=[];for(let t=0;t<n.length;t+=1)o[t]=mr(pr(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=T()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);w(e,t,n)},p(e,r){if(12&r){let i;for(n=e[3],i=0;i<n.length;i+=1){const a=pr(e,n,i);o[i]?o[i].p(a,r):(o[i]=mr(a),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){x(o,e),e&&k(t)}}}function mr(e){let t,n,o,r,i,a,s,l,c,u=e[11]+"";function d(){e[7].call(a,e[11])}return{c(){t=C("div"),n=C("div"),o=_(u),r=E(),i=C("div"),a=C("input"),s=E(),M(n,"class","column text-right lect"),M(a,"type","text"),M(a,"class","pronunciation text-left"),M(i,"class","column text-left"),M(t,"class","row")},m(u,f){w(u,t,f),m(t,n),m(n,o),m(t,r),m(t,i),m(i,a),R(a,e[2][e[11]]),m(t,s),l||(c=O(a,"input",d),l=!0)},p(t,n){e=t,8&n&&u!==(u=e[11]+"")&&P(o,u),12&n&&a.value!==e[2][e[11]]&&R(a,e[2][e[11]])},d(e){e&&k(t),l=!1,c()}}}function yr(t){let n,o,r,a,s,l,c,u,d;function f(e,t){return e[4].UseLects?vr:gr}let h=f(t),p=h(t);return{c(){n=C("div"),o=C("input"),r=E(),p.c(),a=E(),s=C("textarea"),l=E(),c=C("br"),M(o,"type","text"),M(n,"class","variant-div")},m(e,i){w(e,n,i),m(n,o),R(o,t[0]),m(n,r),p.m(n,null),m(n,a),m(n,s),R(s,t[1]),m(n,l),m(n,c),u||(d=[O(o,"keyup",t[5]),O(o,"input",t[6]),O(s,"input",t[9])],u=!0)},p(e,[t]){1&t&&o.value!==e[0]&&R(o,e[0]),h===(h=f(e))&&p?p.p(e,t):(p.d(1),p=h(e),p&&(p.c(),p.m(n,a))),2&t&&R(s,e[1])},i:e,o:e,d(e){e&&k(n),p.d(),u=!1,i(d)}}}function br(e,t,n){let o;u(e,Be,(e=>n(4,o=e)));let{phrase:r=""}=t,{description:i=""}=t,{lects:a}=t,{pronunciations:s={}}=t;const l=Y();return e.$$set=e=>{"phrase"in e&&n(0,r=e.phrase),"description"in e&&n(1,i=e.description),"lects"in e&&n(3,a=e.lects),"pronunciations"in e&&n(2,s=e.pronunciations)},e.$$.update=()=>{9&e.$$.dirty&&a.forEach((e=>{n(2,s[e]=it(r,e),s)}))},[r,i,s,a,o,()=>l("update"),function(){r=this.value,n(0,r)},function(e){s[e]=this.value,n(2,s),n(3,a),n(0,r)},function(){s.General=this.value,n(2,s),n(3,a),n(0,r)},function(){i=this.value,n(1,i)}]}class wr extends Ce{constructor(e){super(),xe(this,e,br,yr,s,{phrase:0,description:1,lects:3,pronunciations:2})}}function kr(e,t,n){const o=e.slice();return o[40]=t[n],o[41]=t,o[42]=n,o}function xr(e,t,n){const o=e.slice();return o[43]=t[n],o[44]=t,o[45]=n,o}function Cr(e,t,n){const o=e.slice();return o[46]=t[n],o}function Sr(e,t,n){const o=e.slice();return o[43]=t[n],o}function _r(e,t,n){const o=e.slice();return o[51]=t[n],o}function Er(t){let n;return{c(){n=C("p"),n.textContent="Categories will appear here.",M(n,"class","info")},m(e,t){w(e,n,t)},p:e,d(e){e&&k(n)}}}function Tr(e){let t,n,o,r,i,a=e[51]+"";function s(){return e[19](e[51])}return{c(){t=C("div"),n=_(a),o=E(),M(t,"class","lex-entry capitalize"),$(t,"selected",e[51]===e[3])},m(e,a){w(e,t,a),m(t,n),m(t,o),r||(i=O(t,"mousedown",s),r=!0)},p(o,r){e=o,4&r[0]&&a!==(a=e[51]+"")&&P(n,a),12&r[0]&&$(t,"selected",e[51]===e[3])},d(e){e&&k(t),r=!1,i()}}}function Or(e){let t;return{c(){t=C("label"),t.textContent="Search by phrase…",M(t,"for","search-phrase"),A(t,"position","absolute"),A(t,"top",".5em"),A(t,"left","1em")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function Mr(e){let t;return{c(){t=C("label"),t.textContent="Search by tags…",M(t,"for","search-tags"),A(t,"position","absolute"),A(t,"top",".5em"),A(t,"left","1em")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function Lr(e){let t;return{c(){t=C("label"),t.textContent="Search descriptions…",M(t,"for","search-description"),A(t,"position","absolute"),A(t,"top",".5em"),A(t,"left","1em")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function Br(e){let t,n,o,r,i,a,s,l=e[2].Lects,c=[];for(let t=0;t<l.length;t+=1)c[t]=Ir(Sr(e,l,t));return{c(){t=C("div"),n=C("label"),o=_("Filter by lect:\n                             "),r=C("select"),i=C("option"),i.textContent="All";for(let e=0;e<c.length;e+=1)c[e].c();i.__value="",i.value=i.__value,void 0===e[5]&&te((()=>e[23].call(r))),M(t,"class","column")},m(l,u){w(l,t,u),m(t,n),m(n,o),m(n,r),m(r,i);for(let e=0;e<c.length;e+=1)c[e].m(r,null);j(r,e[5]),a||(s=O(r,"change",e[23]),a=!0)},p(e,t){if(4&t[0]){let n;for(l=e[2].Lects,n=0;n<l.length;n+=1){const o=Sr(e,l,n);c[n]?c[n].p(o,t):(c[n]=Ir(o),c[n].c(),c[n].m(r,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}36&t[0]&&j(r,e[5])},d(e){e&&k(t),x(c,e),a=!1,s()}}}function Ir(e){let t,n,o,r=e[43]+"";return{c(){t=C("option"),n=_(r),t.__value=o=e[43],t.value=t.__value},m(e,o){w(e,t,o),m(t,n)},p(e,i){4&i[0]&&r!==(r=e[43]+"")&&P(n,r),4&i[0]&&o!==(o=e[43])&&(t.__value=o,t.value=t.__value)},d(e){e&&k(t)}}}function Pr(t){let n;return{c(){n=C("p"),n.textContent="Select a category from the left or add your first phrase entry.",M(n,"class","info")},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}function Rr(e){let t,n,o=e[6],r=[];for(let t=0;t<o.length;t+=1)r[t]=Ar(Cr(e,o,t));const i=e=>pe(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=T()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);w(e,t,o),n=!0},p(e,n){if(65600&n[0]){let a;for(o=e[6],a=0;a<o.length;a+=1){const i=Cr(e,o,a);r[a]?(r[a].p(i,n),he(r[a],1)):(r[a]=Ar(i),r[a].c(),he(r[a],1),r[a].m(t.parentNode,t))}for(de(),a=o.length;a<r.length;a+=1)i(a);fe()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)he(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)pe(r[e]);n=!1},d(e){x(r,e),e&&k(t)}}}function Ar(e){let t,n;return t=new hr({props:{phrase:e[46]}}),t.$on("edit",(function(){return e[24](e[46])})),{c(){ye(t.$$.fragment)},m(e,o){be(t,e,o),n=!0},p(n,o){e=n;const r={};64&o[0]&&(r.phrase=e[46]),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function jr(e){let t,n,o;return{c(){t=C("input"),M(t,"type","text"),M(t,"class","pronunciation")},m(r,i){w(r,t,i),R(t,e[12].General),n||(o=O(t,"input",e[29]),n=!0)},p(e,n){4096&n[0]&&t.value!==e[12].General&&R(t,e[12].General)},d(e){e&&k(t),n=!1,o()}}}function Nr(e){let t,n=e[10],o=[];for(let t=0;t<n.length;t+=1)o[t]=$r(xr(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=T()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);w(e,t,n)},p(e,r){if(5120&r[0]){let i;for(n=e[10],i=0;i<n.length;i+=1){const a=xr(e,n,i);o[i]?o[i].p(a,r):(o[i]=$r(a),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){x(o,e),e&&k(t)}}}function $r(e){let t,n,o,r,i,a,s,l,c,u,d=e[43]+"";function f(){e[28].call(s,e[43])}return{c(){t=C("div"),n=C("div"),o=C("p"),r=_(d),i=E(),a=C("div"),s=C("input"),l=E(),M(o,"class","lect"),M(n,"class","column text-right"),M(s,"type","text"),M(s,"class","pronunciation text-left"),M(a,"class","column text-left"),M(t,"class","row narrow")},m(d,h){w(d,t,h),m(t,n),m(n,o),m(o,r),m(t,i),m(t,a),m(a,s),R(s,e[12][e[43]]),m(t,l),c||(u=O(s,"input",f),c=!0)},p(t,n){e=t,1024&n[0]&&d!==(d=e[43]+"")&&P(r,d),5120&n[0]&&s.value!==e[12][e[43]]&&R(s,e[12][e[43]])},d(e){e&&k(t),c=!1,u()}}}function Dr(t){let n;return{c(){n=C("p"),n.textContent="Click the button below to add a variation for this phrase",M(n,"class","info")},m(e,t){w(e,n,t)},p:e,d(e){e&&k(n)}}}function Fr(e){let t,n,o,r,i;function a(t){e[34](t,e[42])}function s(t){e[35](t,e[42])}function l(t){e[36](t,e[42])}let c={lects:e[10]};return void 0!==e[9][e[42]].phrase&&(c.phrase=e[9][e[42]].phrase),void 0!==e[9][e[42]].pronunciations&&(c.pronunciations=e[9][e[42]].pronunciations),void 0!==e[9][e[42]].description&&(c.description=e[9][e[42]].description),t=new wr({props:c}),K.push((()=>me(t,"phrase",a))),K.push((()=>me(t,"pronunciations",s))),K.push((()=>me(t,"description",l))),t.$on("update",(function(){return e[37](e[42])})),{c(){ye(t.$$.fragment)},m(e,n){be(t,e,n),i=!0},p(i,a){e=i;const s={};1024&a[0]&&(s.lects=e[10]),!n&&512&a[0]&&(n=!0,s.phrase=e[9][e[42]].phrase,ne((()=>n=!1))),!o&&512&a[0]&&(o=!0,s.pronunciations=e[9][e[42]].pronunciations,ne((()=>o=!1))),!r&&512&a[0]&&(r=!0,s.description=e[9][e[42]].description,ne((()=>r=!1))),t.$set(s)},i(e){i||(he(t.$$.fragment,e),i=!0)},o(e){pe(t.$$.fragment,e),i=!1},d(e){we(t,e)}}}function Hr(e){let t,n,o,r,a,s,l,c,u,d,f,h,p,g,v,y,b,S,T,L,B,I,P,j,N,D,F,H,z,U,W,V,G,q,Y,X,Z,J,Q,ee,te,oe,re,ie,ae,se,le,ce,ue,ge,ve,ke,xe,Ce,Se,_e,Ee,Te,Oe=Object.keys(e[2].Phrasebook),Me=[];for(let t=0;t<Oe.length;t+=1)Me[t]=Tr(_r(e,Oe,t));let Le=null;Oe.length||(Le=Er());let Be=!e[0]&&Or(),Ie=!e[4]&&Mr(),Pe=!e[1]&&Lr(),Re=e[2].UseLects&&Br(e);const Ae=[Rr,Pr],je=[];function Ne(e,t){return 4&t[0]&&(F=null),null==F&&(F=!!Object.keys(e[2].Phrasebook).length),F?0:1}function $e(e,t){return e[2].UseLects?Nr:jr}H=Ne(e,[-1,-1]),z=je[H]=Ae[H](e);let De=$e(e),Fe=De(e);function He(t){e[30](t)}function ze(t){e[31](t)}function Ue(t){e[32](t)}let We={index:"hide"};void 0!==e[8]&&(We.definition=e[8]),void 0!==e[11]&&(We.tags=e[11]),void 0!==e[10]&&(We.lects=e[10]),oe=new Wn({props:We}),K.push((()=>me(oe,"definition",He))),K.push((()=>me(oe,"tags",ze))),K.push((()=>me(oe,"lects",Ue)));let Ve=e[9],Ge=[];for(let t=0;t<Ve.length;t+=1)Ge[t]=Fr(kr(e,Ve,t));const qe=e=>pe(Ge[e],1,1,(()=>{Ge[e]=null}));let Ye=null;return Ve.length||(Ye=Dr()),{c(){t=C("div"),n=C("div"),o=C("div"),r=C("p"),r.textContent="Categories",a=E(),s=C("hr"),l=E(),c=C("div");for(let e=0;e<Me.length;e+=1)Me[e].c();Le&&Le.c(),u=E(),d=C("div"),f=C("div"),h=C("div"),Be&&Be.c(),p=E(),g=C("input"),v=E(),y=C("div"),Ie&&Ie.c(),b=E(),S=C("input"),T=E(),L=C("div"),B=C("div"),Pe&&Pe.c(),I=E(),P=C("input"),j=E(),Re&&Re.c(),N=E(),D=C("div"),z.c(),U=E(),W=C("div"),V=C("div"),G=C("button"),q=E(),Y=C("div"),X=C("div"),Z=C("label"),Z.textContent="Phrase",J=E(),Q=C("input"),ee=E(),Fe.c(),te=E(),ye(oe.$$.fragment),se=E(),le=C("label"),ce=_("Category\n                    "),ue=C("input"),ge=E(),ve=C("button"),ve.textContent="Add Phrase",ke=E(),xe=C("div");for(let e=0;e<Ge.length;e+=1)Ge[e].c();Ye&&Ye.c(),Ce=E(),Se=C("button"),Se.textContent="+ Variant",M(c,"class","column scrolled"),A(c,"max-height","90%"),M(c,"id","category-body"),M(o,"class","container column"),A(o,"max-width","18%"),M(g,"id","search-phrase"),M(g,"type","text"),M(g,"class","search"),M(h,"class","column search-container"),M(S,"id","search-tags"),M(S,"type","text"),M(S,"class","search"),M(y,"class","column search-container"),M(f,"class","row"),M(P,"id","search-description"),M(P,"type","text"),M(P,"class","search"),M(B,"class","column search-container"),M(L,"class","row"),M(D,"class","column scrolled"),M(D,"id","phrasebook-body"),A(D,"max-height","88%"),M(d,"class","container column"),A(d,"overflow","hidden"),M(n,"class","row"),A(n,"height","58vh"),M(G,"class","collapser-h"),M(V,"class","row"),A(V,"width","100vh"),M(Z,"for","phrase"),M(Q,"type","text"),M(ue,"type","text"),M(ve,"class","hover-shadow hover-highlight"),M(X,"class","column scrolled"),A(X,"max-height","100%"),M(Se,"class","hover-shadow hover-highlight"),M(xe,"class","column scrolled"),A(xe,"max-height","100%"),M(xe,"id","variants-body"),M(Y,"class","row"),A(Y,"height","92%"),$(Y,"collapsed",e[7]),M(W,"class","container collapsible-row"),A(W,"height","34vh"),M(t,"class","tab-pane")},m(i,k){w(i,t,k),m(t,n),m(n,o),m(o,r),m(o,a),m(o,s),m(o,l),m(o,c);for(let e=0;e<Me.length;e+=1)Me[e].m(c,null);Le&&Le.m(c,null),m(n,u),m(n,d),m(d,f),m(f,h),Be&&Be.m(h,null),m(h,p),m(h,g),R(g,e[0]),m(f,v),m(f,y),Ie&&Ie.m(y,null),m(y,b),m(y,S),R(S,e[4]),m(d,T),m(d,L),m(L,B),Pe&&Pe.m(B,null),m(B,I),m(B,P),R(P,e[1]),m(L,j),Re&&Re.m(L,null),m(d,N),m(d,D),je[H].m(D,null),m(t,U),m(t,W),m(W,V),m(V,G),m(W,q),m(W,Y),m(Y,X),m(X,Z),m(X,J),m(X,Q),R(Q,e[13]),m(X,ee),Fe.m(X,null),m(X,te),be(oe,X,null),m(X,se),m(X,le),m(le,ce),m(le,ue),R(ue,e[14]),m(X,ge),m(X,ve),m(Y,ke),m(Y,xe);for(let e=0;e<Ge.length;e+=1)Ge[e].m(xe,null);Ye&&Ye.m(xe,null),m(xe,Ce),m(xe,Se),_e=!0,Ee||(Te=[O(g,"input",e[20]),O(S,"input",e[21]),O(P,"input",e[22]),O(G,"click",e[25]),O(Q,"input",e[26]),O(Q,"input",e[27]),O(ue,"input",e[33]),O(ve,"click",e[18]),O(Se,"click",e[17])],Ee=!0)},p(e,t){if(32780&t[0]){let n;for(Oe=Object.keys(e[2].Phrasebook),n=0;n<Oe.length;n+=1){const o=_r(e,Oe,n);Me[n]?Me[n].p(o,t):(Me[n]=Tr(o),Me[n].c(),Me[n].m(c,null))}for(;n<Me.length;n+=1)Me[n].d(1);Me.length=Oe.length,!Oe.length&&Le?Le.p(e,t):Oe.length?Le&&(Le.d(1),Le=null):(Le=Er(),Le.c(),Le.m(c,null))}e[0]?Be&&(Be.d(1),Be=null):Be||(Be=Or(),Be.c(),Be.m(h,p)),1&t[0]&&g.value!==e[0]&&R(g,e[0]),e[4]?Ie&&(Ie.d(1),Ie=null):Ie||(Ie=Mr(),Ie.c(),Ie.m(y,b)),16&t[0]&&S.value!==e[4]&&R(S,e[4]),e[1]?Pe&&(Pe.d(1),Pe=null):Pe||(Pe=Lr(),Pe.c(),Pe.m(B,I)),2&t[0]&&P.value!==e[1]&&R(P,e[1]),e[2].UseLects?Re?Re.p(e,t):(Re=Br(e),Re.c(),Re.m(L,null)):Re&&(Re.d(1),Re=null);let n=H;H=Ne(e,t),H===n?je[H].p(e,t):(de(),pe(je[n],1,1,(()=>{je[n]=null})),fe(),z=je[H],z?z.p(e,t):(z=je[H]=Ae[H](e),z.c()),he(z,1),z.m(D,null)),8192&t[0]&&Q.value!==e[13]&&R(Q,e[13]),De===(De=$e(e))&&Fe?Fe.p(e,t):(Fe.d(1),Fe=De(e),Fe&&(Fe.c(),Fe.m(X,te)));const o={};if(!re&&256&t[0]&&(re=!0,o.definition=e[8],ne((()=>re=!1))),!ie&&2048&t[0]&&(ie=!0,o.tags=e[11],ne((()=>ie=!1))),!ae&&1024&t[0]&&(ae=!0,o.lects=e[10],ne((()=>ae=!1))),oe.$set(o),16384&t[0]&&ue.value!==e[14]&&R(ue,e[14]),1536&t[0]){let n;for(Ve=e[9],n=0;n<Ve.length;n+=1){const o=kr(e,Ve,n);Ge[n]?(Ge[n].p(o,t),he(Ge[n],1)):(Ge[n]=Fr(o),Ge[n].c(),he(Ge[n],1),Ge[n].m(xe,Ce))}for(de(),n=Ve.length;n<Ge.length;n+=1)qe(n);fe(),!Ve.length&&Ye?Ye.p(e,t):Ve.length?Ye&&(Ye.d(1),Ye=null):(Ye=Dr(),Ye.c(),Ye.m(xe,Ce))}(!_e||128&t[0])&&$(Y,"collapsed",e[7])},i(e){if(!_e){he(z),he(oe.$$.fragment,e);for(let e=0;e<Ve.length;e+=1)he(Ge[e]);_e=!0}},o(e){pe(z),pe(oe.$$.fragment,e),Ge=Ge.filter(Boolean);for(let e=0;e<Ge.length;e+=1)pe(Ge[e]);_e=!1},d(e){e&&k(t),x(Me,e),Le&&Le.d(),Be&&Be.d(),Ie&&Ie.d(),Pe&&Pe.d(),Re&&Re.d(),je[H].d(),Fe.d(),we(oe),x(Ge,e),Ye&&Ye.d(),Ee=!1,i(Te)}}}function zr(e,t,n){let o,r,i,a,s;u(e,Be,(e=>n(2,o=e))),u(e,$e,(e=>n(3,r=e))),u(e,je,(e=>n(12,i=e))),u(e,Ae,(e=>n(13,a=e))),u(e,Ne,(e=>n(14,s=e)));const l=require("vex-js");d(Ne,s=r,s);let c="",f="",h="",p="",g=[],v=!1,m="",y=[],b=[...o.Lects],w="";function k(e){d($e,r=e,r),d(Ne,s=e,s)}function x(e){d(Ae,a=e,a),d(je,i=(()=>{let t={};return Object.keys(o.Phrasebook[r][e].pronunciations).forEach((n=>{t[n]=o.Phrasebook[r][e].pronunciations[n].ipa})),t})(),i),n(8,m=o.Phrasebook[r][e].description),n(9,y=[]);for(let t in o.Phrasebook[r][e].variants)n(9,y=[...y,{phrase:t,pronunciations:o.Phrasebook[r][e].variants[t].pronunciations,description:o.Phrasebook[r][e].variants[t].description}]);delete o.Phrasebook[r][e],0===Object.keys(o.Phrasebook[r]).length&&(delete o.Phrasebook[r],d($e,r="",r)),d(Be,o={...o},o)}return e.$$.update=()=>{15&e.$$.dirty[0]&&(o.Phrasebook,n(6,g=function(){if(!r)return[];const e=o.Phrasebook[r],t=c.trim(),n=f.toLowerCase().trim(),i=h.toLowerCase().trim().split(/\s+/g).filter((e=>!!e));if(!t&&!n)return Object.keys(e);let a=[];for(let o in e){let r="^"+o.replaceAll(/\s+/g,"^")+"^",s=!t,l=!n,c=!i;const u=p?!p:e[o].lects.includes(p);r.includes(t)&&(s=!0),e[o].description.toLowerCase().includes(n)&&(l=!0),i&&e[o].tags.some((e=>i.includes(e)))&&(c=!0);for(let r in e[o].variants)("^"+r+"^").includes(t)&&(s=!0),e[o].variants[r].description.toLowerCase().includes(n)&&(l=!0);s&&l&&c&&u&&a.push(o)}return a}()))},[c,f,o,r,h,p,g,v,m,y,b,w,i,a,s,k,x,function(){n(9,y=[...y,{phrase:"",pronunciations:(()=>{let e={};return b.forEach((t=>e[t]="")),e})(),description:""}])},function(){let e=a.trim();if(!e)return;let t=m.trim();if(!t)return;let c=s.trim();if(!c)return;let u={};function f(){o.Phrasebook.hasOwnProperty(c)||d(Be,o.Phrasebook[c]={},o),d(Be,o.Phrasebook[c][e]={pronunciations:u,lects:Object.keys(u),tags:w.split(/\s+/g),description:t,variants:(()=>{let e={};for(const t of y){const n=t.phrase.trim();if(!n)continue;const o=t.description.trim();if(!o)continue;let r={};Object.keys(t.pronunciations).forEach((e=>{r[e]={ipa:t.pronunciations[e].trim(),irregular:t.pronunciations[e].trim()!==it(n,e)}})),e[n]={pronunciations:r,description:o}}return e})()},o),Ze.logObj(o.Phrasebook,"Phrasebook"),d(Be,o={...o},o),d(Ae,a="",a),d(je,i=(()=>{let e={};return Object.keys(o.Pronunciations).forEach((t=>{e[t]=""})),e})(),i),n(8,m=""),n(9,y=[]),d($e,r=c,r)}console.log(i,b),Object.keys(i).filter((e=>b.includes(e))).forEach((t=>{console.log(t),u[t]={ipa:i[t].trim(),irregular:i[t].trim()!==it(e,t)}})),o.Phrasebook.hasOwnProperty(c)&&o.Phrasebook[c].hasOwnProperty(e)?l.dialog.confirm({message:"This phrase already exists in this category. Are you sure you want to overwrite it?",callback:e=>{e&&f()}}):f()},e=>k(e),function(){c=this.value,n(0,c)},function(){h=this.value,n(4,h)},function(){f=this.value,n(1,f)},function(){p=N(this),n(5,p)},e=>x(e),()=>n(7,v=!v),function(){a=this.value,Ae.set(a)},()=>{b.forEach((e=>{d(je,i[e]=it(a,e),i)}))},function(e){i[e]=this.value,je.set(i)},function(){i.General=this.value,je.set(i)},function(e){m=e,n(8,m)},function(e){w=e,n(11,w)},function(e){b=e,n(10,b)},function(){s=this.value,Ne.set(s)},function(t,o){e.$$.not_equal(y[o].phrase,t)&&(y[o].phrase=t,n(9,y))},function(t,o){e.$$.not_equal(y[o].pronunciations,t)&&(y[o].pronunciations=t,n(9,y))},function(t,o){e.$$.not_equal(y[o].description,t)&&(y[o].description=t,n(9,y))},e=>{b.forEach((t=>{n(9,y[e].pronunciations[t]=it(y[e].phrase,t),y)}))}]}class Ur extends Ce{constructor(e){super(),xe(this,e,zr,Hr,s,{},null,[-1,-1])}}function Wr(e,t,n){const o=e.slice();return o[19]=t[n],o}function Vr(e,t,n){const o=e.slice();return o[22]=t[n],o[24]=n,o}function Gr(e,t,n){const o=e.slice();return o[25]=t[n],o}function qr(e){let t,n,o,r=e[25]+"";return{c(){t=C("div"),n=C("p"),o=_(r),M(n,"class","prelined"),A(n,"font-family","Gentium"),M(t,"class","column")},m(e,r){w(e,t,r),m(t,n),m(n,o)},p(e,t){16&t&&r!==(r=e[25]+"")&&P(o,r)},d(e){e&&k(t)}}}function Yr(e){let t,n=e[4].slice(3*e[24],3*e[24]+3),o=[];for(let t=0;t<n.length;t+=1)o[t]=qr(Gr(e,n,t));return{c(){t=C("div");for(let e=0;e<o.length;e+=1)o[e].c();M(t,"class","row")},m(e,n){w(e,t,n);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(e,r){if(16&r){let i;for(n=e[4].slice(3*e[24],3*e[24]+3),i=0;i<n.length;i+=1){const a=Gr(e,n,i);o[i]?o[i].p(a,r):(o[i]=qr(a),o[i].c(),o[i].m(t,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){e&&k(t),x(o,e)}}}function Xr(e){let t,n,o,r=e[3].Lects,i=[];for(let t=0;t<r.length;t+=1)i[t]=Kr(Wr(e,r,t));return{c(){t=C("select");for(let e=0;e<i.length;e+=1)i[e].c();void 0===e[2]&&te((()=>e[14].call(t)))},m(r,a){w(r,t,a);for(let e=0;e<i.length;e+=1)i[e].m(t,null);j(t,e[2]),n||(o=O(t,"change",e[14]),n=!0)},p(e,n){if(8&n){let o;for(r=e[3].Lects,o=0;o<r.length;o+=1){const a=Wr(e,r,o);i[o]?i[o].p(a,n):(i[o]=Kr(a),i[o].c(),i[o].m(t,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}12&n&&j(t,e[2])},d(e){e&&k(t),x(i,e),n=!1,o()}}}function Kr(e){let t,n,o,r=e[19]+"";return{c(){t=C("option"),n=_(r),t.__value=o=e[19],t.value=t.__value},m(e,o){w(e,t,o),m(t,n)},p(e,i){8&i&&r!==(r=e[19]+"")&&P(n,r),8&i&&o!==(o=e[19])&&(t.__value=o,t.value=t.__value)},d(e){e&&k(t)}}}function Zr(t){let n,o,r,a,s,l,c,u,d,f,h,p,g,v,y,b,S,T,L,B,I,j,N,$,D,F,H,z,U,W,V,G,q,Y,X,K,Z,J,Q,ee,te,ne,oe,re,ie,ae,se,le,ce,ue,de,fe,he,pe,ge,ve,me,ye,be,we,ke,xe,Ce,Se,_e=Array(t[4].length/3).fill(null),Ee=[];for(let e=0;e<_e.length;e+=1)Ee[e]=Yr(Vr(t,_e,e));let Te=t[3].UseLects&&Xr(t);return{c(){n=C("div"),o=C("div"),r=C("div"),a=C("label"),a.textContent="Onset Consonants",s=E(),l=C("textarea"),c=E(),u=C("br"),d=E(),f=C("label"),f.textContent="Medial Consonants",h=E(),p=C("textarea"),g=E(),v=C("br"),y=E(),b=C("label"),b.textContent="Coda Consonants",S=E(),T=C("textarea"),L=E(),B=C("br"),I=E(),j=C("label"),j.textContent="Vowels",N=E(),$=C("textarea"),D=E(),F=C("br"),H=E(),z=C("label"),z.textContent="Illegal Combinations",U=E(),W=C("textarea"),V=E(),G=C("br"),q=C("br"),Y=E(),X=C("label"),X.textContent="Trial Words",K=E(),Z=C("input"),J=E(),Q=C("p"),ee=_(t[6]),te=E(),ne=C("br"),oe=E(),re=C("button"),re.textContent="Generate Words",ie=E();for(let e=0;e<Ee.length;e+=1)Ee[e].c();ae=E(),se=C("br"),le=E(),ce=C("div"),ue=C("label"),de=_("Pronunciations\n                "),Te&&Te.c(),fe=E(),he=C("textarea"),pe=E(),ge=C("br"),ve=C("br"),me=E(),ye=C("label"),be=_("Orthography Testing\n                "),we=C("textarea"),ke=E(),xe=C("textarea"),M(a,"for","onsets"),M(l,"id","onsets"),M(l,"class","phonology"),M(f,"for","medials"),M(p,"id","medials"),M(p,"class","phonology"),M(b,"for","codas"),M(T,"id","codas"),M(T,"class","phonology"),M(j,"for","vowels"),M($,"id","vowels"),M($,"class","phonology"),M(z,"for","illegals"),M(W,"id","illegals"),M(W,"class","phonology"),M(X,"for","trial"),M(Z,"type","text"),M(Z,"id","trial"),A(Q,"font-family","Gentium"),M(re,"class","hover-highlight hover-shadow"),M(r,"class","container column scrolled"),A(r,"height","100%"),M(he,"class","prelined"),M(he,"rows","24"),A(he,"text-align","left"),M(we,"class","prelined"),M(we,"rows","2"),M(xe,"class","pronunciation"),M(xe,"rows","2"),xe.readOnly=!0,M(ce,"class","container column scrolled"),A(ce,"height","100%"),M(o,"class","row"),A(o,"height","92vh"),M(n,"class","tab-pane")},m(e,i){w(e,n,i),m(n,o),m(o,r),m(r,a),m(r,s),m(r,l),R(l,t[3].Phonotactics.General.Onsets),m(r,c),m(r,u),m(r,d),m(r,f),m(r,h),m(r,p),R(p,t[3].Phonotactics.General.Medials),m(r,g),m(r,v),m(r,y),m(r,b),m(r,S),m(r,T),R(T,t[3].Phonotactics.General.Codas),m(r,L),m(r,B),m(r,I),m(r,j),m(r,N),m(r,$),R($,t[3].Phonotactics.General.Vowels),m(r,D),m(r,F),m(r,H),m(r,z),m(r,U),m(r,W),R(W,t[3].Phonotactics.General.Illegals),m(r,V),m(r,G),m(r,q),m(r,Y),m(r,X),m(r,K),m(r,Z),R(Z,t[0]),m(r,J),m(r,Q),m(Q,ee),m(r,te),m(r,ne),m(r,oe),m(r,re),m(r,ie);for(let e=0;e<Ee.length;e+=1)Ee[e].m(r,null);m(r,ae),m(r,se),m(o,le),m(o,ce),m(ce,ue),m(ue,de),Te&&Te.m(ue,null),m(ue,fe),m(ue,he),R(he,t[3].Pronunciations[t[2]]),m(ce,pe),m(ce,ge),m(ce,ve),m(ce,me),m(ce,ye),m(ye,be),m(ye,we),R(we,t[1]),m(ce,ke),m(ce,xe),R(xe,t[5]),Ce||(Se=[O(l,"input",t[7]),O(p,"input",t[8]),O(T,"input",t[9]),O($,"input",t[10]),O(W,"input",t[11]),O(Z,"input",t[12]),O(re,"click",t[13]),O(he,"blur",t[15]),O(he,"input",t[16]),O(we,"input",t[17]),O(xe,"input",t[18])],Ce=!0)},p(e,[t]){if(8&t&&R(l,e[3].Phonotactics.General.Onsets),8&t&&R(p,e[3].Phonotactics.General.Medials),8&t&&R(T,e[3].Phonotactics.General.Codas),8&t&&R($,e[3].Phonotactics.General.Vowels),8&t&&R(W,e[3].Phonotactics.General.Illegals),1&t&&Z.value!==e[0]&&R(Z,e[0]),64&t&&P(ee,e[6]),16&t){let n;for(_e=Array(e[4].length/3).fill(null),n=0;n<_e.length;n+=1){const o=Vr(e,_e,n);Ee[n]?Ee[n].p(o,t):(Ee[n]=Yr(o),Ee[n].c(),Ee[n].m(r,ae))}for(;n<Ee.length;n+=1)Ee[n].d(1);Ee.length=_e.length}e[3].UseLects?Te?Te.p(e,t):(Te=Xr(e),Te.c(),Te.m(ue,fe)):Te&&(Te.d(1),Te=null),12&t&&R(he,e[3].Pronunciations[e[2]]),2&t&&R(we,e[1]),32&t&&R(xe,e[5])},i:e,o:e,d(e){e&&k(n),x(Ee,e),Te&&Te.d(),Ce=!1,i(Se)}}}function Jr(e,t,n){let o,r,i;u(e,Be,(e=>n(3,i=e)));let a="",s="",l=i.Lects[0],c=Array(24).fill("");return e.$$.update=()=>{1&e.$$.dirty&&n(6,o=function(e){const t=()=>0===Math.floor(2*Math.random()),n=e=>e[Math.floor(Math.random()*e.length)],o={Onsets:rt().Phonotactics.General.Onsets.split(/\s+/g),Medials:rt().Phonotactics.General.Medials.split(/\s+/g),Codas:rt().Phonotactics.General.Codas.split(/\s+/g),Vowels:rt().Phonotactics.General.Vowels.split(/\s+/g),Illegals:rt().Phonotactics.General.Illegals.split(/\s+/g)};let r="^"+e;const i=e=>(e+="^",o.Illegals.some((t=>e.includes(t)))&&o.Illegals[0]?"":e.replace(/\^/g,""));let a=!1;for(const e of o.Vowels)if(r.includes(e)&&r.lastIndexOf(e)===r.length-e.length){if(t()){r+=n(o.Medials)+n(o.Vowels),a=!0;break}return r+=n(o.Codas),i(r)}return!a&&(r+=n(o.Vowels),t())?(t()&&(r+=n(o.Codas)),i(r)):(t()?r+=n(o.Codas):(r+=n(o.Medials)+n(o.Vowels),t()&&(r+=n(o.Codas))),i(r))}(a)),12&e.$$.dirty&&(i.Lects,n(2,l=i.UseLects?l:i.Lects[0]),i.Lects.includes(l)||n(2,l=i.Lects[0])),6&e.$$.dirty&&n(5,r=it(s,l))},[a,s,l,i,c,r,o,function(){i.Phonotactics.General.Onsets=this.value,Be.set(i)},function(){i.Phonotactics.General.Medials=this.value,Be.set(i)},function(){i.Phonotactics.General.Codas=this.value,Be.set(i)},function(){i.Phonotactics.General.Vowels=this.value,Be.set(i)},function(){i.Phonotactics.General.Illegals=this.value,Be.set(i)},function(){a=this.value,n(0,a)},()=>n(4,c=Array(24).fill(null).map((e=>function(){const e=()=>{const e={Onsets:rt().Phonotactics.General.Onsets.split(/\s+/g),Medials:rt().Phonotactics.General.Medials.split(/\s+/g),Codas:rt().Phonotactics.General.Codas.split(/\s+/g),Vowels:rt().Phonotactics.General.Vowels.split(/\s+/g),Illegals:rt().Phonotactics.General.Illegals.split(/\s+/g)},t=()=>0===Math.floor(2*Math.random()),n=e=>e[Math.floor(Math.random()*e.length)];let o="^";t()||(o+=n(e.Onsets)),o+=n(e.Vowels);for(let r=0;r<2;r++)(t()||2===o.length)&&(o+=n(e.Medials),o+=n(e.Vowels));return t()&&(o+=n(e.Codas)),o+="^",e.Illegals.some((e=>o.includes(e)))&&e.Illegals[0]?"":o.replace(/\^/g,"")};for(let t=0;t<50;t++){const t=e();if(t)return t}return""}()))),function(){l=N(this),n(2,l),n(3,i)},()=>at(l),function(){i.Pronunciations[l]=this.value,Be.set(i)},function(){s=this.value,n(1,s)},function(){r=this.value,n(5,r),n(1,s),n(2,l),n(3,i)}]}class Qr extends Ce{constructor(e){super(),xe(this,e,Jr,Zr,s,{})}}var ei={};!function(e,t){window,e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=5)}([function(e,t,n){var o=n(1);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(o,r),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,"/**\n * Plugin styles\n */\n.ce-header {\n  padding: 0.6em 0 3px;\n  margin: 0;\n  line-height: 1.25em;\n  outline: none;\n}\n\n.ce-header p,\n.ce-header div{\n  padding: 0 !important;\n  margin: 0 !important;\n}\n\n/**\n * Styles for Plugin icon in Toolbar\n */\n.ce-header__icon {}\n\n.ce-header[contentEditable=true][data-placeholder]::before{\n  position: absolute;\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  display: none;\n  cursor: text;\n}\n\n.ce-header[contentEditable=true][data-placeholder]:empty::before {\n  display: block;\n}\n\n.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {\n  display: none;\n}\n",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,o=e[1]||"",r=e[3];if(!r)return o;if(t&&"function"==typeof btoa){var i=(n=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[o].concat(a).concat([i]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var o,r,i={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),s=function(e){return document.querySelector(e)},l=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=s.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,u=0,d=[],f=n(4);function h(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=i[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(b(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(b(o.parts[a],t));i[o.id]={id:o.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function g(e,t){var n=l(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=d[d.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=l(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function m(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),y(t,e.attrs),g(e,t),t}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function b(e,t){var n,o,r,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var a=u++;n=c||(c=m(t)),o=x.bind(null,n,a,!1),r=x.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),g(e,t),t}(t),o=S.bind(null,n,t),r=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),o=C.bind(null,n),r=function(){v(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return h(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var a=n[r];(s=i[a.id]).refs--,o.push(s)}for(e&&h(p(e,t),t),r=0;r<o.length;r++){var s;if(0===(s=o[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var w,k=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function x(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=k(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function C(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function S(e,t,n){var o=n.css,r=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(o=f(o)),r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}
/**
    	 * Header block for the Editor.js.
    	 *
    	 * @author CodeX (team@ifmo.su)
    	 * @copyright CodeX 2018
    	 * @license MIT
    	 * @version 2.0.0
    	 */n.r(t),n.d(t,"default",(function(){return i})),n(0);var i=function(){function e(t){var n=t.data,o=t.config,r=t.api,i=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=r,this.readOnly=i,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=o,this._data=this.normalizeData(n),this._element=this.getTag()}var t,n,i;return t=e,i=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',title:"Heading"}}}],(n=[{key:"normalizeData",value:function(e){var t={};return"object"!==o(e)&&(e={}),t.text=e.text||"",t.level=parseInt(e.level)||this.defaultLevel.number,t}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var e=this;return this.levels.map((function(t){return{icon:t.svg,label:e.api.i18n.t("Heading ".concat(t.number)),onActivate:function(){return e.setLevel(t.number)},closeOnActivate:!0,isActive:e.currentLevel.number===t.number}}))}},{key:"setLevel",value:function(e){this.data={level:e,text:this.data.text}}},{key:"merge",value:function(e){var t={text:this.data.text+e.text,level:this.data.level};this.data=t}},{key:"validate",value:function(e){return""!==e.text.trim()}},{key:"save",value:function(e){return{text:e.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}},{key:"onPaste",value:function(e){var t=e.detail.data,n=this.defaultLevel.number;switch(t.tagName){case"H1":n=1;break;case"H2":n=2;break;case"H3":n=3;break;case"H4":n=4;break;case"H5":n=5;break;case"H6":n=6}this._settings.levels&&(n=this._settings.levels.reduce((function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e}))),this.data={level:n,text:t.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(e){if(this._data=this.normalizeData(e),void 0!==e.level&&this._element.parentNode){var t=this.getTag();t.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(t,this._element),this._element=t}void 0!==e.text&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var e=this,t=this.levels.find((function(t){return t.number===e._data.level}));return t||(t=this.defaultLevel),t}},{key:"defaultLevel",get:function(){var e=this;if(this._settings.defaultLevel){var t=this.levels.find((function(t){return t.number===e._settings.defaultLevel}));if(t)return t;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var e=this,t=[{number:1,tag:"H1",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>'},{number:2,tag:"H2",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>'},{number:3,tag:"H3",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>'},{number:4,tag:"H4",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>'},{number:5,tag:"H5",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>'},{number:6,tag:"H6",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>'}];return this._settings.levels?t.filter((function(t){return e._settings.levels.includes(t.number)})):t}}])&&r(t.prototype,n),i&&r(t,i),e}()}]).default}({get exports(){return ei},set exports(e){ei=e}});var ti=Ee(ei),ni={};!function(e,t){window,e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=4)}([function(e,t,n){var o=n(1),r=n(2);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),o(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},o=[],r=0;r<e.length;r++){var i=e[r],l=t.base?i[0]+t.base:i[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=s(u),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:u,updater:v(f,t),references:1}),o.push(u)}return o}function c(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function h(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var p=null,g=0;function v(e,t){var n,o,r;if(t.singleton){var i=g++;n=p||(p=c(t)),o=f.bind(null,n,i,!1),r=f.bind(null,n,i,!0)}else n=c(t),o=h.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=s(n[o]);a[r].references--}for(var i=l(e,t),c=0;c<n.length;c++){var u=s(n[c]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=i}}}},function(e,t,n){(t=n(3)(!1)).push([e.i,".ce-paragraph {\n    line-height: 1.6em;\n    outline: none;\n}\n\n.ce-paragraph[data-placeholder]:empty::before{\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  opacity: 0;\n}\n\n/** Show placeholder at the first paragraph if Editor is empty */\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {\n  opacity: 1;\n}\n\n.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {\n  opacity: 0;\n}\n\n.ce-paragraph p:first-of-type{\n    margin-top: 0;\n}\n\n.ce-paragraph p:last-of-type{\n    margin-bottom: 0;\n}\n",""]),e.exports=t},function(e,t,n){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,o,r,i=e[1]||"",a=e[3];if(!a)return i;if(t&&"function"==typeof btoa){var s=(n=a,o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(r," */")),l=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(l).concat([s]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);o&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}
/**
    	 * Base Paragraph Block for the Editor.js.
    	 * Represents simple paragraph
    	 *
    	 * @author CodeX (team@codex.so)
    	 * @copyright CodeX 2018
    	 * @license The MIT License (MIT)
    	 */n.r(t),n.d(t,"default",(function(){return i})),n(0);var i=function(){function e(t){var n=t.data,o=t.config,r=t.api,i=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=r,this.readOnly=i,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=o.placeholder?o.placeholder:e.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=void 0!==o.preserveBlank&&o.preserveBlank,this.data=n}return r(e,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),r(e,[{key:"onKeyUp",value:function(e){"Backspace"!==e.code&&"Delete"!==e.code||""===this._element.textContent&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable=!1,e.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(e.contentEditable=!0,e.addEventListener("keyup",this.onKeyUp)),e}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(e){var t={text:this.data.text+e.text};this.data=t}},{key:"validate",value:function(e){return!(""===e.text.trim()&&!this._preserveBlank)}},{key:"save",value:function(e){return{text:e.innerHTML}}},{key:"onPaste",value:function(e){var t={text:e.detail.data.innerHTML};this.data=t}},{key:"data",get:function(){var e=this._element.innerHTML;return this._data.text=e,this._data},set:function(e){this._data=e||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),e}()}]).default}({get exports(){return ni},set exports(e){ni=e}});var oi=Ee(ni),ri={};!function(e,t){window,e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=6)}([function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><rect width="18" height="18" fill="#F4F5F7" rx="2"></rect><circle cx="11.5" cy="6.5" r="1.5"></circle><circle cx="11.5" cy="11.5" r="1.5"></circle><circle cx="6.5" cy="6.5" r="1.5"></circle><circle cx="6.5" cy="11.5" r="1.5"></circle></svg>'},function(e,t,n){var o=n(2);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(o,r),o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,'.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size);}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4;}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:""}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border);}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{padding:4px 0;justify-content:center;border-top:1px solid var(--color-border);}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative;}.tc-add-row:before{content:"";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color;}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px;}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border);}.tc-row:after{content:"";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal;}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity;}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translateX(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity;}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,0.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;padding:6px;display:none;will-change:opacity,transform;}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none;}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm);}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:rgba(0,0,0,.1);}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}',""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,o=e[1]||"",r=e[3];if(!r)return o;if(t&&"function"==typeof btoa){var i=(n=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[o].concat(a).concat([i]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var o,r,i={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),s=function(e,t){return t?t.querySelector(e):document.querySelector(e)},l=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var o=s.call(this,e,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}}(),c=null,u=0,d=[],f=n(5);function h(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=i[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(b(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(b(o.parts[a],t));i[o.id]={id:o.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function g(e,t){var n=l(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=d[d.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=l(e.insertAt.before,n);n.insertBefore(t,r)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function m(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var o=n.nc;o&&(e.attrs.nonce=o)}return y(t,e.attrs),g(e,t),t}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function b(e,t){var n,o,r,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var a=u++;n=c||(c=m(t)),o=x.bind(null,n,a,!1),r=x.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),g(e,t),t}(t),o=S.bind(null,n,t),r=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),o=C.bind(null,n),r=function(){v(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return h(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var a=n[r];(s=i[a.id]).refs--,o.push(s)}for(e&&h(p(e,t),t),r=0;r<o.length;r++){var s;if(0===(s=o[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var w,k=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function x(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=k(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function C(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function S(e,t,n){var o=n.css,r=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(o=f(o)),r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(e,t,n){function o(e,t,n={}){const o=document.createElement(e);Array.isArray(t)?o.classList.add(...t):t&&o.classList.add(t);for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(o[e]=n[e]);return o}function r(e){const t=e.getBoundingClientRect();return{y1:Math.floor(t.top+window.pageYOffset),x1:Math.floor(t.left+window.pageXOffset),x2:Math.floor(t.right+window.pageXOffset),y2:Math.floor(t.bottom+window.pageYOffset)}}function i(e,t){const n=r(e),o=r(t);return{fromTopBorder:o.y1-n.y1,fromLeftBorder:o.x1-n.x1,fromRightBorder:n.x2-o.x2,fromBottomBorder:n.y2-o.y2}}function a(e,t){return t.parentNode.insertBefore(e,t)}function s(e,t=!0){const n=document.createRange(),o=window.getSelection();n.selectNodeContents(e),n.collapse(t),o.removeAllRanges(),o.addRange(n)}n.r(t);class l{constructor({items:e}){this.items=e,this.wrapper=void 0,this.itemEls=[]}static get CSS(){return{popover:"tc-popover",popoverOpened:"tc-popover--opened",item:"tc-popover__item",itemHidden:"tc-popover__item--hidden",itemConfirmState:"tc-popover__item--confirm",itemIcon:"tc-popover__item-icon",itemLabel:"tc-popover__item-label"}}render(){return this.wrapper=o("div",l.CSS.popover),this.items.forEach(((e,t)=>{const n=o("div",l.CSS.item),r=o("div",l.CSS.itemIcon,{innerHTML:e.icon}),i=o("div",l.CSS.itemLabel,{textContent:e.label});n.dataset.index=t,n.appendChild(r),n.appendChild(i),this.wrapper.appendChild(n),this.itemEls.push(n)})),this.wrapper.addEventListener("click",(e=>{this.popoverClicked(e)})),this.wrapper}popoverClicked(e){const t=e.target.closest("."+l.CSS.item);if(!t)return;const n=t.dataset.index,o=this.items[n];!o.confirmationRequired||this.hasConfirmationState(t)?o.onClick():this.setConfirmationState(t)}setConfirmationState(e){e.classList.add(l.CSS.itemConfirmState)}clearConfirmationState(e){e.classList.remove(l.CSS.itemConfirmState)}hasConfirmationState(e){return e.classList.contains(l.CSS.itemConfirmState)}get opened(){return this.wrapper.classList.contains(l.CSS.popoverOpened)}open(){this.items.forEach(((e,t)=>{"function"==typeof e.hideIf&&this.itemEls[t].classList.toggle(l.CSS.itemHidden,e.hideIf())})),this.wrapper.classList.add(l.CSS.popoverOpened)}close(){this.wrapper.classList.remove(l.CSS.popoverOpened),this.itemEls.forEach((e=>{this.clearConfirmationState(e)}))}}var c=n(0),u=n.n(c);class d{constructor({api:e,items:t,onOpen:n,onClose:o,cssModifier:r=""}){this.api=e,this.items=t,this.onOpen=n,this.onClose=o,this.cssModifier=r,this.popover=null,this.wrapper=this.createToolbox()}static get CSS(){return{toolbox:"tc-toolbox",toolboxShowed:"tc-toolbox--showed",toggler:"tc-toolbox__toggler"}}get element(){return this.wrapper}createToolbox(){const e=o("div",[d.CSS.toolbox,this.cssModifier?`${d.CSS.toolbox}--${this.cssModifier}`:""]),t=this.createPopover(),n=this.createToggler();return e.appendChild(n),e.appendChild(t),e}createToggler(){const e=o("div",d.CSS.toggler,{innerHTML:u.a});return e.addEventListener("click",(()=>{this.togglerClicked()})),e}createPopover(){return this.popover=new l({items:this.items}),this.popover.render()}togglerClicked(){this.popover.opened?(this.popover.close(),this.onClose()):(this.popover.open(),this.onOpen())}show(e){const t=e();Object.entries(t).forEach((([e,t])=>{this.wrapper.style[e]=t})),this.wrapper.classList.add(d.CSS.toolboxShowed)}hide(){this.popover.close(),this.wrapper.classList.remove(d.CSS.toolboxShowed)}}const f='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',h='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',p="tc-wrap",g="tc-wrap--readonly",v="tc-table",m="tc-row",y="tc-table--heading",b="tc-row--selected",w="tc-cell",k="tc-cell--selected",x="tc-add-row",C="tc-add-column";class S{constructor(e,t,n,o){this.readOnly=e,this.api=t,this.data=n,this.config=o,this.wrapper=null,this.table=null,this.toolboxColumn=this.createColumnToolbox(),this.toolboxRow=this.createRowToolbox(),this.createTableWrapper(),this.hoveredRow=0,this.hoveredColumn=0,this.selectedRow=0,this.selectedColumn=0,this.tunes={withHeadings:!1},this.resize(),this.fill(),this.focusedCell={row:0,column:0},this.documentClicked=e=>{const t=null!==e.target.closest("."+v),n=null===e.target.closest("."+p);(t||n)&&this.hideToolboxes();const o=e.target.closest("."+x),r=e.target.closest("."+C);o&&o.parentNode===this.wrapper?(this.addRow(void 0,!0),this.hideToolboxes()):r&&r.parentNode===this.wrapper&&(this.addColumn(void 0,!0),this.hideToolboxes())},this.readOnly||this.bindEvents()}getWrapper(){return this.wrapper}bindEvents(){document.addEventListener("click",this.documentClicked),this.table.addEventListener("mousemove",function(e,t){let n=0;return function(...o){const r=(new Date).getTime();if(!(r-n<e))return n=r,t(...o)}}(150,(e=>this.onMouseMoveInTable(e))),{passive:!0}),this.table.onkeypress=e=>this.onKeyPressListener(e),this.table.addEventListener("keydown",(e=>this.onKeyDownListener(e))),this.table.addEventListener("focusin",(e=>this.focusInTableListener(e)))}createColumnToolbox(){return new d({api:this.api,cssModifier:"column",items:[{label:this.api.i18n.t("Add column to left"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>',onClick:()=>{this.addColumn(this.selectedColumn,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add column to right"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>',onClick:()=>{this.addColumn(this.selectedColumn+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete column"),icon:f,hideIf:()=>1===this.numberOfColumns,confirmationRequired:!0,onClick:()=>{this.deleteColumn(this.selectedColumn),this.hideToolboxes()}}],onOpen:()=>{this.selectColumn(this.hoveredColumn),this.hideRowToolbox()},onClose:()=>{this.unselectColumn()}})}createRowToolbox(){return new d({api:this.api,cssModifier:"row",items:[{label:this.api.i18n.t("Add row above"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>',onClick:()=>{this.addRow(this.selectedRow,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add row below"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>',onClick:()=>{this.addRow(this.selectedRow+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete row"),icon:f,hideIf:()=>1===this.numberOfRows,confirmationRequired:!0,onClick:()=>{this.deleteRow(this.selectedRow),this.hideToolboxes()}}],onOpen:()=>{this.selectRow(this.hoveredRow),this.hideColumnToolbox()},onClose:()=>{this.unselectRow()}})}moveCursorToNextRow(){this.focusedCell.row!==this.numberOfRows?(this.focusedCell.row+=1,this.focusCell(this.focusedCell)):(this.addRow(),this.focusedCell.row+=1,this.focusCell(this.focusedCell),this.updateToolboxesPosition(0,0))}getCell(e,t){return this.table.querySelector(`.${m}:nth-child(${e}) .${w}:nth-child(${t})`)}getRow(e){return this.table.querySelector(`.${m}:nth-child(${e})`)}getRowByCell(e){return e.parentElement}getRowFirstCell(e){return e.querySelector(`.${w}:first-child`)}setCellContent(e,t,n){this.getCell(e,t).innerHTML=n}addColumn(e=-1,t=!1){let n=this.numberOfColumns;for(let o=1;o<=this.numberOfRows;o++){let r;const i=this.createCell();if(e>0&&e<=n?(r=this.getCell(o,e),a(i,r)):r=this.getRow(o).appendChild(i),1===o){const r=this.getCell(o,e>0?e:n+1);r&&t&&s(r)}}this.addHeadingAttrToFirstRow()}addRow(e=-1,t=!1){let n,r=o("div",m);this.tunes.withHeadings&&this.removeHeadingAttrFromFirstRow();let i=this.numberOfColumns;n=e>0&&e<=this.numberOfRows?a(r,this.getRow(e)):this.table.appendChild(r),this.fillRow(n,i),this.tunes.withHeadings&&this.addHeadingAttrToFirstRow();const l=this.getRowFirstCell(n);return l&&t&&s(l),n}deleteColumn(e){for(let t=1;t<=this.numberOfRows;t++){const n=this.getCell(t,e);if(!n)return;n.remove()}}deleteRow(e){this.getRow(e).remove(),this.addHeadingAttrToFirstRow()}createTableWrapper(){if(this.wrapper=o("div",p),this.table=o("div",v),this.readOnly&&this.wrapper.classList.add(g),this.wrapper.appendChild(this.toolboxRow.element),this.wrapper.appendChild(this.toolboxColumn.element),this.wrapper.appendChild(this.table),!this.readOnly){const e=o("div",C,{innerHTML:h}),t=o("div",x,{innerHTML:h});this.wrapper.appendChild(e),this.wrapper.appendChild(t)}}computeInitialSize(){const e=this.data&&this.data.content,t=Array.isArray(e),n=!!t&&e.length,o=t?e.length:void 0,r=n?e[0].length:void 0,i=Number.parseInt(this.config&&this.config.rows),a=Number.parseInt(this.config&&this.config.cols),s=!isNaN(i)&&i>0?i:void 0,l=!isNaN(a)&&a>0?a:void 0;return{rows:o||s||2,cols:r||l||2}}resize(){const{rows:e,cols:t}=this.computeInitialSize();for(let t=0;t<e;t++)this.addRow();for(let e=0;e<t;e++)this.addColumn()}fill(){const e=this.data;if(e&&e.content)for(let t=0;t<e.content.length;t++)for(let n=0;n<e.content[t].length;n++)this.setCellContent(t+1,n+1,e.content[t][n])}fillRow(e,t){for(let n=1;n<=t;n++){const t=this.createCell();e.appendChild(t)}}createCell(){return o("div",w,{contentEditable:!this.readOnly})}get numberOfRows(){return this.table.childElementCount}get numberOfColumns(){return this.numberOfRows?this.table.querySelector(`.${m}:first-child`).childElementCount:0}get isColumnMenuShowing(){return 0!==this.selectedColumn}get isRowMenuShowing(){return 0!==this.selectedRow}onMouseMoveInTable(e){const{row:t,column:n}=this.getHoveredCell(e);this.hoveredColumn=n,this.hoveredRow=t,this.updateToolboxesPosition()}onKeyPressListener(e){if("Enter"===e.key){if(e.shiftKey)return!0;this.moveCursorToNextRow()}return"Enter"!==e.key}onKeyDownListener(e){"Tab"===e.key&&e.stopPropagation()}focusInTableListener(e){const t=e.target,n=this.getRowByCell(t);this.focusedCell={row:Array.from(this.table.querySelectorAll("."+m)).indexOf(n)+1,column:Array.from(n.querySelectorAll("."+w)).indexOf(t)+1}}hideToolboxes(){this.hideRowToolbox(),this.hideColumnToolbox(),this.updateToolboxesPosition()}hideRowToolbox(){this.unselectRow(),this.toolboxRow.hide()}hideColumnToolbox(){this.unselectColumn(),this.toolboxColumn.hide()}focusCell(){this.focusedCellElem.focus()}get focusedCellElem(){const{row:e,column:t}=this.focusedCell;return this.getCell(e,t)}updateToolboxesPosition(e=this.hoveredRow,t=this.hoveredColumn){this.isColumnMenuShowing||t>0&&t<=this.numberOfColumns&&this.toolboxColumn.show((()=>({left:`calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${t} - 1) * 2))`}))),this.isRowMenuShowing||e>0&&e<=this.numberOfRows&&this.toolboxRow.show((()=>{const t=this.getRow(e),{fromTopBorder:n}=i(this.table,t),{height:o}=t.getBoundingClientRect();return{top:Math.ceil(n+o/2)+"px"}}))}setHeadingsSetting(e){this.tunes.withHeadings=e,e?(this.table.classList.add(y),this.addHeadingAttrToFirstRow()):(this.table.classList.remove(y),this.removeHeadingAttrFromFirstRow())}addHeadingAttrToFirstRow(){for(let e=1;e<=this.numberOfColumns;e++){let t=this.getCell(1,e);t&&t.setAttribute("heading",this.api.i18n.t("Heading"))}}removeHeadingAttrFromFirstRow(){for(let e=1;e<=this.numberOfColumns;e++){let t=this.getCell(1,e);t&&t.removeAttribute("heading")}}selectRow(e){const t=this.getRow(e);t&&(this.selectedRow=e,t.classList.add(b))}unselectRow(){if(this.selectedRow<=0)return;const e=this.table.querySelector("."+b);e&&e.classList.remove(b),this.selectedRow=0}selectColumn(e){for(let t=1;t<=this.numberOfRows;t++){const n=this.getCell(t,e);n&&n.classList.add(k)}this.selectedColumn=e}unselectColumn(){if(this.selectedColumn<=0)return;let e=this.table.querySelectorAll("."+k);Array.from(e).forEach((e=>{e.classList.remove(k)})),this.selectedColumn=0}getHoveredCell(e){let t=this.hoveredRow,n=this.hoveredColumn;const{width:o,height:r,x:i,y:a}=function(e,t){const n=e.getBoundingClientRect(),{width:o,height:r,x:i,y:a}=n,{clientX:s,clientY:l}=t;return{width:o,height:r,x:s-i,y:l-a}}(this.table,e);return i>=0&&(n=this.binSearch(this.numberOfColumns,(e=>this.getCell(1,e)),(({fromLeftBorder:e})=>i<e),(({fromRightBorder:e})=>i>o-e))),a>=0&&(t=this.binSearch(this.numberOfRows,(e=>this.getCell(e,1)),(({fromTopBorder:e})=>a<e),(({fromBottomBorder:e})=>a>r-e))),{row:t||this.hoveredRow,column:n||this.hoveredColumn}}binSearch(e,t,n,o){let r,a=0,s=e+1,l=0;for(;a<s-1&&l<10;){r=Math.ceil((a+s)/2);const e=t(r),c=i(this.table,e);if(n(c))s=r;else{if(!o(c))break;a=r}l++}return r}getData(){const e=[];for(let t=1;t<=this.numberOfRows;t++){const n=this.table.querySelector(`.${m}:nth-child(${t})`),o=Array.from(n.querySelectorAll("."+w));o.every((e=>!e.textContent.trim()))||e.push(o.map((e=>e.innerHTML)))}return e}destroy(){document.removeEventListener("click",this.documentClicked)}}n(1),t.default=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:e,config:t,api:n,readOnly:o}){this.api=n,this.readOnly=o,this.config=t,this.data={withHeadings:this.getConfig("withHeadings",!1,e),content:e&&e.content?e.content:[]},this.table=null}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',title:"Table"}}render(){return this.table=new S(this.readOnly,this.api,this.data,this.config),this.container=o("div",this.api.styles.block),this.container.appendChild(this.table.getWrapper()),this.table.setHeadingsSetting(this.data.withHeadings),this.container}renderSettings(){return[{label:this.api.i18n.t("With headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!0,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.api.i18n.t("Without headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:!this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!1,this.table.setHeadingsSetting(this.data.withHeadings)}}]}save(){const e=this.table.getData();return{withHeadings:this.data.withHeadings,content:e}}destroy(){this.table.destroy()}getConfig(e,t,n){const o=this.data||n;return o?o[e]?o[e]:t:this.config&&this.config[e]?this.config[e]:t}static get pasteConfig(){return{tags:["TABLE","TR","TH","TD"]}}onPaste(e){const t=e.detail.data,n=t.querySelector(":scope > thead, tr:first-of-type th"),o=Array.from(t.querySelectorAll("tr")).map((e=>Array.from(e.querySelectorAll("th, td")).map((e=>e.innerHTML))));this.data={withHeadings:null!==n,content:o},this.table.wrapper&&this.table.wrapper.replaceWith(this.render())}}}]).default}({get exports(){return ri},set exports(e){ri=e}});var ii=Ee(ri),ai={};!function(e,t){window,e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=4)}([function(e,t,n){var o=n(1),r=n(2);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),o(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},o=[],r=0;r<e.length;r++){var i=e[r],l=t.base?i[0]+t.base:i[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=s(u),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:u,updater:v(f,t),references:1}),o.push(u)}return o}function c(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function h(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var p=null,g=0;function v(e,t){var n,o,r;if(t.singleton){var i=g++;n=p||(p=c(t)),o=f.bind(null,n,i,!1),r=f.bind(null,n,i,!0)}else n=c(t),o=h.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=s(n[o]);a[r].references--}for(var i=l(e,t),c=0;c<n.length;c++){var u=s(n[c]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=i}}}},function(e,t,n){(t=n(3)(!1)).push([e.i,".cdx-underline {\n    text-decoration: underline;\n}\n",""]),e.exports=t},function(e,t,n){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,o,r,i=e[1]||"",a=e[3];if(!a)return i;if(t&&"function"==typeof btoa){var s=(n=a,o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(r," */")),l=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(l).concat([s]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);o&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r.key,"string"),"symbol"===o(i)?i:String(i)),r)}var i}n.r(t),n.d(t,"default",(function(){return i})),n(0);var i=function(){function e(t){var n=t.api;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=n,this.button=null,this.tag="U",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}var t,n,o;return t=e,o=[{key:"CSS",get:function(){return"cdx-underline"}},{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{u:{class:e.CSS}}}}],(n=[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(t){if(t){var n=this.api.selection.findParentTag(this.tag,e.CSS);n?this.unwrap(n):this.wrap(t)}}},{key:"wrap",value:function(t){var n=document.createElement(this.tag);n.classList.add(e.CSS),n.appendChild(t.extractContents()),t.insertNode(n),this.api.selection.expandToTag(n)}},{key:"unwrap",value:function(e){this.api.selection.expandToTag(e);var t=window.getSelection(),n=t.getRangeAt(0),o=n.extractContents();e.parentNode.removeChild(e),n.insertNode(o),t.removeAllRanges(),t.addRange(n)}},{key:"checkState",value:function(){var t=this.api.selection.findParentTag(this.tag,e.CSS);this.button.classList.toggle(this.iconClasses.active,!!t)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7.5V11.5C9 12.2956 9.31607 13.0587 9.87868 13.6213C10.4413 14.1839 11.2044 14.5 12 14.5C12.7956 14.5 13.5587 14.1839 14.1213 13.6213C14.6839 13.0587 15 12.2956 15 11.5V7.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.71429 18H16.2857"/></svg>'}}])&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()}]).default}({get exports(){return ai},set exports(e){ai=e}});var si,li=Ee(ai);!function(e){e.VERBOSE="VERBOSE",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR"}(si||(si={}));class ci{api;button;tag;iconClasses;static get CSS(){return"cdx-monospace"}constructor({api:e}){this.api=e,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.textContent="M",this.button.classList.add(this.api.styles.inlineToolButton),this.button}surround(e){if(!e)return;const t=this.api.selection.findParentTag(this.tag,ci.CSS);t?this.unwrap(t):this.wrap(e)}wrap(e){const t=document.createElement(this.tag);t.classList.add(ci.CSS),t.appendChild(e.extractContents()),e.insertNode(t),this.api.selection.expandToTag(t)}unwrap(e){this.api.selection.expandToTag(e);const t=window.getSelection(),n=t.getRangeAt(0),o=n.extractContents();e.parentNode.removeChild(e),n.insertNode(o),t.removeAllRanges(),t.addRange(n)}checkState(){const e=this.api.selection.findParentTag(this.tag,ci.CSS);this.button.classList.toggle(this.iconClasses.active,!!e)}static get sanitize(){return{code:{class:ci.CSS}}}}function ui(e,t="docs-tab"){const n={holder:t,data:null,tools:{underline:li,monospace:ci,header:{class:ti,inlineToolbar:!0},paragraph:{class:oi,inlineToolbar:!0,config:{placeholder:"This panel can be used to document and describe your languge’s features in greater detail."}},table:{class:ii,inlineToolbar:!0,config:{rows:3,cols:3,withHeadings:!0}}},logLevel:si.ERROR,readOnly:"ref-docs"===t};e&&(n.data=e);const o=new Oe(n);"docs-tab"===t&&De.set(o)}function di(t){let n;return{c(){n=C("div"),n.innerHTML='<div class="container row text-center" style="height: 92vh; overflow-y: auto;"><div class="column" style="font-family: Gentium" id="docs-tab"></div></div>',M(n,"class","tab-pane"),M(n,"spellcheck","false")},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}function fi(e){return ui(!1),[]}class hi extends Ce{constructor(e){super(),xe(this,e,fi,di,s,{})}}const{ipcRenderer:pi}=require("electron"),gi=require("fs"),vi=require("path"),mi=require("vex-js"),yi=()=>c(Be),bi=c(Le);async function wi(e){let t;await pi.invoke("getUserDataPath").then((e=>{t=e})),e(t)}async function ki(e,t){let n;await pi.invoke("showOpenDialog",e).then((e=>{n=e})),t(n)}async function xi(){return"function"==typeof c(De).save?(console.log("Save function found for docs editor.",c(De)),await c(De).save().then((e=>{yi().Docs=e}))):console.log("No save function found for docs editor.",c(De)),yi().Version=await pi.invoke("getVersion"),JSON.stringify(yi())}function Ci(e,t){for(const n of e.blocks)switch(n.type){case"header":{const e=document.createElement(`h${n.data.level}`);e.innerHTML=n.data.text,t.appendChild(e);break}case"paragraph":{const e=document.createElement("p");e.innerHTML=n.data.text,t.appendChild(e);break}case"table":{const e=document.createElement("table"),o=document.createElement("tbody");n.data.content.forEach((e=>{const t=document.createElement("tr");e.forEach((e=>{const n=document.createElement("td");n.innerHTML=e,t.appendChild(n)})),o.appendChild(t)})),e.appendChild(o),t.appendChild(e);break}}return t}async function Si(){const e=async()=>{const e=await xi();try{wi((t=>{const n=`${t}${vi.sep}Lexicons${vi.sep}`,o=`${t}${vi.sep}Backups${vi.sep}`,r=(new Date).toString().split(" GMT")[0].replaceAll(":","꞉");gi.existsSync(n)||gi.mkdirSync(n),gi.existsSync(o)||gi.mkdirSync(o),gi.writeFileSync(`${n}${yi().Name}.lexc`,e,"utf8"),gi.writeFileSync(`${o}${yi().Name} @ ${r}.lexc`,e,"utf8")})),c(He)?new Notification(`The ${yi().Name} file has been auto-saved.`):mi.dialog.alert("The file has been saved.")}catch(e){window.alert("There was a problem saving your file. Please contact the developer."),console.log(e)}};yi().Name.trim()?e():mi.dialog.prompt({message:"Please enter a file name before saving.",callback:t=>{t&&(yi().Name=t.trim(),e())}})}const _i=async()=>{let e;xi().then((t=>{e=new Blob([t])}));const t=await window.showSaveFilePicker({suggestedName:`${yi().Name}.lexc`});await t.requestPermission({mode:"readwrite"});const n=await t.createWritable();try{await n.write(e)}catch(e){return window.alert("The file failed to save. Please contact the developer for assistance."),console.log(e),void await n.close()}await n.close(),window.alert("The file saved successfully.")},Ei=async()=>{let e="";const t=yi().Lexicon;for(const n in t)e+=`${n}\n${t[n][0]}\n${t[n][1]}\n\n`;const n=new Blob([e]),o=await window.showSaveFilePicker({suggestedName:`${yi().Name}.txt`});await o.requestPermission({mode:"readwrite"});const r=await o.createWritable();try{await r.write(n)}catch(e){window.alert("The file failed to export.")}await r.close(),window.alert("The file exported successfully.")},Ti=async()=>{const e=yi().Lexicon,t=[["Word","Pronunciations","Definitions"]];for(const n in e)t.push([n,Object.entries(e[n].pronunciations).map((([e,{ipa:t}])=>e+": "+t)).join(" — "),e[n].Senses.map((e=>e.definition)).join(" — ")]);const n=t.map((e=>e.map(String).map((e=>e.replaceAll('"','""'))).map((e=>`"${e}"`)).join(","))).join("\r\n");const o=new Blob([n]),r=await window.showSaveFilePicker({suggestedName:`${yi().Name}.csv`});await r.requestPermission({mode:"readwrite"});const i=await r.createWritable();try{await i.write(o)}catch(e){window.alert("The file failed to export. Please contact the developer for assistance."),console.log(e)}await i.close(),window.alert("The file exported successfully.")},Oi=async()=>{let e;xi().then((t=>{e=new Blob([t])}));const t=await window.showSaveFilePicker({suggestedName:`${yi().Name}.json`});await t.requestPermission({mode:"readwrite"});const n=await t.createWritable();try{await n.write(e)}catch(e){window.alert("The file failed to export.")}await n.close(),window.alert("The file exported successfully.")},Mi={lexicon:async()=>{const e=document.createElement("html"),t=document.createElement("head");t.innerHTML=`\n                <meta charset="UTF-8" />\n                <title>${yi().Name}</title>\n                <link rel="preconnect" href="https://fonts.googleapis.com">\n                <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>\n                <link href="https://fonts.googleapis.com/css2?family=Gentium+Book+Plus:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">\n            `;const n=document.createElement("style");n.innerHTML=Ri;const o=document.createElement("style");o.innerHTML=Pi;const r=document.createElement("body");r.innerHTML+=`<h1>${yi().Name}</h1>`;const i=Qe(yi().Lexicon);r.innerHTML+="<hr/><h2>Lexicon</h2>",i.forEach((e=>{let t="";const n=yi().Lexicon[e].pronunciations;Object.entries(n).forEach((([e,n])=>{t+=`<p class="lect">${e}: <span class='pronunciation'>${n.ipa}</span></p>`}));yi().Lexicon[e].Senses.forEach((({lects:e,definition:n,tags:o},r)=>{t+=`<p class="lect">${e.join(", ")}</p>`,t+=`<div class='sense'>${r+1}.</div>`,o.forEach((e=>{t+=`<div class='tag-item'>${e}</div>`})),t+=`<p>${mn(n)}</p>`})),r.innerHTML+=`<div class="lex-entry"><p>${e}</p>${t}</div>`})),t.append(n,o),e.append(t,r);const a=e.outerHTML,s=new Blob(["\ufeff",a],{type:"tex/html; charset=utf-8;"}),l=await window.showSaveFilePicker({suggestedName:`${yi().Name}_Lexicon.html`});await l.requestPermission({mode:"readwrite"});const c=await l.createWritable();try{await c.write(s)}catch(e){return mi.dialog.alert("The file failed to export. Please contact the developer for assistance."),console.log(e),void await c.close()}await c.close(),mi.dialog.alert("The file exported successfully.")},all:async()=>{const e=document.createElement("html"),t=document.createElement("head");t.innerHTML=`\n                <meta charset="UTF-8" />\n                <title>${yi().Name}</title>\n                <link rel="preconnect" href="https://fonts.googleapis.com">\n                <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>\n                <link href="https://fonts.googleapis.com/css2?family=Gentium+Book+Plus:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">\n            `;const n=document.createElement("style");n.innerHTML=Ri;const o=document.createElement("style");o.innerHTML=Pi;let r=document.createElement("div");await c(De).save().then((e=>{r=Ci(e,r)}));const i=document.createElement("body");i.innerHTML+=`<h1>${yi().Name}</h1>`,i.innerHTML+=r.outerHTML;const a=Qe(yi().Lexicon);i.innerHTML+="<hr/><h2>Lexicon</h2>",a.forEach((e=>{let t="";const n=yi().Lexicon[e].pronunciations;Object.entries(n).forEach((([e,n])=>{t+=`<p class="lect">${e}: <span class='pronunciation'>${n.ipa}</span></p>`}));yi().Lexicon[e].Senses.forEach((({lects:e,definition:n,tags:o},r)=>{t+=`<p class="lect">${e.join(", ")}</p>`,t+=`<div class='sense'>${r+1}.</div>`,o.forEach((e=>{t+=`<div class='tag-item'>${e}</div>`})),t+=`<p>${mn(n)}</p>`})),i.innerHTML+=`<div class="lex-entry"><p>${e}</p>${t}</div>`})),t.append(n,o),e.append(t,i);const s=e.outerHTML,l=new Blob(["\ufeff",s],{type:"tex/html; charset=utf-8;"}),u=await window.showSaveFilePicker({suggestedName:`${yi().Name}.html`});await u.requestPermission({mode:"readwrite"});const d=await u.createWritable();try{await d.write(l)}catch(e){return mi.dialog.alert("The file failed to export. Please contact the developer for assistance."),console.log(e),void await d.close()}await d.close(),mi.dialog.alert("The file exported successfully.")},docs:async()=>{const e=document.createElement("html"),t=document.createElement("head");t.innerHTML=`\n                <meta charset="UTF-8" />\n                <title>${yi().Name} Docs</title>\n                <link rel="preconnect" href="https://fonts.googleapis.com">\n                <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>\n                <link href="https://fonts.googleapis.com/css2?family=Gentium+Book+Plus:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">\n            `;const n=document.createElement("style");n.innerHTML=Ri;const o=document.createElement("style");o.innerHTML=Pi,t.append(n,o),e.appendChild(t);let r=document.createElement("body");await c(De).save().then((e=>{r=Ci(e,r)})),r.style.padding="12em",r.classList.add("container"),e.appendChild(r);const i=e.outerHTML,a=new Blob(["\ufeff",i],{type:"tex/html; charset=utf-8;"}),s=await window.showSaveFilePicker({suggestedName:`${yi().Name}_Docs.html`});await s.requestPermission({mode:"readwrite"});const l=await s.createWritable();try{await l.write(a)}catch(e){return mi.dialog.alert("The file failed to export. Please contact the developer."),console.log(e),void await l.close()}await l.close(),mi.dialog.alert("The file exported successfully.")}},Li={1.9:e=>{Be.set(bi);try{for(const t in e.Lexicon)yi().Lexicon[t]={pronunciations:{General:{ipa:e.Lexicon[t][0],irregular:e.Lexicon[t][2]}},Senses:[{definition:e.Lexicon[t][1],lects:["General"],tags:e.Lexicon[t][3]}]}}catch(e){window.alert("There was a problem loading the contents of the lexicon. Please contact the developer."),Ye("Attempted to load a version 1.9 lexicon.",e)}try{yi().Alphabet=e.Alphabet}catch(e){window.alert("There was a problem loading the alphabetical order. Please contact the developer for assistance."),Ye("Attempted to load a version 1.9 alphabet.",e)}try{yi().Pronunciations.General=e.Romanization,at("General")}catch(e){window.alert("There was a problem loading the romanizations. Please contact the developer for assistance."),Ye("Attempted to load version 1.9 romanizations.",e)}try{for(const t in e.Phrasebook)yi().Phrasebook[t]=(()=>{const n={};for(const o in e.Phrasebook[t])n[o]={description:e.Phrasebook[t][o].description,lects:["General"],pronunciations:{General:{ipa:e.Phrasebook[t][o].pronunciation,irregular:!1}},variants:(()=>{const n={};for(const r in e.Phrasebook[t][o].variants)n[r]={description:e.Phrasebook[t][o].variants[r].description,pronunciations:{General:{ipa:e.Phrasebook[t][o].variants[r].pronunciation,irregular:!1}}};return n})(),tags:[]};return n})()}catch(e){window.alert("There was a problem loading the phrasebook. Please contact the developer for assistance."),Ye("Attempted to load a version 1.9 phrasebook.",e)}try{yi().Phonotactics.General.Onsets=e.Phonotactics.Initial.join(" "),yi().Phonotactics.General.Medials=e.Phonotactics.Middle.join(" "),yi().Phonotactics.General.Codas=e.Phonotactics.Final.join(" "),yi().Phonotactics.General.Vowels=e.Phonotactics.Vowel.join(" "),yi().Phonotactics.General.Illegals=e.Phonotactics.Illegal.join(" ")}catch(e){window.alert("There was a problem loading the phonotactics data. Please contact the developer for assistance."),Ye("Attempted to load version 1.9 phonotactics.",e)}try{c(De).destroy(),ui(e.Docs)}catch(e){window.alert("There was a problem loading the documentation data. Please contact the developer for assistance."),Ye("Attempted to load version 1.9 documentation.",e)}try{yi().HeaderTags=e.HeaderTags}catch(e){window.alert("There was a problem loading the header tags."),Ye("Attempted to load version 1.9 header tags.",e)}yi().IgnoreDiacritics=e.IgnoreDiacritics,yi().CaseSensitive=e.CaseSensitive}},Bi=require("csv-parser");async function Ii(e,t,n,o,r){const i=[];let a;t-=1,n-=1,o&&(o-=1),r&&(r-=1),ki({title:"Open CSV File",properties:["openFile"]},(s=>{void 0!==s&&("csv"===s[0].split(".").pop()?(a=s,gi.createReadStream(s[0]).pipe(Bi({headers:!1,skipLines:e?1:0})).on("data",(e=>{i.push(e)})).on("end",(()=>{console.log(i);const e={};i.forEach((i=>{e[i[t]]={pronunciations:{General:{ipa:o?i[o]:it(i[t],yi().Lects[0]),irregular:!1}},Senses:[{definition:i[n],lects:[yi().Lects[0]],tags:r?i[r].split(/\s+/).map((e=>e.trim())):[]}]}})),console.log(e),c(Be).Lexicon=e,c(Be).Name=a[0].split("/")[a[0].split("/").length-1].split(".")[0],pi.emit("update-lexicon-for-gods-sake-please")}))):mi.dialog.alert("A CSV file was not selected."))}))}const Pi='\n@import url("https://fonts.googleapis.com/css2?family=Gentium+Book+Plus:ital,wght@0,4000,7001,4001,700&display=swap");\nbody {\n  overflow-y: auto;\n  text-align: center;\n  margin: auto;\n}\n\n.container {\n  overflow-x: clip;\n  overflow-y: auto;\n}\n\n.lex-body {\n  font-family: "Gentium Book Plus", serif;\n}\n\n.tag-item {\n  font-family: serif;\n}\n\n.search {\n  font-family: "Gentium Book Plus", serif;\n}\n\n.phonology, .pronunciation {\n  font-family: "Gentium Book Plus", serif !important;\n}\n\n[id=entry-counter] {\n  font-family: serif;\n}\n\ntd {\n  text-align: center;\n  border: 2px solid black;\n}\n\ntr {\n  background-color: transparent !important;\n}\n\ntable {\n  border-collapse: collapse;\n  margin: auto;\n}\n\n.table-container, .table-title {\n  font-family: "Gentium Book Plus", serif;\n  align-items: center;\n}\n\nbutton {\n  display: none;\n}\n\n.info {\n  display: none;\n}\n\n.search-row {\n  display: inline-flex;\n}\n\n@media only screen and (min-device-width: 601px) {\n  .sidebar {\n    max-width: 18% !important;\n  }\n}\n@media only screen and (max-device-width: 600px) {\n  body {\n    width: 100vw !important;\n    font-size: 12pt;\n    padding: 2vw;\n  }\n  body > h1 {\n    font-size: 36pt;\n  }\n  div.container {\n    height: 60vh !important;\n  }\n  div.column {\n    display: block;\n  }\n  div.sidebar {\n    max-height: 18vh;\n  }\n  div.row {\n    display: block;\n    min-width: 96vw !important;\n    margin-bottom: 36vh;\n  }\n  div.variants {\n    margin-bottom: 4rem;\n  }\n  .lex-entry, .lex-body {\n    font-size: 16pt !important;\n  }\n  .capitalize {\n    font-size: 24pt !important;\n  }\n  .tag-item, [id=entry-counter] {\n    font-size: 16pt;\n  }\n  .search, .sidebar p {\n    font-size: 24pt;\n  }\n  td {\n    font-size: 18pt !important;\n  }\n}\n\n/*# sourceMappingURL=html_export.css.map */\n',Ri='\n@charset "UTF-8";\nhtml, body {\n  align-items: center;\n}\n\nbody {\n  font-family: serif;\n  font-size: 11pt;\n  min-width: 600px;\n  min-height: 600px;\n  margin: 0px;\n  overflow: hidden;\n  -webkit-app-region: drag;\n}\n\nbutton {\n  font-family: serif;\n  font-size: 11pt;\n  transition-duration: 0.33s;\n  cursor: pointer;\n  -webkit-app-region: no-drag;\n  -webkit-user-select: none;\n}\nbutton[id=overwrite] {\n  font-weight: bold;\n}\nbutton.collapser {\n  max-width: 1em;\n  height: 100%;\n  border-color: transparent !important;\n  background-color: rgba(17, 17, 17, 0.0666666667);\n  display: flex;\n  float: right;\n  margin: 0px;\n  padding: 0px;\n}\nbutton.collapser:hover {\n  border-color: rgba(255, 255, 255, 0.2666666667) !important;\n  background-color: rgba(0, 0, 0, 0.2);\n}\nbutton.collapser::after {\n  content: "‖";\n  margin: auto;\n}\nbutton.collapser-h {\n  max-height: 1.33em;\n  width: 100% !important;\n  border-color: transparent !important;\n  background-color: rgba(17, 17, 17, 0.0666666667);\n  display: flex;\n  margin: 0px;\n  padding: 0px;\n}\nbutton.collapser-h:hover {\n  border-color: rgba(255, 255, 255, 0.2666666667) !important;\n  background-color: rgba(0, 0, 0, 0.2);\n}\nbutton.collapser-h::after {\n  content: "═";\n  margin: auto;\n}\n\n.tab-container {\n  width: 100vw;\n  height: 100vh;\n  -webkit-user-select: none;\n}\n.tab-container .button-container {\n  width: 100%;\n  text-align: center;\n}\n.tab-container .button-container button {\n  border: none;\n  outline: none;\n  padding: 4px;\n  height: 100%;\n  width: fit-content;\n}\n.tab-container .window-control {\n  text-align: left;\n  height: 0px;\n  overflow: visible;\n}\n.tab-container .window-control button {\n  border: none;\n  outline: none;\n  background-color: transparent;\n}\n.tab-container .window-control button.close:hover {\n  background-color: #9e0f0f;\n}\n.tab-container .window-control button.minimize:hover {\n  background-color: #c9c911;\n}\n.tab-container .window-control button.maximize:hover {\n  background-color: #4eb94e;\n}\n.tab-container .tab-pane {\n  height: 80%;\n  box-sizing: border-box;\n  -webkit-app-region: no-drag;\n  -webkit-user-select: text;\n}\n\n.row {\n  display: flex;\n  margin: auto;\n}\n.row:has(~ .collapsible-row .collapsed) {\n  height: 90vh !important;\n}\n\n.column {\n  width: 100%;\n}\n\n.collapsible-column {\n  min-width: 2%;\n  width: fit-content;\n}\n\n.collapsible-row:has(.collapsed) {\n  height: 3vh !important;\n}\n\n.collapsed {\n  display: none;\n}\n\n.text-left {\n  text-align: left;\n}\n.text-right {\n  text-align: right;\n}\n.text-center {\n  text-align: center;\n}\n\n.prelined {\n  white-space: pre-line;\n  /* This is solely to make the \n character work from the JS side */\n}\n\np {\n  margin: 0px;\n}\n\ndiv[id=tables-pane] {\n  font-family: Gentium;\n  font-size: 11pt;\n}\n\nh1, h2, h3, h4, h5, h6 {\n  font-style: italic;\n  padding-top: 1em !important;\n}\n\n.info {\n  font-family: serif;\n  font-size: 11pt;\n  font-style: italic;\n  line-height: 1.5em;\n  -webkit-user-select: none;\n}\n\n.phonology {\n  font-family: Gentium;\n  font-size: 11pt;\n  width: 95%;\n}\n\n.version-info {\n  font-family: serif;\n  font-size: 7pt;\n  text-align: left;\n  display: inline;\n  float: right;\n  -webkit-user-select: none;\n}\n\n.lex-body {\n  white-space: pre-line;\n}\n.lex-entry {\n  font-family: Gentium;\n  font-size: 11pt;\n  transition: 0.3s;\n  padding: 1em;\n}\n\n.variants {\n  font-family: Gentium;\n  font-size: 11pt;\n}\n.variants div.column {\n  margin: 0.6em;\n}\n\n.capitalize {\n  text-transform: capitalize;\n}\n\n.tag-item {\n  font-family: serif;\n  font-size: 7pt;\n  border-radius: 7%;\n  width: fit-content;\n  padding: 0.2em;\n  margin: 0.2em;\n  text-transform: uppercase;\n  display: inline-block;\n}\n\n.sense {\n  font-family: Gentium;\n  font-size: 9pt;\n  border-radius: 7%;\n  width: fit-content;\n  padding: 0.2em;\n  margin: 0.2em;\n  font-weight: bold;\n  font-style: italic;\n  display: inline-block;\n  background-color: transparent;\n  margin-top: 1em;\n}\n\n.lect {\n  font-family: serif;\n  font-size: 9pt;\n  font-style: italic;\n  margin-top: 0.1em;\n}\n\n[id=entry-counter] {\n  font-family: serif;\n  font-size: 7pt;\n  border-radius: 7%;\n  width: fit-content;\n  padding: 0.2em;\n  margin: 0.2em;\n  text-transform: uppercase;\n  font-weight: bold;\n  margin: auto;\n}\n\n.scrolled {\n  overflow-y: auto;\n  overflow-x: wrap;\n}\n\n.container {\n  border-radius: 6px;\n  text-align: center;\n  margin: 6px;\n  padding: 6px;\n}\n\n.row button {\n  padding: 2px 10px 2px 10px;\n  margin: 4px auto 4px auto;\n  display: flex;\n  width: fit-content;\n  border: 1px solid black;\n  border-radius: 8px;\n}\n\nlabel {\n  font-family: serif;\n  font-size: 11pt;\n  -webkit-user-select: none;\n}\n\n.pronunciation {\n  font-family: Gentium;\n  font-size: 9pt;\n}\n\ntextarea, input {\n  font-family: Gentium;\n  font-size: 11pt;\n  display: flex;\n  text-align: center;\n  padding: 4px;\n  margin: 1px auto 1px auto;\n  border: none;\n  border-radius: 3px;\n  width: 80%;\n  resize: vertical;\n  transition: 0.2s;\n}\ntextarea .pronunciation, input .pronunciation {\n  font-family: Gentium;\n  font-size: 9pt;\n}\ntextarea[type=number], input[type=number] {\n  padding: 1px;\n  width: 4em;\n}\ntextarea[type=checkbox], input[type=checkbox] {\n  appearance: none;\n  margin: auto;\n  font: inherit;\n  width: 1rem;\n  height: 1rem;\n  border-radius: 0.15em;\n  transform: translateY(-0.075em);\n  display: grid;\n  place-content: center;\n}\ntextarea[type=checkbox]::before, input[type=checkbox]::before {\n  content: "";\n  width: 0.65em;\n  height: 0.65em;\n  transform: scale(0);\n  transition: 120ms transform ease-in-out;\n}\ntextarea[type=checkbox]:checked::before, input[type=checkbox]:checked::before {\n  transform: scale(1);\n  clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);\n}\n\n.header input {\n  width: 70%;\n}\n\n.narrow {\n  width: 50%;\n  margin: auto;\n}\n.narrow-col {\n  width: 15%;\n}\n\n.search {\n  text-align: left;\n  width: 100%;\n  margin: 2px auto 2px auto;\n}\n\n.search-container {\n  padding: 0 0.5em 0 0.5em;\n  position: relative;\n}\n\ntable {\n  border-collapse: collapse;\n  width: 95%;\n}\ntable-container {\n  font-family: Gentium;\n  font-size: 11pt;\n  margin: auto;\n  padding: 30px 5%;\n}\ntable-title {\n  font-family: Gentium;\n  font-size: 14pt;\n  font-style: italic;\n}\n\ntd {\n  padding: 2px 6px 2px 6px;\n  text-align: center;\n  user-select: none;\n}\n\n.inflection {\n  font-family: Gentium;\n  font-size: 7pt;\n}\n.inflection h1, .inflection h2, .inflection h3, .inflection h4, .inflection h5, .inflection h6 {\n  padding-top: 0.2em;\n}\n.inflection h1 {\n  font-size: 1.5em;\n}\n.inflection h2 {\n  font-size: 1.3em;\n}\n.inflection h3 {\n  font-size: 1.1em;\n}\n.inflection h4 {\n  font-size: 1em;\n}\n.inflection h5 {\n  font-size: 0.9em;\n}\n.inflection h6 {\n  font-size: 0.8em;\n}\n\n::-webkit-scrollbar {\n  width: 9px;\n}\n::-webkit-scrollbar-thumb {\n  border-radius: 6px;\n  transition: 0.2s;\n}\n::-webkit-scrollbar-button {\n  display: none;\n}\n::-webkit-scrollbar-corner {\n  border-radius: 6px 0px 0px 0px;\n}\n::-webkit-resizer {\n  border-radius: 6px 0px 0px 0px;\n}\n\nhr {\n  margin-bottom: 0.2em;\n  margin-top: 0.2em;\n  max-width: 66.66%;\n  padding: 0px;\n}\n\n.milkyWay {\n  width: 100px;\n  height: 100px;\n  background: transparent;\n  margin: auto;\n  position: relative;\n  border-radius: 50%;\n}\n.milkyWay .planet {\n  border: 1px solid white;\n  animation-name: orbit;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n  animation-play-state: paused;\n}\n.milkyWay .planet::before, .milkyWay .planet::after {\n  position: absolute;\n  content: "";\n  display: block;\n  border-radius: 50%;\n}\n.milkyWay > div {\n  position: absolute;\n  border-radius: 50%;\n}\n\n.sun {\n  background: #faca09;\n  width: 10%;\n  height: 10%;\n  top: 45%;\n  left: 45%;\n}\n\n.mercury {\n  width: 20%;\n  height: 20%;\n  top: calc(40% - 1px);\n  left: calc(40% - 1px);\n  animation-duration: 2s;\n}\n.mercury::before {\n  background: #9fb5b6;\n  width: 16%;\n  height: 16%;\n  top: -8%;\n  left: 42%;\n}\n\n.venus {\n  width: 30%;\n  height: 30%;\n  top: calc(35% - 1px);\n  left: calc(35% - 1px);\n  animation-duration: 3s;\n}\n.venus::before {\n  background: #ECC98E;\n  width: 10%;\n  height: 10%;\n  top: -5%;\n  left: 45%;\n}\n\n.earth {\n  width: 40%;\n  height: 40%;\n  top: calc(30% - 1px);\n  left: calc(30% - 1px);\n  animation-duration: 4s;\n}\n.earth::before {\n  background: #208fd8;\n  width: 10%;\n  height: 10%;\n  top: -5%;\n  left: 45%;\n}\n.earth::after {\n  background: #33c470;\n  width: 10%;\n  height: 6%;\n  top: -3%;\n  left: 45%;\n  transform: rotate(45deg);\n}\n\n.mars {\n  width: 50%;\n  height: 50%;\n  top: calc(25% - 1px);\n  left: calc(25% - 1px);\n  animation-duration: 5s;\n}\n.mars::before {\n  background: #d35400;\n  width: 6%;\n  height: 6%;\n  top: -3%;\n  left: 47%;\n}\n\n.jupiter {\n  width: 60%;\n  height: 60%;\n  top: calc(20% - 1px);\n  left: calc(20% - 1px);\n  animation-duration: 6s;\n}\n.jupiter::before {\n  background: #d4975a;\n  width: 10%;\n  height: 10%;\n  top: -5%;\n  left: 45%;\n}\n\n.saturn {\n  width: 70%;\n  height: 70%;\n  top: calc(15% - 1px);\n  left: calc(15% - 1px);\n  animation-duration: 7s;\n}\n.saturn::before {\n  background: #E4D191;\n  width: 7%;\n  height: 7%;\n  top: -4%;\n  left: 48%;\n}\n.saturn::after {\n  background: #F0E4C1;\n  width: 12%;\n  height: 1%;\n  top: -1%;\n  left: 45.5%;\n  transform: rotate(-15deg);\n}\n\n.uranus {\n  width: 80%;\n  height: 80%;\n  top: calc(10% - 1px);\n  left: calc(10% - 1px);\n  animation-duration: 8s;\n}\n.uranus::before {\n  background: #3498db;\n  width: 5%;\n  height: 5%;\n  top: -2%;\n  left: 48%;\n}\n.uranus::after {\n  background: #b0d0e5;\n  width: 8%;\n  height: 0.5%;\n  top: 0%;\n  left: 46.25%;\n  transform: rotate(-15deg);\n}\n\n.neptune {\n  width: 90%;\n  height: 90%;\n  top: calc(5% - 1px);\n  left: calc(5% - 1px);\n  animation-duration: 9s;\n}\n.neptune::before {\n  background: #1269a3;\n  width: 4%;\n  height: 4%;\n  top: -1%;\n  left: 49%;\n}\n.neptune::after {\n  background: #91cbf2;\n  width: 6%;\n  height: 0.5%;\n  top: 0.5%;\n  left: 48%;\n  transform: rotate(-15deg);\n}\n\n.pluto {\n  width: 100%;\n  height: 100%;\n  top: calc(0% - 1px);\n  left: calc(0% - 1px);\n  animation-duration: 10s;\n}\n.pluto::before {\n  background: #b78c7a;\n  width: 1%;\n  height: 1%;\n  top: -0.5%;\n  left: 49.5%;\n}\n\n@keyframes orbit {\n  0% {\n    transform: rotate(-180deg);\n  }\n  100% {\n    transform: rotate(180deg);\n  }\n}\n/* EditorJS Overrides */\n.ce-toolbar__plus {\n  transition: 0.33s;\n}\n.ce-toolbar__content {\n  max-width: 90% !important;\n}\n.ce-block__content {\n  max-width: 80% !important;\n}\n.ce-block--selected .ce-block__content {\n  background-color: rgba(255, 255, 255, 0.3333333333) !important;\n}\n\n::selection {\n  background-color: rgba(255, 255, 255, 0.3333333333) !important;\n}\n\n/*# sourceMappingURL=index.css.map */\n\n';function Ai(e,t,n){const o=e.slice();return o[17]=t[n],o}function ji(e){let t,n,o,r,i,a,s,l=e[5].Lects,c=[];for(let t=0;t<l.length;t+=1)c[t]=Ni(Ai(e,l,t));return{c(){t=C("br"),n=E(),o=C("label"),r=_("Lect\n                        "),i=C("select");for(let e=0;e<c.length;e+=1)c[e].c();void 0===e[4]&&te((()=>e[12].call(i)))},m(l,u){w(l,t,u),w(l,n,u),w(l,o,u),m(o,r),m(o,i);for(let e=0;e<c.length;e+=1)c[e].m(i,null);j(i,e[4]),a||(s=O(i,"change",e[12]),a=!0)},p(e,t){if(32&t){let n;for(l=e[5].Lects,n=0;n<l.length;n+=1){const o=Ai(e,l,n);c[n]?c[n].p(o,t):(c[n]=Ni(o),c[n].c(),c[n].m(i,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}48&t&&j(i,e[4])},d(e){e&&k(t),e&&k(n),e&&k(o),x(c,e),a=!1,s()}}}function Ni(e){let t,n,o,r=e[17]+"";return{c(){t=C("option"),n=_(r),t.__value=o=e[17],t.value=t.__value},m(e,o){w(e,t,o),m(t,n)},p(e,i){32&i&&r!==(r=e[17]+"")&&P(n,r),32&i&&o!==(o=e[17])&&(t.__value=o,t.value=t.__value)},d(e){e&&k(t)}}}function $i(t){let n,o,r,a,s,l,c,u,d,f,h,p,g,v,y,b,x,S,T,L,B,I,P,A,j,N,$,D,F=t[3]&&t[5].UseLects&&ji(t);return{c(){n=C("div"),o=C("div"),r=C("label"),a=_("Sound Changes\n            "),s=C("br"),l=E(),c=C("label"),u=_("Base From Pronunciations\n                    "),d=C("input"),f=E(),F&&F.c(),h=E(),p=C("textarea"),g=E(),v=C("label"),y=_("Test Changes\n            "),b=C("textarea"),x=E(),S=C("textarea"),L=E(),B=C("div"),I=C("label"),P=_("New Language Name\n            "),A=C("input"),j=E(),N=C("button"),N.textContent="Save File and Evolve Lexicon",M(d,"type","checkbox"),M(p,"rows","5"),M(p,"class","text-left"),M(b,"rows","3"),M(S,"rows","3"),M(S,"class","pronunciation"),S.value=T=t[10](t[1]),S.readOnly=!0,M(o,"class","column"),M(A,"type","text"),M(N,"class","hover-highlight hover-shadow"),M(B,"class","column"),M(n,"class","row narrow")},m(e,i){w(e,n,i),m(n,o),m(o,r),m(r,a),m(r,s),m(r,l),m(r,c),m(c,u),m(c,d),d.checked=t[3],m(c,f),F&&F.m(c,null),m(r,h),m(r,p),R(p,t[0]),m(o,g),m(o,v),m(v,y),m(v,b),R(b,t[1]),m(v,x),m(v,S),m(n,L),m(n,B),m(B,I),m(I,P),m(I,A),R(A,t[2]),m(B,j),m(B,N),$||(D=[O(d,"change",t[11]),O(p,"input",t[13]),O(b,"input",t[14]),O(A,"input",t[15]),O(N,"click",t[16])],$=!0)},p(e,[t]){8&t&&(d.checked=e[3]),e[3]&&e[5].UseLects?F?F.p(e,t):(F=ji(e),F.c(),F.m(c,null)):F&&(F.d(1),F=null),1&t&&R(p,e[0]),2&t&&R(b,e[1]),2&t&&T!==(T=e[10](e[1]))&&(S.value=T),4&t&&A.value!==e[2]&&R(A,e[2])},i:e,o:e,d(e){e&&k(n),F&&F.d(),$=!1,i(D)}}}function Di(e,t,n){let o,r,i,a;u(e,Be,(e=>n(5,o=e))),u(e,Le,(e=>n(6,r=e))),u(e,We,(e=>n(7,i=e))),u(e,De,(e=>n(8,a=e)));const s=require("vex-js");let l="",c="",f="",h=!1,p=o.Lects[0];function g(e){const t=ot(l);return nt(t.rules,e,t.categories)}return[l,c,f,h,p,o,r,i,a,s,g,function(){h=this.checked,n(3,h)},function(){p=N(this),n(4,p)},function(){l=this.value,n(0,l)},function(){c=this.value,n(1,c)},function(){f=this.value,n(2,f)},()=>{f===o.Name&&s.dialog.alert("The new language must have a different name."),Si();const e=structuredClone(r);e.Name=f,e.ShowEtymology=!0,Object.keys(o.Lexicon).forEach((t=>{let n=structuredClone(t);if(h){if(!o.Lexicon[t].pronunciations.hasOwnProperty(p))return;n=o.Lexicon[t].pronunciations[p].ipa}const r=g(n);e.Lexicon[r]=structuredClone(o.Lexicon[t]),e.Lexicon[r].pronunciations={General:{ipa:r,irregular:!1}},e.Lexicon[r].Senses.forEach((e=>{e.lects=["General"]})),e.Relatives[o.Name]=structuredClone(o.Lexicon),o.Etymologies[t]?(e.Etymologies[t]=o.Etymologies[t],e.Etymologies[t].source=o.Name,e.Etymologies[t].descendants.forEach((e=>{"<< THIS LANGUAGE >>"===e.source&&(e.source=o.Name)}))):e.Etymologies[t]={descendants:[],source:o.Name},e.Etymologies[r]={descendants:[],source:"<< THIS LANGUAGE >>"},e.Etymologies[t].descendants.push({name:r,source:"<< THIS LANGUAGE >>"})})),i&&d(We,i=!1,i),window.setTimeout((()=>d(We,i=structuredClone(o),i)),100),a.destroy(),ui(!1),d(Be,o=e,o),Si()}]}class Fi extends Ce{constructor(e){super(),xe(this,e,Di,$i,s,{})}}function Hi(e,t,n){const o=e.slice();return o[26]=t[n],o}function zi(t){let n;return{c(){n=C("div"),M(n,"class","planet "+t[26])},m(e,t){w(e,n,t)},p:e,d(e){e&&k(n)}}}function Ui(e){let t,n,o,r,i,a,s,l=e[2].Name+"";return{c(){t=C("p"),n=_("Reference Language: "),o=_(l),r=E(),i=C("button"),i.textContent="Close Reference File",M(i,"class","hover-highlight hover-shadow")},m(l,c){w(l,t,c),m(t,n),m(t,o),w(l,r,c),w(l,i,c),a||(s=O(i,"click",e[9]),a=!0)},p(e,t){4&t&&l!==(l=e[2].Name+"")&&P(o,l)},d(e){e&&k(t),e&&k(r),e&&k(i),a=!1,s()}}}function Wi(e){let t,n,o;return{c(){t=C("input"),M(t,"type","number")},m(r,i){w(r,t,i),R(t,e[0].pronunciations),n||(o=O(t,"input",e[12]),n=!0)},p(e,n){1&n&&I(t.value)!==e[0].pronunciations&&R(t,e[0].pronunciations)},d(e){e&&k(t),n=!1,o()}}}function Vi(e){let t,n,o;return{c(){t=C("input"),M(t,"type","number")},m(r,i){w(r,t,i),R(t,e[0].tags),n||(o=O(t,"input",e[15]),n=!0)},p(e,n){1&n&&I(t.value)!==e[0].tags&&R(t,e[0].tags)},d(e){e&&k(t),n=!1,o()}}}function Gi(e){let t,n,o,r,a,s,l,c,u,d,f,h,p,g,v,y,b,S,T,L,B,j,N,$,D,F,H,z,U,W,V,G,q,Y,X,K,Z,J,Q,ee,te,ne,oe,re,ie,ae,se,le,ce,ue,de,fe,ge,ve,me,ke,xe,Ce,Se,_e,Ee,Te,Oe,Me,Le,Be,Ie,Pe,Re,Ae,je,Ne,$e,De,Fe,He,ze,Ue,We,Ve,Ge,qe,Ye,Xe,Ke,Ze,Je,Qe,et,tt,nt,ot,rt,it,at,st,lt,ct,ut,dt,ft,ht,pt,gt,vt,mt,yt,bt,wt,kt,xt,Ct,St,_t,Et,Tt=["mercury","venus","earth","mars","jupiter","saturn","uranus","neptune","pluto"],Ot=[];for(let t=0;t<9;t+=1)Ot[t]=zi(Hi(e,Tt,t));let Mt="object"==typeof e[2]&&Ui(e);ge=new Fi({});let Lt=e[0].pronunciations_bool&&Wi(e),Bt=e[0].tags_bool&&Vi(e);return{c(){t=C("div"),n=C("div"),o=C("div"),r=C("p"),r.textContent="Document",a=E(),s=C("label"),s.textContent="Name",l=E(),c=C("input"),u=E(),d=C("br"),f=E(),h=C("div"),p=C("div"),g=C("button"),g.textContent="Save…",v=E(),y=C("button"),y.textContent="Open…",b=E(),S=C("p"),S.textContent="Save your lexicon or open a previously saved one.",T=E(),L=C("div"),B=C("div"),j=C("div"),N=E();for(let e=0;e<9;e+=1)Ot[e].c();$=E(),D=C("p"),F=_(e[1]),H=E(),z=C("div"),U=C("button"),U.textContent="Export…",W=E(),V=C("button"),V.textContent="Import…",G=E(),q=C("p"),q.textContent="Export and import your own copies of the lexicon file.",Y=E(),X=C("br"),K=E(),Z=C("p"),Z.textContent="Lexicon Header Tags",J=E(),Q=C("div"),ee=C("textarea"),te=E(),ne=C("p"),ne.textContent="Entries with these tags will be sorted separately at the top of the lexicon.",oe=E(),re=C("br"),ie=E(),ae=C("button"),ae.textContent="Open Reference File",se=E(),Mt&&Mt.c(),le=E(),ce=C("br"),ue=E(),de=C("p"),de.textContent="Evolve Language",fe=E(),ye(ge.$$.fragment),ve=E(),me=C("br"),ke=E(),xe=C("p"),xe.textContent="Export Lexicon",Ce=E(),Se=C("p"),Se.textContent="HTML",_e=E(),Ee=C("div"),Te=C("div"),Oe=C("button"),Oe.textContent="Lexicon Only",Me=E(),Le=C("div"),Be=C("button"),Be.textContent="Lexicon & Docs",Ie=E(),Pe=C("div"),Re=C("button"),Re.textContent="Documentation Only",Ae=E(),je=C("button"),je.textContent="Text File",Ne=E(),$e=C("button"),$e.textContent="CSV",De=E(),Fe=C("button"),Fe.textContent="JSON",He=E(),ze=C("br"),Ue=E(),We=C("p"),We.textContent="Import Lexicon from CSV",Ve=E(),Ge=C("div"),qe=C("div"),Ye=C("div"),Xe=C("label"),Ke=_("Words Column\n                            "),Ze=C("input"),Je=E(),Qe=C("div"),et=C("label"),tt=_("Pronunciations Column\n                            "),nt=C("input"),ot=E(),Lt&&Lt.c(),rt=E(),it=C("div"),at=C("label"),st=_("Definitions Column\n                            "),lt=C("input"),ct=E(),ut=C("div"),dt=C("label"),ft=_("Tags Column\n                            "),ht=C("input"),pt=E(),Bt&&Bt.c(),gt=E(),vt=C("label"),vt.textContent="First Row Is Column Labels",mt=E(),yt=C("input"),bt=E(),wt=C("button"),wt.textContent="Import",kt=E(),xt=C("br"),Ct=C("br"),M(s,"for","file-name"),M(c,"type","text"),M(c,"id","file-name"),M(g,"class","hover-highlight hover-shadow"),M(y,"class","hover-highlight hover-shadow"),M(S,"class","info"),M(p,"class","column"),M(j,"class","sun"),M(B,"class","milkyWay"),M(L,"class","column"),M(U,"class","hover-highlight hover-shadow"),M(V,"class","hover-highlight hover-shadow"),M(q,"class","info"),M(z,"class","column"),M(h,"class","narrow row"),M(ne,"class","info"),M(Q,"class","narrow"),M(ae,"class","hover-highlight hover-shadow"),M(Oe,"class","hover-highlight hover-shadow"),M(Te,"class","column"),M(Be,"class","hover-highlight hover-shadow"),M(Le,"class","column"),M(Re,"class","hover-highlight hover-shadow"),M(Pe,"class","column"),M(Ee,"class","row narrow"),M(je,"class","hover-highlight hover-shadow"),M($e,"class","hover-highlight hover-shadow"),M(Fe,"class","hover-highlight hover-shadow"),M(Ze,"type","number"),M(Ye,"class","column"),M(nt,"type","checkbox"),M(Qe,"class","column"),M(lt,"type","number"),M(it,"class","column"),M(ht,"type","checkbox"),M(ut,"class","column"),M(qe,"class","row"),M(Ge,"class","narrow"),M(vt,"for","row-one-is-labels"),M(yt,"type","checkbox"),M(yt,"id","row-one-is-labels"),M(wt,"class","hover-highlight hover-shadow"),M(o,"class","column container"),A(o,"overflow-y","auto"),M(n,"class","row"),A(n,"height","95vh"),M(t,"class","tab-pane")},m(i,k){w(i,t,k),m(t,n),m(n,o),m(o,r),m(o,a),m(o,s),m(o,l),m(o,c),R(c,e[3].Name),m(o,u),m(o,d),m(o,f),m(o,h),m(h,p),m(p,g),m(p,v),m(p,y),m(p,b),m(p,S),m(h,T),m(h,L),m(L,B),m(B,j),m(B,N);for(let e=0;e<9;e+=1)Ot[e].m(B,null);m(L,$),m(L,D),m(D,F),m(h,H),m(h,z),m(z,U),m(z,W),m(z,V),m(z,G),m(z,q),m(o,Y),m(o,X),m(o,K),m(o,Z),m(o,J),m(o,Q),m(Q,ee),R(ee,e[3].HeaderTags),m(Q,te),m(Q,ne),m(o,oe),m(o,re),m(o,ie),m(o,ae),m(o,se),Mt&&Mt.m(o,null),m(o,le),m(o,ce),m(o,ue),m(o,de),m(o,fe),be(ge,o,null),m(o,ve),m(o,me),m(o,ke),m(o,xe),m(o,Ce),m(o,Se),m(o,_e),m(o,Ee),m(Ee,Te),m(Te,Oe),m(Ee,Me),m(Ee,Le),m(Le,Be),m(Ee,Ie),m(Ee,Pe),m(Pe,Re),m(o,Ae),m(o,je),m(o,Ne),m(o,$e),m(o,De),m(o,Fe),m(o,He),m(o,ze),m(o,Ue),m(o,We),m(o,Ve),m(o,Ge),m(Ge,qe),m(qe,Ye),m(Ye,Xe),m(Xe,Ke),m(Xe,Ze),R(Ze,e[0].words),m(qe,Je),m(qe,Qe),m(Qe,et),m(et,tt),m(et,nt),R(nt,e[0].pronunciations_bool),m(et,ot),Lt&&Lt.m(et,null),m(qe,rt),m(qe,it),m(it,at),m(at,st),m(at,lt),R(lt,e[0].definitions),m(qe,ct),m(qe,ut),m(ut,dt),m(dt,ft),m(dt,ht),R(ht,e[0].tags_bool),m(dt,pt),Bt&&Bt.m(dt,null),m(o,gt),m(o,vt),m(o,mt),m(o,yt),yt.checked=e[0].headers,m(o,bt),m(o,wt),m(o,kt),m(o,xt),m(o,Ct),St=!0,_t||(Et=[O(c,"input",e[7]),O(g,"click",Si),O(y,"click",e[4]),O(U,"click",_i),O(V,"click",e[5]),O(ee,"input",e[8]),O(ae,"click",e[6]),O(Oe,"click",Mi.lexicon),O(Be,"click",Mi.all),O(Re,"click",Mi.docs),O(je,"click",Ei),O($e,"click",Ti),O(Fe,"click",Oi),O(Ze,"input",e[10]),O(nt,"change",e[11]),O(lt,"input",e[13]),O(ht,"change",e[14]),O(yt,"change",e[16]),O(wt,"click",e[17])],_t=!0)},p(e,[t]){8&t&&c.value!==e[3].Name&&R(c,e[3].Name),(!St||2&t)&&P(F,e[1]),8&t&&R(ee,e[3].HeaderTags),"object"==typeof e[2]?Mt?Mt.p(e,t):(Mt=Ui(e),Mt.c(),Mt.m(o,le)):Mt&&(Mt.d(1),Mt=null),1&t&&I(Ze.value)!==e[0].words&&R(Ze,e[0].words),1&t&&R(nt,e[0].pronunciations_bool),e[0].pronunciations_bool?Lt?Lt.p(e,t):(Lt=Wi(e),Lt.c(),Lt.m(et,null)):Lt&&(Lt.d(1),Lt=null),1&t&&I(lt.value)!==e[0].definitions&&R(lt,e[0].definitions),1&t&&R(ht,e[0].tags_bool),e[0].tags_bool?Bt?Bt.p(e,t):(Bt=Vi(e),Bt.c(),Bt.m(dt,null)):Bt&&(Bt.d(1),Bt=null),1&t&&(yt.checked=e[0].headers)},i(e){St||(he(ge.$$.fragment,e),St=!0)},o(e){pe(ge.$$.fragment,e),St=!1},d(e){e&&k(t),x(Ot,e),Mt&&Mt.d(),we(ge),Lt&&Lt.d(),Bt&&Bt.d(),_t=!1,i(Et)}}}function qi(e,t,n){let o,r,i,a,s,l,c;u(e,We,(e=>n(2,r=e))),u(e,Be,(e=>n(3,i=e))),u(e,ze,(e=>n(18,a=e))),u(e,De,(e=>n(19,s=e))),u(e,$e,(e=>n(20,l=e))),u(e,Le,(e=>n(21,c=e)));const f=require("fs"),h=require("path"),p=require("vex-js");let g={headers:!0,words:1,pronunciations_bool:!1,pronunciations:2,definitions:3,tags_bool:!1,tags:4};function v(e){if("number"==typeof e.Version||"1.8.x"===e.Version){try{Li[e.Version](e)}catch(t){p.dialog.alert(` \n                    The file you attempted to open was saved by an old version of Lexicanter (Version ~${e.Version}), \n                    which is no longer supported. Please contact the developer for assistance; the file is likely recoverable.\n                `)}return}let t;try{d(Be,i=structuredClone(c),i),t="There was a problem loading the settings of the file.",d(Be,i.CaseSensitive=e.CaseSensitive,i),d(Be,i.IgnoreDiacritics=e.IgnoreDiacritics,i),d(Be,i.HeaderTags=e.HeaderTags,i),d(Be,i.UseLects=e.UseLects,i),d(Be,i.ShowEtymology=e.ShowEtymology,i),d(Be,i.ShowInflection=e.ShowInflection,i),t="There was a problem loading the alphabet from the file.",d(Be,i.Alphabet=e.Alphabet,i),t="There was a problem loading the file’s lexicon data.",d(Be,i.Lexicon=e.Lexicon,i),d(Be,i.Lects=e.Lects,i),t="There was a problem loading the file’s phrasebook data.",d(Be,i.Phrasebook=e.Phrasebook,i),d($e,l=Object.keys(i.Phrasebook)[0],l),t="There was a problem loading the file’s documentation data.";let n=e.Docs;d(Be,i.Docs=n,i),s.destroy(),ui(n),t="There was a problem loading the pronunciations rules from the file.",d(Be,i.Pronunciations=e.Pronunciations,i),i.Lects.forEach(at),t="There was a problem loading the orthography data from the file.",e.Orthographies&&(d(Be,i.Orthographies=e.Orthographies,i),d(Be,i.ShowOrthography=e.ShowOrthography,i)),t="There was a problem loading the phonotactics rules from the file.",d(Be,i.Phonotactics=e.Phonotactics,i),t="There was a problem loading the inflection rules from the file.";let o=e.Inflections;e.Inflections.categories||(o.categories=""),d(Be,i.Inflections=e.Inflections,i),t="There was a problem loading the etymology data from the file.",d(Be,i.Etymologies=e.Etymologies,i)}catch(n){p.dialog.alert(t+" Please contact the developer for assistance."),Ye(t,n),Ze.logObj(e,"File Contents")}finally{d(ze,a++,a),Xe(`Opened and read the contents of '${i.Name}'.'`)}}return e.$$.update=()=>{e.$$.dirty},n(1,o=""),[g,o,r,i,async function(){let e,t=t=>{ki({title:"Open Lexicon",defaultPath:`${t}${h.sep}Lexicons${h.sep}`,properties:["openFile"]},(t=>{if(void 0===t)return document.querySelectorAll(".planet").forEach((e=>{e.style.animationPlayState="paused"})),n(1,o="No file selected."),void window.setTimeout((()=>{n(1,o="")}),5e3);f.readFile(t[0],"utf8",((r,a)=>{if(r)return console.log(r),window.alert("There was an issue loading your file. Please contact the developer."),Ye("Attempted to open a file.",r),document.querySelectorAll(".planet").forEach((e=>{e.style.animationPlayState="paused"})),n(1,o="Couldn’t open file."),void window.setTimeout((()=>{n(1,o="")}),5e3);e=JSON.parse(a),v(e),d(Be,i.Name=h.basename(t[0],".lexc"),i),document.querySelectorAll(".planet").forEach((e=>{e.style.animationPlayState="paused"})),n(1,o="Done!"),window.setTimeout((()=>{n(1,o="")}),5e3)}))}))};document.querySelectorAll(".planet").forEach((e=>{e.style.animationPlayState="running"})),n(1,o="Loading..."),await wi((e=>{f.existsSync(`${e}${h.sep}Lexicons${h.sep}`)?t(e):f.mkdir(`${e}${h.sep}Lexicons${h.sep}`,(()=>{Xe(`Created the 'Lexicons' folder in the user data folder at '${e}'.`),t(e)}))}))},async function(){document.querySelectorAll(".planet").forEach((e=>{e.style.animationPlayState="running"})),n(1,o="Loading...");let[e]=await window.showOpenFilePicker();await e.requestPermission({mode:"read"});let t=await e.getFile();if(!t.name.includes(".lexc"))return window.alert("The selected file was not a .lexc file."),document.querySelectorAll(".planet").forEach((e=>{e.style.animationPlayState="paused"})),n(1,o="Incorrect file type."),void window.setTimeout((()=>{n(1,o="")}),5e3);let r=await t.text();v(JSON.parse(r)),d(Be,i.Name=t.name.split(".")[0],i),document.querySelectorAll(".planet").forEach((e=>{e.style.animationPlayState="paused"})),n(1,o="Done!"),window.setTimeout((()=>{n(1,o="")}),5e3)},async function(){let e;await wi((t=>{(t=>{ki({title:"Open Lexicon",defaultPath:`${t}${h.sep}Lexicons${h.sep}`,properties:["openFile"]},(t=>{if(void 0===t)return document.querySelectorAll(".planet").forEach((e=>{e.style.animationPlayState="paused"})),n(1,o="No file selected."),void window.setTimeout((()=>{n(1,o="")}),5e3);f.readFile(t[0],"utf8",((t,a)=>t?(console.log(t),p.dialog.alert("There was an issue loading your file. Please contact the developer."),Ye("Attempted to open a file.",t),document.querySelectorAll(".planet").forEach((e=>{e.style.animationPlayState="paused"})),n(1,o="Couldn’t open file."),void window.setTimeout((()=>{n(1,o="")}),5e3)):(e=JSON.parse(a),e.Name===i.Name?(p.dialog.alert("You cannot open a reference to the same language."),document.querySelectorAll(".planet").forEach((e=>{e.style.animationPlayState="paused"})),n(1,o="Same language."),void window.setTimeout((()=>{n(1,o="")}),5e3)):(d(We,r=!1,r),void window.setTimeout((()=>{d(We,r=e,r)}),100)))))}))})(t)}))},function(){i.Name=this.value,Be.set(i)},function(){i.HeaderTags=this.value,Be.set(i)},()=>d(We,r=!1,r),function(){g.words=I(this.value),n(0,g)},function(){g.pronunciations_bool=this.value,n(0,g)},function(){g.pronunciations=I(this.value),n(0,g)},function(){g.definitions=I(this.value),n(0,g)},function(){g.tags_bool=this.value,n(0,g)},function(){g.tags=I(this.value),n(0,g)},function(){g.headers=this.checked,n(0,g)},()=>Ii(g.headers,g.words,g.definitions,!!g.pronunciations_bool&&g.pronunciations,!!g.tags_bool&&g.tags)]}class Yi extends Ce{constructor(e){super(),xe(this,e,qi,Gi,s,{})}}function Xi(e,t,n){const o=e.slice();return o[16]=t[n],o}function Ki(e,t,n){const o=e.slice();return o[16]=t[n],o[19]=t,o[20]=n,o}function Zi(e,t,n){const o=e.slice();return o[21]=t[n],o}function Ji(e){let t,n,o,r,i;function a(){e[6].call(t,e[19],e[20])}return{c(){t=C("select"),n=C("option"),n.textContent="Base from pronunciation",o=C("option"),o.textContent="Base from romanization",n.__value="ipa",n.value=n.__value,o.__value="rom",o.value=o.__value,void 0===e[16].root&&te(a)},m(s,l){w(s,t,l),m(t,n),m(t,o),j(t,e[16].root),r||(i=O(t,"change",a),r=!0)},p(n,o){e=n,4&o&&j(t,e[16].root)},d(e){e&&k(t),r=!1,i()}}}function Qi(t){let n;return{c(){n=C("p"),n.textContent=": Base input"},m(e,t){w(e,n,t)},p:e,d(e){e&&k(n)}}}function ea(e){let t,n,o,r,i,a=e[2].Lects,s=[];for(let t=0;t<a.length;t+=1)s[t]=ta(Zi(e,a,t));function l(){e[7].call(o,e[19],e[20])}return{c(){t=C("label"),n=_("Lect\n                        "),o=C("select");for(let e=0;e<s.length;e+=1)s[e].c();void 0===e[16].lect&&te(l)},m(a,c){w(a,t,c),m(t,n),m(t,o);for(let e=0;e<s.length;e+=1)s[e].m(o,null);j(o,e[16].lect),r||(i=O(o,"change",l),r=!0)},p(t,n){if(e=t,4&n){let t;for(a=e[2].Lects,t=0;t<a.length;t+=1){const r=Zi(e,a,t);s[t]?s[t].p(r,n):(s[t]=ta(r),s[t].c(),s[t].m(o,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=a.length}4&n&&j(o,e[16].lect)},d(e){e&&k(t),x(s,e),r=!1,i()}}}function ta(e){let t,n,o,r=e[21]+"";return{c(){t=C("option"),n=_(r),t.__value=o=e[21],t.value=t.__value},m(e,o){w(e,t,o),m(t,n)},p(e,i){4&i&&r!==(r=e[21]+"")&&P(n,r),4&i&&o!==(o=e[21])&&(t.__value=o,t.value=t.__value)},d(e){e&&k(t)}}}function na(e){let t,n,o;function r(){return e[9](e[20])}return{c(){t=C("button"),t.textContent="Delete",M(t,"class","hover-highlight hover-shadow")},m(e,i){w(e,t,i),n||(o=O(t,"click",r),n=!0)},p(t,n){e=t},d(e){e&&k(t),n=!1,o()}}}function oa(e){let t,n,o,r,a,s,l,c,u,d,f,h,p,g,v,y,b,x,S,L,B,I,P,R,j,N,$;function D(...t){return e[4](e[20],...t)}function F(...t){return e[5](e[20],...t)}function H(e,t){return"Romanization"===e[16].name?Qi:Ji}let z=H(e),U=z(e),W=e[2].UseLects&&"ipa"===e[16].root&&ea(e);function V(...t){return e[8](e[20],...t)}let G="Romanization"!==e[16].name&&na(e);return{c(){t=C("label"),n=_("Name\n                    "),o=C("input"),s=E(),l=C("label"),c=_("Font\n                    "),u=C("input"),h=E(),p=C("label"),g=_("Root\n                    "),U.c(),v=E(),W&&W.c(),y=E(),b=C("br"),x=E(),S=C("label"),L=_("Conversion Rules\n                    "),B=C("textarea"),R=E(),G&&G.c(),j=T(),M(o,"type","text"),o.value=r=e[16].name,o.readOnly=a="Romanization"===e[16].name,A(o,"background-color","Romanization"===e[16].name?"transparent":""),M(u,"type","text"),u.value=d=e[16].font,u.readOnly=f="Romanization"===e[16].name,A(u,"background-color","Romanization"===e[16].name?"transparent":""),B.value=I=e[16].rules,B.readOnly=P="Romanization"===e[16].name,A(B,"background-color","Romanization"===e[16].name?"transparent":"")},m(e,r){w(e,t,r),m(t,n),m(t,o),w(e,s,r),w(e,l,r),m(l,c),m(l,u),w(e,h,r),w(e,p,r),m(p,g),U.m(p,null),w(e,v,r),W&&W.m(e,r),w(e,y,r),w(e,b,r),w(e,x,r),w(e,S,r),m(S,L),m(S,B),w(e,R,r),G&&G.m(e,r),w(e,j,r),N||($=[O(o,"blur",D),O(u,"blur",F),O(B,"blur",V)],N=!0)},p(t,n){e=t,4&n&&r!==(r=e[16].name)&&o.value!==r&&(o.value=r),4&n&&a!==(a="Romanization"===e[16].name)&&(o.readOnly=a),4&n&&A(o,"background-color","Romanization"===e[16].name?"transparent":""),4&n&&d!==(d=e[16].font)&&u.value!==d&&(u.value=d),4&n&&f!==(f="Romanization"===e[16].name)&&(u.readOnly=f),4&n&&A(u,"background-color","Romanization"===e[16].name?"transparent":""),z===(z=H(e))&&U?U.p(e,n):(U.d(1),U=z(e),U&&(U.c(),U.m(p,null))),e[2].UseLects&&"ipa"===e[16].root?W?W.p(e,n):(W=ea(e),W.c(),W.m(y.parentNode,y)):W&&(W.d(1),W=null),4&n&&I!==(I=e[16].rules)&&(B.value=I),4&n&&P!==(P="Romanization"===e[16].name)&&(B.readOnly=P),4&n&&A(B,"background-color","Romanization"===e[16].name?"transparent":""),"Romanization"!==e[16].name?G?G.p(e,n):(G=na(e),G.c(),G.m(j.parentNode,j)):G&&(G.d(1),G=null)},d(e){e&&k(t),e&&k(s),e&&k(l),e&&k(h),e&&k(p),U.d(),e&&k(v),W&&W.d(e),e&&k(y),e&&k(b),e&&k(x),e&&k(S),e&&k(R),G&&G.d(e),e&&k(j),N=!1,i($)}}}function ra(e){let t,n,o,r=e[16].name+"";return{c(){t=C("option"),n=_(r),t.__value=o=e[16].name,t.value=t.__value},m(e,o){w(e,t,o),m(t,n)},p(e,i){4&i&&r!==(r=e[16].name+"")&&P(n,r),4&i&&o!==(o=e[16].name)&&(t.__value=o,t.value=t.__value)},d(e){e&&k(t)}}}function ia(t){let n,o,r,a,s,l,c,u,d,f,h,p,g,v,y,b,S,T=t[2].Orthographies,L=[];for(let e=0;e<T.length;e+=1)L[e]=oa(Ki(t,T,e));let B=t[2].Orthographies,I=[];for(let e=0;e<B.length;e+=1)I[e]=ra(Xi(t,B,e));return{c(){n=C("div"),o=C("div"),r=C("div");for(let e=0;e<L.length;e+=1)L[e].c();a=E(),s=C("button"),s.textContent="New Orthography",l=E(),c=C("div"),u=C("select");for(let e=0;e<I.length;e+=1)I[e].c();d=E(),f=C("label"),h=_("Test Input\n                "),p=C("textarea"),g=E(),v=C("textarea"),M(s,"class","hover-highlight hover-shadow"),M(r,"class","column container scrolled"),A(r,"height","92vh"),void 0===t[0]&&te((()=>t[11].call(u))),M(p,"rows","6"),M(v,"rows","6"),v.value=y=t[13](),v.readOnly=!0,A(v,"background-color","transparent"),A(v,"font-family",t[2].Orthographies.find(t[14])?.font||"Gentium"),M(c,"class","column container"),A(c,"height","92vh"),M(o,"class","row"),A(o,"height","100%"),M(n,"class","tab-pane")},m(e,i){w(e,n,i),m(n,o),m(o,r);for(let e=0;e<L.length;e+=1)L[e].m(r,null);m(r,a),m(r,s),m(o,l),m(o,c),m(c,u);for(let e=0;e<I.length;e+=1)I[e].m(u,null);j(u,t[0]),m(c,d),m(c,f),m(f,h),m(f,p),R(p,t[1]),m(f,g),m(f,v),b||(S=[O(s,"click",t[10]),O(u,"change",t[11]),O(p,"input",t[12])],b=!0)},p(e,[t]){if(12&t){let n;for(T=e[2].Orthographies,n=0;n<T.length;n+=1){const o=Ki(e,T,n);L[n]?L[n].p(o,t):(L[n]=oa(o),L[n].c(),L[n].m(r,a))}for(;n<L.length;n+=1)L[n].d(1);L.length=T.length}if(4&t){let n;for(B=e[2].Orthographies,n=0;n<B.length;n+=1){const o=Xi(e,B,n);I[n]?I[n].p(o,t):(I[n]=ra(o),I[n].c(),I[n].m(u,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=B.length}5&t&&j(u,e[0]),2&t&&R(p,e[1]),7&t&&y!==(y=e[13]())&&(v.value=y),5&t&&A(v,"font-family",e[2].Orthographies.find(e[14])?.font||"Gentium")},i:e,o:e,d(e){e&&k(n),x(L,e),x(I,e),b=!1,i(S)}}}function aa(e,t,n){let o;u(e,Be,(e=>n(2,o=e)));let r="",i="";const a=require("vex-js");function s(e,t,n){const r=e.target,i=r.value.trim();if("name"===t){if([i,...o.Orthographies.filter((e=>e.name===i))].length-1>1)return a.dialog.alert("The name must be unique."),void(r.value=`New Orthography ${n}`);if(""===i)return a.dialog.alert("The name cannot be blank."),void(r.value=`New Orthography ${n}`)}d(Be,o.Orthographies[n][t]=i,o)}return[r,i,o,s,(e,t)=>{s(t,"name",e)},(e,t)=>{s(t,"font",e)},function(e,t){e[t].root=N(this),Be.set(o)},function(e,t){e[t].lect=N(this),Be.set(o)},(e,t)=>{s(t,"rules",e)},e=>{d(Be,o.Orthographies=[...o.Orthographies.slice(0,e),...o.Orthographies.slice(e+1)],o)},()=>{d(Be,o.Orthographies=[...o.Orthographies,{name:`New Orthography ${o.Orthographies.length}`,font:"Gentium",root:"ipa",lect:o.Lects[0],rules:"",display:!0}],o)},function(){r=N(this),n(0,r)},function(){i=this.value,n(1,i)},()=>{const e=ot(o.Orthographies.find((e=>e.name===r))?.rules||"");return nt(e.rules,i,e.categories)},e=>e.name===r]}class sa extends Ce{constructor(e){super(),xe(this,e,aa,ia,s,{})}}function la(e,t,n){const o=e.slice();return o[28]=t[n],o[29]=t,o[30]=n,o}function ca(e,t,n){const o=e.slice();return o[31]=t[n],o}function ua(e,t,n){const o=e.slice();return o[34]=t[n],o[36]=n,o}function da(e){let t,n,o,r,i=e[0].Lects,a=[];for(let t=0;t<i.length;t+=1)a[t]=fa(ua(e,i,t));return{c(){for(let e=0;e<a.length;e+=1)a[e].c();t=E(),n=C("button"),n.textContent="+ Lect",M(n,"class","hover-highlight hover-shadow")},m(i,s){for(let e=0;e<a.length;e+=1)a[e].m(i,s);w(i,t,s),w(i,n,s),o||(r=O(n,"click",e[19]),o=!0)},p(e,n){if(1569&n[0]){let o;for(i=e[0].Lects,o=0;o<i.length;o+=1){const r=ua(e,i,o);a[o]?a[o].p(r,n):(a[o]=fa(r),a[o].c(),a[o].m(t.parentNode,t))}for(;o<a.length;o+=1)a[o].d(1);a.length=i.length}},d(e){x(a,e),e&&k(t),e&&k(n),o=!1,r()}}}function fa(e){let t,n,o,r,a,s,l,c,u,d,f,h=e[34]+"";function p(){return e[16](e[34],e[36])}function g(){return e[17](e[34],e[36])}function v(){return e[18](e[34])}return{c(){t=C("div"),n=C("p"),o=_(h),r=E(),a=C("button"),a.textContent="⌫",s=E(),l=C("button"),l.textContent="✎",c=E(),u=C("button"),u.textContent="◎",A(n,"display","inline-block"),M(n,"id",`${e[36]}`),M(a,"class","hover-highlight hover-shadow"),A(a,"display","inline-block"),M(l,"class","hover-highlight hover-shadow"),A(l,"display","inline-block"),M(u,"class","hover-highlight hover-shadow"),A(u,"display","inline-block"),M(t,"class","narrow")},m(e,i){w(e,t,i),m(t,n),m(n,o),m(t,r),m(t,a),m(t,s),m(t,l),m(t,c),m(t,u),d||(f=[O(a,"click",p),O(l,"click",g),O(u,"click",v)],d=!0)},p(t,n){e=t,1&n[0]&&h!==(h=e[34]+"")&&P(o,h)},d(e){e&&k(t),d=!1,i(f)}}}function ha(e){let t,n,o,r,i,a=Object.keys(e[0].Relatives),s=[];for(let t=0;t<a.length;t+=1)s[t]=pa(ca(e,a,t));return{c(){t=C("button"),t.textContent="Import Related Lexicon",n=E();for(let e=0;e<s.length;e+=1)s[e].c();o=T(),M(t,"class","hover-highlight hover-shadow")},m(a,l){w(a,t,l),w(a,n,l);for(let e=0;e<s.length;e+=1)s[e].m(a,l);w(a,o,l),r||(i=O(t,"click",e[21]),r=!0)},p(e,t){if(33&t[0]){let n;for(a=Object.keys(e[0].Relatives),n=0;n<a.length;n+=1){const r=ca(e,a,n);s[n]?s[n].p(r,t):(s[n]=pa(r),s[n].c(),s[n].m(o.parentNode,o))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}},d(e){e&&k(t),e&&k(n),x(s,e),e&&k(o),r=!1,i()}}}function pa(e){let t,n,o,r,i,a,s,l,c=e[31]+"";function u(){return e[22](e[31])}return{c(){t=C("div"),n=C("p"),o=_(c),r=E(),i=C("button"),i.textContent="⌫",a=E(),A(n,"display","inline-block"),M(i,"class","hover-highlight hover-shadow"),A(i,"display","inline-block"),M(t,"class","narrow")},m(e,c){w(e,t,c),m(t,n),m(n,o),m(t,r),m(t,i),m(t,a),s||(l=O(i,"click",u),s=!0)},p(t,n){e=t,1&n[0]&&c!==(c=e[31]+"")&&P(o,c)},d(e){e&&k(t),s=!1,l()}}}function ga(e){let t,n,o=e[0].Orthographies,r=[];for(let t=0;t<o.length;t+=1)r[t]=va(la(e,o,t));return{c(){t=C("label"),n=_("Display Orthographies\n                        ");for(let e=0;e<r.length;e+=1)r[e].c()},m(e,o){w(e,t,o),m(t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,n){if(1&n[0]){let i;for(o=e[0].Orthographies,i=0;i<o.length;i+=1){const a=la(e,o,i);r[i]?r[i].p(a,n):(r[i]=va(a),r[i].c(),r[i].m(t,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=o.length}},d(e){e&&k(t),x(r,e)}}}function va(e){let t,n,o,r,i,a,s,l,c,u,d=e[28].name+"";function f(){e[25].call(o,e[29],e[30])}return{c(){t=C("div"),n=C("div"),o=C("input"),r=E(),i=C("div"),a=C("p"),s=_(d),l=E(),M(o,"type","checkbox"),M(n,"class","column"),A(n,"align","right"),M(i,"class","column text-left"),M(t,"class","row narrow")},m(d,h){w(d,t,h),m(t,n),m(n,o),o.checked=e[28].display,m(t,r),m(t,i),m(i,a),m(a,s),m(t,l),c||(u=O(o,"change",f),c=!0)},p(t,n){e=t,1&n[0]&&(o.checked=e[28].display),1&n[0]&&d!==(d=e[28].name+"")&&P(s,d)},d(e){e&&k(t),c=!1,u()}}}function ma(t){let n,o,r,a,s,l,c,u,d,f,h,p,g,v,y,b,x,S,T,L,B,I,P,R,N,$,D,F,H,z,U,W,V,G,q,Y,X,K,Z,J,Q,ee,ne,oe,re,ie,ae,se,le,ce,ue,de,fe,he,pe,ge,ve,me,ye,be,we,ke,xe,Ce,Se,_e,Ee,Te,Oe,Me,Le,Be,Ie,Pe,Re,Ae,je,Ne,$e,De,Fe,He,ze,Ue,We,Ve=t[0].UseLects&&da(t),Ge=t[0].ShowEtymology&&ha(t),qe=t[0].ShowOrthography&&ga(t);return{c(){n=C("div"),o=C("div"),r=C("div"),a=C("br"),s=C("br"),l=E(),c=C("p"),c.textContent="Appearance Settings",u=E(),d=C("br"),f=E(),h=C("label"),p=_("Color Theme\n                "),g=C("select"),v=C("optgroup"),y=C("option"),y.textContent="☾ Dark",b=C("option"),b.textContent="☀ Light",x=C("optgroup"),S=C("option"),S.textContent="☾ Marine",T=C("option"),T.textContent="☾ Glade",L=C("option"),L.textContent="☾ Pomegranate",B=C("option"),B.textContent="☀ Juniper",I=C("option"),I.textContent="☀ Leatherbound",P=C("option"),P.textContent="☀ Wisteria",R=C("optgroup"),N=C("option"),N.textContent="☾ Purple Maar",$=C("option"),$.textContent="☾ Terminal",D=C("option"),D.textContent="☾ Midnight",F=C("option"),F.textContent="☀ Bone",H=C("optgroup"),z=C("option"),z.textContent="☀ Ēostre 2023",U=E(),W=C("br"),V=C("br"),G=E(),q=C("button"),q.textContent="Load Custom Theme…",Y=E(),X=C("br"),K=C("hr"),Z=C("br"),J=E(),Q=C("p"),Q.textContent="Save Settings",ee=E(),ne=C("br"),oe=E(),re=C("label"),ie=_("Auto-Save\n                "),ae=C("input"),se=E(),le=C("br"),ce=C("hr"),ue=C("br"),de=E(),fe=C("p"),fe.textContent="Advanced Settings",he=E(),pe=C("br"),ge=E(),ve=C("label"),me=_("Show Multi-Lect Features\n                "),ye=C("input"),be=E(),Ve&&Ve.c(),we=E(),ke=C("br"),xe=C("br"),Ce=E(),Se=C("label"),_e=_("Show Etymology Features\n                "),Ee=C("input"),Te=E(),Ge&&Ge.c(),Oe=E(),Me=C("br"),Le=C("br"),Be=E(),Ie=C("label"),Pe=_("Show Automatic Inflection Features\n                "),Re=C("input"),Ae=E(),je=C("br"),Ne=C("br"),$e=E(),De=C("label"),Fe=_("Show Alternate Orthography Features\n                "),He=C("input"),ze=E(),qe&&qe.c(),y.__value="styles/dark.css",y.value=y.__value,b.__value="styles/light.css",b.value=b.__value,M(v,"label","Simple Themes"),S.__value="styles/marine.css",S.value=S.__value,T.__value="styles/glade.css",T.value=T.__value,L.__value="styles/pomegranate.css",L.value=L.__value,B.__value="styles/juniper.css",B.value=B.__value,I.__value="styles/leatherbound.css",I.value=I.__value,P.__value="styles/wisteria.css",P.value=P.__value,M(x,"label","The Saturnine Collection"),N.__value="styles/purple_maar.css",N.value=N.__value,$.__value="styles/terminal_green.css",$.value=$.__value,D.__value="styles/midnight.css",D.value=D.__value,F.__value="styles/bone.css",F.value=F.__value,M(R,"label","The Maarz Collection"),z.__value="styles/eostre2023.css",z.value=z.__value,M(H,"label","The Holiday Collection"),M(g,"name","theme-select"),M(g,"id","theme-select"),void 0===t[3]&&te((()=>t[13].call(g))),M(q,"class","hover-highlight hover-shadow"),M(ae,"type","checkbox"),M(ye,"type","checkbox"),M(Ee,"type","checkbox"),M(Re,"type","checkbox"),M(He,"type","checkbox"),M(r,"class","container column scrolled"),A(r,"height","90vh"),M(o,"class","row"),A(o,"height","95vh"),M(n,"class","tab-pane")},m(e,i){w(e,n,i),m(n,o),m(o,r),m(r,a),m(r,s),m(r,l),m(r,c),m(r,u),m(r,d),m(r,f),m(r,h),m(h,p),m(h,g),m(g,v),m(v,y),m(v,b),m(g,x),m(x,S),m(x,T),m(x,L),m(x,B),m(x,I),m(x,P),m(g,R),m(R,N),m(R,$),m(R,D),m(R,F),m(g,H),m(H,z),j(g,t[3]),m(r,U),m(r,W),m(r,V),m(r,G),m(r,q),m(r,Y),m(r,X),m(r,K),m(r,Z),m(r,J),m(r,Q),m(r,ee),m(r,ne),m(r,oe),m(r,re),m(re,ie),m(re,ae),ae.checked=t[2],m(r,se),m(r,le),m(r,ce),m(r,ue),m(r,de),m(r,fe),m(r,he),m(r,pe),m(r,ge),m(r,ve),m(ve,me),m(ve,ye),ye.checked=t[0].UseLects,m(ve,be),Ve&&Ve.m(ve,null),m(r,we),m(r,ke),m(r,xe),m(r,Ce),m(r,Se),m(Se,_e),m(Se,Ee),Ee.checked=t[0].ShowEtymology,m(Se,Te),Ge&&Ge.m(Se,null),m(r,Oe),m(r,Me),m(r,Le),m(r,Be),m(r,Ie),m(Ie,Pe),m(Ie,Re),Re.checked=t[0].ShowInflection,m(r,Ae),m(r,je),m(r,Ne),m(r,$e),m(r,De),m(De,Fe),m(De,He),He.checked=t[0].ShowOrthography,m(De,ze),qe&&qe.m(De,null),Ue||(We=[O(g,"change",t[13]),O(g,"change",t[6]),O(q,"click",t[7]),O(ae,"change",t[14]),O(ae,"change",t[8]),O(ye,"change",t[15]),O(ye,"change",t[11]),O(Ee,"change",t[20]),O(Re,"change",t[23]),O(He,"change",t[24])],Ue=!0)},p(e,t){8&t[0]&&j(g,e[3]),4&t[0]&&(ae.checked=e[2]),1&t[0]&&(ye.checked=e[0].UseLects),e[0].UseLects?Ve?Ve.p(e,t):(Ve=da(e),Ve.c(),Ve.m(ve,null)):Ve&&(Ve.d(1),Ve=null),1&t[0]&&(Ee.checked=e[0].ShowEtymology),e[0].ShowEtymology?Ge?Ge.p(e,t):(Ge=ha(e),Ge.c(),Ge.m(Se,null)):Ge&&(Ge.d(1),Ge=null),1&t[0]&&(Re.checked=e[0].ShowInflection),1&t[0]&&(He.checked=e[0].ShowOrthography),e[0].ShowOrthography?qe?qe.p(e,t):(qe=ga(e),qe.c(),qe.m(De,null)):qe&&(qe.d(1),qe=null)},i:e,o:e,d(e){e&&k(n),Ve&&Ve.d(),Ge&&Ge.d(),qe&&qe.d(),Ue=!1,i(We)}}}function ya(e,t,n){let o,r,i,a,s;u(e,Be,(e=>n(0,o=e))),u(e,Re,(e=>n(1,r=e))),u(e,He,(e=>n(2,i=e))),u(e,Fe,(e=>n(3,a=e))),u(e,Pe,(e=>n(4,s=e)));const l=require("fs"),c=require("path"),f=require("vex-js");function h(e,t,n){""!==t?t!==e?o.Lects.includes(t)?f.dialog.alert("A lect with that name already exists."):(d(Be,o.Lects[n]=t,o),d(Be,o.Lects=[...o.Lects],o),Object.keys(o.Lexicon).forEach((n=>{o.Lexicon[n].pronunciations.hasOwnProperty(e)&&(d(Be,o.Lexicon[n].pronunciations[t]=o.Lexicon[n].pronunciations[e],o),delete o.Lexicon[n].pronunciations[e]),o.Lexicon[n].Senses.forEach((n=>{n.lects.includes(e)&&(n.lects.splice(n.lects.indexOf(e),1),n.lects.push(t))}))})),Object.keys(o.Phrasebook).forEach((n=>{Object.keys(o.Phrasebook[n]).forEach(((r,i)=>{const a=o.Phrasebook[n][r];a.pronunciations.hasOwnProperty(e)&&(a.pronunciations[t]=a.pronunciations[e],delete a.pronunciations[e]),a.lects.includes(e)&&(o.Phrasebook[n][r].lects.splice(a.lects.indexOf(e),1),o.Phrasebook[n][r].lects.push(t))}))})),o.Orthographies.forEach((n=>{n.lect===e&&(n.lect=t)})),d(Be,o.Pronunciations[t]=o.Pronunciations[e],o),r.hasOwnProperty(e)&&(d(Re,r[t]=r[e],r),delete r[e]),delete o.Pronunciations[e]):f.dialog.alert("The lect name is unchanged."):f.dialog.alert("The lect name cannot be blank.")}function p(e,t){o.Lects.splice(t,1),d(Be,o.Lects=[...o.Lects],o),delete o.Pronunciations[e],delete r[e],Object.keys(o.Lexicon).forEach((t=>{o.Lexicon[t].pronunciations[e]&&delete o.Lexicon[t].pronunciations[e],o.Lexicon[t].Senses.forEach(((n,r)=>{n.lects.includes(e)&&n.lects.splice(n.lects.indexOf(e),1),n.lects||o.Lexicon[t].Senses.splice(r,1)}))})),Object.keys(o.Phrasebook).forEach((t=>{Object.keys(o.Phrasebook[t]).forEach(((n,r)=>{const i=o.Phrasebook[t][n];if(i.pronunciations[e]&&delete i.pronunciations[e],i.lects.includes(e)&&o.Phrasebook[t][n].lects.splice(i.lects.indexOf(e),1),!i.lects){const{[n]:e,...r}=o.Phrasebook[t];d(Be,o.Phrasebook[t]=r,o)}}))})),o.Orthographies.forEach((t=>{t.lect===e&&(t.lect=o.Lects[0])})),d(Be,o.Lexicon={...o.Lexicon},o)}function g(){let e;const t=t=>{ki({title:"Import Related Lexicon",defaultPath:`${t}${c.sep}Lexicons${c.sep}`,properties:["openFile"]},(t=>{t&&l.readFile(t[0],"utf8",((t,n)=>{t&&(console.log(t),f.dialog.alert("There was an issue loading your file. Please contact the developer."));try{if(e=JSON.parse(n),!String(e.Version).match(/^2\.[0-9]*\.[0-9]*$/))return void f.dialog.alert(`\n                                    This file was saved with an old version of the app (~${e.Version})\n                                    and is not compatible with the current version of Lexicanter. Please contact\n                                    the developer; the file may be recoverable.\n                                `);const t=t=>{for(const n in e.Lexicon)o.Lexicon[n]||o.Etymologies[n]&&!t||d(Be,o.Etymologies[n]={descendants:[],source:e.Name},o)};e.Name in o.Relatives?f.dialog.confirm({message:`A relative lexicon with the name "${e.Name}" already exists. Would you like to overwrite it?`,callback:n=>{n&&(d(Be,o.Relatives[e.Name]=e.Lexicon,o),t(!0))}}):(d(Be,o.Relatives={...o.Relatives,[e.Name]:e.Lexicon},o),t(!1))}catch(t){return void f.dialog.alert("There was an issue loading the file. Please contact the developer.")}}))}))};wi((e=>{l.existsSync(`${e}${c.sep}Lexicons${c.sep}`)?t(e):l.mkdir(`${e}${c.sep}Lexicons${c.sep}`,(()=>{Xe(`Created the 'Lexicons' folder in the user data folder at '${e}'.`),t(e)}))}))}wi((e=>{l.existsSync(e+c.sep+"theme.txt")||l.writeFileSync(e+c.sep+"theme.txt","styles/dark.css");let t=l.readFileSync(e+c.sep+"theme.txt","utf8").toString();d(Fe,a=t,a)})),wi((e=>{l.existsSync(e+c.sep+"autosave_pref.txt")?d(He,i="true"===l.readFileSync(e+c.sep+"autosave_pref.txt","utf8"),i):(l.writeFileSync(e+c.sep+"autosave_pref.txt","false"),d(He,i=!0,i))}));return[o,r,i,a,s,f,function(){wi((e=>{l.writeFile(e+c.sep+"theme.txt",a,(e=>{e&&(f.dialog.alert("There was a problem loading your theme. Please contact the developer for assistance."),console.log(e))}))}))},async function(){let[e]=await window.showOpenFilePicker();await e.requestPermission({mode:"read"});let t=await e.getFile();if(!t.name.includes(".css"))return void f.dialog.alert("The selected file was not a .css file.");let n,o=await t.text();await wi((e=>{let r=e+c.sep+"user_themes"+c.sep;l.existsSync(r)||l.mkdirSync(r),n=e+c.sep+"user_themes"+c.sep+t.name,l.writeFile(n,o,"utf8",(e=>{if(e)throw e;d(Fe,a=n,a)})),l.writeFile(e+c.sep+"theme.txt",n,(e=>{if(e)throw e}))}))},function(){if(wi((e=>{l.writeFile(e+c.sep+"autosave_pref.txt",String(i),"utf8",(e=>{if(e)throw e}))})),i)var e=window.setInterval(Si,6e5,!1);else window.clearInterval(e)},h,p,function(){o.UseLects||f.dialog.confirm({message:`Are you sure you want to disable lect features? Only the data for the lect "${o.Lects[0]}" will be kept.`,callback:e=>{if(e){let e=o.Lects[0];d(Be,o.Lects=["General"],o),Object.keys(o.Lexicon).forEach((t=>{d(Be,o.Lexicon[t].Senses=o.Lexicon[t].Senses.filter((t=>t.lects.includes(e))),o),o.Lexicon[t].Senses.forEach((e=>{e.lects=["General"]})),o.Lexicon[t].Senses||delete o.Lexicon[t],d(Be,o.Lexicon[t].pronunciations={General:o.Lexicon[t].pronunciations[e]},o)})),d(Be,o.Pronunciations={General:o.Pronunciations[e]},o),d(Re,r={General:r[e]},r)}else d(Be,o.UseLects=!0,o)}})},g,function(){a=N(this),Fe.set(a)},function(){i=this.checked,He.set(i)},function(){o.UseLects=this.checked,Be.set(o)},(e,t)=>{1!==o.Lects.length?f.dialog.confirm({message:`Are you sure you want to delete the lect "${e}"? This action cannot be undone.`,callback(n){n&&(p(e,t),Ze.log(`Deleted lect: ${e}`))}}):f.dialog.alert("You cannot delete the last lect.")},(e,t)=>{f.dialog.prompt({message:"Edit Lect Name",placeholder:`${e}`,callback(n){if(!1===n)return Ze.log("User cancelled the Edit Lect Name dialog.");h(e,n,t),Ze.log(`Edited lect name: ${e} to ${n}`)}})},e=>{f.dialog.confirm({message:`Add all words in the lexicon to the lect ‘${e}’?`,callback(t){if(t){for(let t in o.Lexicon)o.Lexicon[t].Senses.forEach((t=>{t.lects.includes(e)||t.lects.push(e)}));Ze.log(`Added all words to lect: ${e}`),f.dialog.alert(`Added all senses of all words to the lect ‘${e}’.`)}}})},()=>{f.dialog.prompt({message:"Add a New Lect",placeholder:`New ${o.Name} Lect`,callback(e){if(!1===e)return Ze.log("User cancelled the Add Lect dialog.");d(Be,o.Lects=[...o.Lects,e],o),d(Be,o.Pronunciations[e]="place > holder",o),d(Re,r[e]=it(s,e),r),Xe(`Added a new lect: ${e}`)}})},function(){o.ShowEtymology=this.checked,Be.set(o)},()=>{g()},e=>{f.dialog.confirm({message:`Are you sure you want to delete "${e}"? This will remove any etymology connections its entries may have.`,callback(t){t&&(d(Be,o.Etymologies=Object.fromEntries(Object.entries(o.Etymologies).filter((([t,n])=>n.source!==e))),o),delete o.Relatives[e],Xe(`Deleted relative: ${e}`))}})},function(){o.ShowInflection=this.checked,Be.set(o)},function(){o.ShowOrthography=this.checked,Be.set(o)},function(e,t){e[t].display=this.checked,Be.set(o)}]}class ba extends Ce{constructor(e){super(),xe(this,e,ya,ma,s,{},null,[-1,-1])}}function wa(t){let n;return{c(){n=C("div"),n.innerHTML='<div class="row" style="height: 95vh"><div class="container column scrolled" style="height: 90vh;"><p class="info">Interested in testing the beta versions, talking about languages, or worldbuilding? <br/>\n                Join <a rel="noreferrer" target="_blank" href="https://discord.gg/uDk2XDhh8K">Saturn&#39;s Sojourn</a>, \n                the home of the Lexicanter on <a rel="noreferrer" target="_blank" href="https://discord.gg/uDk2XDhh8K">Discord</a>!</p> \n            <br/> \n            <p class="info">Support the continued developement of the app as a <a rel="noreferrer" target="_blank" href="https://patreon.com/saturnine_softworks">patron</a>,</p> \n            <p class="info">or by buying me a <a rel="noreferrer" target="_blank" href="https://ko-fi.com/saturnine_softworks">coffee</a>!</p> \n\n            <br/><br/>\n\n            Below is a list of all changes made to the app since version 1.8, which is when the changelog was first added.<br/>\n            If you&#39;re looking for more information about how to use the app, check the Help tab or visit the \n            <a rel="noreferrer" target="_blank" href="https://github.com/Saturnine-Softworks/Lexicanter/wiki">Wiki</a>.<br/> There is also\n            an overview <a rel="noreferrer" target="_blank" href="https://www.youtube.com/watch?v=6_AwCC4XlvU&amp;t=151s">tutorial video</a> for release 2.0.\n            <br/> If you&#39;re still having trouble, or need to contact the developer, visit us in the \n            <a rel="noreferrer" target="_blank" href="https://discord.gg/uDk2XDhh8K">Discord server</a>. \n\n            <br/><hr/><br/> \n\n            <p><u>Beta 2.1.1</u></p> \n            <p class="narrow">Happy Tanabeta 2.1, everyone. The major new features to test out are as follows. <br/>\n                Note: A few features are still planned to be added during the beta period, but they are not yet ready for testing.</p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• The new Reference Panel. Accessible from the File tab, this panel allows you to view a second file in read-only mode. <br/>\n                • Advanced Settings: Alternate Orthographies. This option gives you access to the Orthography tab, where you can designate alternative\n                orthographies and fonts installed on your system. <br/>\n                • Phonological evolution. This feature, accessible from the File tab, allows you to write sound change rules to apply to your entire lexicon. \n                After saving your file, it creates a new file with the new words, enables the Etymology advanced setting, creates etymology entries linking \n                the new and old words, and opens the old file in the Reference Panel.\n            <br/><br/> \n\n            </p><p><u>Patch 2.0.18</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• By request, added a new dropdown to Tag inputs which allows you to select from pre-existing tags in your lexicon. <br/>\n                • By request, added a new Help tab. It hosts the same information as the wiki, but is accessible offline. <br/>\n                • The Settings, Changelog, and Help tabs, as well as the window control buttons, now use Material Icons. \n            <br/><br/> \n            </p><p><u>Patch 2.0.17</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• Fixed an a reported bug with the inflections generation. <br/>\n                • Fixed an issue with tag searching. <br/>\n                • The font weight has been changed to an appropriate <i>Book</i> weight to improve readability on some systems and to many eyes.\n            <br/><br/> \n            </p><p><u>Patch 2.0.16</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• Fixed a small bug with the new sound change engine. <br/> \n            <br/><br/> \n            </p><p><u>Patch 2.0.15</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• Fixed a reported bug with HTML export. <br/>\n                • Related to the above fix, technical limitations now prevent your theme from being exported with your HTML. Solutions are being investigated.\n            <br/><br/> \n            </p><p><u>Patch 2.0.14</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• Fixed CSV export. <br/>\n                • Fixed a reported bug with HTML export. <br/>\n                • Fixed some reported and unreported issues with the sound change engine. <br/>\n                • There is now a text input designated for specifying categories for sound changes in an inflection group, to make everyone&#39;s life easier.\n                • Minor optimizations and performance improvements.\n            <br/><br/></p> \n            <p><u>Patch 2.0.13</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• Linux support!\n            <br/><br/></p> \n            <p><u>Patch 2.0.12</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• Fixed a reported bug which caused HTML export to fail. Expect expanded HTML export options in the future. <br/>\n                • Minor optimizations. \n            <br/><br/></p> \n            <p><u>Patch 2.0.11</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• Fixed a reported bug which caused a semi-rare soft-crash in certain cases when dealing with multiple lects. Again.\n            <br/><br/></p> \n            <p><u>Patch 2.0.10</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• Fixed a reported bug which caused a semi-rare soft-crash in certain cases when dealing with multiple lects. <br/>\n                • Fixed a reported bug which caused CSV import to fail, and improved CSV import options. \n            <br/><br/></p> \n            <p><u>Patch 2.0.9</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• You can now write multple rules separated by a semicolon, which allows for multiple rules per table cell in the inflection tables. <br/>\n                • Fixed a reported bug which caused a soft crash when attempting to edit the last word in the lexicon if it had an inflections dropdown open.\n            <br/><br/></p> \n            <p><u>New in 2.0</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• There is now a new sound change engine under the hood. Your old rules may no longer work; for assistance, you can contact the developer. <br/>\n                • Lexicon entries can now be separated into multiple <i>Senses</i>, each of which can have their own tags. <br/>\n                • There are new features accessible via new Advanced Settings. These include: <br/>\n                • New <i>Lect</i> features allow you to denote the ways your language may vary, particularly in semantics and pronunciation. <br/>\n                • New <i>Inflection</i> features, which include a new tab, which allows you to create inflectional paradigms for your language. <br/>\n                • New <i>Etymology</i> features, which include a new tab, allows you to create etymologies trees and view them in the lexicon. <br/>\n                • Check out the new <a rel="noreferrer" target="_blank" href="https://github.com/Saturnine-Softworks/Lexicanter/wiki">wiki page</a> \n                or <a rel="noreferrer" target="_blank" href="https://www.youtube.com/watch?v=6_AwCC4XlvU&amp;t=151s">tutorial video</a> for more in-depth information! <br/>\n                • New app icons by Lyiusa! <br/>\n                • New themes: Juniper by Saturnine, and Midnight and Bone by <a rel="noreferrer" target="_blank" href="https://linktr.ee/maarzcreative">Maarz</a>!\n            <br/><br/></p> \n            <p><u>Patch 1.11.4</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• Fixed a reported bug causing markdown not to work in variant descriptions of phrases.\n            <br/><br/></p> \n            <p><u>Patch 1.11.3</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• Fixed a reported bug causing the alphabetizer pre-check to send false alerts when certain combining diacritics on certain characters were in the alphabet in certain orders.\n            <br/><br/></p> \n            <p><u>Patch 1.11.2</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• The app now saves backup versions of your files in case things go wrong. <br/>\n                • Fixed a reported bug that caused the app to sometimes exit too quickly and not save when autosave was enabled.\n            <br/><br/></p> \n            <p><u>Patch 1.11.1</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• Fixed a reported bug causing the Ignore Diacritics setting to be ignored during alphabet checks when adding words to the lexicon.\n            <br/><br/></p> \n            <p><u>New in 1.11</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• When you attempt to add a word to the lexicon, there is now an alert if the word contains characters (or polygraphs) not present in your alphabet. <br/>\n                • Fixed a reported bug causing external links in to not display correctly in the Lexicon tab specifically. <br/>\n                • Fixed a reported bug preventing the app from warning you that it will not save if there is no file name given. <br/>\n                • Fixed a minor bug with the Terminal theme when exported for HTML.\n            <br/><br/></p> \n            <p><u>New in 1.10</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• Added three new themes: Pomegranate, Wisteria, and Terminal. <br/>\n                • The word entry panel in the Lexicon tab is now collapsible. <br/>\n                • The Phrasebook now has active overwrite protection to prevent you from deleting your work by mistake. <br/>\n                • You can now search for an exact whole-word match in definitions and tags fields by using <code>!</code> as a prefix. <br/>\n                • For HTML exports, the appearance on mobile devices has been improved. <br/>\n                • Minor bug fixes for opening new windows from the File tab. <br/>\n                • Lots of uner-the-hood changes for the app&#39;s appearance in preparation for future features.\n            <br/><br/></p> \n            <p><u>Patch 1.9.5</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• Fixed a bug causing app-quit to be impossible sometimes. <br/>\n                • Fixed some minor bugs with the styles. <br/>\n                • Fixed a bug causing monospace toggle in the docs tab to be undoable. <br/>\n                • Fixed a bug causing external hyperlinks not to use the preferred browser, and is some cases not open at all.\n            <br/><br/></p> \n            <p><u>Patch 1.9.4</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• You can now hyperlink to entries in the lexicon. The link format is <code>lex::word</code>. <br/>\n                • The documentation tab would previously not adjust to the width of the window. That has been fixed.\n            <br/><br/></p> \n            <p><u>New in 1.9</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• Overhauled the Documentation tab, which now uses integrated <a href="https://editorjs.io/" target="_blank" rel="noreferrer">EditorJS</a> technology. <br/> Markdown is no longer supported in this tab, \n                    in favor of the new WYSIWYG style with a toolbar visible when you highlight text. <br/>\n                • Note: The first time you load a file from an older version, there may be some formatting quirks. \n                    Most of these should sort themselves out after saving in the new version and re-loading. \n                    Please contact the developer if you run into persistent issues. <br/>\n                • Fixed a bug with the Open New Window button which caused it to fail to open new windows. <br/>\n                • The button to edit phrasebook entries has been change to right-click instead of left-click to\n                    make it more difficult to accidentally overwrite work in progress, and to allow for\n                    highlighting text. <br/>\n                • An HTML Docs-Only export option has been added.\n            <br/><br/></p> \n            <p><u>Patch 1.8.14</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• Fixed a few minor bugs with markdown parsing.<br/>\n                • Added monospace markdown with <code>``this``</code> syntax.<br/>\n                • Fixed a reported bug which affected the orthography testing area.\n            <br/><br/> \n            </p><p><u>New in 1.8</u></p> \n            <p style="width: 70%; margin: auto; text-align: left; line-height: 1.6">• File storage has been migrated to make auto-save possible. <br/>\n                • Categories can now be defined and used in your Pronunciations rules. See the <a target="_blank" href="https://lexicanter.com/docs" rel="noreferrer">docs page</a> for more info.<br/>\n                • Five new color themes: Light, Marine, Glade, Leatherbound, and Purple Maar (contributed by <a target="_blank" href="https://linktr.ee/maarzcreative" rel="noreferrer">Maarz</a>). <br/>\n                • You can now load in your own custom CSS color themes.<br/>\n                • Definitions, descriptions, and documentation sections now support simple <a target="_blank" href="https://lexicanter.com/docs#markdown" rel="noreferrer">markdown</a>. <br/>\n                • There&#39;s a new space in the Phonology tab to test your pronunciation rules. <br/>\n                • Tag searches no longer require an exact match. <br/>\n                • Several minor bug fixes, including one reported about tables being editable in the HTML\n                export.<br/></p> \n            <br/></div></div>',M(n,"class","tab-pane")},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}class ka extends Ce{constructor(e){super(),xe(this,e,null,wa,s,{})}}function xa(e,t,n){const o=e.slice();return o[14]=t[n],o[15]=t,o[16]=n,o}function Ca(e){let t,n,o,r,a,s,l,c,u,d,f,h,p,g,v,y,b,x,S,T,L,B,I,P,j,N,$,D,F,H,z,U;function W(...t){return e[7](e[16],...t)}function V(){e[8].call(g,e[15],e[16])}function G(){e[9].call(B,e[15],e[16])}function q(){return e[10](e[16])}return{c(){t=C("div"),n=C("div"),o=C("label"),r=_("Tags\n                            "),a=C("div"),s=C("textarea"),c=E(),u=C("label"),d=_("RegEx Filter\n                            "),f=C("div"),h=C("p"),h.textContent="/",p=E(),g=C("input"),v=E(),y=C("p"),y.textContent="/",b=E(),x=C("div"),S=C("label"),T=_("Rule Categories\n                            "),L=C("div"),B=C("textarea"),I=E(),P=C("div"),j=E(),N=C("div"),$=C("button"),$.textContent="Delete",D=E(),F=C("br"),H=C("br"),M(s,"rows","1"),s.value=l=e[14].tags.join(" "),A(h,"display","inline"),A(g,"display","inline"),M(g,"type","text"),A(y,"display","inline"),M(n,"class","column"),M(B,"class","text-left"),M(B,"rows","3"),M(x,"class","column"),M(t,"class","row"),A(t,"width","66%"),M(P,"class","codex-editor"),M(P,"id",`inflection ${e[16]}`),A(P,"font-family","Gentium"),M($,"class","hover-highlight hover-shadow"),A($,"display","inline"),M(N,"class","narrow")},m(i,l){w(i,t,l),m(t,n),m(n,o),m(o,r),m(o,a),m(a,s),m(n,c),m(n,u),m(u,d),m(u,f),m(f,h),m(f,p),m(f,g),R(g,e[14].filter),m(f,v),m(f,y),m(t,b),m(t,x),m(x,S),m(S,T),m(S,L),m(L,B),R(B,e[14].categories),w(i,I,l),w(i,P,l),w(i,j,l),w(i,N,l),m(N,$),w(i,D,l),w(i,F,l),w(i,H,l),z||(U=[O(s,"change",W),O(g,"input",V),O(B,"input",G),O($,"click",q)],z=!0)},p(t,n){e=t,1&n&&l!==(l=e[14].tags.join(" "))&&(s.value=l),1&n&&g.value!==e[14].filter&&R(g,e[14].filter),1&n&&R(B,e[14].categories)},d(e){e&&k(t),e&&k(I),e&&k(P),e&&k(j),e&&k(N),e&&k(D),e&&k(F),e&&k(H),z=!1,i(U)}}}function Sa(t){let n,o,r,i,a,s,l,c=t[0].Inflections,u=[];for(let e=0;e<c.length;e+=1)u[e]=Ca(xa(t,c,e));return{c(){n=C("div"),o=C("div"),r=C("div");for(let e=0;e<u.length;e+=1)u[e].c();i=E(),a=C("button"),a.textContent="Add Inflections Group",M(a,"style","hover-highlight hover-shadow"),M(r,"class","container column scrolled"),M(o,"class","row"),A(o,"height","92vh"),M(n,"class","tab-pane"),M(n,"spellcheck","false")},m(e,c){w(e,n,c),m(n,o),m(o,r);for(let e=0;e<u.length;e+=1)u[e].m(r,null);m(r,i),m(r,a),s||(l=O(a,"click",t[11]),s=!0)},p(e,[t]){if(47&t){let n;for(c=e[0].Inflections,n=0;n<c.length;n+=1){const o=xa(e,c,n);u[n]?u[n].p(o,t):(u[n]=Ca(o),u[n].c(),u[n].m(r,i))}for(;n<u.length;n+=1)u[n].d(1);u.length=c.length}},i:e,o:e,d(e){e&&k(n),x(u,e),s=!1,l()}}}function _a(e,t,n){let o,r;u(e,Be,(e=>n(0,o=e))),u(e,ze,(e=>n(6,r=e)));const i=require("vex-js");var a;function s(e,t){const n=e.currentTarget;d(Be,o.Inflections[t].tags=n.value.split(/\s+/g),o)}function l(e){for(let e=h.length;e>0;e--)h[e-1].destroy(),h.pop();o.Inflections.filter(((t,n)=>n!==e)).forEach(((e,t)=>{const n={holder:`inflection ${t}`,data:e.tables,tools:{underline:li,monospace:ci,table:{class:ii,inlineToolbar:!0,config:{rows:3,cols:3,withHeadings:!0}},header:{class:ti,inlineToolbar:!0}},minHeight:30,logLevel:a.ERROR,onChange:f},o=new Oe(n);h.push(o)}))}function c(){const e={holder:"inflection "+(o.Inflections.length-1),data:{blocks:[{type:"header",data:{text:"New Inflections Group",level:1}},{type:"table",data:{withHeadings:!1,content:[["","",""],["","",""],["","",""]]}},{type:"paragraph",data:{text:"Table cells containing sound change rules will be used to generate inflected forms.                             Apply them to your words in your lexicon by providing the lexicon tags they apply to and an                             optional Regular Expression filter."}}]},tools:{underline:li,monospace:ci,table:{class:ii,inlineToolbar:!0,config:{rows:3,cols:3,withHeadings:!0}},header:{class:ti,inlineToolbar:!0}},minHeight:30,logLevel:a.ERROR,onChange:f},t=new Oe(e);h.push(t)}async function f(){for(let e=0;e<h.length;e++)h[e].save().then((t=>{d(Be,o.Inflections[e].tables=t,o)})).catch((t=>{Ze.error(`Error while saving editor.\nindex: ${e}\nobject at i: ${h[e]}\neditors.length: ${h.length}\nmessage:\n ${String(t)}`)})),await h[e].isReady;return Be.set(o),"done"}!function(e){e.VERBOSE="VERBOSE",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR"}(a||(a={}));let h=[];return e.$$.update=()=>{64&e.$$.dirty&&l(1/0)},[o,i,s,l,c,f,r,(e,t)=>s(t,e),function(e,t){e[t].filter=this.value,Be.set(o)},function(e,t){e[t].categories=this.value,Be.set(o)},e=>{i.dialog.confirm({message:"Are you sure you want to delete this inflection group? This action is irreversible.",callback:t=>{t&&(f(),window.setTimeout((()=>{l(e),d(Be,o.Inflections=o.Inflections.filter(((t,n)=>n!==e)),o)}),666))}})},()=>{f().then((()=>{d(Be,o.Inflections=[...o.Inflections,{tags:[],filter:".+",categories:"",tables:{blocks:[{type:"header",data:{text:"New Inflections Group",level:1}},{type:"table",data:{withHeadings:!1,content:[["","",""],["","",""],["","",""]]}},{type:"paragraph",data:{text:"Table cells containing sound change rules will be used to generate inflected forms.                                             Apply them to your words in your lexicon by providing the lexicon tags they apply to and an                                             optional Regular Expression filter."}}]}}],o),c()}))}]}class Ea extends Ce{constructor(e){super(),xe(this,e,_a,Sa,s,{})}}function Ta(e,t,n){const o=e.slice();return o[4]=t[n],o}function Oa(e){let t,n,o,r,i,a=e[4]+"";function s(){return e[3](e[4])}return{c(){t=C("div"),n=_(a),o=E(),M(t,"class","lex-entry"),$(t,"selected",e[4]===e[0])},m(e,a){w(e,t,a),m(t,n),m(t,o),r||(i=O(t,"mousedown",s),r=!0)},p(n,o){e=n,5&o&&$(t,"selected",e[4]===e[0])},d(e){e&&k(t),r=!1,i()}}}function Ma(t){let n,o,r,i,a,s=mn(t[1][t[0]])+"",l=t[2],c=[];for(let e=0;e<l.length;e+=1)c[e]=Oa(Ta(t,l,e));return{c(){n=C("div"),o=C("div"),r=C("div");for(let e=0;e<c.length;e+=1)c[e].c();i=E(),a=C("div"),M(r,"class","column"),A(r,"max-width","9vw"),M(a,"class","column scrolled"),A(a,"height","100%"),M(o,"class","row"),A(o,"height","100%"),M(n,"class","tab-pane container"),A(n,"height","92vh")},m(e,t){w(e,n,t),m(n,o),m(o,r);for(let e=0;e<c.length;e+=1)c[e].m(r,null);m(o,i),m(o,a),a.innerHTML=s},p(e,[t]){if(5&t){let n;for(l=e[2],n=0;n<l.length;n+=1){const o=Ta(e,l,n);c[n]?c[n].p(o,t):(c[n]=Oa(o),c[n].c(),c[n].m(r,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}1&t&&s!==(s=mn(e[1][e[0]])+"")&&(a.innerHTML=s)},i:e,o:e,d(e){e&&k(n),x(c,e)}}}function La(e,t,n){const o={Lexicon:"# The Lexicon Tab\nWhen you first open Lexicanter, you’ll find yourself on the Lexicon tab. This is the place where you will be adding words to your lexicon. This tab is composed of three panels: the alphabet panel, the editor panel, and the lexicon panel itself.\n\n## The Alphabet Panel\nUnder the tab navigation at the top of the app, you’ll see two checkboxes and the alphabet text input.\n### Alphabet Settings\n- Case Sensitivity will make letters case sensitive making the app alphabetize ‘A’ differently for ‘a’, for example.\n- Ignore Diacritics is on by default and turning it off will make the app alphabetize ‘a’ separately from ‘â’.\n### The Alphabet\nThe alphabet field is where you organize the alphabet of your conlang. This will determine the order of your words in the lexicon. Any letters or symbols you use in your words can be added here and will alphabetize the lexicon according to the order you write here. Each alphabetization token should be separated by a space: this way, it is possible to alphabetize multi-character tokens (ie 'sh') separately from single-character tokens and other multi-character tokens (ie 's', 'sz'). \n\n## Editor Panel\nBelow the Alphabet panel we have the Editor panel on the left, where you can add new words and edit existing words.\nIn the Editor panel, you’ll see three text boxes when using the default settings. There are some advanced settings which alter the appearance of this tab, which you can read about on other pages in this wiki. \n### New Word & Pronunciation\nThe text box under ‘New Word’ is where you type your new words. The intention is that you use your romanized orthography here, although technically this is not necessary. Under this text box is where the pronunciation will automatically fill in. Lexicanter automatically updates pronunciations in your lexicon based on rules you can specify in the Phonology tab. See [Pronunciation Rules](https://github.com/Saturnine-Softworks/Lexicanter/wiki/Pronunciation-Rules) to read up on how to write these. \n### Irregular Pronunciations\nIf the pronunciation is manually altered, it will not automatically update unless the word itself is edited, so keep this in mind when making manual changes.\n\n### Definitions and Senses\nThe next text field is for the definition of the word. If the word has multiple definitions, you may write all of them in this first text box if you wish; however, Lexicanter offers a way you can format multiple definitions separately. By clicking the ‘Add Sense’ button, you can create another set of text boxes for another definition and its tags. \n\n### Tags\nTags are a useful way to organize and filter through the words in your lexicon, and they can also be utilized by advanced users for setting up automatic inflection tables. Each sense of a word is allowed to have its own set of tags. Tags are arbitrary space-separated terms which will appear above the sense definition in the lexicon, and can be searched by. One advantage to using multiple senses for separate definitions is that they can each have their own tags. \n\n## Lexicon Panel\n### Adding and Editing Words\nClicking the ‘Add Word’ button will add your new word to the lexicon on the right.\nIf you attempt to add a word that already exists, you will be given the option to ‘overwrite’ or ‘append the definition’ to the existing word. To edit the word, right-click on it in the lexicon panel. \n\n### Searching\nIn the lexicon panel, there are three text boxes along the top. These are the lexicon’s search functions. You can search the lexicon for specific words, definitions, and tags. \n\nThere are some special functions which can be applied to help find specific entries. The character `^` means *word boundary*. \nSearching for `^an` will only show results which *start* with 'an', and searching `an^` will only show results that *end* with 'an'. Just searching 'an' will show results which have 'an' anywhere in the word. \nIn both the tags and definition searches, you can prefix your search with `!` to only show results which have your search term as a whole word. For example, searching for the tag `culture` will also show words tagged 'agriculture' and 'horticulture', but searching for `!culture` will only show words tagged 'culture'. \n",Phrasebook:"# Phrasebook Tab\nLexicanter’s Phrasebook feature allows you to add phrases with all the features of the main Lexicon. When opening the Phrasebook tab, you’ll see three panels. At the left are the Categories where you can organize your phrases; to the right is where your phrases will be displayed depending on what category is selected; and at the bottom is where you can add and edit phrases.\n\nWhen adding new phrases, it functions the same as the Lexicon tab. On the bottom left, when the phrase is added it will have pronunciation rules applied automatically. You can add the definition and tags to organize it even further. Under that is a fourth textbox to enter the category of the phrase. This can be a single or multi-word phrase. If you are already viewing the phrases in a category, this text box will be filled in for you.\n\nOn the right side of the phrase editor panel, you can add variants - or other versions - of the new phrase. You can add as many variants as needed.\nThe ‘Add Phrase’ button will add the new phrase, as well as the category if it is not already present.\nOn the top right panel, there are search functions just like in the Lexicon tab and can be used to search the Phrasebook.\n",Documenting:"# The Documentation Tab\nWhen you first open the Documentation tab, you’ll notice that it is empty save for a single line of text and a `+` on the far right. This tab can be used to add details about your conlang using text and tables. When you click on the `+`, you’ll see three options: Text, Heading, and Table. Clicking any of these will create the corresponding block section.\n\n## Tools for Documenting Your Language\n### Headings\nA heading will place your cursor and all you need to do is type. A large, bold font will be used by default. To the left of that new text, you’ll see a `+` and a new button with 6 dots. Clicking this will give you the option to fine tune that section of text. You can change the heading type, move it up or down and delete it entirely.\n\n### Paragraphs and Formatting\nClicking the `+` again will give you the options for other sections to add, such as a paragraph section. Additionally, in any type of block, you can highlight text to apply a range of styles to it, such as italics, bolding, underlining, and hyperlinking. If you wish to have linebreaks within the same paragraph block, you can press Shift+Enter. Pressing Enter alone will make a create a new paragraph block.\n\n### Tables\nThe last type of section to add is the table. When you first add it, there will be three rows and three columns. You can click the `+`’s just right and to the bottom of the table to add new rows or columns. Hovering over a specific table cell will bring up a button with 4 dots, which can be used to add rows above/below, columns to the left/right or to delete an entire row or column. For fine tuning the table, you have two different options along with the standard move up/down and delete: 'With headings' and 'Without headings'. By default, the table is set to 'Without headings'. Selecting 'With headings' will make the text in the top row of cells bold, and add a slightly thicker border to the bottom of that row.\nTo navigate rows and columns within the table, you can use the arrow keys to go left and right, the Enter key to go directly down, or simply click in the cell you want to edit.\n","Pronunciation Rules":"# The Sound Change Engine\nLexicanter uses a custom-built sound change engine to allow you to configure automatic orthography to phonetic notation conversion.\n\nIf you're not familiar with sound change appliers, you might be lost here, and if you *are* familiar with sound change appliers, you might be wondering how such a thing is supposed to be used to convert your romanization to IPA. In any case, let's start from the beginning. \n\n## The Basics\n### Defining Rules\nLet's say you write the phoneme /θ/ as ⟨th⟩. To convert your *orthograph* ⟨th⟩ to *phonetic notation* /θ/, we can use a rule. \n```\nth > θ\n```\n### Using Contexts\nThis is straightforward enough. ⟨th⟩ becomes /θ/. But what if /θ/ only occurs before front-vowels, and everywhere else it's /tʰ/. How would we write a rule to accomodate for this? One way is to use a *context*. \n```\nth > θ / _e\nth > θ / _i\nth > tʰ\n```\n### Anonymous Categories\nNow we're telling it only to turn ⟨th⟩ into /θ/ if it comes before /e/ or /i/. But this is a little bulky; we can condense these rules. \n```\nth > θ / _{e, i}\nth > tʰ\n```\nThese two rules do the exact same thing as the last set, but now we're using an *anonymous category* `{e, i}` to mean 'either e or i'. \n### Named Categories\nBut let's say we have several rules which make use of the same anonymous category:\n```\nth > θ / _{e, i}\nth > tʰ\nc > s / _{e, i}\nc > k\ng > ʤ / _{e, i}\n```\nWe can avoid writing `{e, i}` a bunch of times by defining a *named category*. \n```\nE :: e, i\nth > θ / _E\nth > tʰ\nc > s / _E\nc > k\ng > ʤ / _E\n```\nThat's a little better. \n### Category Conversion\nBut several of these rules are very similar. There's something we can do about that:\n```\nE :: e, i\n{th, c, g} > {θ, s, ʤ} / _E\n{th, c} > {tʰ, k}\n```\nWe can create anonymous categories of equal length on both sides of the conversion in order to convert between them. We can also do this with named categories, if we prefer:\n```\nP :: th, c, g\nF :: θ, s, ʤ\nK :: tʰ, k, g\nE :: e, i\nP > F / _E\nP > K\n```\nThis takes up a few more lines, but now we can re-use these named categories in further rules should we need to. \n\n## Advanced Usage\nNow that we understand the basics, let's look at how Lexicanter's sound change engine can deal with common and important edge cases.\n\n### Alternate Rule Formats\nBefore we get into those, though, let's briefly talk about the rule format. On this page, I've been using the formats\n```\npattern > substitution\npattern > substitution / context\n```\nIn the first case, the implicit context is just `_`, or 'always'. \nBut many of you may be familiar with another standard sound change notation format:\n```\npattern/substitution/context\n```\nLexicanter accepts rules written this way as well. In fact, all of the following are valid and will be accepted:\n```\npattern>substitution\npattern / substitution\npattern/substitution / context\npattern  > substitution/context\n```\nThe rule parser ignores all spaces, and the implicit 'always' context shorthand can be done with either `>` or `/` rules.\n\n### Word Boundaries\nOften times, the pronunciation of a grapheme changes depending on whether or not it's at the beginning or end of a word. Lexicanter reserves two symbols for this purpose: `^` and `#`. Both of them have the exact same purpose, and which one you use is a matter of personal preference. I'll be using `^`. \n\nTurn ⟨e⟩ into /ə/ at the end of words:\n```\ne > ə / _^\n```\nTurn ⟨y⟩ to /ɪ/ at the beginning of words:\n```\ny > ɪ / ^_\n```\n\n### Exceptions\nSometimes a grapheme has a pronunciation in all except a specific case. \nFor example, this rule turns all ⟨x⟩ into /ks/ as long as they are preceded by anything except /e/ or /i/:\n```\nx > ks / {!e, i}_\n```\nNote that this does assume `{!e}` must be *some* character, just not the ones in the group. If you would like to make this rule also apply at word boundaries, you can write it as so:\n```\nx > ks / {^, {!e, i}}_\n```\nor write it as two rules:\n```\nx > ks / {e, i}_\nx > ks / ^_\n```\nThere are usually multiple ways to get things to happen. \n\n### Wildcards\nSometimes, you just need to specify *any character at all* must be in a certain position. For that, another character is reserved: `.`.\nThe following rules turns ⟨h⟩ to /ç/ when it comes before /u/ and two other character:\n```\nh > ç / _u..\n```\nOther times, you may need to specify that any number of certain characters can appear. Two more symbols are reserved: `*` for 0 or more and `+` for 1 or more. \nThe following rule turns ⟨y⟩ to /i/ when it comes before any number of optional /d/ and at least one /o/ before the end of a word:\n```\ny > i / _ d* o+ ^\n```\nThese two symbols can also be used with categories. Note that the spaces here will be ignored and are just for readability; the parser ignores all spaces.\n\n### Optional Members\nThere is also a way to specify that something is optional without necessarily being allowed to repeat indefinitely. The character `?` is reserved for this.\nThe following rule changes ⟨n⟩ to /ŋ/ before a single optional /g/ or /k/ followed by the end of the word. \n```\nn > ŋ / _ {g, k}? ^\n```\nAs you can see, this works with categories as well. \n\n### Reduplication\nIn rare cases, a grapheme or sequence of graphemes may always be pronounced multiple times. For these cases, we can use `_` in the substitution to represent the entire captured pattern.\nThis is also useful in some cases for auto-inflection rules. \nThe following rule turns /er/ into /erer/ wherever it comes in the middle of a word:\n```\ner > __ / ._.\n```\n\n### Prefixes & Suffixes\nWhen writing rules for auto-inflections, you may need to add prefixes and suffixes to a word. You can write such rules using an insertion format. (For these, `#` typically looks better than `^`). \nAdds a suffix:\n```\n/ate/._#\n```\nAdds a prefix:\n```\n/eta/#_.\n```\nAlternatively, you can replace the word boundary itself. Equivalent to the rules above:\n```\n# > ate / ._\n# > eta / _.\n```",Lects:"# What is a 'Lect'? \nThe term 'lect' refers agnostically to any kind of variation of a language that may be classified as a dialect, ethnolect, regiolect, cryptolect, idiolect, et cetera. Lexicanter offers a suite of features which make it easier to document your language's various lects, should you have any. \n\n## Adding, Removing, and Renaming\n### Adding\nAdding new lects can always be done safely, as adding a new lect does not change the contents of the lexicon. When you add a lect, you will be prompted to name it. Then its name will appear in a list under the other lect-related settings, with three buttons. One of these is for deleting the lect, one of these is for renaming the lect, and one of these has a special purpose: adding all words in your lexicon to this lect. This is a useful features if you create a new lect midway through developing your language which should have all or most of the existing words. \n\n### Renaming\nRenaming lects can also always be done safely, as this does not actually change the contents of the lexicon aside from the name which appears next to options and information related to the changed lect.\n\n### Removing\nRemoving lects *does not* delete the words which were assigned to that lect, but it *does* delete any pronunciations and the pronunciation rule set associated with that lect. You cannot delete the last remaining lect; there must always be at least one. Even when lect features are disabled, the app uses a lect named 'General' under the hood. \n\n## Phonetics & Semantics\n### Lect-Specific Pronunciation Rules\nThis is likely the main reason you would want to use the lect features. Each lect can have it own set of pronunciation rules, which you can write by selecting the lect from the dropdown which appears over the Pronunciations text field in the Phonology tab. To learn more about writing pronunciation rules, see the [Pronunciation Rules](https://github.com/Saturnine-Softworks/Lexicanter/wiki/Pronunciation-Rules) page. \n\n### Lexicon and Phrasebook\nIn both of these tabs, a new set of checkboxes will appear in the entry editor panel. In the Lexicon, this set of checkboxes appears for every *sense* of a word; in the phrasebook, you have this option for each *phrase*.\nChecking these boxes assigns that sense/phrase to that lect. A new pronunciation field will appear for each lect which is selected, and will be auto-filled using the pronunciation rules assigned to that lect. All of a word or phrase's pronunciations will appear beneath it in the lexicon/book. This way, you can include words and phrases which only appear in specific lects. \n",Etymology:"# Creating Etymology Trees\nWhen you enable Etymology Features under Advanced Settings, Lexicanter will reveal to you a new tab called *Etymology* and slightly change the appearance of entries in the lexicon. These features are a powerful and convenient way to document the lineages of your language's words. \n\n## The Etymology Tab\nYou'll be greeted by a small panel on the left with a search bar and two lists, labelled *Internal* and *External*. If this is your first time opening this tab, *External* is probably empty. We'll get back to that. \n\n*Internal* will be populated by a list of all of the words in your lexicon. If you click on one of these, you'll see the large panel on the left is updated. The word you clicked on will appear floating in the upper-middle of the panel, and its lexicon entry will appear slightly below. Further below, there are two columns, labelled *Ancestors* and *Descendants*, each with a checkbox labelled *Manual Entry*, unticked by default, and below that, a blank dropdown.\n\n### Editing Ancestor and Descendant Tethers\nWhen you click on either of those dropdowns, you'll be greeted with, once again, your entire lexicon. You should be able to use the keyboard to navigate this list, but since some lexicons can be massive and overwhelming, the search field at the top of the left-hand panel narrows down not only the list in that column, but also the lists you see in the dropdowns on this tab. \nAfter selecting a word from your lexicon, pressing the *Link* button will link the currently selected word to the ancestor/descendant word. As you add more ancestors and descendants, you'll see how the tree graph is drawn in this panel. \nTo remove a word from another words ancestors/descendants, find it in the list which appears in the respective column and click the *Sever* button to sever the tie. \n\n### Manual Entry\nIn many cases, you'll need to link to a word which is not in your lexicon. It may be from an ancestor language, or even from an unrelated language. For these cases, you can enable *Manual Entry*. \nWhen Manual Entry is enabled, you will see two text fields instead of a dropdown. The first of these text fields is for the related word itself, and the other text field is for specifying the *source* – that is, what language the word comes from. \nWhen you create entries this way, they will appear in the *External* list in the left-hand panel. External words also appear in the drop-downs after they are created. \n\n### Removing Etymology Entries\nWhen a word is selected, but it has no ancestor or descendant tethers, a button will appear that allows you to delete the entry altogether. \nFor words in your lexicon, this will *not delete the word from your lexicon* - it will simply clear the space for its etymology data out of the file data. This has no permanent effect, as you can select the word from the list to create its etymology entry again, but it may help to put at ease those of you who are particularly conscious about your file sizes. \nFor external entries, this *will delete* the entry altogether. This is how you can remove words from the *External* list in the left-hand panel. \n\n## Importing Related Lexicons\nWhen Etymology features are enabled, another option will appear in the Advanced Settings section: a button which allows you to import related lexicons. Using this button, you can select another Lexicanter file to import a lexicon from. The entirety of the lexicon will be saved to your *External* etymology entries. You can manage the external lexicons in your file under Advanced Settings.\n\n## Lexicon Appearance Changes\nOn every lexical entry which is part of an etymology tree, a short, simplified version of that word's ancestry will appear beneath its senses. This makes it easy to see a word's history at a glance when viewing your lexicon. \n",Inflections:"# Inflection Features\nLexicanter offers a way to expand your lexical entries with inflection information automatically generated from sound change rules.\nIt's a useful feature for generating verb conjugation tables, noun declension tables, and the like. This feature must be enabled under\nAdvanced Settings.\n\n## The Inflection Tab\nWhen you first open this tab, there will be a single button which reads 'Add Inflection Group'.\nWhen you click on this, an inflection group editor will be created. It has two text fields: the first is labelled 'Tags',\nand the second is labelled 'RegEx Filter' and should be pre-populated with `.+`. Below that, there will be a block-based\neditor similar to what is used in the Documentation tab.\n\n### Tags\nThe tags you assign to an inflection group should correspond to tags that you use in the lexicon. For example, if this inflection\ngroup is for verbs and you've marked verbs in the lexicon with the tag `verb`, you should put that tag here. The inflection group \nwill only be applied to lexical entries with tags that match the inflection group's own tags. You can use multiple tags if you wish, \nand the inflection group will be applied to any entry that has at least one of those tags. \n\n### RegEx Filter\nYou can write a regular expression to filter which words the inflection group is applied to even further. If you're unfamiliar with regular \nexpressions, you can read up on them [here](https://www.regular-expressions.info). Some basic patterns will be described here. \nAs an example, let's say that, like in Spanish, your verbs end in -ar, -er, and -ir, and there is a different set of conjugations depending \non which ending the verb has, but in the lexicon, each kind of verb has the same 'verb' tag. You can target your inflection group toward only \n-ar verbs by writing the following RegEx filter:\n```regex\n^.+ar$\n```\nNow this inflection group will only apply to words which have the 'verb' tag *and* end in -ar.\n\n### Editor\nYou can write whatever you want in the editor. You have headings, paragraphs, tables, and document markup at your disposal. However, \nthere is a key difference between this and the Documentation tab editor: the app will check through the table cells of all tables in your \ninflection group when it applies the inflection group to a word, and if the table cell has a sound change rule in it, it will replace the\ncontents of that cell with the word and apply the rule to it. So for example, if a table has a cell in it with the rule\n```\nar > o / _^\n```\nThen in the lexicon tab, on the word *hablar*, that cell will be replaced with 'hablo'. Cells which do not have `/` or `>` in them are ignored. \nTo learn more about writing sound change rules in Lexicanter, read the \n[Pronunciation Rules](https://github.com/Saturnine-Softworks/Lexicanter/wiki/Pronunciation-Rules) page. \n\n## In the Lexicon\nAfter creating inflection groups, a dropdown labelled 'Inflections' will appear in the lexical entries underneath the senses to \nwhich that inflection group applies. \n\n## Agenda\nSeveral improvements are planned for the Inflections features, including a way to specify irregulars and a UI-based way to filter \nwords instead of requiring the user to manually write RegEx filters (although that will remain an option for advanced users). \n        "},r=Object.keys(o);let i=r[0];return[i,o,r,e=>n(0,i=e)]}class Ba extends Ce{constructor(e){super(),xe(this,e,La,Ma,s,{})}}function Ia(e,t,n){const o=e.slice();return o[13]=t[n],o}function Pa(e,t,n){const o=e.slice();return o[16]=t[n],o}function Ra(e){let t;return{c(){t=C("label"),t.textContent="Search by word…",M(t,"for","ref-search-wrd"),A(t,"position","absolute"),A(t,"top","0.5em"),A(t,"left","1em")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function Aa(e){let t;return{c(){t=C("label"),t.textContent="Search by tags…",M(t,"for","ref-search-tag"),A(t,"position","absolute"),A(t,"top","0.5em"),A(t,"left","1em")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function ja(e){let t;return{c(){t=C("label"),t.textContent="Search definitions…",M(t,"for","ref-search-def"),A(t,"position","absolute"),A(t,"top","0.33em"),A(t,"left","1em")},m(e,n){w(e,t,n)},d(e){e&&k(t)}}}function Na(e){let t,n,o,r,i,a,s,l=e[0].Lects,c=[];for(let t=0;t<l.length;t+=1)c[t]=$a(Pa(e,l,t));return{c(){t=C("div"),n=C("label"),o=_("Filter by lect: \n                "),r=C("select"),i=C("option"),i.textContent="All";for(let e=0;e<c.length;e+=1)c[e].c();i.__value="",i.value=i.__value,void 0===e[5]&&te((()=>e[11].call(r))),M(t,"class","column")},m(l,u){w(l,t,u),m(t,n),m(n,o),m(n,r),m(r,i);for(let e=0;e<c.length;e+=1)c[e].m(r,null);j(r,e[5]),a||(s=O(r,"change",e[11]),a=!0)},p(e,t){if(1&t){let n;for(l=e[0].Lects,n=0;n<l.length;n+=1){const o=Pa(e,l,n);c[n]?c[n].p(o,t):(c[n]=$a(o),c[n].c(),c[n].m(r,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}33&t&&j(r,e[5])},d(e){e&&k(t),x(c,e),a=!1,s()}}}function $a(e){let t,n,o,r=e[16]+"";return{c(){t=C("option"),n=_(r),t.__value=o=e[16],t.value=t.__value},m(e,o){w(e,t,o),m(t,n)},p(e,i){1&i&&r!==(r=e[16]+"")&&P(n,r),1&i&&o!==(o=e[16])&&(t.__value=o,t.value=t.__value)},d(e){e&&k(t)}}}function Da(e){let t,n,o,r,i=e[0].Name+"";return{c(){t=C("p"),n=_("The lexicon of "),o=_(i),r=_(" is empty."),M(t,"class","info"),M(t,"id","ref-lex-body")},m(e,i){w(e,t,i),m(t,n),m(t,o),m(t,r)},p(e,t){1&t&&i!==(i=e[0].Name+"")&&P(o,i)},d(e){e&&k(t)}}}function Fa(e){let t,n;return t=new Rn({props:{word:e[13],source:e[0].Lexicon[e[13]],showInflections:e[0].ShowInflection,showEtymology:!0}}),{c(){ye(t.$$.fragment)},m(e,o){be(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.word=e[13]),3&n&&(o.source=e[0].Lexicon[e[13]]),1&n&&(o.showInflections=e[0].ShowInflection),t.$set(o)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function Ha(e){let t,n,o,r,a,s,l,c,u,d,f,h,p,g,v,y,b,S,_,T=!e[2]&&Ra(),L=!e[3]&&Aa(),B=!e[4]&&ja(),I=e[0].UseLects&&Na(e),P=e[1],j=[];for(let t=0;t<P.length;t+=1)j[t]=Fa(Ia(e,P,t));const N=e=>pe(j[e],1,1,(()=>{j[e]=null}));let $=null;return P.length||($=Da(e)),{c(){t=C("div"),n=C("div"),T&&T.c(),o=E(),r=C("input"),a=E(),s=C("div"),L&&L.c(),l=E(),c=C("input"),u=E(),d=C("div"),f=C("div"),B&&B.c(),h=E(),p=C("input"),g=E(),I&&I.c(),v=E(),y=C("div");for(let e=0;e<j.length;e+=1)j[e].c();$&&$.c(),M(r,"id","ref-search-wrd"),M(r,"type","text"),M(r,"class","search"),M(n,"class","column search-container"),M(c,"id","ref-search-tag"),M(c,"type","text"),M(c,"class","search"),M(s,"class","column search-container"),M(t,"class","row"),M(p,"id","ref-search-def"),M(p,"type","text"),M(p,"class","search"),M(f,"class","search-container column"),M(d,"class","row"),M(y,"class","scrolled"),A(y,"height","88%")},m(i,k){w(i,t,k),m(t,n),T&&T.m(n,null),m(n,o),m(n,r),R(r,e[2]),m(t,a),m(t,s),L&&L.m(s,null),m(s,l),m(s,c),R(c,e[3]),w(i,u,k),w(i,d,k),m(d,f),B&&B.m(f,null),m(f,h),m(f,p),R(p,e[4]),m(d,g),I&&I.m(d,null),w(i,v,k),w(i,y,k);for(let e=0;e<j.length;e+=1)j[e].m(y,null);$&&$.m(y,null),b=!0,S||(_=[O(r,"input",e[8]),O(r,"input",e[6]),O(c,"input",e[9]),O(c,"input",e[6]),O(p,"input",e[10]),O(p,"input",e[6])],S=!0)},p(e,[t]){if(e[2]?T&&(T.d(1),T=null):T||(T=Ra(),T.c(),T.m(n,o)),4&t&&r.value!==e[2]&&R(r,e[2]),e[3]?L&&(L.d(1),L=null):L||(L=Aa(),L.c(),L.m(s,l)),8&t&&c.value!==e[3]&&R(c,e[3]),e[4]?B&&(B.d(1),B=null):B||(B=ja(),B.c(),B.m(f,h)),16&t&&p.value!==e[4]&&R(p,e[4]),e[0].UseLects?I?I.p(e,t):(I=Na(e),I.c(),I.m(d,null)):I&&(I.d(1),I=null),3&t){let n;for(P=e[1],n=0;n<P.length;n+=1){const o=Ia(e,P,n);j[n]?(j[n].p(o,t),he(j[n],1)):(j[n]=Fa(o),j[n].c(),he(j[n],1),j[n].m(y,null))}for(de(),n=P.length;n<j.length;n+=1)N(n);fe(),!P.length&&$?$.p(e,t):P.length?$&&($.d(1),$=null):($=Da(e),$.c(),$.m(y,null))}},i(e){if(!b){for(let e=0;e<P.length;e+=1)he(j[e]);b=!0}},o(e){j=j.filter(Boolean);for(let e=0;e<j.length;e+=1)pe(j[e]);b=!1},d(e){e&&k(t),T&&T.d(),L&&L.d(),e&&k(u),e&&k(d),B&&B.d(),I&&I.d(),e&&k(v),e&&k(y),x(j,e),$&&$.d(),S=!1,i(_)}}}function za(e,t,n){let o,r,i;u(e,We,(e=>n(7,o=e)));let a="",s="",l="",c="",d={};return e.$$.update=()=>{129&e.$$.dirty&&(n(0,r=o),n(1,i=Qe(r.Lexicon)))},[r,i,a,s,l,c,function(){d={};for(let e in r.Lexicon)`^${e}^`.toLowerCase().includes(a.toLowerCase())&&r.Lexicon[e].Senses.some((e=>e.tags.join("^").toLowerCase().includes(s.toLowerCase())))&&r.Lexicon[e].Senses.some((e=>e.definition.toLowerCase().match(new RegExp(l.replaceAll("^","\\b"),"gi"))))&&(""===c||r.Lexicon[e].Senses.some((e=>e.lects.includes(c))))&&(d[e]=r.Lexicon[e]);n(1,i=Qe(d))},o,function(){a=this.value,n(2,a)},function(){s=this.value,n(3,s)},function(){l=this.value,n(4,l)},function(){c=N(this),n(5,c),n(0,r),n(7,o)}]}class Ua extends Ce{constructor(e){super(),xe(this,e,za,Ha,s,{})}}function Wa(e,t,n){const o=e.slice();return o[11]=t[n],o}function Va(e,t,n){const o=e.slice();return o[11]=t[n],o}function Ga(e){let t,n,o,r=e[11]+"";return{c(){t=C("option"),n=_(r),t.__value=o=e[11],t.value=t.__value},m(e,o){w(e,t,o),m(t,n)},p(e,i){64&i&&r!==(r=e[11]+"")&&P(n,r),64&i&&o!==(o=e[11])&&(t.__value=o,t.value=t.__value)},d(e){e&&k(t)}}}function qa(e){let t,n,o,r=e[11]+"";return{c(){t=C("option"),n=_(r),t.__value=o=e[11],t.value=t.__value},m(e,o){w(e,t,o),m(t,n)},p(e,i){32&i&&r!==(r=e[11]+"")&&P(n,r),32&i&&o!==(o=e[11])&&(t.__value=o,t.value=t.__value)},d(e){e&&k(t)}}}function Ya(e){let t,n;return t=new Rn({props:{word:e[1],source:e[0].Lexicon[e[1]],showInflections:e[0].ShowInflection,showEtymology:!0}}),{c(){ye(t.$$.fragment)},m(e,o){be(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.word=e[1]),3&n&&(o.source=e[0].Lexicon[e[1]]),1&n&&(o.showInflections=e[0].ShowInflection),t.$set(o)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function Xa(e){let t,n,o,r,i,a,s,l,c,u,d=e[6],f=[];for(let t=0;t<d.length;t+=1)f[t]=Ga(Va(e,d,t));let h=e[5],p=[];for(let t=0;t<h.length;t+=1)p[t]=qa(Wa(e,h,t));i=new ko({props:{tree:e[2],width:e[3],height:e[4]}}),i.$on("select",e[9]);let g=e[1]in e[0].Lexicon&&Ya(e);return{c(){t=C("select"),n=C("optgroup");for(let e=0;e<f.length;e+=1)f[e].c();o=C("optgroup");for(let e=0;e<p.length;e+=1)p[e].c();r=E(),ye(i.$$.fragment),a=E(),g&&g.c(),s=T(),M(n,"label","Internal"),M(o,"label","External"),void 0===e[1]&&te((()=>e[8].call(t)))},m(d,h){w(d,t,h),m(t,n);for(let e=0;e<f.length;e+=1)f[e].m(n,null);m(t,o);for(let e=0;e<p.length;e+=1)p[e].m(o,null);j(t,e[1]),w(d,r,h),be(i,d,h),w(d,a,h),g&&g.m(d,h),w(d,s,h),l=!0,c||(u=O(t,"change",e[8]),c=!0)},p(e,[r]){if(64&r){let t;for(d=e[6],t=0;t<d.length;t+=1){const o=Va(e,d,t);f[t]?f[t].p(o,r):(f[t]=Ga(o),f[t].c(),f[t].m(n,null))}for(;t<f.length;t+=1)f[t].d(1);f.length=d.length}if(32&r){let t;for(h=e[5],t=0;t<h.length;t+=1){const n=Wa(e,h,t);p[t]?p[t].p(n,r):(p[t]=qa(n),p[t].c(),p[t].m(o,null))}for(;t<p.length;t+=1)p[t].d(1);p.length=h.length}98&r&&j(t,e[1]);const a={};4&r&&(a.tree=e[2]),8&r&&(a.width=e[3]),16&r&&(a.height=e[4]),i.$set(a),e[1]in e[0].Lexicon?g?(g.p(e,r),3&r&&he(g,1)):(g=Ya(e),g.c(),he(g,1),g.m(s.parentNode,s)):g&&(de(),pe(g,1,1,(()=>{g=null})),fe())},i(e){l||(he(i.$$.fragment,e),he(g),l=!0)},o(e){pe(i.$$.fragment,e),pe(g),l=!1},d(e){e&&k(t),x(f,e),x(p,e),e&&k(r),we(i,e),e&&k(a),g&&g.d(e),e&&k(s),c=!1,u()}}}function Ka(e,t,n){let o;u(e,We,(e=>n(7,o=e)));let r,i,a,s,l,c=o,d="";return e.$$.update=()=>{128&e.$$.dirty&&n(0,c=o),3&e.$$.dirty&&(n(2,r=function(){const e=[];Object.keys(c.Etymologies).forEach((t=>{if(t!==d&&c.Etymologies[t].descendants.some((e=>e.name===d))){const n="<< THIS LANGUAGE >>"===c.Etymologies[t].source?c.Name:c.Etymologies[t].source;e.push([t,n])}}));const t=[];return d in c.Etymologies&&c.Etymologies[d].descendants.forEach((e=>{t.push([e.name,"<< THIS LANGUAGE >>"===e.source?c.Name:e.source])})),{name:d,children:t.map((e=>({name:e[0],source:e[1]}))),parents:e.map((e=>({name:e[0],source:e[1]})))}}()),n(3,i=.82*window.innerWidth*.33),n(4,a=.5*window.innerHeight)),1&e.$$.dirty&&(()=>{const e={};Object.keys(c.Relatives).forEach((t=>{Object.keys(c.Relatives[t]).forEach((n=>{n in c.Lexicon||(e[n]=c.Relatives[t][n])}))})),Object.keys(c.Etymologies).forEach((t=>{t in c.Lexicon||(e[t]={Senses:[],pronunciations:{}})})),n(5,s=Qe(e)),n(6,l=Qe(c.Lexicon))})()},[c,d,r,i,a,s,l,o,function(){d=N(this),n(1,d),n(5,s),n(0,c),n(7,o),n(6,l),n(0,c),n(7,o)},e=>n(1,d=e.detail)]}class Za extends Ce{constructor(e){super(),xe(this,e,Ka,Xa,s,{})}}function Ja(t){let n;return{c(){n=C("div"),M(n,"id","ref-docs"),M(n,"class","row text-center"),A(n,"height","92vh"),A(n,"overflow-y","auto"),A(n,"font-family","Gentium ")},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}function Qa(e,t,n){let o;u(e,We,(e=>n(0,o=e)));let r=o;return ui(r.Docs,"ref-docs"),e.$$.update=()=>{1&e.$$.dirty&&(r=o)},[o]}class es extends Ce{constructor(e){super(),xe(this,e,Qa,Ja,s,{})}}function ts(e,t,n){const o=e.slice();return o[6]=t[n][0],o[7]=t[n][1],o}function ns(e,t,n){const o=e.slice();return o[10]=t[n],o}function os(e){let t,n,o,r=e[10]+"";return{c(){t=C("option"),n=_(r),t.__value=o=e[10],t.value=t.__value},m(e,o){w(e,t,o),m(t,n)},p(e,i){1&i&&r!==(r=e[10]+"")&&P(n,r),1&i&&o!==(o=e[10])&&(t.__value=o,t.value=t.__value)},d(e){e&&k(t)}}}function rs(e){let t,n,o,r,i,a,s,l=e[6]+"",c=e[7]+"";return{c(){t=C("label"),n=_(l),o=E(),r=C("p"),i=_(c),a=E(),s=C("br"),M(r,"class","pronunciation")},m(e,l){w(e,t,l),m(t,n),m(t,o),m(t,r),m(r,i),m(t,a),w(e,s,l)},p(e,t){1&t&&l!==(l=e[6]+"")&&P(n,l),1&t&&c!==(c=e[7]+"")&&P(i,c)},d(e){e&&k(t),e&&k(s)}}}function is(t){let n,o,r,a,s,l,c,u,d,f,h,p,g,v,y,b,S,T,L,B=t[0].Lects,I=[];for(let e=0;e<B.length;e+=1)I[e]=os(ns(t,B,e));let P=Object.entries(t[0].Phonotactics.General),N=[];for(let e=0;e<P.length;e+=1)N[e]=rs(ts(t,P,e));return{c(){n=C("div"),o=C("label"),r=_("Pronunciations\n        "),a=C("select");for(let e=0;e<I.length;e+=1)I[e].c();s=E(),l=C("textarea"),u=E(),d=C("textarea"),f=E(),h=C("textarea"),g=E(),v=C("br"),y=C("hr"),b=C("br"),S=E();for(let e=0;e<N.length;e+=1)N[e].c();void 0===t[1]&&te((()=>t[4].call(a))),M(l,"rows","12"),M(l,"class","pronunciation text-left"),l.value=c=t[0].Pronunciations[t[1]],l.readOnly=!0,M(d,"rows","2"),M(h,"rows","3"),M(h,"class","pronunciation"),h.value=p=it(t[2],t[1],t[0]),h.readOnly=!0,M(n,"class","scrolled"),A(n,"height","100%")},m(e,i){w(e,n,i),m(n,o),m(o,r),m(o,a);for(let e=0;e<I.length;e+=1)I[e].m(a,null);j(a,t[1]),m(n,s),m(n,l),m(n,u),m(n,d),R(d,t[2]),m(n,f),m(n,h),m(n,g),m(n,v),m(n,y),m(n,b),m(n,S);for(let e=0;e<N.length;e+=1)N[e].m(n,null);T||(L=[O(a,"change",t[4]),O(d,"input",t[5])],T=!0)},p(e,[t]){if(1&t){let n;for(B=e[0].Lects,n=0;n<B.length;n+=1){const o=ns(e,B,n);I[n]?I[n].p(o,t):(I[n]=os(o),I[n].c(),I[n].m(a,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=B.length}if(3&t&&j(a,e[1]),3&t&&c!==(c=e[0].Pronunciations[e[1]])&&(l.value=c),4&t&&R(d,e[2]),7&t&&p!==(p=it(e[2],e[1],e[0]))&&(h.value=p),1&t){let o;for(P=Object.entries(e[0].Phonotactics.General),o=0;o<P.length;o+=1){const r=ts(e,P,o);N[o]?N[o].p(r,t):(N[o]=rs(r),N[o].c(),N[o].m(n,null))}for(;o<N.length;o+=1)N[o].d(1);N.length=P.length}},i:e,o:e,d(e){e&&k(n),x(I,e),x(N,e),T=!1,i(L)}}}function as(e,t,n){let o;u(e,We,(e=>n(3,o=e)));let r=o,i=r.Lects[0],a="";return e.$$.update=()=>{8&e.$$.dirty&&n(0,r=o),1&e.$$.dirty&&n(1,i=r.Lects[0])},[r,i,a,o,function(){i=N(this),n(1,i),n(0,r),n(3,o),n(0,r),n(3,o)},function(){a=this.value,n(2,a)}]}class ss extends Ce{constructor(e){super(),xe(this,e,as,is,s,{})}}function ls(e,t,n){const o=e.slice();return o[4]=t[n],o}function cs(e,t,n){const o=e.slice();return o[7]=t[n],o}function us(e){let t,n,o,r,i,a,s,l,c=Object.keys(e[0].Phrasebook),u=[];for(let t=0;t<c.length;t+=1)u[t]=ds(cs(e,c,t));let d=Object.keys(e[0].Phrasebook[e[1]]),f=[];for(let t=0;t<d.length;t+=1)f[t]=fs(ls(e,d,t));const h=e=>pe(f[e],1,1,(()=>{f[e]=null}));return{c(){t=C("div"),n=C("label"),o=_("Phrasebook\n            "),r=C("select");for(let e=0;e<u.length;e+=1)u[e].c();i=E();for(let e=0;e<f.length;e+=1)f[e].c();void 0===e[1]&&te((()=>e[3].call(r))),M(t,"class","scrolled"),A(t,"height","100%")},m(c,d){w(c,t,d),m(t,n),m(n,o),m(n,r);for(let e=0;e<u.length;e+=1)u[e].m(r,null);j(r,e[1]),m(t,i);for(let e=0;e<f.length;e+=1)f[e].m(t,null);a=!0,s||(l=O(r,"change",e[3]),s=!0)},p(e,n){if(1&n){let t;for(c=Object.keys(e[0].Phrasebook),t=0;t<c.length;t+=1){const o=cs(e,c,t);u[t]?u[t].p(o,n):(u[t]=ds(o),u[t].c(),u[t].m(r,null))}for(;t<u.length;t+=1)u[t].d(1);u.length=c.length}if(3&n&&j(r,e[1]),3&n){let o;for(d=Object.keys(e[0].Phrasebook[e[1]]),o=0;o<d.length;o+=1){const r=ls(e,d,o);f[o]?(f[o].p(r,n),he(f[o],1)):(f[o]=fs(r),f[o].c(),he(f[o],1),f[o].m(t,null))}for(de(),o=d.length;o<f.length;o+=1)h(o);fe()}},i(e){if(!a){for(let e=0;e<d.length;e+=1)he(f[e]);a=!0}},o(e){f=f.filter(Boolean);for(let e=0;e<f.length;e+=1)pe(f[e]);a=!1},d(e){e&&k(t),x(u,e),x(f,e),s=!1,l()}}}function ds(e){let t,n,o,r=e[7]+"";return{c(){t=C("option"),n=_(r),t.__value=o=e[7],t.value=t.__value},m(e,o){w(e,t,o),m(t,n)},p(e,i){1&i&&r!==(r=e[7]+"")&&P(n,r),1&i&&o!==(o=e[7])&&(t.__value=o,t.value=t.__value)},d(e){e&&k(t)}}}function fs(e){let t,n;return t=new hr({props:{phrase:e[4],reference:!0,refCat:e[1]}}),{c(){ye(t.$$.fragment)},m(e,o){be(t,e,o),n=!0},p(e,n){const o={};3&n&&(o.phrase=e[4]),2&n&&(o.refCat=e[1]),t.$set(o)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function hs(e){let t,n,o=void 0!==e[1]&&e[1]in e[0].Phrasebook&&us(e);return{c(){o&&o.c(),t=T()},m(e,r){o&&o.m(e,r),w(e,t,r),n=!0},p(e,[n]){void 0!==e[1]&&e[1]in e[0].Phrasebook?o?(o.p(e,n),3&n&&he(o,1)):(o=us(e),o.c(),he(o,1),o.m(t.parentNode,t)):o&&(de(),pe(o,1,1,(()=>{o=null})),fe())},i(e){n||(he(o),n=!0)},o(e){pe(o),n=!1},d(e){o&&o.d(e),e&&k(t)}}}function ps(e,t,n){let o;u(e,We,(e=>n(2,o=e)));let r=o,i="";return e.$$.update=()=>{4&e.$$.dirty&&n(0,r=o),1&e.$$.dirty&&n(1,i=Object.keys(r.Phrasebook)[0])},[r,i,o,function(){i=N(this),n(1,i),n(0,r),n(2,o),n(0,r),n(2,o)}]}class gs extends Ce{constructor(e){super(),xe(this,e,ps,hs,s,{})}}function vs(e,t,n){const o=e.slice();return o[5]=t[n],o[7]=n,o}function ms(e){let t,n,o,r,i,a,s,l,c,u,d,f,h,p,g,v,y,b,x,S,T,O,L,B,I,R,j,N=e[5].tags.join(" ")+"",$=e[5].filter+"";return{c(){t=C("div"),n=C("div"),o=C("label"),r=_("Tags\n                    "),i=C("div"),a=C("p"),s=_(N),l=E(),c=C("label"),u=_("RegEx Filter\n                    "),d=C("div"),f=C("p"),h=_("/"),p=_($),g=_("/"),v=E(),y=C("div"),b=C("label"),x=_("Rule Categories\n                    "),S=C("div"),T=C("textarea"),L=E(),B=C("div"),I=E(),R=C("br"),j=C("br"),M(a,"class","lex-body"),M(f,"class","lex-body"),M(n,"class","column"),M(T,"class","text-left pronunciation"),M(T,"rows","3"),T.value=O=e[5].categories,T.readOnly=!0,M(y,"class","column"),M(t,"class","row"),A(t,"width","66%"),M(B,"class","codex-editor"),M(B,"id",`ref inflection ${e[7]}`),A(B,"font-family","Gentium")},m(e,k){w(e,t,k),m(t,n),m(n,o),m(o,r),m(o,i),m(i,a),m(a,s),m(n,l),m(n,c),m(c,u),m(c,d),m(d,f),m(f,h),m(f,p),m(f,g),m(t,v),m(t,y),m(y,b),m(b,x),m(b,S),m(S,T),w(e,L,k),w(e,B,k),w(e,I,k),w(e,R,k),w(e,j,k)},p(e,t){1&t&&N!==(N=e[5].tags.join(" ")+"")&&P(s,N),1&t&&$!==($=e[5].filter+"")&&P(p,$),1&t&&O!==(O=e[5].categories)&&(T.value=O)},d(e){e&&k(t),e&&k(L),e&&k(B),e&&k(I),e&&k(R),e&&k(j)}}}function ys(t){let n,o=t[0].Inflections,r=[];for(let e=0;e<o.length;e+=1)r[e]=ms(vs(t,o,e));return{c(){n=C("div");for(let e=0;e<r.length;e+=1)r[e].c();M(n,"class","scrolled"),A(n,"height","100%")},m(e,t){w(e,n,t);for(let e=0;e<r.length;e+=1)r[e].m(n,null)},p(e,[t]){if(1&t){let i;for(o=e[0].Inflections,i=0;i<o.length;i+=1){const a=vs(e,o,i);r[i]?r[i].p(a,t):(r[i]=ms(a),r[i].c(),r[i].m(n,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=o.length}},i:e,o:e,d(e){e&&k(n),x(r,e)}}}function bs(e,t,n){let o;u(e,We,(e=>n(1,o=e)));let r=o;var i;!function(e){e.VERBOSE="VERBOSE",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR"}(i||(i={}));let a=[];var s;return s=()=>{!function(e){for(let e=a.length;e>0;e--)a[e-1].destroy(),a.pop();r.Inflections.filter(((t,n)=>n!==e)).forEach(((e,t)=>{const n={holder:`ref inflection ${t}`,data:e.tables,tools:{underline:li,monospace:ci,table:{class:ii,inlineToolbar:!0,config:{rows:3,cols:3,withHeadings:!0}},header:{class:ti,inlineToolbar:!0}},minHeight:30,logLevel:i.ERROR,readOnly:!0},o=new Oe(n);a.push(o)}))}(1/0)},q().$$.on_mount.push(s),e.$$.update=()=>{2&e.$$.dirty&&n(0,r=o)},[r,o]}class ws extends Ce{constructor(e){super(),xe(this,e,bs,ys,s,{})}}function ks(e,t,n){const o=e.slice();return o[8]=t[n],o[10]=n,o}function xs(e,t,n){const o=e.slice();return o[8]=t[n],o[10]=n,o}function Cs(e){let t,n,o,r,i,a,s,l,c,u,d,f=e[4],h=[];for(let t=0;t<f.length;t+=1)h[t]=_s(xs(e,f,t));let p=e[5],g=[];for(let t=0;t<p.length;t+=1)g[t]=Es(ks(e,p,t));const v=e=>pe(g[e],1,1,(()=>{g[e]=null}));return{c(){t=C("div"),n=C("p"),o=_("β"),r=_(e[1]),i=_("-"),a=_(e[2]),s=_(" —"),l=E();for(let e=0;e<h.length;e+=1)h[e].c();c=E();for(let e=0;e<g.length;e+=1)g[e].c();u=T(),M(n,"class","version-info"),M(t,"class","button-container")},m(e,f){w(e,t,f),m(t,n),m(n,o),m(n,r),m(n,i),m(n,a),m(n,s),m(t,l);for(let e=0;e<h.length;e+=1)h[e].m(t,null);w(e,c,f);for(let t=0;t<g.length;t+=1)g[t].m(e,f);w(e,u,f),d=!0},p(e,n){if((!d||2&n)&&P(r,e[1]),(!d||4&n)&&P(a,e[2]),25&n){let o;for(f=e[4],o=0;o<f.length;o+=1){const r=xs(e,f,o);h[o]?h[o].p(r,n):(h[o]=_s(r),h[o].c(),h[o].m(t,null))}for(;o<h.length;o+=1)h[o].d(1);h.length=f.length}if(33&n){let t;for(p=e[5],t=0;t<p.length;t+=1){const o=ks(e,p,t);g[t]?(g[t].p(o,n),he(g[t],1)):(g[t]=Es(o),g[t].c(),he(g[t],1),g[t].m(u.parentNode,u))}for(de(),t=p.length;t<g.length;t+=1)v(t);fe()}},i(e){if(!d){for(let e=0;e<p.length;e+=1)he(g[e]);d=!0}},o(e){g=g.filter(Boolean);for(let e=0;e<g.length;e+=1)pe(g[e]);d=!1},d(e){e&&k(t),x(h,e),e&&k(c),x(g,e),e&&k(u)}}}function Ss(e){let t,n,o,r,i,a=e[8]+"";function s(){return e[6](e[10])}return{c(){t=C("button"),n=_(a),o=E(),M(t,"class","hover-highlight tab-button"),$(t,"selected",e[0]===e[10])},m(e,a){w(e,t,a),m(t,n),m(t,o),r||(i=O(t,"click",s),r=!0)},p(n,o){e=n,1&o&&$(t,"selected",e[0]===e[10])},d(e){e&&k(t),r=!1,i()}}}function _s(e){let t,n=("Etym."!==e[8]&&"Inflect."!==e[8]||"Etym."===e[8]&&e[3].ShowEtymology||"Inflect."===e[8]&&e[3].ShowInflection)&&Ss(e);return{c(){n&&n.c(),t=T()},m(e,o){n&&n.m(e,o),w(e,t,o)},p(e,o){"Etym."!==e[8]&&"Inflect."!==e[8]||"Etym."===e[8]&&e[3].ShowEtymology||"Inflect."===e[8]&&e[3].ShowInflection?n?n.p(e,o):(n=Ss(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&k(t)}}}function Es(e){let t,n,o,r,i;var a=e[8];return a&&(o=F(a,{})),{c(){t=C("div"),n=C("div"),o&&ye(o.$$.fragment),r=E(),M(n,"class","container"),A(n,"height","92vh"),$(t,"collapsed",e[0]!==e[10])},m(e,a){w(e,t,a),m(t,n),o&&be(o,n,null),m(t,r),i=!0},p(e,r){if(a!==(a=e[8])){if(o){de();const e=o;pe(e.$$.fragment,1,0,(()=>{we(e,1)})),fe()}a?(o=F(a,{}),ye(o.$$.fragment),he(o.$$.fragment,1),be(o,n,null)):o=null}(!i||1&r)&&$(t,"collapsed",e[0]!==e[10])},i(e){i||(o&&he(o.$$.fragment,e),i=!0)},o(e){o&&pe(o.$$.fragment,e),i=!1},d(e){e&&k(t),o&&we(o)}}}function Ts(e){let t,n,o="object"==typeof e[3]&&Cs(e);return{c(){o&&o.c(),t=T()},m(e,r){o&&o.m(e,r),w(e,t,r),n=!0},p(e,[n]){"object"==typeof e[3]?o?(o.p(e,n),8&n&&he(o,1)):(o=Cs(e),o.c(),he(o,1),o.m(t.parentNode,t)):o&&(de(),pe(o,1,1,(()=>{o=null})),fe())},i(e){n||(he(o),n=!0)},o(e){pe(o),n=!1},d(e){o&&o.d(e),e&&k(t)}}}function Os(e,t,n){let o;u(e,We,(e=>n(3,o=e)));const{ipcRenderer:r}=require("electron"),i=[Ua,Za,gs,ws,ss,es];let a,s,l=0;r.invoke("getVersion").then((e=>n(1,a=e))),r.invoke("platform").then((e=>n(2,s=e)));return[l,a,s,o,["Lex","Etym.","Phrases","Inflect.","Phono.","Docs"],i,e=>n(0,l=e)]}class Ms extends Ce{constructor(e){super(),xe(this,e,Os,Ts,s,{})}}function Ls(e,t,n){const o=e.slice();return o[15]=t[n],o[17]=n,o}function Bs(e,t,n){const o=e.slice();return o[15]=t[n],o[17]=n,o}function Is(e){let t,n,o,r,i,a;return{c(){t=C("p"),n=_("β"),o=_(e[0]),r=_("-"),i=_(e[1]),a=_(" —"),M(t,"class","version-info")},m(e,s){w(e,t,s),m(t,n),m(t,o),m(t,r),m(t,i),m(t,a)},p(e,t){1&t&&P(o,e[0]),2&t&&P(i,e[1])},d(e){e&&k(t)}}}function Ps(e){let t,n,o,r,i,a=e[15]+"";function s(){return e[12](e[17])}return{c(){t=C("button"),n=_(a),o=E(),M(t,"class","hover-highlight tab-button"),M(t,"style",["settings","history","help"].includes(e[15])?'font-family: "Material Icons"; font-size: 1em; vertical-align: bottom; height: 1.8em;':""),$(t,"selected",e[5]===e[17])},m(e,a){w(e,t,a),m(t,n),m(t,o),r||(i=O(t,"click",s),r=!0)},p(n,o){e=n,32&o&&$(t,"selected",e[5]===e[17])},d(e){e&&k(t),r=!1,i()}}}function Rs(e){let t,n=("Etymology"!==e[15]&&"Inflection"!==e[15]&&"Orthography"!==e[15]||"Etymology"===e[15]&&e[4].ShowEtymology||"Inflection"===e[15]&&e[4].ShowInflection||"Orthography"===e[15]&&e[4].ShowOrthography)&&Ps(e);return{c(){n&&n.c(),t=T()},m(e,o){n&&n.m(e,o),w(e,t,o)},p(e,o){"Etymology"!==e[15]&&"Inflection"!==e[15]&&"Orthography"!==e[15]||"Etymology"===e[15]&&e[4].ShowEtymology||"Inflection"===e[15]&&e[4].ShowInflection||"Orthography"===e[15]&&e[4].ShowOrthography?n?n.p(e,o):(n=Ps(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&k(t)}}}function As(e){let t,n,o,r;var i=e[15];return i&&(n=F(i,{})),{c(){t=C("div"),n&&ye(n.$$.fragment),o=E(),$(t,"collapsed",e[5]!==e[17])},m(e,i){w(e,t,i),n&&be(n,t,null),m(t,o),r=!0},p(e,a){if(i!==(i=e[15])){if(n){de();const e=n;pe(e.$$.fragment,1,0,(()=>{we(e,1)})),fe()}i?(n=F(i,{}),ye(n.$$.fragment),he(n.$$.fragment,1),be(n,t,o)):n=null}(!r||32&a)&&$(t,"collapsed",e[5]!==e[17])},i(e){r||(n&&he(n.$$.fragment,e),r=!0)},o(e){n&&pe(n.$$.fragment,e),r=!1},d(e){e&&k(t),n&&we(n)}}}function js(e){let t,n,o;return n=new Ms({}),{c(){t=C("div"),ye(n.$$.fragment),M(t,"class","column tab-pane reference"),A(t,"width","33%")},m(e,r){w(e,t,r),be(n,t,null),o=!0},i(e){o||(he(n.$$.fragment,e),o=!0)},o(e){pe(n.$$.fragment,e),o=!1},d(e){e&&k(t),we(n)}}}function Ns(e){let t,n,o,r,a,s,l,c,u,d,f,h,p,g,v,y,b,S,_,T,L,B,I,P=!e[3]&&Is(e),R=e[8],A=[];for(let t=0;t<R.length;t+=1)A[t]=Rs(Bs(e,R,t));let j=e[7],N=[];for(let t=0;t<j.length;t+=1)N[t]=As(Ls(e,j,t));const $=e=>pe(N[e],1,1,(()=>{N[e]=null}));let D=e[3]&&js();return{c(){t=C("link"),n=E(),o=C("link"),r=E(),a=C("body"),s=C("div"),l=C("div"),c=C("div"),u=C("p"),d=C("button"),d.textContent="close",f=E(),h=C("button"),h.textContent="remove",p=E(),g=C("button"),g.textContent="fullscreen",v=E(),y=C("div"),P&&P.c(),b=E();for(let e=0;e<A.length;e+=1)A[e].c();S=E();for(let e=0;e<N.length;e+=1)N[e].c();T=E(),D&&D.c(),M(t,"rel","stylesheet"),M(t,"href",e[2]),M(o,"href","https://fonts.googleapis.com/icon?family=Material+Icons"),M(o,"rel","stylesheet"),M(d,"class","hover-highlight close material-icons"),M(h,"class","hover-highlight minimize material-icons"),M(g,"class","hover-highlight maximize material-icons"),M(u,"class","window-control"),M(y,"class","button-container"),M(c,"class","column"),M(c,"style",_=e[3]?"width: 66%":"width: 100%"),M(l,"class","row"),M(s,"class","tab-container"),M(a,"id","body"),M(a,"spellcheck","false")},m(i,k){w(i,t,k),w(i,n,k),w(i,o,k),w(i,r,k),w(i,a,k),m(a,s),m(s,l),m(l,c),m(c,u),m(u,d),m(u,f),m(u,h),m(u,p),m(u,g),m(c,v),m(c,y),P&&P.m(y,null),m(y,b);for(let e=0;e<A.length;e+=1)A[e].m(y,null);m(c,S);for(let e=0;e<N.length;e+=1)N[e].m(c,null);m(l,T),D&&D.m(l,null),L=!0,B||(I=[O(d,"click",e[9]),O(h,"click",e[10]),O(g,"click",e[11])],B=!0)},p(e,[n]){if((!L||4&n)&&M(t,"href",e[2]),e[3]?P&&(P.d(1),P=null):P?P.p(e,n):(P=Is(e),P.c(),P.m(y,b)),304&n){let t;for(R=e[8],t=0;t<R.length;t+=1){const o=Bs(e,R,t);A[t]?A[t].p(o,n):(A[t]=Rs(o),A[t].c(),A[t].m(y,null))}for(;t<A.length;t+=1)A[t].d(1);A.length=R.length}if(160&n){let t;for(j=e[7],t=0;t<j.length;t+=1){const o=Ls(e,j,t);N[t]?(N[t].p(o,n),he(N[t],1)):(N[t]=As(o),N[t].c(),he(N[t],1),N[t].m(c,null))}for(de(),t=j.length;t<N.length;t+=1)$(t);fe()}(!L||8&n&&_!==(_=e[3]?"width: 66%":"width: 100%"))&&M(c,"style",_),e[3]?D?8&n&&he(D,1):(D=js(),D.c(),he(D,1),D.m(l,null)):D&&(de(),pe(D,1,1,(()=>{D=null})),fe())},i(e){if(!L){for(let e=0;e<j.length;e+=1)he(N[e]);he(D),L=!0}},o(e){N=N.filter(Boolean);for(let e=0;e<N.length;e+=1)pe(N[e]);pe(D),L=!1},d(e){e&&k(t),e&&k(n),e&&k(o),e&&k(r),e&&k(a),P&&P.d(),x(A,e),x(N,e),D&&D.d(),B=!1,i(I)}}}function $s(e,t,n){let o,r,i,a,s;u(e,He,(e=>n(14,o=e))),u(e,Fe,(e=>n(2,r=e))),u(e,We,(e=>n(3,i=e))),u(e,Be,(e=>n(4,a=e))),u(e,Ie,(e=>n(5,s=e)));const{ipcRenderer:l}=require("electron"),c=require("vex-js");c.registerPlugin(require("vex-dialog")),c.defaultOptions.className="vex-theme-os";const f=[ho,nr,Ur,Ea,Qr,sa,hi,Yi,ba,ka,Ba];let h,p;l.on("app-close",(e=>{o?(Xe("Autosaving before exit."),Si().then((e=>{window.setTimeout((()=>l.send("close")),1e3)}))):window.confirm("You may have unsaved changes. Are you sure you want to exit?")&&l.send("close")})),l.invoke("getVersion").then((e=>n(0,h=e))),l.invoke("platform").then((e=>n(1,p=e)));return[h,p,r,i,a,s,l,f,["Lexicon","Etymology","Phrasebook","Inflection","Phonology","Orthography","Documentation","File","settings","history","help"],()=>l.send("buttonclose"),()=>l.send("minimize"),()=>l.send("maximize"),e=>d(Ie,s=e,s)]}return new class extends Ce{constructor(e){super(),xe(this,e,$s,Ns,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
